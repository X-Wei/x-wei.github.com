{"pages":[{"url":"https://x-wei.github.io/soft/ffmpeg-convert-h265.html","text":"DJIè¿åŠ¨ç›¸æœºæ‹æ‘„çš„è§†é¢‘ä½“ç§¯éƒ½æ¯”è¾ƒå¤§, æŸ¥äº†ä¸€ä¸‹å› ä¸ºencodingæ˜¯H264, å¦‚æœæ”¹æˆH265çš„è¯å‹ç¼©ç‡ä¼šé«˜å¾ˆå¤š. è½¬æ¢çš„å‘½ä»¤æ˜¯: (ref. stackoverflow ) ffmpeg -i input.mp4 -c:v libx265 -vtag hvc1 output.mp4 åŠ ä¸Š -qscale 0 å¯ä»¥ä¿æŒquality (ä¸è¿‡å¥½åƒå¯¹h265ä¸ç®¡ç”¨? ref. stackoverflow ) ä¿ç•™metadata è§†é¢‘çš„metadataé‡Œæœ‰æ‹æ‘„æ—¶é—´ä¹‹ç±»çš„å†…å®¹, å¯ä»¥ç”¨ -movflags use_metadata_tags æˆ–è€… -map_metadata 0 å°†å…¶ä¿å­˜ä¸‹æ¥ (ref: stackexchange ) è¦æŸ¥çœ‹ä¸€ä¸ªè§†é¢‘æ–‡ä»¶çš„metadataçš„è¯: $ sudo apt-get install mediainfo $ mediainfo foo.mp4 > info.txt ä¾‹å­ : $ time ffmpeg -i input.MP4 -c:v libx265 \\ -movflags use_metadata_tags -map_metadata 0 \\ -vtag hvc1 output.MP4 ==> ç”¨æ—¶370ç§’, æŠŠä¸€ä¸ª416MBçš„æ–‡ä»¶å‹ç¼©åˆ°äº†33MB æ‰¹é‡å¤„ç†fishè„šæœ¬ ç»™convertedæ–‡ä»¶åŠ ä¸€ä¸ªh256å‰ç¼€: for fn in ( ls *.MP4 ) if string match -rq -- \"h265\" $fn ; echo skipping $fn ; # skip files with \"h265\" in the name else ; ffmpeg -i $fn -c:v libx265 -movflags use_metadata_tags -map_metadata 0 -vtag hvc1 h265_ $fn ; end end æˆ–è€…æŠŠconvertedçš„æ–‡ä»¶æ”¾è¿›å­æ–‡ä»¶å¤¹\"h265\"é‡Œå¤´: mkdir h265 time for fn in ( ls *.MP4 ) ffmpeg -i $fn -c:v libx265 -movflags use_metadata_tags -map_metadata 0 -vtag hvc1 h265/ $fn end","tags":"soft","title":"ç”¨ffmpegå‹ç¼©è§†é¢‘(H265)"},{"url":"https://x-wei.github.io/tech/flutter-notifiers-compare.html","text":"Flutter(æˆ–è€…æ›´å®½æ³›çš„appå¼€å‘)å¯ä»¥ä¸€å¥è¯æ€»ç»“ä¸º: UI = f(state) å³appçš„å½“å‰ç•Œé¢(UI)åæ˜ äº†å½“å‰ç¨‹åºçŠ¶æ€(state). Flutterçš„çŠ¶æ€ç®¡ç†å°±æ˜¯appæ ¹æ® å½“å‰appçš„state çš„æ˜¾ç¤ºå’Œæ›´æ–°UI. æˆ‘ä»¬å‡è®¾stateæ˜¯ä¸€ä¸ªç±»å‹ä¸º T çš„object, åœ¨ä¸‹æ–‡çš„è´­ç‰©è½¦ä¾‹å­ä¸­, stateæ˜¯å½“å‰è´­ç‰©è½¦çš„å†…å®¹(ç±»å‹ T = List<Item> ). å…³äºå¦‚ä½•åœ¨widget treeé‡Œè·å–state, å¯ä»¥æœ‰provider/riverpodç­‰é€‰é¡¹, e.g. Provider<T> . ä½†æ˜¯å¦‚æœç›´æ¥ç”¨ T ä½œä¸ºçŠ¶æ€ä¼šæœ‰é—®é¢˜: å°±æ˜¯å½“stateçš„å€¼è¢«ä¿®æ”¹ä»¥å, å¯¹åº”çš„UIå¹¶ä¸ä¼šè‡ªåŠ¨rebuild (é™¤éå…¶ä»–é€»è¾‘å¦‚ setState è§¦å‘äº†rebuild). å¦‚æœå¸Œæœ›åœ¨stateä¿®æ”¹ä»¥å, UIè‡ªåŠ¨è§¦å‘ç›‘å¬å®ƒçš„UIæ›´æ–°, åˆ™éœ€è¦ ç”¨å„ç§Notifieræ¥åŒ…è£¹state . ä¾‹å¦‚æˆ‘ä»¬ä¸ç”¨ T ä½œä¸ºstate, è€Œæ˜¯ç”¨ ValueNotifier<T> . è¿™é‡Œä¸»è¦ä»‹ç»å’Œæ¯”è¾ƒä¸‰ç§å¸¸ç”¨çš„Notifier: ChangeNotifier , ValueNotifier å’Œ StateNotifier . æœ¬æ–‡å‚è€ƒäº† Resocoder , Andrea Bizzotto ä»¥åŠ FunWithFlutter çš„tutorial. ChangeNotifier ChangeNotifier æ˜¯Flutter SDKè‡ªå¸¦çš„class: ä¸€ä¸ª ChangeNotifier å¯ä»¥è¢«widgetsç›‘å¬(listen), stateæ”¹å˜å, å¦‚æœè¦ è®©æ‰€æœ‰ç›‘å¬å®ƒçš„widgeté‡æ–°build , éœ€è¦æ‰‹åŠ¨è°ƒç”¨ notifyListeners() å‡½æ•°. cf. Flutterå®˜æ–¹çš„state managementæ–‡æ¡£ . æ¯”å¦‚æ–‡æ¡£é‡Œçš„ä¾‹å­, æˆ‘ä»¬çš„stateæ˜¯å½“å‰è´­ç‰©è½¦çš„å†…å®¹, äºæ˜¯æˆ‘ä»¬å®šä¹‰ CartModel ç±»(ç»§æ‰¿ ChangeNotifier )ä½œä¸ºstate: class CartModel extends ChangeNotifier { final List < Item > _items = []; // è´­ç‰©è½¦å†…å®¹, è®¾ä¸ºprivate // åªè¯»çš„è´­ç‰©è½¦å†…å®¹(getter) UnmodifiableListView < Item > get items => UnmodifiableListView ( _items ); int get totalPrice => _items . length * 42 ; // å½“å‰è´­ç‰©è½¦æ€»ä»·çš„getter(å‡è®¾æ¯ä»¶éƒ½æ˜¯42å—) /// åŠ å…¥ç‰©å“åˆ°è´­ç‰©è½¦ void add ( Item item ) { _items . add ( item ); notifyListeners (); // <==***This call tells the widgets that are listening to this model to rebuild. } /// æ¸…ç©ºè´­ç‰©è½¦ void removeAll () { _items . clear (); notifyListeners (); // <==***This call tells the widgets that are listening to this model to rebuild. } } ChangeNotifierç»“åˆProvider ( ChangeNotifierProvider ), å°±æ˜¯ä¸€ä¸ªæ¯”è¾ƒåŸºç¡€çš„state managementè§£å†³æ–¹æ¡ˆ. ValueNotifier ChangeNotifier æœ‰ä¸ªé—®é¢˜æ˜¯æ¯æ¬¡éƒ½è¦æ‰‹åŠ¨è°ƒç”¨ notifyListeners() æ‰èƒ½è®©ç›‘å¬çš„widgetæ›´æ–°. å¦‚æœæƒ³æ¯å½“æ•°æ®å‘ç”Ÿå˜åŒ–çš„æ—¶å€™, éƒ½è‡ªåŠ¨é€šçŸ¥ç›‘å¬çš„widget -- è¿™å°±å¯ä»¥ç”¨ ValueNotifier<T> . ValueNotifier æ˜¯ ChangeNotifier çš„å­ç±». å®ƒæŠŠæ•°æ®ä¿å­˜åˆ° T value é‡Œ, æ¯å½“ value å‘ç”Ÿå˜åŒ–çš„æ—¶å€™, ç›‘å¬çš„widgetéƒ½é‡æ–°build , çœå»äº† notifyListeners() è¿™ä¸€æ­¥. è¿˜æ˜¯ä¸Šé¢çš„ä¾‹å­, æ”¹ä¸ºç”¨ValueNotifierå°±æ˜¯: -class CartModel extends ChangeNotifier { +class CartModel extends ValueNotifier<List<Item>> { - final List<Item> _items = []; // ä¸ç”¨å£°æ˜_itemsä»¥åŠitems getteräº† -- ValueNotifierè‡ªåŠ¨æŠŠæ•°æ®ä¿å­˜åœ¨`value` + CartModel(): super(<Item>[]); // æ„é€ å‡½æ•°è¦æä¾›valueçš„åˆå§‹å€¼ - int get totalPrice => _items.length * 42; + int get totalPrice => value.length * 42; void add(Item item) { + value.add(item); - _items.add(item); - notifyListeners(); // ä¸å¿…call notifyListeners() } void removeAll() { + value.clear(item); - _items.clear(); - notifyListeners(); } } å¯¹äºprovider, ValueNotifierä¹Ÿæœ‰å¯¹åº”çš„ ValueListenableProvider ä¾›ä½¿ç”¨. å¦‚æœä¸ç”¨provider/riverpod, Flutter SDKé‡Œä¹Ÿæœ‰ ValueListenableBuilder å¯ä»¥åœ¨ value æ›´æ”¹æ—¶è‡ªåŠ¨rebuild -- ç±»ä¼¼providerçš„ Consumer . StateNotifier StateNotifier ä¸æ˜¯Flutter SDKè‡ªå¸¦, éœ€è¦ä½¿ç”¨ state_notifier æˆ–è€… flutter_riverpod åŒ…. ä¹Ÿæœ‰å¯¹åº”çš„ StateNotifierProvider (æ¥è‡ªflutter_state_notifieråŒ…), ç”¨æ³•å’Œ ValueListenableProvider ç±»ä¼¼. Flutterçš„ ValueNotifier ä¸»è¦æœ‰ä»¥ä¸‹é—®é¢˜: ValueNotifier å±äºFlutterè€Œä¸æ˜¯çº¯dart, ä¸èƒ½ç”¨äºå†™éflutterçš„åº“; value æ˜¯publicæˆå‘˜ -- ä¹Ÿå°±æ˜¯è¯´ ä»»ä½•äººéƒ½å¯ä»¥åœ¨å¤–éƒ¨ä¿®æ”¹ ValueNotifier.value , å¬ä¸Šå»å¾ˆä¸å®‰å…¨ StateNotifier å°±è§£å†³äº†è¿™ä¸¤ä¸ªé—®é¢˜: å®ƒä¸ä¾èµ–flutter, å¯ç”¨äºçº¯dartçš„å¼€å‘; åœ¨ StateNotifier ç±»ä¹‹å¤–ä¿®æ”¹ state çš„æ—¶å€™, ä¼š æœ‰lintingæç¤º . StateNotifier ç”¨æ³•å’Œ ValueNotifier å‡ ä¹ä¸€æ ·, åªä¸è¿‡ value å˜æˆäº† state , è¿ç§»èµ·æ¥åº”è¯¥å¾ˆå®¹æ˜“: -class CartModel extends ValueNotifier<List<Item>> { +class CartModel extends StateNotifier<List<Item>> { CartModel(): super(<Item>[]); // æ„é€ å‡½æ•°è¦æä¾›stateçš„åˆå§‹å€¼ - int get totalPrice => value.length * 42; + int get totalPrice => state.length * 42; void add(Item item) { + state.add(item); - value.add(item); } void removeAll() { + state.clear(); - value.clear(); } } æ€»ç»“ TLDR: StateNotifier æ˜¯å å¥½çš„. ChangeNotifier ValueNotifier<T> StateNotifier<T> Flutter SDK Flutter SDK state_notifier package è·å–state æ‰‹å†™getter .value .state ä¿®æ”¹state æ‰‹å†™setteræˆ–è€…å…¶ä»–function value æ˜¯public, ä»»ä½•äººéƒ½å¯ä¿®æ”¹ åœ¨å¤–éƒ¨ä¿®æ”¹ state ä¼šæœ‰lintæç¤º çŠ¶æ€å˜åŒ–æ—¶è§¦å‘ç›‘å¬UIæ›´æ–° æ‰‹åŠ¨ notifyListeners() è‡ªåŠ¨ è‡ªåŠ¨ å¦å¤– StateNotifier æ¨èç»“åˆ freezed package ä½¿ç”¨, ä»¥åæœ‰æ—¶é—´å†æ€»ç»“ä¸€ä¸‹freezedçš„ç”¨æ³•ä»¥åŠå®ƒå¥½åœ¨å“ªé‡Œ.","tags":"tech","title":"FlutterçŠ¶æ€ç®¡ç† - ä¸‰ç§Notifierçš„æ¯”è¾ƒ"},{"url":"https://x-wei.github.io/misc/passport-update-in-zurich-consulate.html","text":"æˆ‘çš„æ—§æŠ¤ç…§è¿˜æœ‰å‡ ä¸ªæœˆè¿‡æœŸ, è¿™å‘¨åœ¨è‹é»ä¸–ä¸­å›½æ€»é¢†é¦†æ›´æ–°äº†æŠ¤ç…§, è®°å½•ä¸€ä¸‹åŠç†æµç¨‹ -- å…¶å®è¿˜æ˜¯æŒºç®€å•çš„, è€Œä¸”é€Ÿåº¦å¾ˆå¿«. å®˜ç½‘é“¾æ¥å’Œä¿¡æ¯ ä¸­å›½é©»ç‘å£«å¤§ä½¿é¦†ç½‘ç«™ : http://ch.china-embassy.org/chn/ è‹é»ä¸–é¢†äº‹é¦†ç½‘ç«™ : http://zurich.china-consulate.org/chn/ (åæ§½: è¿™ä¸ªä¿©ç½‘ç«™çš„é¡µé¢æ„Ÿè§‰éƒ½æœ‰ç‚¹è¿‡æ—¶äº†, è¿˜ä¸æ”¯æŒhttps:) æŠ¤ç…§å’Œæ—…è¡Œè¯åŠç†é¡»çŸ¥ : http://zurich.china-consulate.org/chn/lsfw/hzlxz/t1204294.htm ==> è¿™ä¸ªç½‘é¡µæ˜¯å„ç§æŠ¤ç…§å’Œæ—…è¡Œè¯ç›¸å…³çš„æ‰‹ç»­çš„å®˜æ–¹ä¿¡æ¯æº, åˆ—å‡ºäº†å„ç§æ‰‹ç»­çš„æµç¨‹å’Œæ‰€éœ€ææ–™. (å¯æ˜¯å®ƒä¸Šé¢æ²¡æœ‰æ ‡æ³¨\"æ›´æ–°æ—¥æœŸ\", æˆ‘ç¬¬ä¸€æ¬¡çœ‹è¿˜ä»¥ä¸ºè¿™æ˜¯å‡ å¹´å‰çš„å†…å®¹.) è‹é»ä¸–æ€»é¢†é¦†è”ç³»æ–¹å¼å’Œåœ°å€ : ã€å¯¹å¤–åŠå…¬æ—¶é—´ã€‘æ¯å‘¨äºŒã€å‘¨äº”9:00è‡³12:00 ã€ç”µè¯å’¨è¯¢æ—¶é—´ã€‘æ˜ŸæœŸå››ã€æ˜ŸæœŸäº”ï¼Œ14:30-16:00ï¼›æ˜ŸæœŸä¸€ï¼Œ14:30-15:30ï¼ˆä¸­æ–‡ä¸“çº¿ï¼‰ ã€å’¨è¯¢ç”µè¯ã€‘0041-44-2091500 ã€åœ°å€ã€‘ Mythenquai 100/Seestrasse 161, 8002 ZÃ¼richã€‚ æˆ‘ä¸“é—¨æ‰“ç”µè¯å»å’¨è¯¢äº†ä¸€ä¸‹, è™½ç„¶ç½‘ç«™ä¸Šä¹Ÿæœ‰ å…³äºæä¾›\"ä¸è§é¢\"åŠç†æŠ¤ç…§å’Œæ—…è¡Œè¯æœåŠ¡çš„é€šçŸ¥ , ä½†ä»–ä»¬è¿˜æ˜¯å»ºè®®ç›´æ¥å»ç°åœºåŠç†ä¸šåŠ¡. ç½‘ä¸Šé¢„çº¦å’Œå¡«è¡¨ é¦–å…ˆéœ€è¦å» å¤–äº¤éƒ¨æŠ¤ç…§åœ¨çº¿é¢„çº¦ç½‘ç«™ å¼€å§‹ç”³è¯·é¢„çº¦. æ³¨æ„è¿™ä¸ªç½‘ç«™æ˜¯é¢å‘æ‰€æœ‰æµ·å¤–å›½å®¶, ä½†æ˜¯åé¢é€‰æ‹©\"å›½å®¶=ç‘å£«\"ä»¥åå°±å¯ä»¥çœ‹åˆ°è‹é»ä¸–é¢†é¦†çš„é¢„çº¦é¡µé¢äº†. ç‚¹å‡»\"å¼€å§‹ç”³è¯·é¢„çº¦\", ç„¶åå¦‚å®å¡«å†™ç”³è¯·è¡¨å°±å¯ä»¥. å”¯ä¸€æ³¨æ„çš„æ˜¯ä¸Šä¼  ç¬¦åˆè§„å®šçš„æ•°ç ç…§ç‰‡ : 6ä¸ªæœˆå†…çº¸è´¨è¿‘ç…§2å¼ åŠåŒç‰ˆæ•°å­—ç…§ç‰‡ã€‚èƒŒæ™¯ä¸ºç™½è‰²ã€‚é¡»åŒ…æ‹¬ç”³è¯·äººæ•´ä¸ªé¢éƒ¨å’Œå¤´éƒ¨ã€‚é¢éƒ¨æˆ–èƒŒæ™¯æ— é˜´å½±ã€‚ æ•°å­—ç…§ç‰‡æ–‡ä»¶é¡»ä¸º JPEGæ ¼å¼ï¼Œæ–‡ä»¶å¤§å°åœ¨30Kåˆ°80Kå­—èŠ‚ä¹‹é—´ ç…§ç‰‡å°ºå¯¸ä¸ºå®½33mmï¼Œé«˜48mmï¼Œ å…¶ä¸­å¤´éƒ¨å®½åº¦åœ¨15mmè‡³22mmä¹‹é—´ (æœ€å¥½ä¹‹å‰åœ¨ç…§ç›¸é¦†æ‰¾è¿‡è¿™ç§ç¬¦åˆè¦æ±‚çš„æŠ¤ç…§ç…§ç‰‡) å¦‚æœå¡«è¡¨æ—¶æ²¡æœ‰åˆé€‚çš„ç…§ç‰‡, å¯ä»¥å…ˆéšä¾¿ä¸Šä¼ ä¸€å¼ ä¸åˆè¦æ±‚çš„(å¦åˆ™ä¸èƒ½ç‚¹ä¸‹ä¸€æ­¥), ç„¶åæŠŠåˆè§„ç…§ç‰‡é€šè¿‡é‚®ä»¶å‘åˆ°: zuerich@126.com . åˆ°åé¢æœ‰ä¸ªæ—¥å†çš„é¡µé¢å¯ä»¥ç‚¹å‡»é¢„çº¦æ—¶é—´. å¯é€‰çš„æ—¶é—´æ˜¯æ¯å‘¨äºŒä¸Šåˆ9:30~11:30, æ¯å‘¨é™åˆ¶20äºº. æœ€åä¸€æ­¥ç‚¹å‡»ç¡®å®š, æŠŠç”³è¯·è¡¨pdfä¸‹è½½ä¸‹æ¥å°±OKäº†. ææ–™å‡†å¤‡ æ ¹æ®\"æŠ¤ç…§å’Œæ—…è¡Œè¯åŠç†é¡»çŸ¥\", éœ€è¦çš„ææ–™æœ‰: ã€Šä¸­åäººæ°‘å…±å’Œå›½æŠ¤ç…§/æ—…è¡Œè¯/å›å›½è¯æ˜ç”³è¯·è¡¨ã€‹1ä»½ -- ä¹Ÿå°±æ˜¯ä¸Šä¸€æ­¥çš„åˆ°çš„é‚£ä¸ªç”³è¯·è¡¨, æ³¨æ„è¦ ç°åœºç­¾å­— . è¯ä»¶ç…§ä¸¤å¼ (ç”µå­ç‰ˆè®°å¾—ä¸Šä¼ æˆ–é€šè¿‡é‚®ç®±å‘ç»™ä»–ä»¬) -- å…¶å®æœ€ååªç”¨äº†ä¸€å¼  æŠ¤ç…§åŸä»¶åŠå¤å°ä»¶ -- åªè¦å¤æŠ¤ç…§çš„å°èµ„æ–™é¡µå’Œç­¾åé¡µ(ç¬¬ä¸€é¡µå’Œæœ€åä¸€é¡µ) ç”³è¯·äººåœ¨ç‘å£«ã€åˆ—æ”¯æ•¦å£«ç™»å…¬å›½å±…ä½çš„è¯æ˜ææ–™åŠæ­£åé¢å¤å°ä»¶ï¼Œå¯é€‰æ‹©ä»¥ä¸‹ææ–™ä¸­çš„ä»»æ„ä¸€é¡¹æäº¤ï¼šåœ¨ç‘ã€åˆ—æœ‰æ•ˆå±…ç•™è¯ä»¶æˆ–ç­¾è¯ã€åŒ»ç–—å¡ã€ç¤¾ä¿å¡ã€é“¶è¡Œå¯¹è´¦å•ã€æˆ¿ç§Ÿè´¦å•ã€å›ºå®šç”µè¯è´¦å•æˆ–æ°´ç”µæ°”è´¦å• ç”³è¯·äººå›½ç±çŠ¶å†µå£°æ˜ä¹¦: è¿™ä¸ªä¸ç”¨å‡†å¤‡, å¯åœ¨æ€»é¢†é¦†ç°åœºå¡«å†™ å¦å¤–æäº¤ææ–™çš„æ—¶å€™ ä¸ç”¨äº¤é’± , é¢†å–æ–°æŠ¤ç…§æ—¶æ‰éœ€è¦. ç°åœºæäº¤ææ–™ æ€»é¢†é¦†çš„åœ°å€: Mythenquai 100/Seestrasse 161, 8002 ZÃ¼rich ã€åˆ°è¾¾æ–¹æ³•ã€‘ é¢†ä¾¨å¤„ä½äºè‹é»ä¸–Belvoirå…¬å›­å†…ï¼Œç­¾è¯å¤§å…å…¥å£ä½äºå¤§æ¥¼é¢å‘è‹é»ä¸–æ¹–ä¸€ä¾§ã€‚ å…¬å…±äº¤é€šï¼š ä¹˜7è·¯ç”µè½¦ï¼ˆTram 7ï¼‰åˆ°Brunaustrasseç«™ä¸‹è½¦ï¼Œ æ²¿è½¦ç«™æ—Belvoirparké…’åº—ä¸“ç§‘å­¦æ ¡æ­£é—¨å³ä¾§çš„å°è·¯çº¦50ç±³è¿›å…¥Belvoirparkå…¬å›­å³å¯åˆ°è¾¾ã€‚ è‡ªé©¾è½¦ï¼š é¢†ä¾¨å¤„ä½äºå…¬å›­å†…ï¼Œè‡ªé©¾è½¦æ— æ³•ç›´æ¥åˆ°è¾¾ã€‚è¯·æ‚¨å°†è½¦è¾†åœæ³Šåœ¨Mythenquai æ»¨æ¹–æµ´åœºå¤–çš„åœè½¦åœºå†…ï¼ˆMythenquai 95, 8002 ZÃ¼richï¼‰ï¼Œæ­¥è¡Œä»åœè½¦åœºç»åœ°ä¸‹è¿‡è¡—é€šé“è¿›å…¥Belvoirparkå…¬å›­åçº¦100ç±³å³å¯åˆ°è¾¾ã€‚ é¢†äº‹é¦†å°±åœ¨Belvoirparkå…¬å›­é‡Œé¢, é£æ™¯å¾ˆä¸é”™. ä¸è¿‡é¢†äº‹é¦†çš„æ¥¼çœŸçš„ä¸å¤§... æˆ‘å…«ç‚¹åŠåˆ°çš„, å·²ç»æœ‰äº”å…­ä¸ªäººåœ¨æ’é˜Ÿäº†. ä¹ç‚¹é’Ÿé¢†äº‹é¦†å¼€é—¨, é—¨å£ä¸€ä¸ªå…¨å‰¯æ­¦è£…(é˜²æŠ¤æœ/æ‰‹å¥—/æŠ¤ç›®é•œ)çš„å·¥ä½œäººå‘˜ç»™å¤§å®¶æµ‹é‡ä½“æ¸©. å¡«è¡¨ç™»è®°è¿‡å»ä¸¤å‘¨çš„è¡Œç¨‹åå°±å¯ä»¥è¿›å»äº†. é¢†äº‹é¦†é‡Œé¢ç©ºé—´ä¹Ÿä¸å¤§, åªæœ‰ä¸‰ä¸ªçª—å£: ä¸¤ä¸ªåŠç†ä¸šåŠ¡ ä¸€ä¸ªé¢†å–è¯ä»¶. é‡Œé¢æœ‰å¤å°æœºå’Œç…§ç›¸äº­å­, æŠ•å¸å°±èƒ½ç”¨. æ„Ÿè§‰å·¥ä½œäººå‘˜æ€åº¦éƒ½æŒºå¥½çš„ å¾ˆè€å¿ƒè§£å†³å¤§å®¶çš„é—®é¢˜. åªè¦ææ–™å‡†å¤‡é½å…¨, å¾ˆå¿«å°±èƒ½å¤Ÿæäº¤å®Œæ¯•, ç„¶åé‡‡é›†æŒ‡çº¹å’Œç­¾å. è¿˜é€äº†ä¸€æ”¯ç­¾å­—çš„ç¬”, ä¸Šé¢å°æœ‰é¢†äº‹é¦†çš„è”ç³»æ–¹å¼å’Œå…¬ä¼—å·äºŒç»´ç . æ—è¾¹æœ‰äººå¸¦å®å®æ¥åŠç†ä¸šåŠ¡, å·¥ä½œäººå‘˜è¿˜ç»™å°æœ‹å‹é€ç†ŠçŒ«ç©å¶ (ä»–ä»¬è¯´æ–°å¹´çš„æ—¶å€™è¿˜ä¼šé€æ—¥å†ğŸ˜‰). é¢†å–æ–°æŠ¤ç…§ å‘¨äºŒæäº¤å®Œææ–™ä»¥åä¼šå¾—åˆ°ä¸€ä¸ªå–ä»¶å•, å¯ä»¥åœ¨å¾®ä¿¡æˆ–è€…å¤–äº¤éƒ¨ç½‘ç«™ä¸ŠæŸ¥è¯¢è¿›åº¦, ä¹Ÿä¼šæ”¶åˆ°é‚®ä»¶é€šçŸ¥. æ‹¿æ–°æŠ¤ç…§çš„æ—¶å€™ç°åœºç¼´è´¹(18ç‘éƒ), å¾®ä¿¡/æ”¯ä»˜å®/twint/ä¿¡ç”¨å¡éƒ½å¯ä»¥ (ä½†æ˜¯postfinanceå€Ÿè®°å¡ä¸å¯ä»¥). ç½‘ç«™ä¸Šè¯´æ˜¯åŠç†éœ€è¦ä¸¤å‘¨æ—¶é—´, å…¶å®æˆ‘ä¸¤å¤©å(å‘¨å››ä¸‹åˆ)å°±æ”¶åˆ°äº†é‚®ä»¶é€šçŸ¥è¯´æ–°æŠ¤ç…§åŠå¥½äº†. ä»–ä»¬æ¯å‘¨äºŒå’Œå‘¨äº”å¼€é—¨, äºæ˜¯å‘¨äº”æˆ‘å°±å»æ‹¿åˆ°äº†æ–°æŠ¤ç…§!","tags":"misc","title":"åœ¨è‹é»ä¸–é¢†äº‹é¦†æ›´æ–°æŠ¤ç…§å°è®°"},{"url":"https://x-wei.github.io/tech/weixin-gongzhonghao-tiyan.html","text":"å†™å…¬ä¼—å·æœ€å¥½çš„æ—¶æœºæ˜¯äº”å¹´å‰, å…¶æ¬¡æ˜¯ç°åœ¨. ==> æ‰€ä»¥æˆ‘ä¿©æœˆå‰æ³¨å†Œäº†ä¸ªå¾®ä¿¡å…¬ä¼—å·ğŸ±: è€Œæ‹–å»¶ä¸¤ä¸ªæœˆä»¥å, è¿™å‘¨æœ«ä½“éªŒäº†æ’°å†™å’Œå‘å¸ƒå…¬ä¼—å·çš„æµç¨‹, æ„Ÿè§‰è¿˜æ˜¯å’Œé€šè¿‡githubå‘å¸ƒblogæœ‰ç‚¹åŒºåˆ«çš„, è¿™é‡Œè®°å½•ä¸€ä¸‹. å°†markdownè½¬æ¢ä¸ºå…¬ä¼—å·æ–‡ç«  å¾®ä¿¡å…¬ä¼—å·çš„ç¼–è¾‘ç•Œé¢ç±»ä¼¼word, æˆ‘ä»markdownå¯¼è¿‡å»çš„è¯éœ€è¦å€Ÿç”¨ç¬¬ä¸‰æ–¹å·¥å…·. å…¶å®è¿™ç§å·¥å…·è¿˜æŒºå¤šçš„, æˆ‘æ‰¾åˆ°äº†ä¸‰ä¸ª: https://md.qikqiak.com/ https://md.openwrite.cn/ https://www.mdnice.com/ æˆ‘æœ€æ¨èçš„æ˜¯æœ€åä¸€ä¸ªç½‘ç«™\"mdnice\", å’Œå¦å¤–ä¸¤ä¸ªç›¸æ¯”æœ‰ä¸å°‘ä¼˜ç‚¹: æ”¯æŒå„ç§ æ’ç‰ˆä¸»é¢˜ ç™»å½•å¸å·ä»¥åå¯ä»¥ä¿å­˜å¤šä¸ªæœ€è¿‘ç¼–è¾‘çš„æ–‡ä»¶ -- è™½è¯´ç†è®ºä¸Šåªè¦ç›´æ¥å¤åˆ¶ç²˜è´´markdownå°±å¥½, ä½†æ˜¯è¯´ä¸å®šå°±è¦é’ˆå¯¹å…¬ä¼—å·è¿›è¡Œè°ƒæ•´, æ‰€ä»¥èƒ½ä¿å­˜ä¸€ä¸ªé’ˆå¯¹å…¬ä¼—å·çš„ æ”¯æŒæŠŠå¤–é“¾è½¬æ¢ä¸ºè„šæ³¨(è§ä¸‹æ–‡) æ”¯æŒä¸å°‘ä»£ç å—ä¸»é¢˜ ä»£ç å—å¤ªé•¿æ—¶å¯ä»¥æ¨ªå‘æ»šåŠ¨ è¿˜æ”¯æŒMacé£æ ¼çš„ä»£ç å—, çœ‹ä¸Šå»å¾ˆé«˜çº§: åµŒå…¥è§†é¢‘ æ™®é€šmarkdowné‡Œå¯ä»¥æ·»åŠ youtubeæˆ–è€…Bç«™çš„iframe htmlä»£ç åµŒå…¥è§†é¢‘. ä½†æ˜¯å¾®ä¿¡å…¬ä¼—å·ä¸æ”¯æŒè¿™ä¸ªåŠŸèƒ½. ä¼¼ä¹åªæ”¯æŒåµŒå…¥è…¾è®¯è§†é¢‘ä¸Šçš„å†…å®¹, æˆ–è€…æŠŠè§†é¢‘æ‰‹åŠ¨ä¸Šä¼ åˆ°ç´ æä¸­ç„¶ååµŒå…¥. ä¸æ”¯æŒå¤–é“¾ å¾®ä¿¡å…¬ä¼—å·ä»…æ”¯æŒå…¬ä¼—å·æ–‡ç« é“¾æ¥ï¼Œå³åŸŸåä¸º https://mp.weixin.qq.com/ çš„åˆæ³•é“¾æ¥. ä¹Ÿå°±æ˜¯è¯´å¾®ä¿¡å…¬ä¼—å·çš„é“¾æ¥åªèƒ½æŒ‡å‘å¦ä¸€ç¯‡å…¬ä¼—å·æ–‡ç« , ä¸èƒ½æŒ‡å‘å…¬ä¼—å·ä¹‹å¤–çš„å†…å®¹... è¿™ä¸ªæ¯”è§†é¢‘çš„é—®é¢˜è¿˜è›‹ç–¼... markdowné‡Œå¥½å¤šçš„é“¾æ¥, è½¬æ¢ä»¥åç›´æ¥æ²¡äº†. ä¸è¿‡å¥½åœ¨mdniceæ”¯æŒæŠŠæ‰€æœ‰çš„é“¾æ¥å˜æˆè„šæ³¨, è¿™æ ·ä¹Ÿå¯ä»¥å‡‘åˆ: è‡ªå®šä¹‰èœå•/è‡ªåŠ¨å›å¤ æˆ‘ç›®å‰åªåŠ äº†ä¸€ä¸ª\"å†å²æ–‡ç« \"çš„èœå•, cf. https://www.jianshu.com/p/1bca96d3c76f å¦å¤–çœ‹ä¸Šå»è®¾ç½®è‡ªåŠ¨å›å¤ä¹ŸæŒºå®¹æ˜“çš„:","tags":"tech","title":"å¾®ä¿¡å…¬ä¼—å·ä¸Šæ‰‹ä½“éªŒ"},{"url":"https://x-wei.github.io/tech/note-on-flutter-hooks.html","text":"çœ‹äº†Resocoderå’ŒRobert Brunhageçš„ä¸¤ä¸ªè§†é¢‘, è¿™ç¯‡æ€»ç»“ä¸€ä¸‹å…¶ä¸­çš„å†…å®¹(æˆ‘å…¶å®è¿˜æ²¡å®è·µè¿‡). æœ¬æ–‡ä¸»è¦å‚è€ƒè‡ª: - pub package - Video by Robert Brunhage - Tutorial by Resocoder The problem Flutter hooksæƒ³è§£å†³çš„é—®é¢˜æ˜¯ StatefulWidget çš„ä¸€äº›å¸¸è§patternå¤ªå¤æ‚, å‡å°‘äº†ä»£ç çš„å¯è¯»æ€§(\"readability\"). ä¸€ä¸ªå…¸å‹ä¾‹å­å°±æ˜¯animation controller: class MyPage extends StatefulWidget { @override _MyPageState createState () => _MyPageState (); } class _MyPageState extends State < MyPage > with SingleTickerProviderStateMixin { AnimationController _animController ; @override void initState () { super . initState (); _animController = AnimationController ( vsync: this , duration: kThemeAnimationDuration , value: 1 , // initially visible ); } @override Widget build ( BuildContext context ) { // use _animController here } @override void dispose () { _animController . dispose (); super . dispose (); } } è¿™ç§patternåœ¨vanilla flutteré‡Œç»å¸¸è¢«ä½¿ç”¨, ä½†æ˜¯å¯¹åŒä¸€ä¸ªcontrolleråœ¨å¥½å‡ ä¸ªåœ°æ–¹æ“ä½œ( initiState() / setState() / dispose() ), çœŸçš„ä¸å¥½è¯». Flutter hookså°±å¯ä»¥æŠŠè¿™ç§é‡å¤çš„patternæŠ½ç¦»å‡ºæ¥, æŠŠ StatefulWidget å˜æˆç±»ä¼¼ StatelessWidget çš„ HookWidget , ç®€åŒ–ä»£ç , å¤§å¤§æé«˜å¯è¯»æ€§. (btw è¿™ä¸ªåŒ…çš„ä½œè€…æ˜¯RÃ©mi Rousseletå¤§ç¥, è´¨é‡æœ‰ä¿éšœğŸ‘Œ) ä½¿ç”¨ç°æˆçš„Hooks å¯¹äºå¸¸ç”¨çš„patternæœ‰ç°æˆçš„hookså¯ä»¥ç›´æ¥å¥—ç”¨. æ¯”å¦‚ä¸Šé¢çš„animation controllerä¾‹å­, ç”¨flutter hookså¯ä»¥å†™æˆè¿™æ ·: class MyPage extends HookWidget { //! StatelessWidget => HookWidget @override Widget build ( BuildContext context ) { final animController = useAnimationController ( duration: kThemeAnimationDuration , initialValue: 1 , ); // use _animController here } } âš¡ï¸Flutter hooksè‡ªå¸¦äº†ä¸å°‘ ç°æˆçš„hooks , æœ‰çš„é¢å‘Animation, æœ‰çš„é¢å‘Streamç­‰ç­‰, æœ‰æ—¶é—´å¯ä»¥å¥½å¥½çœ‹ä¸€çœ‹... è‡ªå®šä¹‰Hook cf. Resocoderçš„ æ•™ç¨‹ å¦‚æœç°æˆçš„hookä¸æ»¡è¶³æ¡ä»¶, å…¶å®è‡ªå·±å®ç°èµ·æ¥ä¹Ÿéå¸¸å®¹æ˜“, åŸºæœ¬å°±æ˜¯æŠŠåŸæ¥ StatefulWidget/State<Foo> çš„å†…å®¹å˜æˆ Hook<R>/HookState<R,Foo> . å…¶ä¸­ Foo æ˜¯æˆ‘ä»¬è‡ªå®šä¹‰çš„ç±»å, R åˆ™æ˜¯stateçš„ç±»å‹. æ¯”å¦‚å¯¹äºä¹‹å‰çš„ä¾‹å­: Foo = MyPage , R = AnimationController . è¿™é‡Œåˆ—ä¸€ä¸‹äºŒè€…çš„åŒºåˆ«, åŸºæœ¬æ˜¯ä¸€ä¸€å¯¹åº”çš„, æ‰€ä»¥è¿ç§»èµ·æ¥ä¸éš¾: StatefulWidget Hook<R> class Foo extends StatefulWidget class Foo extends Hook<R> createState() => State<Foo> createState() => HookState<R> State<Foo> HookState<R, Foo> R _data; R _data; initState() {_data=...} initHook() {_data=...} build(ctx) => Widget build(ctx) => R dispose() dispose() widget.xxx hook.xxx å½“è‡ªå®šä¹‰çš„ Hook/HookState å†™å¥½ä»¥å, æ ¹æ®Flutter hooksçš„æƒ¯ä¾‹, éœ€è¦å†™ä¸€ä¸ª useXxHooks çš„å‡½æ•°, è¿”å›ç±»å‹æ˜¯ R : R useMyHooks (...) { return Hook . use ( _FooHook ()); } useState/useEffect cf. Robert Brunhageçš„ è§†é¢‘ å¯¹äº ä¸è¿½æ±‚é€»è¾‘å¤ç”¨ , åªæƒ³å»æ‰ initState() / dispose() çš„åœºæ™¯, å¯ä»¥è€ƒè™‘ç›´æ¥æŠŠä¸€ä¸ª StatefulWidget å˜æˆ HookWiget . Flutter hooksæä¾›äº† useState å’Œ useEffect , è®©æˆ‘ä»¬å¯ä»¥ç›´æ¥åœ¨ HookWiget.build() å‡½æ•°é‡Œé¢åˆ›å»º/ä¿®æ”¹çŠ¶æ€. åˆ›å»ºçŠ¶æ€ : ç”¨ useState(R initialVal) .\\ æ³¨æ„è¿”å›å€¼çš„æ˜¯ä¸€ä¸ª ValueNotifier<R> , è·å¾—åŒ…å«çš„å€¼éœ€è¦ .value . ä¿®æ”¹çŠ¶æ€ : useEffect() , æœ‰ä¸¤ä¸ªå‚æ•°: ç¬¬ä¸€ä¸ªå‚æ•°( effect() )æ˜¯ä¸€ä¸ªå‡½æ•° Dispose? Function() å¯ä»¥æŠŠä¿®æ”¹çŠ¶æ€çš„å†…å®¹(æ¯”å¦‚åŸå…ˆ setState çš„å†…å®¹)æ”¾åœ¨è¿™é‡Œ effect å¯ä»¥è¿”å›å¦ä¸€ä¸ªå‡½æ•°( Dispose? ), è¿™ä¸ªå‡½æ•°ä¼š_åœ¨ effect() ä¸‹æ¬¡ä¸€è¢«è°ƒç”¨æˆ–è€…å½“widget disposeçš„æ—¶å€™è¿è¡Œ_. ç¬¬äºŒä¸ªå¯é€‰å‚æ•° keys æ˜¯ä¸€ä¸ªlist, æ§åˆ¶ effect() ä½•æ—¶è¢«è°ƒç”¨: å¦‚æœä¸ºnull(é»˜è®¤), åˆ™_æ¯æ¬¡ build() _ éƒ½ä¼šè°ƒç”¨ effect() å¦‚æœénull, åˆ™åªåœ¨_ç¬¬ä¸€æ¬¡ build() , ä»¥åŠå½“ä»»ä½•keyså…ƒç´ æ”¹å˜æ—¶_æ‰è°ƒç”¨ effect() \\ æ³¨æ„: keys å¯ä»¥æ˜¯ç©ºlist, ä½†énull , æ¯”å¦‚ keys=[] , æ­¤æ—¶effectåªè¿è¡Œä¸€æ¬¡. è¿™ç§æ–¹æ³•å¯ä»¥æŠŠä¸€ä¸ª StatefulWidget ç®€åŒ–ä¸ºç±»ä¼¼ StatelessWidget çš„ HookWidget , ç®€åŒ–ä»£ç . ä¾‹å¦‚ç”¨useState/useEffectå†™ä¸€ä¸ªç®€å•è®¡æ—¶å™¨, ä»£ç ç›¸æ¯”vanilla flutterè¦ç®€æ´è®¸å¤š: class MyTimerPage extends HookWidget { @override Widget build ( BuildContext context ) { final _numberNotifier = useState ( 0 ); //! Create state useEffect ( //! Change state /*effect=*/ () { //! ~= initState() final timer = Timer . periodic ( Duration ( seconds: 1 ), //! ~= setState() ( time ) => _numberNotifier . value = time . tick , ); return timer . cancel ; //! ~= dispose() }, /*keys=*/ const [], //! => effect() is called only once ); return Scaffold ( body: Center ( child: Text ( _numberNotifier . value . toString ()), ), ); } } å½“ç„¶è¿™æ ·å†™çš„ç¼ºç‚¹å°±æ˜¯é€»è¾‘æ— æ³•å¤ç”¨, è¦å¤ç”¨é€»è¾‘çš„è¯å¯ä»¥å‚è€ƒä¸Šä¸€èŠ‚\"è‡ªå®šä¹‰Hook\": æŠŠuseState/useEffectçš„å†…å®¹æ”¾è¿›ä¸€ä¸ª _MyTimerHook extends Hook<int> å®šä¹‰ int useMyTimer() å‡½æ•°: dart int useMyTimer() { return Hook.use(_MyTimerHook()); } åœ¨ HookWidget é‡Œä½¿ç”¨ useMyTimerHook : dart class MyTimerPage extends HookWidget { @override Widget build(BuildContext context) { final number = useMyTimer(); return Text(number.toString()); } } æœ€ä½³å®è·µ pubä¸Šåˆ—å‡ºäº†å‡ æ¡ æœ€ä½³å®è·µ : æ‰€æœ‰hookçš„å‡½æ•°éƒ½ä»¥'use'å¼€å¤´: Widget build ( BuildContext context ) { // starts with `use`, good name useMyHook (); // doesn't start with `use`, could confuse people into thinking that this isn't a hook myHook (); // .... } ä¸è¦åœ¨åˆ†æ”¯æ¡ä»¶é‡Œä½¿ç”¨hook: Widget build ( BuildContext context ) { useMyHook (); //! Good: DO call hooks unconditionally // .... } Widget build ( BuildContext context ) { if ( condition ) { useMyHook (); //! BAD: DON'T wrap use into a condition } // .... }","tags":"tech","title":"é€šè¿‡Flutter hooksç®€åŒ–ä»£ç "},{"url":"https://x-wei.github.io/tech/flutter-improve-UI-details.html","text":"è¿™ç¯‡æ–‡ç« ä¸»è¦æ€»ç»“äº†FlutterEngageé‡Œçš„è¿™ä¸ªtalk: (è¿™ä¸ªtalkçš„åå­—çš„ä¸­æ–‡ç¿»è¯‘æŒºç‰›çš„: \"å°äº‹ä¸€æ¡©ï¼šæˆä¸ºå¼€å‘å’Œè®¾è®¡ä¿±ä½³çš„ç¥çº§äººç‰©\") talké‡Œä»£ç åœ°å€åœ¨: https://github.com/filiph/little_things è¿™ä¸ªtalkè¿˜æ˜¯æŒºæœ‰æ„æ€çš„, ä»‹ç»äº†å¦‚ä½•æå‡Appçš„è®¾è®¡ç»†èŠ‚ä»è€Œè·å¾—æ›´é«˜çš„ \"Perceived value\" : æœ‰æ—¶å€™appæœ¬èº«çš„åŠŸèƒ½æ€§å’ŒæŠ€æœ¯æ€§æ˜¯ä¸€æ–¹é¢, ä½†æ˜¯å‘ˆç°ç»™ç”¨æˆ·çš„æ„Ÿè§‰å´æœ‰å¯èƒ½å› ä¸ºä¸€ç‚¹ç‚¹ç»†èŠ‚è€Œå®Œå…¨ä¸åŒ. è¿™ä¸€ç‚¹æˆ‘ä¹‹å‰ä¸å¤ªé‡è§†, ç»†æƒ³ä¸€ä¸‹ç¡®å®æœ‰é“ç†. 1. White space å¤šä½¿ç”¨paddingæ·»åŠ ç©ºéš™å’Œç•™ç™½, ä½“ç°ä¸€ç§é«˜çº§æ„Ÿ~ ç»“åˆFlutterçš„hot reloadå¯ä»¥å¿«çš„å®éªŒ æ‰¾åˆ°åˆé€‚çš„padding. 2. Typography æ¢ä¸ªå¥½çœ‹çš„å­—ä½“ä¹Ÿå¯ä»¥è®©åº”ç”¨çœ‹èµ·æ¥éå¸¸é«˜çº§. GoogleFonté…åˆhot reloadæ¥é€‰æ‹©å¥½çš„å­—ä½“ 3. Color ç»™appæ·»åŠ ç‰¹åˆ«çš„é…è‰². å¯ä»¥ä»ç½‘ä¸Šæ‰¾ä¸€äº›é…è‰²æ–¹æ¡ˆ(color palette), æ¯”å¦‚: https://coolors.co/palettes/trending https://undesign.learn.uno/colors/ æŠŠé€‰å¥½çš„ColorPaletteæ”¾åœ¨ MaterialApp.theme é‡Œå¤´: https://github.com/filiph/little_things/blob/main/lib/main.dart#L27-L55 4. Iconography æ„æ€å°±æ˜¯é¼“åŠ±å¤šç»™appå¤šåŠ ä¸€äº›å›¾ç‰‡/å›¾æ ‡. Filipçš„ä¾‹å­ä»–ç”¨åˆ°äº†BoxDecoration(å¯ä»¥é…ç½®gradientä»¥åŠimage): https://github.com/filiph/little_things/blob/main/lib/src/list.dart#L18-L32 Container ( decoration: BoxDecoration ( gradient: LinearGradient ( colors: [ Color ( 0xFF96E3FF ), Color ( 0xFF9EECFF ), Color ( 0xFF9FEBFF ), Color ( 0xFF9FEEFF ), Color ( 0xFF9FECFF ), ], ), image: DecorationImage ( image: AssetImage ( 'assets/meditation.jpg' ), alignment: Alignment . bottomCenter , ), ), child: Scaffold ( /*...*/ ), ) 5. Animation åŠ¨ç”»ä¹Ÿå¯ä»¥å¾ˆå¤§æå‡ç”¨æˆ·å¯¹appçš„è¯„ä»·. é»˜è®¤animationçš„curveæ˜¯linear, ä¸€èˆ¬è¿™ç§curveéƒ½ä¼šè®©äººæ„Ÿè§‰å¾ˆä¸è‡ªç„¶. å¯ä»¥å°è¯•ä¸€ä¸‹ easeIn / easeOut è¿™ç§. å¦å¤–è¿˜å¯ä»¥åŒæ—¶æä¾›å¤šä¸ªanimation (slideTransition / resize / text ç­‰ç­‰), è¿™æ—¶å€™å¦‚æœæ‰€æœ‰animationä¸€èµ·è·‘å…¶å®ä¼šå¾ˆä¹±, æˆ‘ä»¬åº”è¯¥ç”¨ \"Staggered Animation\" , å°±æ˜¯ä¸€ä¸ªanimationæ¥å¦ä¸€ä¸ªanimation. ç”¨ curve: Interval(0.2, 0.6) , å¯ä»¥è®©è¿™ä¸ªanimationåœ¨æ•´ä¸ªanimation( parent )çš„20%~60%çš„æ—¶é—´æ®µè¿è¡Œ: ScaleTransition ( scale: CurvedAnimation ( curve: Interval ( 0.2 , 0.6 , curve: Curves . elasticOut , ), parent: _controller , ), child: /*...*/ , ) è¿™é‡ŒFilipè‡ªå·±å®ç°äº†ä¸€ä¸ªæ˜¾ç¤ºæ–‡å­—çš„widget( TrackedOutText ), cf. https://github.com/filiph/little_things/blob/main/lib/src/congrats.dart æœ€ç»ˆæ•ˆæœå¯¹æ¯” Appè´¨æ„Ÿçš„æå‡è¿˜æ˜¯æŒºæ˜æ˜¾çš„! å¦å¤–åŸè§†é¢‘çš„ç®€ä»‹é‡Œä¹Ÿæä¾›äº†ä¸€äº›UIè®¾è®¡çš„è§†é¢‘å¯ä»¥å‚è€ƒå…¥é—¨.","tags":"tech","title":"æå‡Flutter Appçš„è®¾è®¡ç»†èŠ‚"},{"url":"https://x-wei.github.io/tech/flutter-use-analyzer.html","text":"Darté»˜è®¤çš„linteré…ç½®æœ‰ç‚¹å¼±, æœ‰å¾ˆå¤šæœ‰é—®é¢˜ä»£ç ä¹Ÿä¸æŠ¥é”™æˆ–è­¦å‘Š. æ·»åŠ ä¸€ä¸ªanalyzerå¯ä»¥åº”ç”¨dartçš„æœ€ä½³ä»£ç å®è·µ, å¯¹ä¸€äº›ä¸å¥½çš„ä»£ç é£æ ¼æå‡ºè­¦å‘Šæˆ–è€…ç›´æ¥æŠ¥é”™, ä»è€Œæé«˜ä»£ç è´¨é‡. Cf. resocoderçš„ä»‹ç» æ–‡ç«  (å’Œè§†é¢‘) Use an analyzer Resocoderæ¨è lint , é‡Œé¢æä¾›äº†ä¸€äº›æœ€ä½³çš„dartå’Œflutterä»£ç é£æ ¼. ç±»ä¼¼çš„é€‰æ‹©è¿˜æœ‰pandenticå’Œeffective_dart. ä½¿ç”¨æ–¹å¼å°±æ˜¯, å…ˆåœ¨pubsepc.yamlé‡Œæ·»åŠ ä¾èµ–: # pubspec.yaml dependency_overrides : lint : &#94;1.3.0 ç„¶ååœ¨æ ¹ç›®å½•æ–°å»ºä¸€ä¸ªanalysis_options.yamlæ–‡ä»¶: # analysis_options.yaml include : package:lint/analysis_options.yaml Exclude folders / disable rules analyzeré»˜è®¤ä¼šæ‰«ææ–‡ä»¶å¤¹ä¸‹æ‰€æœ‰çš„dartä»£ç , æœ‰æ—¶å€™ä¸€äº›è‡ªåŠ¨ç”Ÿæˆçš„ä»£ç æˆ–è€…åœ¨ build/ æ–‡ä»¶å¤¹ä¸‹çš„ä»£ç å¹¶ä¸éœ€è¦è¢«åˆ†æ, å¯ä»¥ç”¨ exclude æŠŠå®ƒä»¬æ’é™¤åœ¨å¤–. å¦å¤–æœ‰äº›é»˜è®¤çš„è§„åˆ™å¯èƒ½ä¸é€‚ç”¨äºè‡ªå·±çš„ä»£ç , æ¯”å¦‚æˆ‘å°±æ¯”è¾ƒå–œæ¬¢åŠ  this , è®¤ä¸ºè¿™æ ·æ›´å®¹æ˜“åŒºåˆ†æˆå‘˜å˜é‡å’Œæ™®é€šå˜é‡, è€Œè¿™ä¸ªæ˜¯ ä¸è¢«æ¨è çš„(æ¯•ç«Ÿdartçš„IDEæ•´åˆçš„éå¸¸æ£’). å¦‚æœè¦å…³é—­è¿™ä¸€é¡¹æ£€æŸ¥, åªéœ€è¦åœ¨linter ruleé‡ŒæŠŠå®ƒè®¾ä¸ºfalse. ç»¼ä¸Š, æˆ‘çš„analysis_options.yamlé•¿è¿™æ ·: include : package:lint/analysis_options.yaml analyzer : exclude : - build/** linter : rules : # Rationale: in our app, the codes are for reading on mobile phones. Adding # `this` makes it easier for readers to understand which variables class # members and which ones are not. unnecessary_this : false Auto-fix suggestions ä¸è¿‡åœ¨åŠ äº†analyzerä»¥åæˆ‘å‘ç°VSCodeå‡ºç°äº†å‡ ç™¾ä¸ªwarning, å¤§éƒ¨åˆ†warningéƒ½æœ‰ç®€å•çš„fixæ–¹æ³•(æ¯”å¦‚ç»™ Text(\"foo\") åŠ ä¸ª const ä¹‹ç±»çš„). è™½ç„¶åªè¦ç‚¹ä¸€ä¸‹å°±èƒ½fix, ç‚¹å‡ ç™¾ä¸‹ä¹Ÿå®åœ¨æ˜¯å¤ªéº»çƒ¦äº†... æœç´¢ä¸€ä¸‹ä»¥åå‘ç°äº†è§£å†³åŠæ³•: https://stackoverflow.com/a/62664168 é¦–å…ˆç”¨ dartfmt å¯ä»¥è§£å†³ä¸€äº›ç®€å•çš„æ ¼å¼é—®é¢˜: # simple style/format fixes $ dartfmt --fix --overwrite --follow-links . è¦åº”ç”¨analyzerçš„fix, éœ€è¦ä½¿ç”¨ dartfix . ä¸è¿‡å®ƒç›®å‰åªæ”¯æŒpedantic, ä¸èƒ½ç›´æ¥ç”¨analysis_options.yamlçš„é…ç½®: # install dartfix: $ pub global activate dartfix # Use dartfix to auto-apply pedantic suggestions: $ dartfix --pedantic --excludeFix unnecessary_this lib/ --fix prefer_const_declarations --overwrite ä½†æˆ‘å‘ç°pedanticçš„æ£€æŸ¥ç¡®å®ä¸å¦‚lintä¸¥æ ¼(cf. äºŒè€…çš„æ¯”è¾ƒ ), æ‰€ä»¥æˆ‘å¹¶æ²¡æœ‰ç›´æ¥ç”¨ --pedantic . ä½†æ˜¯, æˆ‘ä»¬ä¾ç„¶å¯ä»¥ç”¨dartfixæ¥fixæŸä¸€ç±»é—®é¢˜(éœ€è¦å…ˆç¡®è®¤æŸä¸ªfixæ˜¯å¦è¢«dartfixæ”¯æŒ). æ¯”å¦‚æˆ‘çœ‹åˆ°å¾ˆå¤š sort_child_properties_last çš„å»ºè®®, äºæ˜¯å¯ä»¥: # Check if the \"sort_child_properties_last\" lint is supported by dartfix: $ dartfix -h | grep sort_ â€¢ sort_child_properties_last # This fix is available ==> Apply it with dartfix: $ dartfix --fix sort_child_properties_last lib/ --overwrite ç”¨ç±»ä¼¼çš„æ–¹å¼, å°±å¯ä»¥å¿«é€Ÿåº”ç”¨linterçš„å»ºè®®: $ dartfix --fix prefer_const_constructors lib/ --overwrite $ dartfix --fix prefer_const_declarations lib/ --overwrite $ dartfix --fix prefer_final_locals lib/ --overwrite # Or apply multiple fixes at once: $ dartfix --fix prefer_const_declarations,avoid_redundant_argument_values,prefer_collection_literals,curly_braces_in_flow_control_structures,prefer_if_elements_to_conditional_expressions,annotate_overrides,prefer_const_constructors_in_immutables,unnecessary_const,prefer_is_empty,prefer_final_fields \\ lib/ --overwrite","tags":"tech","title":"ç”¨analyzeræé«˜Flutteré¡¹ç›®çš„ä»£ç è´¨é‡"},{"url":"https://x-wei.github.io/soft/dockerfile-for-my-pelican-blog.html","text":"æˆ‘çš„è¿™ä¸ªpelicanåšå®¢å·²ç»æœ‰å…«å¹´å¤šäº†, ä» æœ€å¼€å§‹ ä½¿ç”¨pelican2.x+bootstrap2ä¸»é¢˜åˆ°ç°åœ¨ ä½¿ç”¨pelican3 , æ–­æ–­ç»­ç»­ç»è¿‡äº†å„ç§æŠ˜è…¾. ç°åœ¨çš„blogè™½ç„¶æ–‡ä»¶å†…å®¹è¿˜å¾ˆä¹±, ä½†æ˜¯ç½‘é¡µæ ·å¼æˆ‘åŸºæœ¬æ»¡æ„. é—®é¢˜å°±æ˜¯pelican3åŠ ä¸Šæˆ‘è‡ªå®šä¹‰çš„ä¸»é¢˜/æ’ä»¶, é…ç½®èµ·æ¥å®åœ¨å¤ªç¹ç, æ¯æ¬¡æ¢ç”µè„‘éƒ½è¦æŠ˜è…¾åŠå¤©... æ‰€ä»¥ä¹‹å‰æˆ‘åšäº†ä¸€ä¸ªDockerfileå’ŒGithubAction, è‡ªåŠ¨ä»markdown/rstæ–‡ä»¶ç”Ÿæˆé™æ€ç½‘ç«™çš„htmlæ–‡ä»¶: https://github.com/X-Wei/pelican-gh-actions-xwei è¿™ä¸ªrepoå¯ä»¥ä½œä¸ºgithub actionä¸Šè¿è¡Œ, æ¯”å¦‚æ¯å½“commitåˆ°markdownæ–‡ä»¶å¤¹çš„æ—¶å€™, è®©github actorç”Ÿæˆhtmlæ–‡ä»¶ç„¶åcommit â€”â€” å¯ä»¥å‚è€ƒæˆ‘çš„blogçš„ github workflowé…ç½® . ä»Šå¤©åˆä¿®æ”¹äº†ä¸€ä¸‹, è®©å®ƒä¹Ÿèƒ½åœ¨æœ¬åœ°ç”¨dockerè·‘, å…å»äº†æ¢ç”µè„‘é‡æ–°æŠ˜è…¾é…ç½®çš„ç—›è‹¦(è¿™ä¹Ÿæ˜¯æˆ‘è¿™å‡ ä¸ªæœˆæ²¡æ›´æ–°åšå®¢çš„åŸå› , ä¹‹ä¸€). è¿™ç¯‡æ–‡ç« ä¸»è¦è®°å½•ä¸€ä¸‹å¦‚ä½•ç”¨Dockerfileåœ¨æœ¬åœ°æœºå™¨ä¸Šé¢„è§ˆæˆ–è€…ç”Ÿæˆé™æ€ç½‘ç«™. build Docker image é¦–å…ˆéœ€è¦ä½¿ç”¨Dockerfileæ¥buildä¸€ä¸ªdocker image. é¡ºä¾¿ç»™å®ƒåŠ ä¸ªtagå«\"my-pelican-blog:latest\" ( -t my-pelican-blog:latest ): $ docker build -t my-pelican-blog:latest \\ github.com/x-wei/pelican-gh-actions-xwei (æˆ‘å‡†å¤‡ä»¥åæŠŠè¿™ä¸ªdocker image å‘å¸ƒåˆ°Github Container Registryä¸Š è¿™æ ·å°±ä¸ç”¨è‡ªå·±çš„æœºå™¨build imageäº†) å¦‚æœæƒ³è‡ªå·±ä¿®æ”¹ä»€ä¹ˆå†…å®¹, å¯ä»¥åœ¨æœ¬åœ°çš„repoé‡Œä¿®æ”¹Dockerfile/entrypoint.sh, ç„¶åé‡æ–°build image: $ docker build -t my-pelican-blog:latest . è¿è¡Œå®¹å™¨ç”Ÿæˆhtmlé¢„è§ˆ æœ¬åœ°ç›´æ¥runè¿™ä¸ªimageçš„è¯, æ˜¯ç”Ÿæˆhtmlæ–‡ä»¶åˆ° output/ æ–‡ä»¶å¤¹ä»¥ä¾›é¢„è§ˆ(ä¹Ÿå°±æ˜¯makefileé‡Œçš„\" make html \"å‘½ä»¤). æ³¨æ„éœ€è¦æŠŠå®é™…çš„æœ¬åœ°blog repoä½ç½®(æˆ‘æ˜¯\" ~/Documents/x-wei.github.com \")æ˜ å°„åˆ°containeré‡Œçš„\"/ home/blog \"æ–‡ä»¶å¤¹( -v ~/Documents/x-wei.github.com:/home/blog ) å¦å¤–æœ€å¥½åŠ ä¸Š --rm , è¿™æ ·containerè¿è¡Œå®Œä»¥åç«‹åˆ»å°±è¢«åˆ æ‰äº†, ä¸ç•™åƒåœ¾(åªæ˜¯åˆ æ‰container, ä¸Šä¸€æ­¥buildçš„imageè¿˜åœ¨). $ docker run --rm \\ -v ~/Documents/x-wei.github.com:/home/blog \\ my-pelican-blog:latest SSHåˆ°å®¹å™¨ä¸­è¿è¡Œå‘½ä»¤ åƒä¸Šé¢ç›´æ¥runçš„è¯åªèƒ½è·‘ make html , è·‘å®Œåå°±é€€å‡ºå®¹å™¨äº†. è€Œå…¶å®åœ¨å®¹å™¨ä¸­è¿˜å¯ä»¥è¿è¡Œ make serve å’Œ make publish å‘½ä»¤(cf. æˆ‘ä¹‹å‰ä»‹ç»pelican3çš„ æ–‡ç«  ), è¿™æ ·æœ¬åœ°é¢„è§ˆèµ·æ¥ä¼šæ›´æ–¹ä¾¿ä¸€äº›. è¦SSHè¿›åœ¨å®¹å™¨ä¸­è¿è¡Œå„ç§å‘½ä»¤, åªéœ€è¦ç”¨\"bash\"ä»£æ›¿é»˜è®¤çš„entrypoint.sh( -it --entrypoint bash ), åŒæ—¶ä¸ºäº†æœ¬åœ°é¢„è§ˆéœ€è¦å¼€å¯port forwarding( -p 8000:8000 ): $ docker run --rm --name pelican \\ -w /home/blog/pelican_dir/ \\ -v ~/Documents/x-wei.github.com:/home/blog \\ -p 8000 :8000 \\ -it --entrypoint bash \\ my-pelican-blog:latest root@fea99c54aea1:/home/blog/pelican_dir# make html && make serve # or `make publish` # (Preview the website at http://localhost:8000/)","tags":"soft","title":"ç”¨Dockerfileå…é…ç½®ç”Ÿæˆpelicanåšå®¢"},{"url":"https://x-wei.github.io/tech/flutter-use-fvm.html","text":"æœ¬æ–‡æ€»ç»“äº†Flutter Explainedå…³äºfvmçš„è§†é¢‘: https://youtu.be/R6vKde1vIGQ background flutteræœ‰å¾ˆå¤šchannel: stable/beta/dev/master, è€Œç›®å‰æœ‰äº›åŠŸèƒ½åªåœ¨æŸä¸ªchannelä¸Šå¯ç”¨, æ¯”å¦‚Linux supportç›®å‰åªåœ¨dev channelæ”¯æŒ. æˆ‘æ—¥å¸¸ç”¨çš„æ˜¯beta channel, ä½†æ˜¯æƒ³å†™Linuxç¨‹åºæ—¶æ¯æ¬¡ flutter channel dev çš„è¯ éœ€è¦èŠ±è´¹å¾ˆå¤šæ—¶é—´--å› ä¸ºè¦ä¸‹è½½æ–°channelçš„å†…å®¹, switchå›å»çš„æ—¶å€™åˆè¦ç­‰åŠå¤©(å› ä¸ºè¦ä»æ–°ä¸‹è½½). è€Œ fvm è¿™æ­£æ˜¯è§£å†³è¿™ä¸ªé—®é¢˜çš„! å®ƒå¯ä»¥cacheä¸åŒç‰ˆæœ¬çš„flutterSDK, æ¯ä¸ªrepoå¯ä»¥è®¾ç½®ä½¿ç”¨ä¸åŒçš„ç‰ˆæœ¬å·, è€Œä¸”VSCodeä¹Ÿåªéœ€è¦ç®€å•é…ç½®å°±èƒ½ä¸Šæ‰‹. enable fvm ä¸€è¡Œå‘½ä»¤å³å¯å¼€å¯fvm: $ pub global activate fvm å¸¸ç”¨æ³•: fvm flutter : Proxies flutter commands ç”¨äºé€‰æ‹©åˆé€‚çš„flutterç‰ˆæœ¬ ä¹Ÿå°±æ˜¯è¯´ç”¨ fvm flutter æ¥ä»£æ›¿flutterå‘½ä»¤ â€” ä¼šè‡ªåŠ¨pickå½“å‰repoæ‰€ç”¨çš„SDK æ¯”å¦‚: fvm flutter doctor fvm list : æŸ¥çœ‹ç›®å‰å®‰è£…çš„flutter ç‰ˆæœ¬ fvm use : é€‰æ‹©ä½¿ç”¨ä¸€ä¸ªSDKç‰ˆæœ¬ fvm install dev/beta/stable/... : å®‰è£…SDK use fvm åœ¨flutteræ–‡ä»¶å¤¹é‡Œè¿è¡Œ fvm use xxx å³å¯ $ cd my_flutter_proj $ fvm use dev $ fvm list Versions path: /home/xwei/fvm/versions beta dev âœ” è¿™ä¸ªä¼šåœ¨å½“å‰ç›®å½•ä¸‹æ·»åŠ ä¸€ä¸ª .fvm çš„æ–‡ä»¶å¤¹, é‡Œé¢åŒ…å«äº†åˆ°æŒ‡å®šSDKçš„è½¯é“¾æ¥ ä»¥åŠä¸€ä¸ªjson config: $ ls .fvm flutter_sdk@ fvm_config.json æ¥ä¸‹æ¥å°±å¯ä»¥æ„‰å¿«çš„ç”¨flutter devå¼€å‘linux appäº† 1 . $ fvm flutter config --enable-linux-desktop $ fvm flutter devices 2 connected devices: Android SDK built for x86 ( mobile ) â€¢ emulator-5554 â€¢ android-x86 â€¢ Android 10 ( API 29 ) ( emulator ) Linux ( desktop ) â€¢ linux â€¢ linux-x64 â€¢ Linux $ fvm flutter create . $ fvm flutter run -d linux VScode config cf. https://github.com/leoafarias/fvm#vscode è®©vscodeä½¿ç”¨fvm flutter (è€Œä¸æ˜¯é»˜è®¤flutter), åªè¦ä¿®æ”¹settings.jsonæŠŠé‚£ä¸ªflutter_sdkçš„è½¯é“¾æ¥å³å¯: $ cat .vscode/settings.json { \"dart.flutterSdkPaths\" : [ \".fvm/flutter_sdk\" ] } ç„¶ååœ¨VSCodeçš„command paletteé‡Œè¾“å…¥ Flutter: Change SDK , å°±å¯ä»¥é€‰æ‹©flutter SDKäº† other config change cache path fvmé»˜è®¤cacheåœ¨ ~/fvm æ–‡ä»¶å¤¹ä¸‹, å¯ä»¥ä¿®æ”¹ FVM_HOME ç¯å¢ƒå˜é‡æ”¹åˆ°åˆ«çš„ä½ç½®. cf. https://github.com/leoafarias/fvm#change-fvm-cache-directory bash/fish alias æ¯æ¬¡éƒ½å†™ fvm flutter æœ‰ç‚¹éº»çƒ¦ å¯ä»¥åœ¨bashrc/config.fishé‡ŒåŠ ä¸Šä¸€è¡Œ alias ff=fvm flutter ç»¼ä¸Š, åªéœ€è¦åœ¨.bashrcé‡ŒåŠ ä¸Š: alias ff='fvm flutter' export FVM_HOME=\"$HOME/.local/fvm\" æˆ‘ä¸€èˆ¬ç”¨fish, æ˜¯åœ¨ config.fish é‡ŒåŠ ä¸Š: alias ff='fvm flutter' set FVM_HOME \"$HOME/.local/fvm\" Flutter 2.0ä»¥åstable channelä¹Ÿå¯ä»¥å¼€å‘linux, ä¸è¿‡åˆ‡æ¢channelçš„éœ€æ±‚è¿˜æ˜¯ä¸€ç›´åœ¨çš„, æ‰€ä»¥è¿˜æ˜¯å»ºè®®æ¯ä¸ªflutteré¡¹ç›®éƒ½ä½¿ç”¨fvm. â†©","tags":"tech","title":"ç”¨fvmç®¡ç†å¤šä¸ªFlutter SDK"},{"url":"https://x-wei.github.io/notes/xcs224n-lecture8.html","text":"Overview Background (Pre-Neural Machine Translation) machine translation (MT): sentence from source lang to target lang . 1950s: rule based, using bilingual dictionary. 1990s-2010s: Statistical MT ( SMT ) using Bayes rule: P(y|x) = P(x|y)*P(y) / P(x) â‡’ The language model we already learnt in prev lectures â‡’ To get the translation model : learn from a lot of parallel data , e.g.large corpus of English doc and French translations and break it down with alignment a : Examples of alignment: can be without counterparts, or one-to-many, or many-to-one, or many-to-many, \"Decoding\": use heuristics to search for argmax sequence Seq2Seq Overview 2014: NMT to do machine translation using a single neural network. architecture: seq2seq, with 2 RNNs. Training NMT In decoder RNN: instead of taking argmax to gen text, take the neg log prob of the correct translated words . Decoding Methods \" Greedy decoding \": Always take argmax at each step â‡’ the final greedy sentence might not be argmax over all sentences \" Exhaustive search decoding \": â‡’ complexity O(V T ) , too expensive \" Beam search decoding \" (not guaranteed to find optimal solution, but very efficient.) At each step, keep track the k-most probable hypotheses (partial translations). k = beam size QUESTION: logP is negative, logP1*logP2 become positive? Beam Search Example Stopping criterion In greedy decoding: we stop right after argmax= <END> In beam search: <END> can be produced at different times when <END> is produced, that hypothese is complete , continue exploring other hypotheses. problem : longer hypotheses have lower scores ? â‡’ normalize scores by seq length: NMT Advantages & Disadvantages Advantages Performance An e2e system: no subsystems to be individually optimized Much less human engineering effort Disadvantages (w.r.t. SMT) less interpretable, hard to debug difficult to control: can't specify rules or guidelines Evaluation Eval metrics for machine translation: BLEU ( B i l ingual E valuation U nderstudy) â€” compute similarity score between machine translations and human translations. based on ngram precision (n<=4): how many overlaps of 1/2/3/4-grams with human translations brevity penalty : penalty for too-short system translations BLEU is useful but imperfect NMT outperformed tranditional SMT systems in 2016. Attention Motivation and Overview The bottleneck problem with vanilla seq2seq architecture: depend too much on the single vector of the last encoder RNN hidden state â‡’ only the last hidden state influences decoder behavior. Attention mechanism: On each step of the decoder, use direct connection to the encoder . Focus on a particular part of the source sequence Compute an attention score as dot prod between the current-step decoder hidden state H (k) d and each-step encoder hidden state H (i) e . Apply softmax(attention-scores) to turn the attention scores into attention distribution , that shows which encoder hidden state we should focus on: take the weighted average (according to the attention-distribution) of the encoder hidden states as attention output . (this is so-called \"soft alignment\" as it's a distribution instead of one-hot in SMT) use the \"attention output\" to influence the next word prediction in decoder e.g. concat attention output with decoder current hidden state, and compute the decoder's word distribution and output a word decoder go to the next position, and repeat Attention Equations Attention Advantages significantly improves NMT performance: allow decoder to focus on certain parts of the source solves the bottleneck problem helps with vanishing gradient problem: have direct connections between decoder and encoder over many timesteps provides some interpretability inspecting attention distribution, we can see what the decoder was focusing on we get (soft) alignment for free! The network just learned alignment by itself Generalization and Variants Attention is a general Deep Learning technique You can use attention in many architectures (not just seq2seq) and many tasks (not just MT). More general definition of attention: \" query attend to the values \" Intuition: The weighted sum is a selective summary of the information contained in the values , where the query determines which values to focus on Attention is a way to obtain a fixed-size representation of an arbitrary set of representations (the values ), dependent on some other representation (the query ). Attention variants on how to compute attention score: Basic dot-product attention Multiplicative attention: use a bilinear func of query and value-i the weight matrix is learnable parameter Additive attention W1 , W2 and weight vector v are learnable, attention dimensionality d3 is hyperparam","tags":"notes","title":"[XCS224N] Lecture 8 â€“ Translation, Seq2Seq, Attention"},{"url":"https://x-wei.github.io/notes/xcs224n-lecture7.html","text":"Vanishing Gradient Intuition and Proof ex: grad of loss at position 4 w.r.t.hidden state at postion 1 with chain rule, the grad is smaller as it backprops â‡’ If the largest eigenvalue of Wh is less than 1, the gradient J_i/h_j will exponentially shrink. Why Vanishing Gradient is a Problem J2/h1 is bigger than J4/h1 Model weights are only updated only with respect to near effects , not long-term effects . Gradient can be viewed as a measure of the effect of the past on the future . example: RNN models leans better sequential recency than syntactic recency. Exploding Gradients If the gradient is too big, SGD update step is too big â‡’ this will result in Inf or NaN in your network. solution: gradient clipping LSTM Overview How to fix vanishing gradient: In a vanilla RNN, the hidden state is constantly being rewritten â‡’ can we have an RNN with separate memory ? â‡’ LSTM Idea: at step t , in addition to the hidden state h_t , have a cell state c_t both h_t and c_t are of length n cell states store long-term information the LSTM can erase , write and read information from the cell â‡’ the selection of erase/write/read action is controlled by the corresponding gates: each gate is also vec of length n each timestep, each element of the gates can be open (1), closed (0), or somewhere in-between. open: info being passed through closed: info don't pass gates are dynamic: their value is computed based on the current context i.e.gate = sigmoid(W h h t-1 + W x x t + b) The three gates: f , i , o LSTM architecture makes it easier for the RNN to preserve information over many timesteps if forget gate f is always 1, the info in the cell is preserved indefinitely LSTM doesn't guarantee that there is no vanishing/exploding gradient, but it does provide an easier way for the model to learn long-distance dependencies. Became successful in 2013-2015 in 2019: other approaches (e.g. Transformers ) have become more dominant for certain tasks Gated Recurrent Units Simpler alternative to the LSTM proposed in 2014. Main idea: remove the cell state c t , only use hidden state h t . still using gates to control flow of information gates: GRU makes it easier to retain info long-term (e.g. by setting update gate u to 0) LSTM vs GRU LSTM and GRU are most widely used RNN variants more robust to vanishing gradient problem GRU is quicker to compute and has less params no conclusive evidence that one consistently performs better than the other LSTM is a good default choice (especially if your data has particularly long dependencies, or you have lots of training data) Rule of thumb : start with LSTM, but switch to GRU if you want something more efficient Vanishing and Exploding Gradients in Other Architectures Vanishing/exploding gradient is NOT just a RNN problem: It's a common pb for all deep NN architectures. But RNNs are particularly unstable due to the repeated multiplication by the same weight matrix The lower layers are learnt very slowly (hard to train). â‡’ solutoin: add more direct connections (thus allowing the gradient to flow) ex1. \"ResNet\": residual connections (or skip-connections) â‡’ makes deep networks much easier to train ex2.\"DenseNet\" Directly connect everything to everything! (from all layers to all layers) ex3.\"Highway connections\" Similar to residual connections, but the identity connection vs the transformation layer is controlled by a dynamic gate Bidirectional RNNs task: sentiment classification using: RNN, and using elementwise max to get sentence encoding â‡’ Bidir RNN : two separate RNNs, concat If you do have entire input sequence, bidirectionality is powerful (you should use it by default ) Multi-layer RNNs Apply RNN in multiple layers â‡’ allows the network to compute more complex representations (2017 paper): 2 to 4 layers is best for the encoder RNN, and 4 layers is best for the decoder RNN skip-connections/dense-connections are needed to train deeper RNNs (e.g. 8 layers) Transformer-based networks (e.g. BERT) can be up to 24 layers","tags":"notes","title":"[XCS224N] Lecture 7 â€“ Vanishing Gradients and Fancy RNNs"},{"url":"https://x-wei.github.io/notes/xcs224n-lecture6.html","text":"Language Modeling Language Modeling : task of predicting what words come next. i.e.compute the conditional probability distribution a language model can also be viewed as a system to give probability to a piece of text. n-gram Language Models n-gram Language Model: pre-deep learning solution for language modelling. idea: Collect statistics on frequency of n-grams , and use these to predict next word (assumption: current word only dep on previous n-1 words) sparsity problem: some ngrams never appear in training data partial solution: smoothing , i.e. add small delta to all words in Vocab or the context n-1 gram is never in training data partial solution: back-off , i.e. just condition on the n-2 gram storage problem: need to store counts for all ngrams language model to generate text: Neural Language Models window-based neural model: use a fixed window â‡’ compared to ngram model: no sparsity problem no storage problem remaining problems: window too small words at different positions use different weights, no symmetry â‡’ need a NN model that can process any length input RNN Overview A new family of NN: hidden state = function of prev hidden state and curr input vector apply the same weights W repeatedly . RNN Advantages and Disadvantages pros: any length input Computation for step t can ( in theory ) use information from many steps back Model size doesn't increase for longer input symmetry in how inputs are processed: apply the same weights Wh and We cons: slow difficult to access information from many steps back in practice Training RNN Models get text corpus feed text to RNN language model, compute y_t for every step t . loss function: cross entropy averaged for all steps t: in practice: compute t for entire corpus is too expensive â‡’ only compute for a sentence or a document SGD: only compute loss for a batch of sentences backprop pb: the weights W is repeatedly applied, how to compute the grad? â‡’ Multivariable Chain Rule : backprop through time RNN Text Generation use the RNN LM to gen text: sampled output is next step's input. Evaluating Language Models Perplexity : standard eval metrics of language models. Perplexity equals exp(J(theta)) where J is cross-entropy loss â‡’ the smaller the better Why should we care about Language Modeling? LM is a benchmark task that helps us measure our progress on understanding language LM is a subcomponent of many NLP tasks Recap Language model : system that predicts the next word Recurrent Neural Network: seq input of any length same weight on each step optionally produce output on each step RNN can be used for LM, but can be used for other taskes. RNN for POS tagging: RNN for sentiment classification: RNN as an encoder module : e.g.question answering, machine translation, etc. RNN used to gen text: e.g.speech recognition, machine translation, summarization terminology : vanilla RNN, GRU, LSTM, etc.","tags":"notes","title":"[XCS224N] Lecture 6 â€“ Language Models and RNNs"},{"url":"https://x-wei.github.io/notes/xcs224n-lecture5.html","text":"Phrase structure : organize words into nested constituents. Context-Free Grammars context-free grammars (CFGs) start with words , words are given a category (part of speech = POS): words combine into phrases with categories like NP (noun phrase) and PP (prep.phrase): Phrases can combine into bigger phrases recursively: â‡’ forms a tree structure: Dependency Structure Different from CFGs, instead of having concepts of NP/PP/etc, dependency structure shows which word depend on which other word. Prepositional Phrase Attachment Ambiguity example of ambiguties: multiplied ambiguities: many PPs in a row â‡’ exp number of possible dep trees, Dependency Grammar - Structure and Parsing Dependency syntax : syntactic structure consists of relations between lexical items , normally binary asymmetric relations (\"arrows\") called dependencies . The arrows are commonly typed with the name of grammatical relations (subject, prepositional object, apposition, etc.) Usually, dependencies form a tree (connected, acyclic, single-rooted graph) Treebanks Universal Dependencies treebanks: human-annotated dep trees treebank vs.grammar: cons: slow pros: Reusability of the labor Broad coverage, not just a few intuitions Frequencies and distributional information A way to evaluate systems More on Dependency Parsing Dep parsing : A sentence is parsed by choosing for each word what other word (including ROOT) is it a dependent of. constraints: Only one word is a dependent of ROOT no cycle pb: whether arrows can cross ( non-projective ) Transition-based Dependency Parsing greedy discriminative dependency parser, a seq of bottom up actions. States: stack alpha buffer beta dependencies A Possible actions : SHIFT : removes the first word from the buffer and pushes it onto the stack. LEFT-ARC : marks the second (second most recently added) item on the stack as a dependent of the first item and removes the second item from the stack. RIGHT-ARC : marks the first (most recently added) item on the stack as a dependent of the second item and removes the first item from the stack. Example: Pb: how to choose the actions (shift/left-arc/right-arc) ? searching all possible actions or DP â†’ cubical complexityâŒï¸ â‡’ use ML to predict actionsâœ”ï¸ classes: 3 actions (for untyped choices) features: stack word, buffer word, POS can also do beam search: keep k good parse prefixes at each time step. â‡’ provides very fast linear time parsing , with great performance QUESTION: what creteria to select best path? Conventional features: hand-engineered, binary (indicator) features (from assignement) Four types of parsing errors : Prepositional Phrase Attachment Error: e.g. wrong: Moscow sent [troops into Afghanistan] right: Moscow sent [troops] [into Afghanistan] â‡’ prep phrase=\" into Afghanistan \", correct head word = \" sent \", wrong head word = \" troops \" Verb Phrase Attachment Error e.g. [Leaving the store unattended], I went outside to watch the parade â‡’ verb phrase = \" Leaving the store unattended \", head word=\" went \" Modifier Attachment Error e.g. I am [extremely] short â‡’ modifier=\" extremely \", head word=\" short \" Coordination Attachment Error e.g. Would you like brown rice or garlic naan? â‡’ conjuncts=\" rown rice \" and \" garlic naan \", coordinating conjunction=\" or \" The second conjunct (here \" garlic naan\" ) should be attached to the first conjunct (here \" brown rice\" ). Evaluation of Dependency Parsing eval metrics: dependecy accuracy Neural Dependency Parsing problem with indicator features: sparse incomplete expensive computation: most time are wasted computing the features â‡’ neural dependency parser represent each word as a d -dimensional dense vector (word vectors) POS and dependency labels are also represented as dense vectors rational: some POS tags are similar, e.g. NNS(plural nouns) is similar to NN(singular noun), NUM(numbers) similar to AMOD(adj. modifier). â‡’ concat the embeddings of features, feed into a feed forward NN: â‡’ The dense representations let it outperform other greedy parsers in both accuracy and speed","tags":"notes","title":"[XCS224N] Lecture 5 â€“ Dependency Parsing"},{"url":"https://x-wei.github.io/notes/xcs224n-lecture3.html","text":"This week: neural net fundamentals Classification Setup and Notation training data: softmax classifier (linear classifier â€” hyperplane): ith row of the param W: weight vector for class i to compute logits: prediction = softmax of f_y: cross-entropy goal: for (x, y), maximize p(y|x) â‡’ loss for (x, y) = -log p(y|x) in our case, the truth distribution is one-hot , i.e.p = [0, 0, ... , 1, ... 0] â‡’ cross entropy H = - sum{log q(y|x), for all x, y} loss for all training data = averaging the losses: where the logits vector f is: Neural Network Classifier softmax or SVM or other linear models are not powerful enough â‡’ NN to learn nonlinear decision boundaries in NLP: learn both model parameters ( W ) and representations (wordvecs x ) artificial neuron: y=f(Wx) , where f is nonlinear activation func. when f = sigmoid = 1/(1+exp(-x)) , the neuron is binary logistic regression unit. A neural network = running several logistic regressions at the same time matrix notation: Without non-linearities f() , deep neural networks can't do anything more than a linear transform. Named Entity Recognition (NER) task: find and classify names in text BIO encoding : Binary Word Window Classification Classify a word in its context window of neighboring words. simple idea: concat all context words Binary classification with unnormalized scores(2008&2011): build true window and corrupted windows . feed-forward computation: intuition: middle layer learns non-linear interactions between words: example: only if \" museums \" is first vector should it matter that \" in \" is in the second position. max-margin loss: let true window score be larger (by at leaset delta=1)than the corrupted window score. QUESTION: why we can use SGD when continuous? SGD: Computing Gradients by Hand multivariable derivatives / matrix calculus *when f is from Rn â†’ R1, *Gradient =vector of partial derivatives when f is from Rn â†’ Rm, Jacobian is an m x n matrix of partial derivatives chain rule : multiply the Jacobians â‡’ the nonlinear (activation) function h is element-wise , Jacobian of h is diagonal: â‡’ other Jacobians: Gradients in Neural Network notation: â‡’ Apply the chain rule with Jacobian/grad formulars from last section: â‡’ extract the common part, call it local error signal : â‡’","tags":"notes","title":"[XCS224N] Lecture 3 â€“ Neural Networks"},{"url":"https://x-wei.github.io/notes/xcs224n-lecture4.html","text":"More Matrix Gradients â‡’ Deriving Gradients wrt Words pitfall in tetraining word vectors: if some word is not in training data, but other synonyms are present â‡’ only the synonyms word vectors are moved takeaway: Backpropagation backprop: apply (generalized) chain rule re-use shared stuff computation graph â‡’ Go backwards along edges, pass along gradients receive upstream grad => compute downstream grad for node with multiple inputs: More on Backpropagation intuition: plus( + ) distributes upstream grad max routes upstream grad multiply( * ) switches the upstream grad efficency: compute shared part once Backprop in general computation graph comput-graph is a DAG â‡’ topological sort Fprop : visit nodes in topological Bprop : in reverse topological order Complexity = O(n) Automatic Differentiation: symbolic computation on the symbolic expression of Fprop. Moden DL framework: must provide the Fprop/Bprop formular for each node. Backprop Implementations for each gate, impl the forward/backward API: Numeric Gradient For checking if the forward/backward impl is correct e.g.check (note: use two-sided gradient checks) Regularization Regularization term added to loss func to prevent overfitting: Vectorization/tensorization avoid forloops, use matrix multiplication instead. Nonlinearities tanh is recaled and shifted of sigmoid: tanh(x) = 2 * sigmoid(2x) - 1 new world activation func: Parameter Initialization Initialize the weights to small, random values â‡’ break the symmetry. Init bias to 0 Init all other weights to Uniform(-r, r). Xavier initialization : variance inverse-proportional to sum of prev&next layer size Optimizers and Learning Rates Usually simple SGD works fine, but needs to tune the learningrate ( lr ). adaptive optimizers : per-parameter learning rate. learning rate: try with powers of 10 learningrate-decay: ( epoch = full pass over the training data)","tags":"notes","title":"[XCS224N] Lecture 4 â€“ Backpropagation"},{"url":"https://x-wei.github.io/notes/xcs224n-lecture2.html","text":"More on Word2Vec parameters Î¸ : matrix U and V ( each word vec is a row ): and the predictions don't take into account the distance between center word c and outside word o . â‡’ all word vecs predict high for the stopwords. Optimization Basics min loss function: J(Î¸) gradient descent direction of the gradient = direction where J(Î¸) increases the most. SGD pb: J(Î¸) is for all words/positions in the corpus, grad J(Î¸) is very expensive to compute. â‡’ use random samples each time â‡’ each time we only sample one window of 2m+1 words I.e.each time we compute the grad only on a minibatch . â‡’ each time we only update the wordvecs that appear in the minibatch. Word2Vec: Model Variants final embedding of a word = average of u and v â‡’ we can also do only one vec per word, not much difference 2 main varaints of w2v family: skip-grams( SG ): predict outside word o with center word c : P(o|c) .â† presented in the class. continuous bag-of-words ( CBOW ): predict center word c using outside words o . negative sampling So far: naive sotfmax, i.e.sum over all words in vocab â€” expensive . â‡’ negative sampling . Use several binary logistic regressions on: the true pair (center word and a true context word ) several nois pairs (center word and a random word) â† random negative pair logistic regression = softmax with vocab size=2 sigmoid function: from inner-product value to probability score â‡’ objective funcion (to maximize): where P(w) is the distribution of negative sampling. in practice: P(w)=U(w)&#94;(3/4) i.e.3/4 power of the uniform distribution â†’ makes rare words appear more often . â‡’ loss function (to minimize): QUESTION: why put the minus inside the logit? Alternative Methods: cooccurrence counts Why not using co-occurrence counts matrix? co-occurrence in windows co-occurrence in document problems with co-occurrence matrix: matrix size increase with vocab size high dimensional, expensive storage Subsequent classification models have sparsity issues â‡’ model less robust solution1: low-dimensional vectors (signular value decomposition for k-largest eigen values) â‡’ popular in the year 2000. solution2: hacks to co-occurrence matrix trim stopwords counter more on closer words Pearson correlations to replace counts comparison encode meanings insight: ratios of co-occurrence probabilities can encode meaning. â‡’ make dot-products equal to the log of co-occurence prabability â‡’ vector diff gives the ratio of co-occur proba GloVe Combine the best of both worlds: count method and prediction method. log-bilinear: Where the weight ter f(Xij) is capped: Fast training Scalable to huge corpora Good performance even with small corpus and small vectors Evaluating Word Vectors Intrinsic vs extrinsic in NLP-eval: Intrinsic : Eval on a specific/intermediate subtask : e.g.word similarity, POS tag, etc. Fast to compute Not clear if really helpful unless correlation to real task is established Extrinsic : Eval on real task: e.g.web search / question-answering / phone dialog Hard to run Hard to diagnois â‡’ today: focus on intrinsic word vector evaluation Eval on word Analogies Semantic eval: city-in-state (e.g. \"Chicago Illinois Houston Texas\" ) Syntactic eval: gram4-superlative (e.g. \"bad worst big biggest\" ) Hyperparameters: Eval on word Similarities Word Senses sense ambiguity : words have lots of meanings crude solution(2012): for each common word, find clusters of context that it occurs, split the word into pesudowords. Linear Algebraic Structure solution (2018): word sense is a linear superposition: â‡’ result: Because of ideas from sparse coding you can actually separate out the senses (providing they are relatively common) actual word/sense are very sparse Extrinsic word vector evaluation: e.g. NER (finding person/organization/location)","tags":"notes","title":"[XCS224N] Lecture 2 â€“ Word Vectors and Word Senses"},{"url":"https://x-wei.github.io/notes/xcs224n-lecture1.html","text":"Course intro Word Meaning and Representation denotational semantics wordnet (nltk) : word meanings, synonym, relationships, hierarchical pb: missing nuance, missing new meanings, required human labor, can't compute word similarity Traditional NLP (untill 2012): each words are discrete symbols â€” \" localist representation \" use one-hot vectors for encoding pbs with one-hot vecotrs: large dimension size each two words are orthogonal , no relationships between them distributional semantics : A word's meaning is given by the words that frequently appear close-by . â‡’ Use the many contexts of w to build up a representation of w . \" distributed representation \": use dense vectors for each word, so that it is similar to vectors of words that appear in similar contexts. Word2Vec Introduction word2vec algo: for learning word embeddings. idea start with large text corpus each word from the ( fixed ) vocab has a vector v â€” start with rand vectors for each center word c and context(outside) word o : use sim(c,o) to compute P(o|c) or P(c|o) . update the vecs to maximize the probability likelihood Likelihood := product of all predicted probabilities for all window words (fixed window sz= m ), for all positions t . Loss function â‡’ take negative log likelihood as loss function : Prediction function â‡’ probability prediction P(o|c) is a function of the word vectors: we use two vectors per word: use v_w when word w is the center word use u_w when w is context word. proba = softmax of the dot products dot(v,u) for all context word u in Vocab. optimization Î¸ :=all parameters in the model, i.e. 2*V vectors (u/v), each of dimension d . gradient descent : compute all gradients of Î¸ w.r.t.loss function J(Î¸) . I.e.compute dJ(Î¸)/dÎ¸, which is 2*d*V dimension. Word2vec Derivations of Gradient using chain rule and multi-var derivative: â‡’ slope of the vector v_c w.r.t. J_c,o equals the current vector u_o minus the weighted average of context word u_w , i.e. \"expected context word\" . Gensim Word Vector Visualization gensim: word similarity package word composition","tags":"notes","title":"[XCS224N] Lecture 1 â€“ Introduction and Word Vectors"},{"url":"https://x-wei.github.io/notes/Ng_DLMooc_c5wk3.html","text":"This week: seq2seq. I-Various sequence to sequence architectures Basic Models e.g. Machine translation encoder network : many-to-one RNN decoder network : one-to-many RNN This architecture also works for image captioning: use ConvNet as encoder Difference between seq2seq and generating new text with language model: seq2seq don't randomly choose a translation, but choose most likely output sequence. Picking the most likely sentence Machine translation (or seq2seq in general): a conditional language model. language model: P(y<1>,...,y<T>) , x<i> = y<i-1> , initial activation = a<0> seq2seq: feed encoder output as initial activation â†’ P(y<1>...y<T>|x=input seq) Want to sample most likely output sequence (instead of random sampling) For output sequence of length L, there are |V|&#94;L possiblilities. greedy search: pick most likely word at each step â†’ doesn't work well â†’ approximate(not guaranteed) search algo: beam search (next section). Beam Search Approximately find most likely output sequence. algo parameter: beam width B = 3 (beam serach = greedy for B=1) step 1: find B most likely choices for first word argmax P(y<1>|x) step 2: for each of B previous choices â†’ compute second word probabilities â†’ compuate P(y<1>, y<2>|x) by Bayes initialize B copies of the network, hardwiring each of the B choices of first word from last step â‡’ keep top B most likely first 2 words {y<1>,y<2>} step 3: similar Refinements to Beam Search Length normalization original object to optimize: P(y<1>...y ) = product of conditional proba: P(y<1>|x) P(y<2>|y<1>,x) ... (in practice: taking log â†’ sum of log-probas, more numerically stable) with original object function, tends to prefer shorter output sequences â‡’ normalize the probability by output length, i.e. average proba of each word \" normlized log-likelihood \" In practice: use a softer normalization: normalize by T&#94;alpha (typical value: alpha=0.7) alpha=1: fully normalizing by length alpha=0: no normalization Beam width choice large B: better approximation, better result, slower small B: worse result, but faster In production: B=10 In research: B=~1000 Error analysis in beam search When error occurs: figure out whether it's due to beam search or RNN model. Given yhat and y* (human result): â†’ feed yhat and y* to RNN language model, compute the probability of each sequence If P(y*)>P(yhat) â‡’ beam seach needs improvement If P(y*)<P(yhat) â‡’ RNN needs improvement Bleu Score (optional) How to evaluate machine translation systems (multiple correct answers). â†’ BLEU (bilingual evaluation understudy): pretty good single-number eval metrics. Precision (word-level) Precision: fraction of words in MT output that appears in reference translation Modified precision: each word has a credit : max number of appearance in reference sentences (i.e. clip the count of a word) Precision on bigrams For n-grams: Pn = sum(count_clip of ngram in yhat) / sum(count of ngram in yhat) Bleu score Combined Bleu score: exp of avearged precision. BP : brevety penalty (penalize short translations) Attention Model Intuition Human translator: generate translation one part after another, instead of memorize (encode) whole sentence before translate. Input: run B-RNN to get hidden features for each word a<t> Output: also an RNN, at each step, using context with attention weights alpha to focus on only parts of input features. Attention alpha<t,t'> : how much attention to pay to t 'th input word when generating t th output word: depends on previous output s<t-1> , and RNN input feature a<t'> . Attention Model Recap of attention model: Feature vector at t 'th input word: a<t'> context : input features, weighted by attention weights Computing attention alpha Use a<t,t'>=softmax(e<t,t'>) to ensure attention is normalized (over all t 's) to one. â‡’ The mapping function from a<t'> and s<t-1> to attention logits e<t,t'> is unknown â†’ plug in a NN: e<t,t'> = W * (s<t-1>, a<t'>) â€” and trust backprop ! downside: quadratique time complexity ( Tx * Ty ) â†’ acceptable in MT, since input/output seqs are not that long... II-Speech recognition - Audio data Speech recognition seq2seq, where x = audio clip / spectrum gram, y=transcript pre-DL era: phonemes (hand-engineered basic unit of sound) â†’ no longer necessary with end-to-end learning on large dataset. Dataset: 300~3000 hours CTC cost : \"Connectionist temporal classification\". Pb in speech recogintion with many-to-many RNN: number of input timesteps are much longer than output. â†’ blank and repeated characters are considered correct (collapse repeated characters afterwards) Trigger Word Detection Train with an RNN. Data: audio clips â†’ set label 1 right after the trigger word. pb: unbalanced dataset (a lot of 0s) â†’ label = 1 for several timesteps after trigger word. Conclusion and thank you Deep learning is a super power.","tags":"notes","title":"[Sequential Models] week3. Sequence models & Attention mechanism"},{"url":"https://x-wei.github.io/notes/Ng_DLMooc_c5wk2.html","text":"I - Introduction to Word Embeddings Word representation So far: representing words with one-hot encoding â†’ word relationships are not generalized. â‡’ want to learn a featurized representatin for each word as a high-dim vector â†’ visualize word embeddings in 2-dim space, e.g. via t-SNE Using word embeddings example: NER transfer learning: using pretrained embeddings learn word embeddings from large text corpus (or download pre-trained embeddings) transfter embedding to new task with smaller training set (optional) fine-tune word embeddings with new data Word embedding ~ face encoding(embedding) in previous words. Properties of word embeddings Analogy reasoning of word embeddings. e.g. man->woman as king->? Embedding vectors have the relationship: e_man - e_woman ~= e_king - e_queen Finding nearest neighbor (according to cosine-similarity). examples: Embedding matrix learning an embedding matrix E of shape (embed_dim, vocab_size) e.g. embed_dim=300, vocab_size=10000 notataion: o_w = one-hot encoding of a word w , dim=(10000,1) â†’ e_w = E * o_w , dim=(300,1) â†’ Learn E by random-init & gradient descent. (In practice: use lookup function instead of matrix multiplication.) II - Learning Word Embeddings: Word2vec & GloVe Learning word embeddings Some concrete algos to learn embedding matrix E. Start with complex algos and show simpler algos with good result. e.g. Neural language model, i.e. predict next word in the sequence . with fixed window size(e.g. =4), predict next word. Context=last 4 words, target=next word. â†’ Using gradient-descent to update params ( E, W, b ). Other kinds of (simpler) context/targets: context=4 words to the left & right, target=the word in the middle context=previous word, target=next word context=nearby 1 word (skip-gram model) Word2Vec Skip-grams supervised problem: context/target pairs, given context word, predict target word (|v| classes in total) â†’ softmax context c : randomly pick a context word target t : randomly pick a target word in +/- 4 word window. Skip-gram Model model: context c -> onehot o_c -( E )-> embedding e_c â†’ softmax â†’ prediction yhat â†’ target word y loss = cross-entropy(y, yhat) / log-loss(y, yhat) how to sample context c uniform sampling for c : frequent words might dominant the training set. â†’ heuristics to sample less common words via P(c) .p problem with skip-gram model slow speed : to compute p(t|c) with softmax â†’ involves summing up all 10000(vocab_size) logits in denominator of sotmax: method 1: using hierachical softmax: split all vocabs into buckets/binary trees â€” log(|v|) instea of O(|v|) method 2: negative sampling , modify training objective Negative Sampling To simplify the computation of softmax denominator: a different learning problem. new learning problem given a pair of word â†’ predict if this pair is a context/target pair . â€” binary classification instead of |v| classes. positive examples: sampled as before (sample context word c , then sample target word t in word window) negative examples: sample context word c , then pick rand word t from dictionary . Sample k=5~20 negative examples for each context word c . Model: logistic regression For context word c, there are |v|=10000 potential binary classification problems to train â†’ and we train only (k+1) of them . negative sampling : trun 10000-way softmax problem into 10000 binary classification problems, and each iteration only train k+1 of them. How to sampling negative examples sample according to empirical word frequence P(w) ~= tf(w) â†’ might have a lot stop words sampled sample uniformly: P(w) = 1/|v| empirical best-choice: P(w) = tf(w)&#94;0.75 / sum(tf(w')&#94;0.75) GloVe word vectors GloVe(Global Vectors for word representation): even simpler than negative sampling. previously: sampling skip-grams, i.e. pairs of words ( c , t ) glove: Count appearance of co-occurrence, X_ij = #(i in the context of j) . GloVe Model Trying to approximate theta_i*e_j to -logX_ij , by solving theta_i and e_j . add weighting term f(X_ij) = 0 if X_ij=0 , (0*log0 = 0), and f gives more weight to less frequent words theta_i and e_i are symmetric in optimization â‡’ final embedding e_i = (e_i+theta_i)/2 Featurization view of word embeddings Learning embeddings are not guaranteed to align with featurized components in each axis. III-Applications using Word Embeddings Sentiment Classification mapping a piece of text into a rating simple model sum/average all word embedding vectors as feature vector â†’ pass to softmax clf. pb: ignoring all word order RNN model take embedding vectors â†’ sequence embedding matrix â†’ feed to RNN â†’ using last step output and feed to softmax. Debiasing word embeddings Eliminate biases in word embeddings, e.g. gender bias, due to biases in training text. Dentify bias direction: e.g. gender bias take differences of vectors: e.g. e_he - e_she , e_male - e_female â†’ find bias and non-bias directions Neutralization: project embeddings (of non-definitional words ) to non-bias directions Equalize pairs: for definitional words(e.g. grandmother/grandfather, boy/girl), let them be equally-distant to axis â†’ How to find defnitional words: train a classifier.","tags":"notes","title":"[Sequential Models] week2. Natural Language Processing & Word Embeddings"},{"url":"https://x-wei.github.io/notes/Ng_DLMooc_c5wk1.html","text":"week1 Created Friday 02 February 2018 Why sequence models examples of seq data ( either input or output ): speech recognition music generation sentiment classification DNA seq analysis Machine translation video activity recognition name entity recognition ( NER ) â†’ in this course: learn models applicable to these different settings. Notation motivating example: NER (Each word: whether the word is part of a person's name.) x&#94;<t> / y&#94;<t> : t-th element in input/output sequence. X&#94;(i) : i-th training example T_x&#94;(i) : length of i-th training example sequence how to repr each words in a sentences (x ) vocabulary : list of ~10k possible tokens (+\" \" for unknown words) one-hot repr for each word Recurrent Neural Network Model why not a standard NN input/output are of different length (padding might not be a good representation) doesn't share features learned across different positions in text â†’ using a better representation helps to reduce number of parameters. RNN motivation example: output length = input length for each input x<t> , â†’ feed to RNN â†’ compute activation (hidden state) a<t> , and output y<t> , y<t>=f(a<t>) , a<t>=f(x<t>, a<t-1>) , i.e. a depends on previous state and current input. parameters W_ax / W_aa / W_ya are shared across all time steps. â‡’ y<t> depends on x<1>...x<t> , limit: only depend on previous words (\"unidirectional\"). Unrolled diagram: Or drawing a recurrent loop (harder to understand than unrolled version): RNN Forward prop formula to calculate a<t> and y<t> : a = g(W_aa * a + W_ax * x + b_a) y = g(W_ya * a + b_y) Simplified annotation: stack a<t-1> and x<t> , W_a = [W_aa, W_ax] Backpropagation through time Parameters: W_y and W_a loss function: log loss at each timestep (assume predictions y are binary) â†’ backporp through the computation graph: Different types of RNNs many-to-many : T_x = T_y, one prediction per timestep. T_x != T_y, e.g. machine translation having a encoder and a decoder : many-to-one : e.g. sentence classification one-to-many : e.g. music generation Language model and sequence generation Language model motivation example: speech recognition, \"The apple and the pear salad\" VS \"The apple and the pair salad\" language model: give probability of a sentence P(sentence). Building language model with RNN Training set: large corpus of text. tokenize vocabulary size unknow word \" \". RNN for seq generation output y<t> : softmax of probability for each word . y<t+1> : make prediction given the correct previous word like this predict one word at a time. Loss function: cross entropy ( actual word VS probability of this word ) at each timestep. Sampling novel sequences Get a sense of what's learned: sample nouvel seqs. From training, the RNN has a distribution of sequences P(y<t> | y<1...t-1>) . In sample: let the model generate sequences ( np.random.choice ): feed previously gen word as input to next step include token in vocab to finish reject tokens char-level language model pro: no token con: much longer sequences, more expensive to train. Vanishing gradients with RNNs long-range dependencies are hard to capture: e.g. \" the cat ........ was full \" VS \" the cats ...... were full \" this is due to vanishing gradients: For exploding gradients: apply gradient clipping (restrict gradient norm). Gated Recurrent Unit (GRU) Modification of RNN to capture long range dependencies. Visualization of a RNN unit: (simplified) GRU Extra memory cell : c<t>=a<t> , (replaces output activation). Candidate value of c : c_tilde<t>=tanh(Wc * [c<t-1>, x<t>] + b_c) Gate (between 0 and 1, conceptually consider it as binary) : Gamme_u = sigmoid(W_u * [c<t-1>, x<t>] + b_u) subscript \" u \" stands for \" update \", i.e. whether we want to update current memory cell Actual value of c<t> = Gamme_u * c_tilde<t> + (1-Gamma_u) * c<t-1> ( * is element-wise multiplication) i.e. c<t> can be conserved for long range before being updated Visualization of GRU unit (maybe equations are more understandable...): full GRU for candidate c_tilde<t> , add one more gate Gamme_r : controlling how much c<t-1> contributes to c_tilde<t> (\" r \" for \" relevance \", i.e. how relevant c<t-1> is for c_tilde<t> ) Long Short Term Memory (LSTM) More powerful and general version of GRU. output a<t> no longer equals to memory cell c<t> (but a gated version of it, see below) candidate c_tilde<t> depends on a<t-1> instead of c<t-1> two update gates : Gamma_u ( update gate ) and Gamma_f ( forget gate ) output gate : Gamma_o value of c<t> = Gamma_u * c_tilde<t> + Gamma_f * c<t-1> value of a<t> = Gamma_o * c<t> Visualization: Intuition: c can be kept for long time if gates are set properly. Variant: let the gates depend on c as well (\" peephole connection \") GRU vs LSTM LSTM is proposed earlier GRU as a simplified version of LSTM GRU easier to train larger NN (2 gates instead of 3) LSTM more powerful, recommended default choice to try Bidirectional RNN Getting information from the future. motivation example: Bidirectional RNN (BRNN) forward and backword recurrent components computation graph is still acyclic at t, both information from the past and the future are passed in BRNN with LSTM blocks are typically the first thing to try in NLP problems Deep RNNs Complex NN: stack multiple RNNs (having 3 RNN layers is already a lot).0 notation: a[l]<t> for activation in layer l and time t .","tags":"notes","title":"[Sequential Models] week1. Recurrent Neural Networks"},{"url":"https://x-wei.github.io/notes/Ng_DLMooc_c4wk4.html","text":"This week: two special application of ConvNet. I-Face Recognition What is face recognition Face verification & face recognition verification: input = image and ID â†’ output whether the image and ID are the same. recognition: database = K persons, input = image â†’ output = ID of the image among the K person or \"not recognized\". â†’ the verification system's precision needs to be very high in order to be used in face recognition. One Shot Learning \"one shot\": learn from just one example, and able to recognize the person again. A CNN+softmax is not practical, e.g. when new images are added to database, output_dim will change... â‡’ instead, learn a similarity function. d(img1, img2) = degree of difference between images. + threshold tau Siamese Network To learn a disimilarity function: Siamese Network . Use CNN+FC to encode a pic x into vector f(x) . â‡’ define disimilarity function d(x1, x2) as distance between encoded vectors. More formally: want to learn NN params for the encoding f(x) such that: when x1 and x2 are same person, dist(f(x1), f(x2)) is small, otherwise large. Triplet Loss triplet: ( anchor, positive, negative) . want f(A) similar to f(P) and different from f(N): i.e. want d(A, P) - d(A, N) <= 0 â‡’ to avoid NN from learning a trival output (i.e. all encodings are identical, d(A, P)=d(A, N)=0), add margin alpha . want d(A, P) - d(A, N) + alpha<= 0 Loss function definition : similar to hinge loss: L = max(0, d(A,P)-d(A,N) + alpha) â†’ Generate triplets from dataset, and feed to the NN. note: here we do need >1 pics of the same person (Anchor and Positive). Choosing triplets A, P, N If A,P,N are randomly chosen, the constraint is easily satisfied â†’ NN won't learn much. â†’ choose A,P,N that are \"hard\" to train on. Computation efficiency of learning is improved. ( details presented in the FaceNet paper ) in practice: better download pretrained model. Face Verification and Binary Classification Triplet loss is one way of doing face verification. another way that works as well: treat as a binary classification problem. Given input image x1 and x2 â†’ feed f(x1) and f(x2) to a logistic regression unit. â†’ feed the difference in encodings and feed to logistic regression. computation trick: precompute encodings of imgs in database at inference time. II-Neural Style Transfer What is neural style transfer? content image C + style image S â†’ generated image G What are deep ConvNets learning? visualize hidden units of different layers Pick one unit in 1st layer â†’ find the nine image patches that maximize the unit's activation . In deeper layers: units can see larger image patches â†’ gather nine argmax image patchs as before. deeper layers can detect higher level shapes: layer 3: layer 4: Cost Function Define a cost function for the generated image . J(G) measure how good is an image, contains two parts: J_content(C, G) : how similar is G to C J_style(S, G) : how similar is G to S. Find generated image G (similar to embedding?) initialize G randomly Use gradient-descent to minimized J(G) Content Cost Function J_content(C, G) Given a pre-trained CNN , use hidden layer l to compute J_content. The depth of l controls the level of details focuses on. Define J_content(C, G) = difference (e.g. L2-norm) between the activation of layer l of image C and image G. Style Cost Function Use layer l to measure \"style\". â†’ style defined as correlation between activations across channels . e.g. n_C=5 channels of slices n_W * n_H . correlation between 2 channel ~= which high-level features tend to occur / not occur together in an image. style matrix notation: a_ijk = (scalar)activation at hight= i , width= j , channel= k \"Style matrix) G[l] , (G for \"Gram matrix\") shape = n_C * n_C , measures how correlated any two channels are. (i.e. G[l] measures the degree to which the activations of different feature detectors in layer l vary (or correlate) together with each other.) G_kk ' = correlation between kth and k'th channel. := sum_over_i_j( a_ijk * a_ijk') mathematically, this \"correlation\" is unnormalized cross-covariance (without substracting the mean). Compute G for both the style image and generated image. â†’ J_style(Gen_img, Sty_img) = difference (Frobenius norm) between G(gen) and G(sty) In practice, take J_style for multiple layers: 1D and 3D Generalizations images: 2D data. â†’ generalize convolution to 1D and 3D data. 1D data e.g. EKG data (heart voltage). (note: most 1D data use RNN...) 3D data have height width and depth, e.g. C.T. data; movie date (frame by frame) â†’ generalized from 2D","tags":"notes","title":"[Convolutional Neural Networks] week4. Special applications: Face recognition & Neural style transfer"},{"url":"https://x-wei.github.io/notes/Ng_DLMooc_c4wk3.html","text":"Object Localization Classification VS. Localization VS. Detection classification with localization Apart from softmax output (for classification), add 4 more outputs of bounding box : b_x, b_y, b_h, b_w . Defining target label y in localization label format: P_c indicating if there's any object bounding box: b_x, b_y, b_h, b_w class proba: c_1, c_2, c_3 Loss function: squared error if y_1=P_c=1: loss = square error (y, y_hat) if y_1=P_c=0: loss = (y_1 - y_1_hat)&#94;2 can use different loss function for different components, but sq-loss works in practice. Landmark Detection \"landmark\": important points in image. â†’ let NN output their coords. e.g. recognize coord of eye's corner or points along the eye/nose/mouth â†’ specify a number of landmarks Object Detection sliding windows detection example: car detection. training image: closely-croped image in prediciton: use sliding window and pass to ConvNet; use window of different size. Sliding window is OK with pre-DL algos. disadvantage: computation cost too high â€” each window's crop ran independently through ConvNet. â†’ sliding window also can be implemented \"convolutionally\" â€” some computation can be cached. Convolutional Implementation of Sliding Windows Turning FC layer into conv layers example: last conv/maxpool layer: size=5 5 â†’ replace FC(output_dim=400) by 400 5 5 filters â†’ replace next FC layer by 1 1 filters â†’ replace softmax layer by 1 1 filters and activation. conv implementation of sliding window example: training image 14 14 3, testing image 16 16 3 instead of corping image to 14 14 and feed to ConvNet, feed the larger picture directly to ConvNet*. â†’ output contains results of all patches ! â‡’ instead of computing each sliding window sequentially, can get all results with a single pass of the full image!! problem: bounding box position is not accurate. Bounding Box Predictions To output more accurate bounding boxes: aspect-ration no longer 1:1. YOLO algorithm \"You Only Look Once\" For each grid cell: apply image classification with bouding boxes (described in 1st section, 8 outputs). needs labelled data: assign each obj to the grid where its center is in. output volume: 3 3 8 Also: a lot of computation shared, efficient â‡’ possible to do real-time. note: bounding box annotation in YOLO can be out of [0,1] range. Intersection Over Union Evaluating object localization: â†’ intersection over union (IoU) function = size(intesection) / size(union) = measure of overlap of two bounding boxes. \"correct\" if IoU >= 0.5 Non-max Suppression Problem: algo might detect the same obj multiple times. example: each bouding box has a confidence score â€” keep the max bouding box, suppress the overlapping ones. Anchor Boxes Problem: each grid detects only one obj â†’ can a grid detect multiple obj ? â†’ use anchor boxes. In data labeling: predefine 2 shapes (anchor boxes); use 8 sets of 8 outputs for each anchor box. Compare with previous: previous: each obj assigned to the grid which contains its mid point now each obj assigned to (cell, anchorbox): cell=the grid which contains its mid point; anchor_box= the anchorbox that has highest IoU with the labelled bounding box . In practice: choose 5~10 anchor boxes by hand; or use Kmeans on object's shapes. YOLO Algorithm Put all components together. example: detecting pedestrian/car/motercycle. (4 classes) grid: 3*3 2 anchor boxes â†’ Preparing training set y shape = 3*3*2*8 train a ConvNet on this with output_dim = 3 3 16 â†’ making predictions 2*8 outputs for each of the 9 grids â†’ nonmax supression for each class (Optional) Region Proposals Region proposal algo (R-CNN): less often than YOLO. Sliding window disadvantage: many regions are not interesting. â‡’ select just a few windows first run segmentation algo, then run CNN on bounding box of blobs. â†’ still quite slow faster variants:","tags":"notes","title":"[Convolutional Neural Networks] week3. Object detection"},{"url":"https://x-wei.github.io/notes/Ng_DLMooc_c4wk2.html","text":"I-Case studies Why look at case studies? Good way to get intuition of different component of CNN: case study & reading paper. Outline classic networks: LeNet-5 AlexNet VGG ResNet (152-layer NN) Inception Classic Networks LeNet-5 (1998) Goal: recognize hand-written digits. image â†’ 2 CONV-MEANPOOL layers, all CONV are valid (without padding) â†’ 2 FC â†’ softmax takeaway (patterns still used today): as go deeper, n_H, n_W goes down, n_C goes up conv-pool repeated some times, then FC-FC-output sidenote: used sigmoid/tanh as activation, instead of ReLU. has non-linearity after pooling orignial paper hard to read AlexNet Same pattern: conv-maxpool layers â†’ FC layers â†’ softmax but much more params. sidenote: use ReLU as activation multi-GPU training \"local response normalization\" (LRN): normalize across all channels (not widely used today). a lot hparams to pick VGG-16 Much less hparams: All CONV: 3 3,s=1,padding=same, MAXPOOL: 2 2,s=2 â†’ e.g. \"(CONV 64) * 2\" meaning 2 conv layers (3*3,s=1,padding=same) of 64 channels. note: pretty large even by modern standard: 138M params simplicity in architecture: POOL reduce n_H/n_W by 2 each time; CONV n_C=64->128->256->512 (increase by 2), very systematic. ResNets Very deep NN are hard to train â†’ ResNet: skip connections , to be able to train ~100 layers NN. Residual block Normal NN: from a[l] to a[l+2], two linear & ReLU operations. \"main path\" . ResNet: a[l] taks shortcut and goes directly to a[l+2]'s non-linearity . \" shortcut \" / \" skip connection \". Using residual block allows training very deep NN: stack them to get ResNet (i.e. add shortcuts to \"plain\" NN). Problem of training plain NN: training error goes up (in practice) when having deeper NN . Because deeper NN are harder to train (vanishing/exploding gradients, etc.) With ResNet: training error goes down even with deeper layers. Why ResNets Work a [ l+2 ] = g ( z [ l+2 ] + a [ l ] ) = g ( w [ l+1 ] * a [ l+1 ] + b [ l+1 ] + a [ l ] ) â†’ note: when applying weight decay, w can be small (w~=0, b~=0) â‡’ a[l+2] ~= g(a[l]) = a[l] (assume g=ReLU) â‡’ it's easy to get a[l+2]=a[l], i.e. identity function from a[l] to a[l+2] is easily learned â†’ whereas in plain NN, it's difficult to learn an identity function between layers, thus more layers make result worse â†’ adding 2 layers doesn't hurt the network to learn a shallower NN's function, i.e. performance is not hurt when increasing #layers. â†’ when necessary can do even better than learning identity function Side note: z[l+2] and a[l] have the same dimension (so that they can be added in g) â†’ i.e. many \"same\" padding are used to preserve dimension. If their dimensions are not matched (e.g. for pooling layers) â†’ add extra w_s to be applied on a[l] . Networks in Networks and 1x1 Convolutions Using 1*1 conv: for one single channel, just multiply the input image(slice) by a constant... But for >1 channels: each output number is inner prod of input channel \"slice\" and conv filter. 1 1 conv: ~= fully-connected layer applied to each of n_H n_W slices, adds non-linearity to NN. â†’ 1 1 conv also called \" network in network*\" example: To shrink #channels via 1*1 conv. Inception Network Motivation Instead of choosing filter size, do them all in parallel. note: use SAME padding & stride=1 to have the same n_H, n_W Problem: computation cost. example: input shape = 28 28 192, filter 5 5 192, 32 filters, output shape = 28 28 32 totoal #multiplication = 28 * 28 * 32 * 5 * 5 * 192 = 120M â†’ reduce #computation with 1*1 conv Reduce n_C of input by 1 1 conv (\"bottleneck-layer\") before doing the 5 5 conv. computation = 1 1 192 * 28 28 16 + 5 5 16 * 28 28 32 = 12.4M Does bottleneck layer hurt model performance ? â†’ no. Inception Network Inception module : For max pooling layer, out n_C equals input n_C â†’ use a 1 1 conv to shrink n_C*. Inception network: Putting inception modules together. Have side branches : taking hidden layer and feed to FC for output. â€” ensure features from hidden units at intermediate layers are not too bad for prediction â€” kind of regularization The name \"inception\" come from: a meme... II-Practical advice for using ConvNets Advices on how to use these classical CNN models. Using Open-Source Implementation Difficult to replicate the work just from paper: a lot of details&hparams â†’ use open-sourced version. Transfer Learning Download weights of other's NN as pretrained params. â†’ pretrained params are trained on huge datasets, and takes weeks to train on multiple GPUs. example: cat detector 3 class: tigger/misty/neither training set at hand is small â†’ download both code and weights online e.g. ImageNet NN â†’ change last layer's softmax â†’ all Conv/Pool layers set frozen (not trainable) â†’ only training softmax layer's weight with training set. OR: Precompute the hidden layer (fixed function mapping from x to feature vector) and save to disk. â†’ train a shallow model on top. â†’ save computation. If have a large training set at hand â‡’ freeze a few layers and train the rest. If have a huge dataset: train the whole NN. Data Augmentation More data are alway welcome. Common augmentation method : Mirroring Randome cropping Rotation/Shearing/Local warping: used a bit less in practice Color shifting In practice: shifts drawn from some random distribution. e.g. PCA-color-augmentation (details in AlexNet paper): ~keep overall color the same. Implementaing distortions during training If data is huge â†’ CPU thread to get stream of images â†’ add distortion for each image â†’ form minibatch of data â†’ pass to training. State of Computer Vision Observations for DL for CV. Data VS. hand-engineering As more data are available â†’ simpler algo, less hand-engineering. Learing algo has 2 sources of knowledge: labeled data hand engineered features / network architecture / specialized components Transfer learning can help when dataset is small. Tips for doing well on benchmarks/winning competitions Ensembling: Train several(3~15) NN independently, then average their outputs . Multi-crop at test time Predict on multiple versions of test images and average results. e.g. 10-crop at test time","tags":"notes","title":"[Convolutional Neural Networks] week2. Deep convolutional models: case studies"},{"url":"https://x-wei.github.io/notes/Ng_DLMooc_c4wk1.html","text":"Computer Vision CV with DL: rapid progress in past two years. CV problems: image classification object detection: bounding box of objects neural style transfer input features could be very high dimension: e.g. 1000x1000 image â†’ 3 million dim input â‡’ if 1st layer has 1000 hidden units â†’ 3 billion params for first layer... foundamental operation: convolution. Edge Detection Example Motivating example for convolution operation: detecting vertical edges. Convolve image with a filter(kernel) matrix: Each element in resulting matrix: sum(element-wise multiplication of filter and input image). Why the filter can detect vertical edge? More Edge Detection Positive V.S. negative edges : dark to light V.S. light to dark Instead of picking filter by hand, the actual parameters can be learned by ML. Next: discuss some building blocks of CNN, padding/striding/pooling... Padding Earlier: image shrinks after convolution. Input n*n image, convolve with f*f filter â‡’ output shape = (n-f+1) * (n-f+1) downside: image shrinks on every step (if 100 layer â†’ shrinks to very small images) pixels at corner are less used in the output â‡’ pad the image so that output shape is invariant. if p = padding amount (width of padded border) â†’ output shape = (n+2p-f+1) * (n+2p-f+1) Terminology: valid and same convolutions: valid convolution: no padding, output shape = (n-f+1) * (n-f+1) same convolution: output size equals input size. i.e. filter width p = (f-1) / 2 (only works when f is odd â€” this is also a convention in CV, partially because this way there'll be a central filter) Strided Convolutions Example stride = 2 in convolution: (convention: stop moving if filter goes out of image border.) if input image n*n , filter size f*f , padding = f , stride = s â‡’ output shape = (floor((n+2p-f)/s) + 1) * (floor((n+2p-f)/s) + 1) Note on cross-correlation v.s. convolution In math books, \"convolution\" involves flip filter in both direction before doing \"convolution\" operation. The operation discribed before is called \"cross-correlation\". (Why doing the flipping in math: to ensure assosative law for convolution â€” (A B) C=A (B C).) Convolutions Over Volume example: convolutions on RGB image image size = 6 6 3 = height * width * #channels filter size = 3 3 3, (convention: filter's #channels matches the image ) output size = 4 4 ( 1) â€” output is 2D for each filter . Multiple filters: take >1 filters stack outputs together to form an output volume . Summary of dimensions : input shape = n*n*n_c filter shape = f*f*n_c filters = n_c ' â‡’ output shape = (n-f+1) * (n-f+1) * n_c ' One Layer of a Convolutional Network For each filter's output: add bias b, then apply nonlinear activation function. One layer of a CNN: with analogy to normall NN: linear operation (matrix mul V.S. convolution) bias nonlinear activation difference: Number of parameters doesn't depend on input dimension : even for very large images. Notation summary: note: ordering of dimensions: example index, height, width, #channel. Simple Convolutional Network Example general trend: as going to later layers, image size shrinks, #channels increases . Pooling Layers Pooling layers makes CNN more robust. Max pooling divide input into regions, take max of each region. Hyperparams: (common choice) filter size f=2 or 3, strid size s=2, padding p=0. note: no params to learn for max pooling layer, pooling layer not counted in #layers (conv-pool as a single layer) Intuition: a large number indicats a detected feature in that region â†’ preseved after pooling. Formula of dimension floor((n+2p-f+1)/s + 1) holds for POOL layer as well. Output of max pooling: the same #channels as input (i.e. do maxpooling on each channel). Average pooling Less often used than max pooling. Typical usecase: collapse 7 7 1000 activation into 1 1 1000. CNN Example LeNet-5 Why Convolutions? 2 main advantages of CONV over FC: param sharing; sparsity of connections. Parameter sharing : A feature detector useful in one part of img is probably useful in another part as well. â†’ no need to learn separate feature detectors in different parts. Sparsity of connections : For each output value depends only on a small number of inputs (the pixels near that position) Invarance to translation...","tags":"notes","title":"[Convolutional Neural Networks] week1. Foundations of Convolutional Neural Networks"},{"url":"https://x-wei.github.io/notes/Ng_DLMooc_c3wk2.html","text":"I-Error Analysis Carrying out error analysis \" Error analysis \": manually examine the mistakes â†’ get insight of what's next. \" ceiling on performance \" example: cat classification, found some false-positives of dog pictures. â†’ should you try to make ML system better on dog or not ? â†’ error analysis: get ~100 false positive examples count how many are dogs â†’ if only 5% of errors are dogs â†’ performance can improve by <=5% even if totaly solved dog problem. â†’ if 50% are dos â†’ might need to improve on dogs. example2 (evaluate multiple ideas in parallel): Pick one idea to iterate on: use a spreadsheet Cleaning up incorrectly labeled data What to do if there are incorrect labels in data ? In training set: DL algos are quite robust to random errors in training set. â†’ if incorrect labels is close to random errors (percentage not too high), it's OK to train. caveat: Robust to random errors, not systematic errors. E.g. all white dogs are labeled as cats. In dev/test set: In error analysis, count cases of incorrect labels. If #incorrect labels makes a significent different for evaluating, then fix it. example: Remember: goal of dev set is to help selecting between two models. Correcting labels in dev/test sets: apply the same process to test set â€” dev/test sets have the same distribution. consider both false positive and false negatives. â†’ to make estimate of performance unbiased. (might take longer time) less important to correct training set: training set can come from slight different distribution, but important dev/test come from the same distribution. Build your first system quickly, then iterate example: speech recognition many directions to go â†’ which direction to pick ? Build system quickly and iterate. set up dev/test set, set metric build intitial system quickly : build something quick & dirty that works. Bias/Variance analysis & Error analysis â†’ prioritize next steps II-Mistmatched training and dev/test set Training and testing on different distributions When distribution of train and dev/test sets are different. example: cat app Two sources: webpages (high resolution, a lot of data) user uploaded (blury, relatively small amount). option1 . put both data together, randomly shuffle & split train/dev/test advantage : train/dev/test come from distribution disadvantage : many examples in dev/test set come from webpages â€” but cares more about performance on user-uploaded examples â†’ not recommended, target is not really what we care about option2 . training set mostly from web, for dev/test all from user-uploaded. advantage : Err_dev/Err_test really reflects what the target is. example2: speech recognition (speech activated rearview mirror) training data: many data coming from different sources of speech recognition. dev/test: small amount, coming from speech activated rearview mirror. takeaway: use large training set, even if distribution is different from dev/test set dev/test data should reflect what to expect from the system. Bias and Variance with mismatched data distributions B&V analysis changes when training set distribution is different from dev/test set. When distr(train)!=distr(dev/test): No longer can say system has large variance problem when seeing Err_train < Err_dev . (Poor performance on dev set may not come from overfitting, but may also from change of distrubtion in data). â‡’ introduce training-dev set : same distrubution as training set, but not used in training . Now can look at Err_traindev and see if model has variance/bias problem or data-mismatch problem: General principles : (also possible to have Err_dev/Err_test < Err_train/Err_traindev, because of data mismatch) More general formulation (example: rearview mirror): include Err_human on dev/test data . Addressing data mismatch How to address data-mismatch problem? â†’ no systematic solution. manual error analysis: understand difference between train and dev sets. e.g. noise in car make training data more similar / collect more data similar to dev/test set. e.g. simulate noisy in-car data ( artificial data synthesis ) Artificial data synthesis caution: avoid synthesise only a small part of all possible examples. car noise example: car recognition example: synthesis car pictures from a video game problem: if there're only 20 different cars in video cars â†’ overfit III-Learning from multiple tasks Transfer learning Learned knowledge from one task applied to a second task. reason: some low-level features can be shared for different tasks. example 1. cat classifier applied to X-ray scans diagnosis. change last output layer of original model , initial w[L]/b[L] of last layer and retrain the params. if dataset small: only retrain last layer params ( pre-training ) else: retrain all params ( fine-tuning ) example 2. speech recognition transfer to trigger word detection also possilbe to create more layers to NN When to use transfer learning: task A ans B have the same input a lot of data for task A, relatively small amount of data for task B low level feature of task A could be helpful for task B Multi-task learning transfer learning: task A and B are sequential multi-task learning: in parallel example: self-driving car multiple kind of objects to detect multi-label problem ( each example can have multiple labels ): â†’ output layer should no longer be softmax Training on NN for 4 tasks instead of 4 separate NNs: early-layer features can be shared. With missing entries are in labels: â‡’ in loss function, sum only on labeled entries. When to use multi-task learning : lower-level features can be shared similar amount of data for each task â€” data for other tasks could help learning of main task can train a big enough NN to do well on all tasks. in practice: multi-task learning is much less common than transfer learning. IV-End-to-end deep learning What is end-to-end deep learning? E2E: omit multiple stages in pipeline by a single NN. example: speech recognition. note : E2E can work well only when have really large dataset . example2: face recognition from camera. 2-stage works better than E2E: image â†’ face detection â†’ face recognition. reason: a lot of data for each of the 2 tasks, but much less data for E2E. exapmle3: machine translation. E2E works well because of large amount of training data. example4: estimating child's age from X-ray img. separate stages works better. Whether to use end-to-end deep learning Pros and cons of E2E learning. Pros : let the data speak, avoid intermediate values (e.g. phonemes in speech recognition) less hand-designing of components needed Cons : Need large amount of data (X, Y) Excludes potentially useful hand-designed components Key question for applying E2E learning: sufficient data available to learn a function of the complexity needed to map from x to y? example: self-driving cars in practice: multi-stage system","tags":"notes","title":"[Structuring Machine Learning Projects] week2. ML Strategy (2)"},{"url":"https://x-wei.github.io/notes/Ng_DLMooc_c3wk1.html","text":"I-Introduction to ML Strategy Why ML Strategy A lot of ideas of improving ML performance: strategy on how to choose . â†’ how to figure out which ones to pursue and which ones to discard ? Orthogonalization How to tune hyperparams & what to expect. TV tuning example: each knob does only one thing. Chain of assumptions in ML : training set performance â†’ dev set â†’ test set â†’ real world \"one knob for each chain\" Will go through these \"knobs\" in this course. Don't use early stopping: this is not orthogonalized enough II-Setting up your goal Single number evaluation metric Faster progress if only have one single real number evaluation metric . â†’ more efficient in making decisions. example: Using both percision and recall as metric is not good â†’ difficule to pick the best model to keep on iterating from. â†’ Use F1 score instead. Satisficing and Optimizing metric When it's difficult to pick a single real number eval metric â†’ set up satisficing and optimizing metrics. example: accuracy & running time trade-off Instead of doing a linear combination of the two, use this: maximize accuracy subject to running time <= 100 ms In this case: accuracy is optimizing metric , running time is satisficing metric . In general: if having N metrics â†’ pick 1 as optimizing metric, the N-1 rest as satisficing metric . example: assistant wake-up word accuracy VS false positive. Train-dev-test distributions How to setup dev/test sets. Idea: dev/test sets come from the same distribution. example: cat classification in different regions. This is bad dev/test setup: Good practice: random shuffle data and split into dev/test sets. Size of the dev and test sets Pre-DL era, old way of splitting data: 70/30 or 60/30/10 split. â†’ resonable when datasets are small. (100~10k examples) In DL era: much more training (~1M) examples. â‡’ 98/1/1 split is more resonable. Size of test/dev set : big enough to give high confidence in system's performance . OK to not have a test set, but not recommended. When to change dev/test sets and metrics example 1 cat classification: algo A has pornographic false positives. â†’ change metric to penalize heavily pornographic FPs. to implement this weighting, need to go through dev/test sets. example 2 Cat classification: user's upload is blury while trained on high quality images. III-Comparing to human-level performance Why human-level performance? Workflow ML can be more efficient when trying to match human level performance. Bayes optional error: best possible error, theoritical optimal . ML progress usually slows down after surpassing human-level performance: usually human-level is not far from Bayes optimal as long as ML performace < human, there are tools to improve performance. Avoidable bias Using human rating can prevent overfitting on training set. exapmle: compare training set error with human performance. err_train > err_human â‡’ focus on reducing bias (e.g. bigger NN) err_train ~= err_human â‡’ focus on reducing variance (e.g. regularize, more training data) â†’ Use human-level error as a proxy for Bayes error. Terminology: Avoidable bias is the gap between training err and Bayes err. (interpretataion: some errors are inavoidable because Bayes err is not 0 .) Variance : gap between training err and dev err. Understanding human-level performance \" Human level error as proxy for Bayes error \" example: Medical image classification. â‡’ Should pick lowest human error as an estimate (upper bound) of Bayes error. Error analysis example (which human-err to pick to estimate avoidable bias): Surpassing human-level performance What's the avoidable bias when err_train and err_dev are smaller than err_human ? â†’ less clear in choosing directions. examples of tasks where ML >> human performance: â‡’ all these tasks are: learned from structured data are not natural perception tasks have processed huge amount of data Improving your model performance Recall: two fundamental assumptions of supervised learning: You can fit training set well (achieve to ~= avoidable bias) The performance on training set generalize well to dev/test sets. (achieve low variance) The big roadmap:","tags":"notes","title":"[Structuring Machine Learning Projects] week1. ML Strategy (1)"},{"url":"https://x-wei.github.io/notes/Ng_DLMooc_c2wk2.html","text":"This week: optimization algos to faster train NN, on large dataset. Mini-batch gradient descent batch v.s. mini-batch GD Compute J on m examples: vectorization, i.e. stacking x(i) y(i) horizontally. X = [x(1), ..., x(m)] Y = [y(1), ..., y(m)] â†’ still slow or impossible with large m . â‡’ split all m examples into mini-batches . X&#94;t&#94;, Y&#94;t&#94; e.g. mini batch size = 1000. Minibatch GD: each step, run one iteration of GD using X{t}, Y{t} instead of doing with full X, Y. one \" epoch \": one pass through all training set Understanding mini-batch gradient descent with batch-GD: each iteration will decrease cost function. in mini-batch: cost J&#94;t&#94; is computed on different dataset â€” noisy. How to choose minibatch size extreme 1: minibatch size = m â†’ batch GD coverge fastest in each iter ( but too long time or impossible per iter ) extreme 2: minibatch size = 1 â†’ stochastic GD noisy, never coverge, ( but loose all vectorization speedup) Guidelines on choosing batch size : small training set (m<2000) â†’ just batch size otherwise: typical minibatch size = 64/128/256/512 (make sure minibatch size fits in CPU/GPU memory) Exponentially weighted (moveing) averages In fact, exp-weighted-avg is an non-parametric estimator/smoother of a series of vlaues. example: Temperature over the year â†’ use a exp-weighted moving average to model this: theta[t] = temperature at day t, t = 1,2,3,... v[t] = averaged(smoothed) estimate of theta, t = 0 ,1,2,3,... exp-weighted average : recursivly compute v[t]. v[0] = 0, v[t] = 0.9 * v[t-1] + 0.1 * theta[t] (param: beta = 0.9) â‡’ v[t] ~= average of theta[t] over the last 1/(1-beta) days . (c.f. next section) Understanding exponentially weighted averages Understanding the math of exp-weighted-average: â†’ unroll the recursive formula: â‡” v[100] = a convolution of theta[t-100:t] and a exp-decaying function: A small trick on estimating exps : That's why in previous section, we say this formula ~= averaging over last 1/(1-beta) (=1/epslon) days' theta. e.g. theta[t-10]'s weight is 0.9 &#94; 10 ~= 1/e ~= 0.35, i.e. after 10 days, the weight of theta[t-10] is decayed to ~< 1/3. Advantage to just computing moving window averages: in implementation, only keep updating a single variable v_theta â€” very small memory usage. Bias correction in exponentially weighted averages To make exp-weighted averages more accurate by bias correction. Problem with previous implementation in initial phase: v[0] = 0, beta = 0.98 v[1] = 0.98 0 + 0.02 * theta[1] â‡’ v[t] starts lower than theta. *(purple curve VS green curve) â‡’ Correction : take v[t] / (1 - beta&#94;t) instead of v[t]. In practice: most people don't bother to implement bias correction â€” just wait for the initial phase to warm up... Gradient descent with momentum GD with momentum: almost always faster than normal GD in short: compute exp-weighted-avg of the gradients as gradient to use example: if contour of loss is an ellipse, can't use too large step in GD, and oscillate. â†’ average of steps will be faster. GD momentum : Use exp-weighted-avg of dW (V_dW) and of db (V_db). â€” smooth out oscillation steps of normal GD. update params with the averaged value V_dW, V_db. Why the name \"momentum\": rolling down a ball in a bowl dW/db: ~accelation V_dW/B_db: ~velocity at current time ( this is why the smoothing average is called 'v' ) beta: ~friction in practice: beta=0.9 works well for most cases no bias correction implemented can use beta = 0 â†’ ~V_dW is scaled by 1/(1-beta) â†’ use a scaled alpha then. â‡’ less intuitive, and couples the tuning of alpha and beta RMSprop \"Root-Mean-Square-prop\". also for speedup GD in short: S = exp-weighted-avg of gradient squared (that's why call param beta2); when updating params(W,b) , scale dW,db by sqrt of S . dW / sqrt(S_dW) example: ellipse contour, want slow rate in b directrion and fast rate in w direction. â‡’ for each step (dW, db) = gradient of current minibatch: db large , dW small â†’ update w by dW/sqrt(S_dW), â‡” larger step in W direction â†’ db/sqrt(S_db) â‡” smaller step in b direction â†’ damping out oscillations in b direction Adam optimization algorithm \"Adaptive Moment-estimation\" A combination of RMSprop and momentum. Proved to work well for a varity of problems. Algo: maintain both V_dW, V_db (hyper-param=beta1) and S_dW, S_db (hyper-param=beta2) implement bias correction: V_corrected, S_corrected â€” divid by (1-beta&#94;t) param update (W, b): V / sqrt(S) hyperparameters: alpha: learning rate, needs tuning beta1: usually 0.9 beta2: usually 0.999 epsilon: 10e-8 (not important) Learning rate decay slowly reduce learning rate. In minibatch with fixed learning rate: will never converge . â‡’ decay learning rate â†’ oscillating around a smaller region of optima. Implementation: 1 epoch = 1 pass through whole data. decay learning rate alpha after each epoch (hyper-param decay-rate ): other decay method: exponentially decay alpha: sqrt of epoch_num: discrete staircase: manual decay: when training takes long time The problem of local optima low-dimention optimas: This gives wrong intuition, in practice (high-dim), most 0-gradient points are saddle points. plateau : region where gradient close to 0 for long time. take-away: unlikely to stuck in bad local optima: D dimentional â†’ ~2&#94;(-D) of chance. plateaus can make learning slow â†’ use momentum/RMSprop/Adam to speedup training. assignment implementing mini-batch GD : shuffle data (note: X and Y's columns are sync-ed!): permutation = list(np.random.permutation(m)) shuffled_X = X[:, permutation] shuffled_Y = Y[:, permutation].reshape((1,m)) â†’ partition data: kth mini batch: mini_batch_X = shuffled_X[:, k*mini_batch_size:(k+1)*mini_batch_size] mini_batch_Y = shuffled_Y[:, k*mini_batch_size:(k+1)*mini_batch_size] detail: when m % minibatch_size != 0: handle last batch (smaller than a regular batch)","tags":"notes","title":"[Improving Deep Neural Networks] week2. Optimization algorithms"},{"url":"https://x-wei.github.io/notes/Ng_DLMooc_c2wk3.html","text":"Hyperparameter parameters Tips for hyperparam-tuning. Tuning process Many hyperparams to tune, mark importance by colors (red > yellow > purple): How to select set of values to explore ? Do NOT use grid search (grid of n * n) â€” this was OK in pre-DL era. try random values. reason: difficule to know which hyperparam is most important, by randomization, can try out n n distinct values for each hyperparam.* In extreme case, one is alpha , the other is epislon . in grid search: only n distinct values of alpha are tried in random choice: can have n*n distinct values of alpha Coarse to fine sample scheme: zoom in to smaller regions of hyperparam space and re-sample more densely. Using an appropriate scale to pick hyperparameters \"Sampling at random\", but at appropriate scale, not uniformly. example: choice of alpha in [0.001, 1] â†’ sample uniformly at log scale is more resonable: equal resources are used to search at each scale. implementation: r = -4 * np.random.rand() # -4 <= r <= 0, uniformly at randome alpha = np.exp(10, r) # 10e-4 <= alpha <= 1.0 sampling beta for exp-weighted-avg: sample in the range of [0.9, 0.999] â†’ convert to sampling 1-beta, which is in range [0.0001, 0.1] Hyperparameters tuning in practice: Pandas vs. Caviar Tricks on how to organize hyper-param-tuning process. re-test hyperparams occasionally: intuitions get stale, re-evaluate hyperparams every several months. Two major schools of training Panda approach : babysitting one model Huge dataset, limited computing resources, can only train one model â†’ babysit the model as it's training. Watch learning curve, try changing hyparams once a day. Caviar approach : train many models in parallel Have enough computation power. Different model/hyperparams being trained at the same time in parallel, pick the best one. Batch Normalization Batch normalization : (in some cases) makes NN much more robust, and DNN much easier to train. Normalizing activations in a network In pre-DL: normalize inputs to speedup learning. \"make contours round\" In NN: normalize the activation a[l-1] from previous layer could help (in practice, usually normalize z[l-1] .) BatchNorm algo : intermediate values at each layer: z[l] â†’ compute mean & variance â‡’ get normalized z[l]_normed . (mean=0, std=1) â†’ trasform z[l]_normed to z_tilde[l] (mean= beta , std= gamma , beta and gamma are learnable params ), reason: for hidden units, want to move/stretch the support of hidden inputs, so as to profit from non-linearity of activation function. Fitting Batch Norm into a neural network Add batchnorm to NN: replace z[l] to z_tilde[l] at each layer before activation g[l]. Extra params to learn: gamma[l] and beta[l] at each layer. In practice: no need to implement all details of BN, use DL framework. No bias term (b) in BN : z[l] = W[l] * a[l-1] + b[l] but z[l] will be centered anyway â†’ b[l] is not useful. â†’ b[l] is replaced by beta[l] Dimension of beta[l], gamma[l]: the same as b[l] ( = n[l] * 1). Why does Batch Norm work? intuition 1 : similar to normalizing input (\"make contours round\") intuition 2 : weights in deeper layers are more robust to changes in ealier layer weights. i.e. Robost to data distribution changing . (\" covariant shift \") motivating example: cat-classification, trained all with black cats, but applied to colored cats . For NN, consider the 3rd layer's units: input features: a[2], if cover the first 2 layers, this is a NN to map from a[2] to y_hat â‡’ but when weights w[2],b[2] are updated in GD, a[2]'s distribution is always changing . intuition : With BN, a[2] are ensured to always have the same mean/variance â†’ \"data distribution\" is unchanged â†’ later layers can learn more easily, independent of previous layer's weights' change. intuition 2 : BN as regularization each minibatch is scaled by mean/var of just that minibatch â†’ add noise to the transformation from z[l] to z_tilde[l]. â‡’ similar to dropout, add noise to each layer's activations. therefore BN have ( slight ) regularization effect (thie regularization effect gets smaller as minibatch size grows). (This is an unintended side effect.) Batch Norm at test time At training time , z[l] is standarlized over each minibatch . â‡’ But at test time needs to treat examples one at a time. â†’ estimate the value of meu/sigma2 â‡’ using exp-weighted-avg estimator across minibatchs (with beta close to 1 â†’ ~running average). at test time, just use the latest value of this exp-weighted-avg estimation as meu/sigma2. Multiclass classification Softmax Regression So far: only binary classification generalize logistic regression to >2 classes â‡’ softmax regression . C = #classes, = #units in output layer each component in y_hat is probability of one class, y_hat is normalized. softmax layer : z[L] = W[L] * a[l-1] + b[L] â€” same as before a[L] = y_hat = g(z[L]) activation function: softmax take exp(z[L]) --element-wise, and then normalize: The softmax activation function is unusual because it takes a vector instead of scalar. Softmax is generalization of logistic regression: decision boundary of a single-layer (no hidden layer) softmax is also linear : Training a softmax classifier understanding softmax \"softmax\" is in contrast to \" hardmax \": hardmax[i]= 1 if z_i=max else 0. When C = 2, softmax reduces to logistic regression. softmax(C=2) = [logistic-reg(), 1-logistic-reg] loss function recall: loss function in logistic regression L(y, y_hat) = -1 * sum( y_i * log yhat_i + (1-y_i) * log(yhat_i) ) â†’ want y_hat big when y_i=1, small when y_i=0 training label y: one-hot encoding. prediciton y_hat: probability vector loss function: if y_k=1, want to make yhat_k big â†’ max-likelihood estimation. GD with softmax fwdprop: Z[L] --(softmax)--> a[L]=y_hat â†’ L(y_hat, y) backprop: dZ[L] = y_hat - y Introduction to programming frameworks Deep learning frameworks TensorFlow motivating problem: minimize cost function J(w) = (w-5)&#94;2 import tensorflow as tf define parameter to optimize: w = tf.Variable(0, dtype=tf.float32) define cost function: cost = tf.add(tf.add(w**2), tf.multiply(-10., w)), 25) # w&#94;2 - 10w + 25 # also possible to use tf-reloaded operators: cost = w**2 - 10 * w + 25 tells tf to minimize the cost with GD optimizer: train = tf.train.GradientDescentOptimizer(0.01).minimize(cost) till now the computation graph is defined â†’ backward derivatives are auto-computed. start the training Quite idiomatic process: initialize vars â†’ create session â†’ run operations in session init = tf.global_variables_initializer() session = tf.Session() session.run(init) session.run(train) # run 1 iteration of training alternative format: with tf.Session() as session: session.run(init) session.run(train) To inspect the value of a parameter: print(session.run(w)) Run 1000 iters of GD: for i in range(1000): session.run(train) Let loss function depends on training data: define training data as placer holder . a placerholder is a variable whose value will be assigned later. x = tf.placeholder(tf.float32, [3,1]) cost = x[0][0] * w**2 + x[1][0] * w + x[2][0] feed actual data value to placerholder: use feed_dict in session.run() data = np.array([1., -10., 25.]).reshape((3,1) session.run(train, feed_dict={x: data})","tags":"notes","title":"[Improving Deep Neural Networks] week3. Hyperparameter tuning, Batch Normalization and Programming Frameworks"},{"url":"https://x-wei.github.io/notes/Ng_DLMooc_c2wk1.html","text":"Setting up your Maching Learning Application Train / Dev / Test sets Applied ML: highly iterative process. idea-code-exp loop splitting data splitting data in order to speed up the idea-code-exp loop: *training set / dev(hold-out/cross-validataion) set / test set * split ratio : with 100~10000 examples: 70/30 or 60/20/20 with ~1M examples: dev/test set can have much smaller ratio, e.g. 98/1/1 mismatched train/test distribution training and test set don't come from the same dist. rule of thumb: make sure dev and test set come from the same distribution. might be OK to only have dev set. â€” thought in this case no longer have unbiased estimate of performance. Bias / Variance high variance: overfitting high bias: underfitting high base and high variance (worse case): high bias in some region and high variance elsewhere how to estimate bias&variance â†’ look at train and dev set error high variance: Err_train << Err_dev â€” not generalize well high bias: Err_train ~= Err_dev, and Err_train >> Err_human â€” not learning well even on training set high bias and high variance (worse): Err_train >> Err_human, Err_train >> Err_dev Basic Recipe for Machine Learning basic recipe: does algo have high bias ? (look at Err_train) if yes â†’ try bigger nn / other architecture until having low bias (fit well training set) high variance ? (look at Err_dev) if yes â†’ get more data / regularization / other architecture bias-variance tradeoff in pre-DL era, bias and variance are tradeoff (decrease one â†’ increase the other) in DL era: if getting bigger nn and more data always possible , both can be reduced (when well regularized,) \"training a bigger NN almost never hurts.\" Regularizing your neural network 2 ways to reduce variance: regularize, or get more data. Regularization example: logistic regression params: w , b cost function J(w,b) = 1/m * L(yhat_i, yi) â†’ add one more term to cost J : adding L2 norm of w ( L2 regularization ) (lambda: regularization param) just omit regularizing b : w is high dim, b is single number. L1 regularization: L1 norm of w â†’ w will be sparse â†’ compressing the model (just a little bit) â‡’ L2-reg is much often used example: NN params: w[l] , b[l] for l = 1..N sum of the norms of each w[l] matrix. â‡’ \"Frobenius norm\" of a matrix: sum (each element squared) gradient descent : adding one more term from backprop d(1/2m * ||w||) = lambda / m L2-reg also called \" weight decay \": with L2-reg, looks as if doing the backprop updating, with w being w' = (1-alpha*lambda/m) * w (decayed w) Why regularization reduces overfitting? why imposing small params prevents overfitting? intuition 1 â†’ heavy regularization â†’ weight ~= 0 â†’ many hidden units' impact are \" zeroed-out\" â†’ simpler NN intuition 2 e.g. activation g(z) = tanh(z) small z â†’ g(z) ~= linear, large z â†’ g(z) flattend â‡’ large lambda â†’ small w â†’ z small â†’ every layer ~linear Dropout Regularization another powerful method of regularization dropout : For each training example , in each layer, eliminate randomly some of its output values. dropout implementation: \"inverted dropout\" example: dropout of layer 3 , keep_prob = 0.8 (prob of keeping hidden unit) â†’ generate a rand matrix of shape the same shape as activation a[3] d3 = np.random.rand(a3.shape[0], a3.shape[1]) < keep_prob # d3 is bool matrix a3 = np.multiply(a3, d3) # element-wise multiply a3 /= keep_prob # ****\"inverted dropout\"**** \"inverted dropout\": why a3 /= keep_prob (i.e. make a3 larger)? let's say layer 3 has 50 units, keep_prob = 0.8 â†’ ~10 units shut off z[4] = w[4] * a[3] + b[4] â‡’ a[3] have random 20% units shut off â†’ w[4] a[3] will be reduced by 20% in expection* inverted dropout: a3 /= keep_prob, to keep expected value a3 remains unchanged . (No dropout at test time) â†’ inverted dropout avoids scaling problem at test time making predictions at test time NOT use dropout at test time â‡’ don't want output to be random at test time... Understanding Dropout why randomly shut units prevents overfitting ? Intuition: can't rely on any one input feature â†’ have to spread out weight spread weights ~â†’ smaller L2 norm (shrink weights) Can be formally proven: dropout is equal to adaptive L2-reg, with penalty of different weight being different. For one hidden unit: any of it input features (from prev layer) can go out at random Implementation details vary keep_prob for different layer â†’ smaller keep_prob for larger layer usually no dropout (or very small dropout) for input layer... Downside of dropout cost function J no longer well-defined (because output yhat is random) â†’ can no longer plot cost-iter curve â†’ turn off dropout before plotting the curve Other regularization methods data augmentation adding more training example is expensive â†’ vary existing training data (e.g. flipping/rand-distortions of training image for cats) early stopping plot Err or J to #iterations for both train and dev set. Downside of early-stopping : optimization cost J and not overfitting should be separated task (\"Orthogonalization\") â†’ early-stopping couples the two jobs. upside of early stopping: no need to try different values of regularization param (lambda) â†’ finds \"mid-size w\" at once. Setting up your optimization problem How to speed up training (i.e. optimize J) Normalizing inputs normalize input: substract mean normalize variance detail: in data splitting, use the same meu/sigma to normalize test set ! why normalizing input ? if features x1 x2 are on different scales â†’ w1 and w2 not same scale J is more symmetric, easier to optimize Vanishing / Exploding gradients One problem in training very deep NN: vanishing/exploding gradients. example: a very deep NN, each layer 2 units, linear activation g(z)=z, ignore bias b[l] = 0. linear activations â†’ y is just a linear transformation of x assuming each w[l] = 1.5 * Identity_matrix â‡’ activations increase exponentially assuming each w[l] = 0.5 * Id â‡’ activations decrease exponentially yhat too large or too small â†’ hard to train Weight Initialization for Deep Networks A partial solution of vanishing/exploding gradient problem: carefully initialize weights . single neuron example: y = g(w*x), g = relu n = # inputs for z = w1 x1 + ... + wn xn, if wi are initzed randomly â†’ large ns â‡’ z will be large ! â‡’ set var(wi) = 1/n (2/n in practice) to keep z in similar scale for diffent #inputs initialization code: w[l] = np.random.randn(shape[l]) * np.sqrt( 2 / n[l-1] ) # n[l-1] = #inputs for layer-l other variants when activation function g = tanh â‡’ use var(wi) = 1/n (\" Xavier initialization \") Numerical approximation of gradients checking the derivative computation example: f(x) = x &#94; 3 â†’ vary x by epsilon to approximate f'(x), use 2-sided difference error order = O(epsilon&#94;2) for 2-sided difference Gradient checking Verify that your implementation is correct. â€” help finding out bugs in implementation early. concat all params into a big vector theta concat all dW[l] db[l] into big vector d_theta to check if d_theta is correct : construct a d_theta_approx vector â‡’ How to check \"approximate\": Gradient Checking Implementation Notes Dont' use checking in training: constructing d_theta_approx is slow When check fails: look at components to try to find bug Remember regularization: J contains reg term as well Doesn't work with dropout: J not well defined (random variable), turn dropout off before checking. Run check at random initialization (w,b~=0), then again after some training(w,b~>0)","tags":"notes","title":"[Improving Deep Neural Networks] week1. Practical aspects of Deep Learning"},{"url":"https://x-wei.github.io/notes/Ng_DLMooc_c1wk4.html","text":"Deep L-layer neural network Layer counting: input layer is not counted as a layer, \"layer 0\" last layer (layer L, output layer) is counted. notation: layer 0 = input layer L = number of layers n&#94;[l] = size of layer l a&#94;[l] = activation of layer l = g[l]( z[l] ) â†’ a[L] = yhat, a[0] = x Forward Propagation in a Deep Network â‡’ general rule: vectorization over all training examples: Z = [z(1),...,z(m)] one column per example â‡’ A [ 0 ] = X for l = 1. . L : Z [ l ] = W [ l ] A [ l-1 ] + b [ l ] A [ l ] = g [ l ] ( Z [ l ] ) Yhat = A [ L ] Getting your matrix dimensions right Debug: walk through matrix dimensions of NN, W[l] . Single training example dimension: a[l-1].shape = (n[l-1], 1) z[l].shape = (n[l], 1) â‡’ z[l] = W[l] * a[l-1] + b[l], shape = (n[l],1) â‡’ W[l].shape = (n[l], n[l-1]), b[l].shape = (n[l],1) Vectorized (m examples) dimension: Z = [z(1),...,z(m)] stacking columns . Z[l].shape = (n[l], m) Z[l] = W[l] * A[l-1] + b[l] Z[l].shape = A[l].shape = (n[l], m) Why deep representations? intuition: as layers grow: simple to complex representation / low to high level of abstraction. Circuit theory: small deep NN is better than big shallow NN. Example : representation of a XOR.join(x1..xn) function. Using deep NN â‡’ build an XOR binary tree Using shallow NN: one single layer â†’ enumerate all 2&#94;n configurations of inputs. Building blocks of deep neural networks Fwdprop and backprop, for layer l. Fwdprop: from a[l-1] to a[l] note: cache z[l] for backprop. Backprop: from da[l] to da[l-1], dw[l] and db[l] Once the fwd and back functions are implemented, put layers together: Forward and Backward Propagation Fwd prop input = a[l-1], output = a[l], cache = z[l] Z [ l ] = W [ l ] * A [ l-1 ] + b [ l ] Z [ l ] = g [ l ] ( Z [ l ] ) Back prop input = da[l], output = da[l-1], dW[1], db[l] note: remember da = dL/da , so here da ~='1/da' mathematically. derivate of matrix multiplication = transposed matrix derivative: (A*B)' = B&#94;T' * A&#94;T' initial paule of backprop: da[L] = dL/dyhat Vectorized version: Parameters vs Hyperparameters parameters: W[l] and b[l] â†’ trained from data hyperparams : alpha (learning_rate), number of iterations, L, n[l] size of each layer, g[l] at each layer... momentum, minibatch, regularization... â†’ finally decides what params will be. empirical: try out different hyperparams. What does this have to do with the brain? logistic regression unit ~~~> neuron in brain assignment: implementing a L-layer NN params initialization: note: different signature for np.random.randn and np.zeros : W = np.random.randn(d0, d1) * 0.01 b = np.zeros((d0, d1)) # Needs putting dims in a tuple! function activation: np.maximum is element-wise comparison, whereas np.max will apply on certain axis. so ReLU(x) = np.maximum(0, x) Fwd prop: cost: backprop formula: initial paulse of backprop dA[L]: dAL = - (np.divide(Y, AL) - np.divide(1 - Y, 1 - AL))","tags":"notes","title":"[Neural Networks and Deep Learning] week4. Deep Neural Network"},{"url":"https://x-wei.github.io/notes/Ng_DLMooc_c1wk3.html","text":"Neural Networks Overview new notation: superscript [i] for quantities in layer i. (compared to superscript (i) for ith training example). subscript i for ith unit in a layer Neural Network Representation notation: a&#94;[i] : activation at layer i. input layer: x, layer 0. hidden layer output layer: prediction (yhat) don't count input layer as a layer a 2 layer NN: Computing a Neural Network's Output each node in NN: 2 step computation z = wx + b a = sigmoid(z) z&#94;[1] = stacking z[1]_i s vertically a&#94;[1] = sigmoid( z&#94;[1] ) vectorize computing z&#94;[1] : W = stacking rows of wi.T W.shape = (4,3) b.shape = (4,1) input at layer i = a&#94;[i-1] ( x = a[0] ) output of each layer: a[i] = sigmoid(W[i] a&#94;[i-1] + b[i]) Vectorizing across multiple examples vectorize the computation acrosse m examples. training examples: x&#94;(1)...x&#94;(m) computing all yhat(i) using forloop: X = stacking columns of x(i) , X = [x(1)...x(m)] Z[1] = stacking columns of z 1 = [z 1 ...z 1 ] A = stacking columns of a(i) horizontal index = training example &#94;(i) vertical index = nodes in layer _i / input feature x_i â‡’ Z[1] = W[1] * X + b[1] A[1] = sigmoid(Z[1]) Z[2] = W[2] * A[1] + b[2] A[2] = sigmoid(Z[2]) = Yhat Explanation for Vectorized Implementation Recap : stacking columns of training examples x(i) and activations a[l](i) â‡’ Activation functions general case: a = g(z) , where g() is a nonlinear function. sigmoid: a = 1 / (1 + exp(-z)) a âˆˆ [0,1] tanh: a = (exp(z) - exp(-z)) / (exp(z) + exp(-z)) a âˆˆ [-1, 1] â€” shifted sigmoid function â‡’ data is centered, learning for next layer easier almost always better than sigmoid , except for output layer (yhat = probability âˆˆ[0,1]) downside of sigmoid and tanh: slope very small when |z| is large â€” GD slow. â‡’ ReLU ReLU a = max(0, z) da/dz = 1 or 0 NN learns faster because slope is constant when |z| large disadvantage: da/dz = 0 when z<0 â†’ leaky ReLU: small slope when z<0 Rules of thumb : output layer: sigmoid for binary classification (output probability), otherwise never use sigmoid hidden layer: use ReLU activation by default Why do you need non-linear activation functions? use a linear activation function g(z) = z ? â‡’ yhat will just be a linear function of x . yhat = Wx+b one single place when using linear activation: in output layer ( yâˆˆR )when doing regression Derivatives of activation functions formulas for g'(z) g = sigmoid â‡’ g'(z) = g(z) * (1 - g(z)) = a * (1-a) when z = +inf, g(z) = 1, g'(z) = 1*(1-1) = 0 when z = -inf, g(z) = 0, g'(z) = 0 when z = 0, g(z) = 0.5, g'(z) = 0.25 g = tanh â‡’ g'(z) = 1 - tanh(z)&#94;2 = 1 - a&#94;2 when z = +inf, tanh(z) = 1, g' = 0 when z = -inf, tanh(z) = -1, g' = 0 when z = 0, tanh(z) = 0, g' = 1 g = ReLU / Leaky ReLU ReLU : g(z) = max(0, z) g' is subgradient: g' = 0 when z<0 g' = 1 when z>=0 Leaky ReLU : g(z) = max(0.01z, z) g' = 0.01 when z<0 g' = 1 when z>=0 Gradient descent for Neural Networks NN with single hidden layer: n[0] = nx, n[1] = hidden layer size, n[2] = 1 params: w[1], b[1], w[2], b[2] w[1].shape=(n[1], n[0]), b[1].shape=(n[1], 1) w[2].shape=(n[2], n[1]) , b[2].shape=(n[2],1) output: yhat = a[2] cost function J(w[1],b[1],w[2],b[2]) = 1/m * sum(L(yhat, y)) Gradient descent: random initialization repeat: compute dw[1], db[1], dw[2], db[2] w[1] := w[1] - alpha*dw[1], ... Fwd prop: general formular for l th layer: Bck prop: computing derivatives dw , db note: use keepdims = True or .rehape() to avoid rank-1 arraies. Backpropagation intuition (optional) Derive the formulas using computation graph + chain rule. gradient for a single example x=x(i), y=y(i) : vectorized implementation for i=1,..,m: stacking columns : X = [x(1),..,x(m)] , Z = [z(1)...z(m)] , Y = [y(1)..y(m)] , â†’ Random Initialization Unlike logistic regression, needs init params randomly. If we init all w and b to zeros: all activations a_i and a_j will be equal â†’ dz_i = dz_j â†’ all hidden units completely identical â‡’ needs to init all params random, small number (small because we want have larger derivatives for sigmoid, which is at small values, to speed up gd). when w is init to small rand, b don't need random init.","tags":"notes","title":"[Neural Networks and Deep Learning] week3. Shallow Neural Network"},{"url":"https://x-wei.github.io/notes/Ng_DLMooc_c1wk2.html","text":"This week: logistic regression . Binary Classification & notation ex. cat classifier from image image pixels: 64x64x3 â‡’ unroll(flatten) to a feature vector x dim=64x64x3=12288:= n (input dimension) notation superscript (i) for ith example, e.g. x&#94;(i) superscript [l] for lth layer, e.g. w&#94;[l] m : number of data n_x : input dimension, n_y : output dimension. n_h&#94;[l] : number of hidden units for layer l. L : number of layers X : dim=( n_x , m ), each column is a training example x&#94;(i). Y : dim=( 1 , m ), one single row matrix. Logistic Regression as a Nueral Network Logistic Regression dim(x) = n_x parameters: w (dim=n_x) , b (dim=1) (alternative notation: adding b to w â†’ add x_0 = 1 to feature x. â†’ will NOT use this notation here keeping w and b separate make implementation easier ) linear regression: y_hat = w&#94;T*x + b logistic regssion: y_hat = sigmoid(w&#94;T*x + b) sigmoid function: S-shaped function sigmoid(z) = 1 / ( 1 + e&#94;-z) z large â†’ sigmoid(z) ~= 1 z small â†’ sigmoid(z) ~= 0 Logistic Regression Cost Function To train model for best parameters (w, b), need to define loss function. y_hat: between (0,1) training set: {(x&#94;(i), y&#94;(i)))), i = 1..m} want: y_hat(i) ~= y(i) Loss function L(y_hat, y) : on a single training example (x, y) square error: L(y_hat, y) = (y_hat - y)&#94;2/2 â‡’ not convex , GD not work well, uneasy to optimize loss function used in logistic regression: L(y_hat, y) = -[ylog(y_hat) + (1-y)log(1-y_hat)] convex w.r.t. w and b when y = 1, loss = -log(y_hat) â†’ want y_hat large â†’ y_hat ~=1 when y = 0, loss = -log(1-y_hat) â†’ want y_hat small â†’ y_hat ~=0 Cost function J(w,b) : average on all training sets, only depends on parameters w, b Gradient Descent â‡’ minimize J(w,b) wrt. w and b J(w,b) is convex â‡’ gradient descent Initialization: for logistic regression, any init works because of convexity of J, usually init as 0 Gradient descent: alpha = learning rate derivative dJ(w)/dw ~= slope of function J at point w ~= direction where J grows fastest at point w denote this as ' dw ' in code algo: 'take steepest descent' from an init value of w_0 repeatedly update w until converge w := w - alpha*dw In the case of logistic regression, >1 params ( w and b ) to update: Intuitions about derivatives: f'(a) = slope of function f at a . Computation Graph example: function J(a,b,c) = 3(a+b*c) Forward propagation : compute J(a,b,c) value: internal u := b*c internal v := a+u J = 3 * v Backward propagation : compute derivatives dJ/da, dJ/db, dJ/dc: J = 3*v â†’ compute dJ/dv v = a + u â†’ compute dv/da, dv/du u = bc â†’ compute du/db, du/dc â‡’ chain rule : dJ/da is multiplying the derivatives along the path from J back to a dJ/da = dJ/dv * dv/da dJ/db = dJ/dv * dv/du * du/db dJ/dc = dJ/dv * dv/du * du/dc In code: denote ' dvar ' as d(FinalOutput)/d(var) for simplicity. i.e. da = dJ/da, dv = dJ/dv, etc. Logistic Regression Gradient Descent (&computation graph) logistic regression loss(on a single training example x,y) L. as computation graph: z = wx + b a := sigmoid(z) (=y_hat, 'logit'?) loss function L(a,y) = - [y(loga) + (1-y)log(1-a)] Gradient Descent on m Examples cost function , i.e. on all training sets. J(w,b) = avg{L(x,y), for all m examples} â†’ by linearity of derivative: dJ/dw = avg(dL/dw), just average dw&#94;(i) over all indices i. In implementation: use vectorization as much as possible, get rid of for loops. Python and Vectorization Vectorization avoid explicit for-loops whenever possible e.g. z = w&#94;T * x + b in numpy: z = np.dot(w, x) + b ~300 times faster than explicit for loop more examples: u = A*v matrix multiplication â†’ u = np.dot(A, v) note: A * v would element-wise multiply u = exp(v) element-wise operation: exponential/log/abs/... â†’ u = np.exp(v) / np.log(v) / np.abs(v) / v**2 / 1/v Vectorizing Logistic Regression implementation before: two for-loops( 1 for each training set, 1 for each feature vector). training input X = [x(1), ... , x(m)] , X.dim = (n_x, m) weight w&#94;T = [w_1, ... , w_nx] , w.dim = (n_x, 1) Fwd propagation z(i) = w&#94;T * x(i) + b, i = 1..m, â†’ Z := [z(1)...z(m)] = w&#94;T * X + [b...b], Z.dim = (1, m), stack horizentally â†’ Z = np.dot(w.T, X) + b (scalar b auto broadcasted to a row vector) a(i) = sigmoid( z(i) ) = y_hat(i) â†’ A := [a(1)...a(m)] = sigmoid(Z), sigmoid is vectorized Bkwd propagation: gradient computation dz(i) = a(i) - y(i) â†’ stack horizentally: Y = [y(1)...y(m)] dZ := [dz(1)...dz(m)] = A - Y graidents: dw = sum( x(i) * dz(i) ) / m , dw.dim = (nx, 1) db = sum( dz(i) ) / m â†’ db = 1/m * np.sum(dZ) dw = 1/m * X*dz&#94;T efficient back-prop implementation: Broadcasting in Python example: calculate percentage of calories from carb/protein/fat for each food â€” without fooloop two lines of numpy code: A = np.array([[...]..]) # A.dim = (3,4) cal = A.sum(axis=0) # total calories percentage = 100 * A / cal.reshape(1,4) # percentage.dim = (1,4) axis=0 â†’ sum vertically, axis=1 â†’ sum horizentally reshape(a,b) â†’ redundant here, just to make sure shape correct, reshape call is cheap . A / cal â†’ (3 4 matrix) / (1 4 matrix) â†’ broadcasting more broadcasting examples: General principle: computing (m,n) matrix with (1,n) matrix â‡’ the (1,n) matrix is auto expanded to a (m,n) matrix by copying the row m times, to match the shape, calculate element-wise A note on python numpy vectors flexibility of broadcasting: both advantage and weakness . example: adding column vec and a row vec â†’ get a matrix instead of throwing exceptions. >>> a array([1, 2, 3]) >>> b array([[1], [2]]) >>> a + b array([[2, 3, 4], [3, 4, 5]]) Tips and trick to eliminate bugs avoid rank-1 array : a.shape = (x,) this is neither row nor column vector , have non-intuitive effects. >>> a = np.array([1,2,3]) >>> a.shape (3,) # NOT (3,1) >>> a.T array([1, 2, 3]) >>> np.dot(a, a.T) # Mathematically would expact a matrix, if a is column vec 14 >>> a.T.shape (3,) â‡’ do not use rank-1 arraies, use column/row vectors >>> a2 = a.reshape((-1, 1)) # A column vector -- (5,1) matrix. >>> a2 array([[1], [2], [3]]) >>> a2.T array([[1, 2, 3]]) # Note: two brackets! add assertions assert(a.shape == (3,1)) Explanation of logistic regression cost function (optional) Justisfy why we use this form of cost function: y_hat ~= chance of y==1 given x want to express P(y|x) using y_hat and y P(y|x) as func(y, y_hat) at different values of y: if y = 1: P(y|x) = P(y=1|x) = y_hat if y = 0: P(y|x) = P(y=0|x) = 1 - y_hat â‡’ wrap the two cases in one single formula : using exponent of y and (1-y) â‡’ take log of P(y|x) â‡’ loss function (for a single training example) â‡’ aggregate over all training examples i = 1..m: (assume: data are iid) P(labels in training set) = multiply( P(y(i)|x(i) ) take log â†’ log(P(labels in training set)) = sum( log P(y(i)|x(i) ) = - J maximizing likelihood = minimizing cost function Assignments python / numpy basics np.reshape() / np.shape calculate norm: np.linalg.norm() keepdims=True : axes that are reduced will be kept (with size=1) >>> a array([[ 0.01014617, 0.08222027, -0.59608242], [-0.18495204, -1.50409531, -1.03853663], [ 0.03995499, -0.67679544, 0.11513247]]) >>> a.sum(keepdims=1) array([[-3.75300795]]) >>> a.sum() -3.7530079538833663 broadcasting softmax: softmax for row vec: x.shape = (1,n), x = [x1,...xn] y = softmax(x), y.shape = (1,n), yi = exp(xi) / sum( exp(xi) ) softmax for matrix X.shape = (m,n) Y = softmax(X) = [softmax(row-i of X)], Y.shape = (m, 1) Logistic Regression with a Neural Network mindset input preprocessing input dataset shape = (m, num_px, num_px, 3) â†’ reshape to one column per example, shape = (num_px num_px 3, ~~m~~) â†’ center & standardize data: x' = (xi - x_mean) / std(x) , but for images: just divide by 255.0 (max pixel value), convenient and works almost as well. params initialization For logistic regression (cost function convex), just init to zeros is OK. w = np.zeros((dim,1)) b = 0.0 Fwd prop: compute cost function input X (shape = nx*m, one column per example)â†’ logits Z â†’ activations A=sigmoid(Z) â†’ cost J Bkwd prop Optimization gradient descent: w := w - alpha*dw Predict: using learned params Yhat = A = sigmoid(wT * X + b)","tags":"notes","title":"[Neural Networks and Deep Learning] week2. Neural Networks Basics"},{"url":"https://x-wei.github.io/notes/Ng_DLMooc_c1wk1.html","text":"What is a neural network? Example: housing price prediciton. Each neuron: ReLU function Stacking multiple layers of neurons: hidden layers are concepts more general than input layer â€” found automatically by NN. Supervised Learning with Neural Networks supervised learning: during training, always have output corresponding to input. Different NN types are used for different problems: structured data: database, each feature/column has a well-defined meaning. unstructured data: audio/image/text, no well-defined meaning for pixels/tokens Why is Deep Learning taking off? scale drives deep learning progress. (scale: both of NN and of data) trandition methods: pleateaus as amount of data grows further. NN: grows with data. data scales up computation faster new algorithms, e.g. from sigmoid to ReLU, which in turn speeds up computation too. About this course This course: implementing NN.","tags":"notes","title":"[Neural Networks and Deep Learning] week1. Introduction to deep learning"},{"url":"https://x-wei.github.io/notes/andev_p2e2_pref.html","text":"Save settings and configurations. Data Persistance 5 different ways of data persistance: onSavedInstanceState() : store state of views in k-v pairs (Bundles), used when screen rotates / app killed by system, temperary. SharedPreferences : save k-v pairs to a file, can save primitive types . SQLite database: complicated data types Internal / External Storage: save large files to local phone, ex. podcast app / camera app. Server: ex. leaderboard for a game (Firebase) PreferenceFragments PreferenceFragment is a class to handle the storing of user preferences. Fragment Fragment is a class that represents a modular and reusable piece of an Activity . ex. a booklist-bookdetail app, for tablets want both screens (list/detail) on the same screen â‡’ put the 2 screens into Fragment s, and re-use them. PreferenceFragment populated with preferences defined in an XML, and (automatically) update k-v pairs in a sharedpref file. in the pref XML file: define what are in the preferences, keys(names) and default values, and summary of a pref item. Adding a settings screen from a pref-xml file Recipe 1. create a settings activity add a menu xml, in the xml, add a menu item show menu in mian activity when \"settings\" item is clicked: open settings activity 2. create a preferences xml setup gradle dependency (build.gradle): compile 'com.android.support:preference-v7:25.1.0 ' create a xml file in res/xml folder, add CheckBoxPreference. <?xml version=\"1.0\" encoding=\"utf-8\"?> 3. create a class that extends PreferenceFragment // TODO (2) Create a class called SettingsFragment that extends PreferenceFragmentCompat public class SettingsFragment extends PreferenceFragmentCompat{ // TODO (5) In SettingsFragment's onCreatePreferences method add the preference file using the // addPreferencesFromResource method @Override public void onCreatePreferences(Bundle savedInstanceState, String rootKey) { addPreferencesFromResource(R.xml.pref_visualizer); } } 4. change root element of settings activity to a fragment <?xml version=\"1.0\" encoding=\"utf-8\"?> <fragment xmlns:android= \"http://schemas.android.com/apk/res/android\" xmlns:tools= \"http://schemas.android.com/tools\" android:id= \"@+id/activity_settings\" android:name= \"android.example.com.visualizerpreferences.SettingsFragment\" android:layout_width= \"match_parent\" android:layout_height= \"match_parent\" > </fragment> 5. add a preferenceTheme in res/values/styles.xml : <item name=\"preferenceTheme\">@style/PreferenceThemeOverlay</item> 6. read from SharedPreferences and update in onStart or onResume of main activity: // TODO ( 2 ) Get a reference to the default shared preferences from the PreferenceManager class SharedPreferences pref = PreferenceManager . getDefaultSharedPreferences ( this ); // TODO ( 3 ) Get the value of the show_bass checkbox preference and use it to call setShowBass mVisualizerView . setShowBass ( pref . getBoolean ( \"show_bass\" , true )); best practice: using resources instead of using constant iterals everywhere. i.e. extract strings/bools into strings.xml or bools.xml: <string name= \"pref_show_bass_title\" > Show Bass </string> <string name= \"pref_show_bass_key\" translatable= \"false\" > show_bass </string> <string name= \"pref_show_bass_summaryon\" > Shown </string> <string name= \"pref_show_bass_summaryoff\" > Hidden </string> <bool name= \"pref_show_bass_default\" > true </bool> in other xml files: <CheckBoxPreference android:defaultValue=\"@bool/pref_show_bass_default\" android:key=\"@string/pref_show_bass_key\" android:summaryOff=\"@string/pref_show_bass_summaryoff\" android:summaryOn=\"@string/pref_show_bass_summaryon\" android:title=\"@string/perf_show_bass_title\" /> in java files: mVisualizerView.setShowBass(perf.getBoolean(getString(R.string.pref_show_bass_key), getResources().getBoolean(R.bool.pref_show_bass_default))); PreferenceChangeListener instead of updating preferences in onStart/onResume of main activity, use onPreferenceChangeListener , this is called whenever a sharedpref is changed. Reciept step 1 : determine the activity who's UI needs to be changed when pref changes â€” in our case, is the main activity step 2 : let this activity implement OnSharedPreferenceChangeListener and override the onSharedPreferenceChanged method @Override public void onSharedPreferenceChanged(SharedPreferences sharedPreferences, String key) { Preference pref = findPreference(key); if (!(pref instanceof CheckBoxPreference)) { String value = sharedPreferences.getString(key, \"\"); setPreferenceSummary(pref, value); } } step 3 : link this Listener to the SharedPreference object that it listens to, using registerOnSharedPreferenceChangeListener in onCreate(): SharedPreferences sharedPreferences = PreferenceManager.getDefaultSharedPreferences(this); sharedPreferences.registerOnSharedPreferenceChangeListener(this); step 4 : unregister the Listener when activity is shut down in onDestroy(): @Override protected void onDestroy() { super.onDestroy(); PreferenceManager.getDefaultSharedPreferences(this) .unregisterOnSharedPreferenceChangeListener(this); } List Preference Compared to CheckBoxPreference , ListPreference offers an array of possible choices. ListPreference Recipe define options labels/values in res/values/strings.xml : <string name= \"pref_color_key\" > pref_color </string> <string name= \"pref_color_title\" > Pick a color </string> <string name= \"pref_color_red_label\" > Red </string> <string name= \"pref_color_blue_label\" > Blue </string> <string name= \"pref_color_green_label\" > Green </string> <string name= \"pref_color_red_value\" translatable= \"false\" > color_red </string> <string name= \"pref_color_blue_value\" translatable= \"false\" > color_blue </string> <string name= \"pref_color_green_value\" translatable= \"false\" > color_green </string> (note: xx_value is for internal usage, xx_lablel is what is shown on screen to users) create res/values/arrays.xml : <?xml version=\"1.0\" encoding=\"utf-8\"?> <!-- TODO (3) Add a res->values->arrays.xml file which contains two arrays, one for labels and one for values. The arrays should contain strings found in this file--> <resources> <array name= \"pref_color_option_labels\" > <item> @string/pref_color_red_label </item> <item> @string/pref_color_blue_label </item> <item> @string/pref_color_green_label </item> </array> <array name= \"pref_color_option_values\" > <item> @string/pref_color_red_value </item> <item> @string/pref_color_blue_value </item> <item> @string/pref_color_green_value </item> </array> </resources> in preference xml: add a ListPreference element <ListPreference android:defaultValue=\"@string/pref_color_red_value\" android:entries=\"@array/pref_color_option_labels\" android:entryValues=\"@array/pref_color_option_values\" android:key=\"@string/pref_color_key\" android:title=\"@string/pref_color_title\"/> finally in main activity: String default_color_value = getString(R.string.pref_color_red_value); mVisualizerView.setColor(sharedPreferences.getString(getString(R.string.pref_color_key), default_color_value) ); add summary for list preference we have to this programatically in the java code. Here is the recipe: step 1 : let the SettingsFragment class implement OnSharedPreferenceChangeListener: // TODO (1) Implement OnSharedPreferenceChangeListener public class SettingsFragment extends PreferenceFragmentCompat implements OnSharedPreferenceChangeListener step 2 :set preference's summary by setSummary() : // TODO ( 2 ) Create a setPreferenceSummary which takes a Preference and String value as parameters . // This method should check if the preference is a ListPreference and , if so , find the label // associated with the value . You can do this by using the findIndexOfValue and getEntries methods // of Preference . private void setPreferenceSummary ( Preference sharedPref , String value ) { if ( sharedPref instanceof ListPreference ) { ListPreference listPref = ( ListPreference ) sharedPref ; int idx = listPref . findIndexOfValue ( value ); listPref . setSummary ( listPref . getEntries () [ idx ] ); } } step 3 : set pref summary in onCreatePreferences: @Override public void onCreatePreferences ( Bundle bundle , String s ) { // Add visualizer preferences , defined in the XML file in res -> xml -> pref_visualizer addPreferencesFromResource ( R . xml . pref_visualizer ); // TODO ( 3 ) Get the preference screen , get the number of preferences and iterate through // all of the preferences if it is not a checkbox preference , call the setSummary method // passing in a preference and the value of the preference PreferenceScreen prefScreen = getPreferenceScreen (); int nPrefs = prefScreen . getPreferenceCount (); for ( int i = 0 ; i < nPrefs ; i ++ ) { Preference p = prefScreen . getPreference ( i ); if ( p instanceof CheckBoxPreference ) continue ; else { String value = prefScreen . getSharedPreferences (). getString ( p . getKey (), \"\" ); setPreferenceSummary ( p , value ); } } } step 4 : implement onSharedPreferenceChanged listener: // TODO ( 4 ) Override onSharedPreferenceChanged and , if it is not a checkbox preference , // call setPreferenceSummary on the changed preference @Override public void onSharedPreferenceChanged ( SharedPreferences sharedPreferences , String key ) { if ( sharedPreferences instanceof CheckBoxPreference ) return ; else { Preference pref = findPreference ( key ); String value = sharedPreferences . getString ( key , \"\" ); setPreferenceSummary ( pref , value ); } } step 5 : finally register/unregister the listener in oncreate/ondestroy: // TODO ( 5 ) Register and unregister the OnSharedPreferenceChange listener ( this class ) in // onCreate and onDestroy respectively . @Override public void onCreate ( Bundle savedInstanceState ) { super . onCreate ( savedInstanceState ); getPreferenceScreen (). getSharedPreferences () . registerOnSharedPreferenceChangeListener ( this ); } @Override public void onDestroy () { super . onDestroy (); getPreferenceScreen (). getSharedPreferences () . unregisterOnSharedPreferenceChangeListener ( this ); }","tags":"notes","title":"[Android Dev] 2.2 Preference"},{"url":"https://x-wei.github.io/notes/andev_p2e1_lifecycle.html","text":"Android kills background apps !! â†’ onCreate() â†’ Created â†’ onStart() â†’ Visible( can be seen on screen) â†’ onResume() â†’ Active (get focus, can interact with) Active â†’ onPause() â†’ Paused (lose focus â€” same thing as Visible?) â†’ onStop() â†’ Stopped (disappeared) â†’ onDestroy() â†’ Destroyed (lifecycle ends) when rotate screen, the function calling is: onPause --> onStop --> onDestroy --> onCreate --> onStart --> onResume note: activity will be destroyed when device configuration is changed ! onSavedInstanceState() so that the app states can be saved when device configuration changes (ex. rotate). parameter: a Bundle to keep state into key-value pairs. to pass objects via Bundle: implement the Parcelble interface. Override this onSavedInstanceState() function â†’ put useful objects into the bundle parameter. // TODO ( 3 ) Override onSaveInstanceState to persist data across Activity recreation // Do the following steps within onSaveInstanceState // TODO ( 4 ) Make sure super . onSaveInstanceState is called before doing anything else // TODO ( 5 ) Put the contents of the TextView that contains our URL into a variable // TODO ( 6 ) Using the key for the query URL , put the string in the outState Bundle // TODO ( 7 ) Put the contents of the TextView that contains our raw JSON search results into a variable // TODO ( 8 ) Using the key for the raw JSON search results , put the search results into the outState Bundle @Override public void onSaveInstanceState ( Bundle outState ) { super . onSaveInstanceState ( outState ); outState . putString ( QUERYURL_KEY , mUrlDisplayTextView . getText (). toString ()); outState . putString ( RAW_JSON_KEY , mSearchResultsTextView . getText (). toString ()); } in onCreate : try to extract objects form bundle savedInstanceState (if it's not null). @Override protected void onCreate(Bundle savedInstanceState) { super.onCreate(savedInstanceState); setContentView(R.layout.activity_main); mSearchBoxEditText = (EditText) findViewById(R.id.et_search_box); mUrlDisplayTextView = (TextView) findViewById(R.id.tv_url_display); mSearchResultsTextView = (TextView) findViewById(R.id.tv_github_search_results_json); mErrorMessageDisplay = (TextView) findViewById(R.id.tv_error_message_display); mLoadingIndicator = (ProgressBar) findViewById(R.id.pb_loading_indicator); // TODO (9) If the savedInstanceState bundle is not null, set the text of the URL and search results TextView respectively if(savedInstanceState!=null && savedInstanceState.containsKey(QUERYURL_KEY)) mUrlDisplayTextView.setText(savedInstanceState.getString(QUERYURL_KEY)); if(savedInstanceState!=null && savedInstanceState.containsKey(RAW_JSON_KEY)) mSearchResultsTextView.setText(savedInstanceState.getString(RAW_JSON_KEY)); } AsyncTasks and Loader edgecase: rotate when async task is performing â†’ asynctask runs on separate thread â†’ the zombie activities will not be killed !! â‡’ Loader Loader is identified by a loader ID, thus preventing several loaders running in the same time. AsyncTaskLoader lifecycle: it is bounded to an Activity instead of an async task â‡’ when device rotates, the loader will feed the results of tasks to the right activity. Using Loaders create loader id: private static final GITHUB_SEARCH_LOADER = 22; implement LoaderCallbacks interface functions in MainActivity init loader with a LoaderManager , and start the loader let MainActivty implement LoaderManager.LoaderCallbacks<String> implement onCreateLoader â€” onPreExecute and onDoInBackground for AsyncTask // TODO ( 3 ) Override onCreateLoader @Override public Loader < String > onCreateLoader ( int id , final Bundle bundle ) { // ! make bundle final so that can access it below // TODO ( 4 ) Return a new AsyncTaskLoader < String > as an anonymous inner class with this as the constructor 's parameter return new AsyncTaskLoader<String>(this) { @Override public String loadInBackground() { return null; } // TODO (5) Override onStartLoading @Override protected void onStartLoading() { super.onStartLoading(); // TODO (6) If bundle is null, return. if (bundle==null) return; // TODO (7) move the content of onPrecuter in the AsyncTask class mLoadingIndicator.setVisibility(View.VISIBLE); // TODO (8) Force a load forceLoad(); } // TODO (9) Override loadInBackground @Override protected String onLoadInBackground() { // TODO (10) Get the String for our URL from the bundle passed to onCreateLoader String searchUrlstr= bundle.getString(SEARCH_QUERY_URL_EXTRA); // TODO (11) If the URL is null or empty, return null if(searchUrlstr==null || TextUtils.isEmpty(searchUrlstr)) return null; // TODO (12) Copy the try / catch block from the AsyncTask' s doInBackground method String githubSearchResults = null ; try { githubSearchResults = NetworkUtils . getResponseFromHttpUrl ( new URL ( searchUrlstr )); } catch ( IOException e ) { e . printStackTrace (); } return githubSearchResults ; } } ; } implement onLoadFinished â€” onPostExecute for AsyncTask // TODO ( 13 ) Override onLoadFinished @Override public void onLoadFinished ( Loader < String > loader , String githubSearchResults ) { // TODO ( 15 ) Use the same logic used in onPostExecute to show the data or the error message mLoadingIndicator . setVisibility ( View . INVISIBLE ); if ( githubSearchResults != null && ! githubSearchResults . equals ( \"\" )) { showJsonDataView (); mSearchResultsTextView . setText ( githubSearchResults ); } else { showErrorMessage (); } } // TODO ( 16 ) Override onLoaderReset as it is part of the interface we implement , but don ' t do anything in this method @Override public void onLoaderReset ( Loader < String > loader ) { } in makeGithubSearchQuery(): create bundle, create a loder, start it instead of staring an AsyncTask , we get a Loader and re-run it via a loader manager. // TODO (19) Create a bundle called queryBundle Bundle queryBundle = new Bundle(); // TODO (20) Use putString with SEARCH_QUERY_URL_EXTRA as the key and the String value of the URL as the value queryBundle.putString(SEARCH_QUERY_URL_EXTRA, githubSearchUrl.toString()); // TODO (21) Call getSupportLoaderManager and store it in a LoaderManager variable LoaderManager loaderManager = getSupportLoaderManager(); // TODO (22) Get our Loader by calling getLoader and passing the ID we specified Loader loader = loaderManager.getLoader(GITHUB_SEARCH_LOADER); // TODO (23) If the Loader was null, initialize it. Else, restart it. if(loader==null) loader = loaderManager.initLoader(GITHUB_SEARCH_LOADER, queryBundle, this); else loaderManager.restartLoader(GITHUB_SEARCH_LOADER, queryBundle, this); Caching with loaders Loaders will reload if activity is destroyed and re-created. This overhead can be avoided by caching the results in the AsyncTaskLoader (created in onCreateLoader() ). // TODO ( 1 ) Create a String member variable called mGithubJson that will store the raw JSON String mGithubJson ; // cached results @Override protected void onStartLoading () { /* If no arguments were passed, we don't have a query to perform. Simply return. */ if ( args == null ) { return ; } /* * When we initially begin loading in the background, we want to display the * loading indicator to the user */ mLoadingIndicator . setVisibility ( View . VISIBLE ); // TODO ( 2 ) If mGithubJson is not null , deliver that result . Otherwise , force a load if ( mGithubJson != null ) deliverResult ( mGithubJson ); else forceLoad (); } // TODO ( 3 ) Override deliverResult and store the data in mGithubJson @Override public void deliverResult ( String data ) { mGithubJson = data ; // TODO ( 4 ) Call super . deliverResult after storing the data super . deliverResult ( data ); }","tags":"notes","title":"[Android Dev] 2.1 Lifecycles"},{"url":"https://x-wei.github.io/notes/andev_p1e2_internet.html","text":"logging https://developer.android.com/reference/android/util/Log.html 5 log levels: error/warning/info/debug/verbose error/warning/info are preserved in the release of app use class name as tag: MyClass.class.getSimpleName() the Resources folder https://developer.android.com/guide/topics/resources/providing-resources.html working with res/values/strings.xml the strings defined in this xml file can be got from java activity using getString(R.string._the_id) method. example: in string.xml: <string name=\"today\">Today</string> in java: String myString = getString(R.string.today) in other xmls files: use @string/today to access it. ref: https://developer.android.com/guide/topics/resources/string-resource.html Menu and ActionBar a menu item in the xml file (res folderâ†’ create new android resource directory â†’ menu): // TODO (2) Create a menu in res/menu called main.xml // TODO (3) Add one menu item to your menu // TODO (4) Give the menu item an id of @+id/action_search // TODO (5) Set the orderInCategory to 1 // TODO (6) Show this item if there is room (use app:showAsAction, NOT android:showAsAction) // TODO (7) Set the title to the search string (\"Search\") from strings.xml <menu xmlns:android= \"http://schemas.android.com/apk/res/android\" xmlns:app= \"http://schemas.android.com/apk/res-auto\" > <item android:id= \"@+id/action_search\" android:orderInCategory= \"1\" android:title= \"@string/search\" app:showAsAction= \"ifRoom\" /> </menu> shoule also set MainActivity as singleTop mode: <activity android:name=\".MainActivity\" android:launchMode=\"singleTop\"> To create menu: override onCreateMenu : // TODO ( 8 ) Override onCreateOptionsMenu // TODO ( 9 ) Within onCreateOptionsMenu , use getMenuInflater (). inflate to inflate the menu // TODO ( 10 ) Return true to display your menu @Override public boolean onCreateOptionsMenu ( Menu menu ) { getMenuInflater (). inflate ( R . menu . main , menu ); return true ; } To handle menu item clicks: onOptionsItemSelected // TODO (11) Override onOptionsItemSelected // TODO (12) Within onOptionsItemSelected, get the ID of the item that was selected // TODO (13) If the item's ID is R.id.action_search, show a Toast and return true to tell droid that you've handled this menu click // TODO (14) Don't forgot to call .show() on your Toast // TODO (15) If you do NOT handle the menu click, return super.onOptionsItemSelected to let droid handle the menu click @Override public boolean onOptionsItemSelected(MenuItem item) { int itemid = item.getItemId(); if(itemid==R.id.action_search) { // use MainActivity.this as context, instead of using just this Toast.makeText(MainActivity.this, \"search action selected!\", Toast.LENGTH_SHORT).show(); return true; } return super.onOptionsItemSelected(item); } Another way to set menuitem action: menuitem.setIntent @Override public boolean onCreateOptionsMenu(Menu menu) { getMenuInflater().inflate(R.menu.detail, menu); MenuItem menuitem = menu.findItem(R.id.action_share); Intent intent = ShareCompat.IntentBuilder.from(this) .setType(\"text/plain\") .setChooserTitle(\"choose which app to share\") .setText(mForecast) .getIntent(); menuitem.setIntent(intent); return true; } Build the query URL the request url for github repo search: https://api.github.com/search/repositories?q=android&sort=stars use Uri Builder: convert Uri to java URL: public static URL buildUrl(String githubSearchQuery) { Uri.Builder uribuilder = Uri.parse(GITHUB_BASE_URL).buildUpon(); uribuilder = uribuilder.appendQueryParameter(PARAM_QUERY, githubSearchQuery); uribuilder = uribuilder.appendQueryParameter(PARAM_SORT, sortBy); Uri uri = uribuilder.build(); URL url = null; try{ url = new URL(uri.toString()); } catch (MalformedURLException e) { e.printStackTrace(); } return url; } Fetching http request http://stackoverflow.com/questions/309424/read-convert-an-inputstream-to-a-string public static String getResponseFromHttpUrl ( URL url ) throws IOException { HttpURLConnection urlConnection = ( HttpURLConnection ) url . openConnection (); try { InputStream in = urlConnection . getInputStream (); Scanner scanner = new Scanner ( in ); scanner . useDelimiter ( \"\\\\A\" ); boolean hasInput = scanner . hasNext (); if ( hasInput ) { return scanner . next (); } else { return null ; } } finally { urlConnection . disconnect (); } } or use external library: http://square.github.io/okhttp/ Permission declear permissions required in android manifest.xml https://developer.android.com/guide/topics/permissions/index.html in AndroidManifest.xml, under the manifest root: <uses-permission android:name=\"android.permission.INTERNET\"/> NetworkOnMainThread exception android has a single user interface thread responsible for user interaction: 60FPS â€” want to do as little as possible on this main thread . â‡’ run the network on a secondary execusion thread, when finished, modify the user interface on UI thread. â‡’ AsyncTask AsyncTask allows running a task on background thread while publishing results to the UI thread. The UI thread has a message queue and a handler : to process messages from other threads. â€” AsyncTask wraps this into a simpler interface. AsyncTask is generic, the type parameters include: AsyncTask<Params, Progress, Result> These 3 type parameters correspond to 4 function to override: doInBackgroud, onProgressUpdate, onPostExecute, onPreEcecute . Once this (sub)class is defined, on UI thread, just create an AysncTask task , and use task.execute(params..) to make it run on background thread. ref: https://developer.android.com/reference/android/os/AsyncTask.html AsyncTask Example code First create an inner class that extends AyncTask<> class, and add the job to do here: // TODO ( 1 ) Create a class called GithubQueryTask that extends AsyncTask < URL , Void , String > class GithubQueryTask extends AsyncTask < URL , Void , String > { @Override // TODO ( 2 ) Override the doInBackground method to perform the query . Return the results . protected String doInBackground ( URL ... params ) { URL url = params [ 0 ] ; try { String res = NetworkUtils . getResponseFromHttpUrl ( url ); return res ; } catch ( IOException e ) { e . printStackTrace (); } return null ; } @Override // TODO ( 3 ) Override onPostExecute to display the results in the TextView protected void onPostExecute ( String s ) { if ( s != null && ! s . equals ( \"\" )) mSearchResultsTextView . setText ( s ); else super . onPostExecute ( s ); } } Then in UI thread, create a such class object, call execute method on it: private void makeGithubSearchQuery() { String githubQuery = mSearchBoxEditText.getText().toString(); URL githubSearchUrl = NetworkUtils.buildUrl(githubQuery); mUrlDisplayTextView.setText(githubSearchUrl.toString()); // TODO (4) Create a new GithubQueryTask and call its execute method, passing in the url to query GithubQueryTask task = new GithubQueryTask(); task.execute(githubSearchUrl); } To show a progress bar when running in background ? â‡’ put textview and progressbar into the same FrameLayout , when running, make the progressbar visible, when finished, make it invisible. Parsing JSON json file content: { \"temp\": { \"min\":\"11.34\", \"max\":\"19.01\" } \"weather\": { \"id\":\"801\", \"condition\":\"Clouds\", \"description\":\"few clouds\" } \"pressure\":\"1023.51\", \"humidity\":\"87\" } the funtion to get the condition from the above json: String getCondition(String JSONString) { JSONObject forecast = new JSONObject(JSONString); JSONObject weather = forecast.getJSONObject(\"weather\"); return weather.getString(\"condition\"); }","tags":"notes","title":"[Android Dev] 1.2 Connect to the Internet"},{"url":"https://x-wei.github.io/notes/andev_p1e3_recyclerview.html","text":"Recycler View, Adaper, ViewHolder rather than creating list items as we scroll, keep them in a queue (recycling bin) â†’ when scrolling, the list items are recycled and re-bind to new content. RecyclerView is better version of ListView. Adaper : bind data from data source, and provide the RecyclerView with new views when needed. Adapter uses a ViewHolder to send views to RecyclerView. â€” each findViewById wil be only called once, and cached in the ViewHolder. And the RecyclerView uses a LayoutManager to manage the appearance of the items. RecyclerView code example: a list of numbers 1. add gradle dependency in build.gradle file, add in dependencies: compile 'com.android.support:recyclerview-v7:25.1.0 ' and re-sync project, now we can use android.support.v7.widget.RecyclerView in the layout files. 2. create item layout This is what each of the items in RecyclerView should like. <FrameLayout xmlns:android= \"http://schemas.android.com/apk/res/android\" android:layout_width= \"match_parent\" android:layout_height= \"wrap_content\" android:padding= \"16dp\" android:orientation= \"vertical\" > <!--// TODO (8) Align the TextView to the start of the parent--> <!--// TODO (9) Center the TextView vertically in the layout--> <TextView android:layout_width= \"wrap_content\" android:layout_height= \"wrap_content\" android:id= \"@+id/tv_item\" style= \"@style/TextAppearance.AppCompat.Caption\" android:fontFamily= \"monospace\" android:textSize= \"42sp\" android:layout_gravity= \"center_vertical|start\" /> </FrameLayout> 3. subclass RecyclerView.ViewHolder Create an inner class ( inside the Adapter class ), define class variables, override the constructor (takes a View as parameter), and add functions. // TODO ( 12 ) Create a class called NumberViewHolder that extends RecyclerView . ViewHolder class NumberViewHolder extends RecyclerView . ViewHolder { // TODO ( 13 ) Within NumberViewHolder , create a TextView variable called listItemNumberView TextView listItemNumverView ; // TODO ( 14 ) Create a constructor for NumberViewHolder that accepts a View called itemView as a parameter // TODO ( 15 ) Within the constructor , call super ( itemView ) and then find listItemNumberView by ID public NumberViewHolder ( View itemView ) { super ( itemView ); listItemNumverView = ( TextView ) itemView . findViewById ( R . id . tv_item ); // this view is cached in ViewHolder } // TODO ( 16 ) Within the NumberViewHolder class , create a void method called bind that accepts an int parameter called listIndex // TODO ( 17 ) Within bind , set the text of listItemNumberView to the listIndex // TODO ( 18 ) Be careful to get the String representation of listIndex , as using setText with an int does something different // calling setText () with an integer , android will use the int as a string resource id void bind ( int listIndex ) { listItemNumverView . setText ( String . valueOf ( listIndex )); } } 4. subclass RecyclerView.Adapter The Adapter will create a viewholder for each recycler view item ( onCreateViewHolder ) inflat each item that will be displayed ( onCreateViewHolder ) bind data from data source to each item ( getItemCount ) return the number of items in data source ( onBindViewHolder) â‡’ create a class that extends RecyclerView.Adapter<MyViewHolder> , and implement methods. public class GreenAdapter extends RecyclerView . Adapter < GreenAdapter . NumberViewHolder > { int mNumberItems ; public GreenAdapter ( int nitems ) { this . mNumberItems = nitems ; } // TODO ( 5 ) Override the onCreateViewHolder method // TODO ( 6 ) Create and return a new NumberViewHolder within this method @Override public NumberViewHolder onCreateViewHolder ( ViewGroup parent , int viewType ) { Context context = parent . getContext (); LayoutInflater inflater = LayoutInflater . from ( context ); boolean shouldAttachToParentImmediatelly = false ; View view = inflater . inflate ( R . layout . number_list_item , parent , shouldAttachToParentImmediatelly ); return new NumberViewHolder ( view ); } // TODO ( 7 ) Override onBindViewHolder // TODO ( 8 ) Within onBindViewHolder , call holder . bind and pass in the position @Override public void onBindViewHolder ( NumberViewHolder holder , int position ) { holder . bind ( position ); } // TODO ( 9 ) Override getItemCount and return the number of items to display @Override public int getItemCount () { return mNumberItems ; } /** * Cache of the children views for a list item. */ class NumberViewHolder extends RecyclerView . ViewHolder { // Will display the position in the list , ie 0 through getItemCount () - 1 TextView listItemNumberView ; /** * Constructor for our ViewHolder. Within this constructor, we get a reference to our * TextViews and set an onClickListener to listen for clicks. Those will be handled in the * onClick method below. * @param itemView The View that you inflated in * {@link GreenAdapter#onCreateViewHolder(ViewGroup, int)} */ public NumberViewHolder ( View itemView ) { super ( itemView ); listItemNumberView = ( TextView ) itemView . findViewById ( R . id . tv_item_number ); } /** * A method we wrote for convenience. This method will take an integer as input and * use that integer to display the appropriate text within a list item. * @param listIndex Position of the item in the list */ void bind ( int listIndex ) { listItemNumberView . setText ( String . valueOf ( listIndex )); } } } https://www.youtube.com/watch?v=ns3WC8HFx90 https://github.com/udacity/ud851-Exercises/blob/student/Lesson03-Green-Recycler-View/T03.03-Solution-RecyclerViewAdapter/app/src/main/java/com/example/android/recyclerview/GreenAdapter.java 5. use LayoutManager, putting things together layoutmanager determines when an item is recycled. 3 implementation of LayoutManager: LinearLayoutManager, GridLayoutManager, StaggeredGridLayoutManager . In the MainActivity, create a LinearLayoutManager, and set the recycler view's manager to it. Then create an Adapter, and set recycler's adapter to it. In the onCreate method: mNumbersList = ( RecyclerView ) findViewById ( R . id . rv_numbers ); // TODO ( 5 ) Create a LinearLayoutManager variable called layoutManager // TODO ( 6 ) Use setLayoutManager on mNumbersList with the LinearLayoutManager we created above LinearLayoutManager layoutManager = new LinearLayoutManager ( this ); mNumbersList . setLayoutManager ( layoutManager ); // TODO ( 7 ) Use setHasFixedSize ( true ) to designate that the contents of the RecyclerView won 't change an item' s size mNumbersList . setHasFixedSize ( true ); // TODO ( 8 ) Store a new GreenAdapter in mAdapter and pass it NUM_LIST_ITEMS mAdapter = new GreenAdapter ( NUM_LIST_ITEMS ); // TODO ( 9 ) Set the GreenAdapter you created on mNumbersList mNumbersList . setAdapter ( mAdapter ); 6. handle item click reciept To handle the click on items: a. define a Listener interface // TODO (1) Add an interface called ListItemClickListener // TODO (2) Within that interface, define a void method called onListItemClick that takes an int as a parameter interface ListItemClickListener{ void onListItemClick(int index); } b. make this Listener a private meber of the Adapter class, passed as constructor parameter. c. make the Adapter 's inner ViewHolder to implement View.OnClickListener interface, and override the onClick method: // TODO (6) Override onClick, passing the clicked item's position (getAdapterPosition()) to mOnClickListener via its onListItemClick method @Override public void onClick(View v) { int pos = this.getAdapterPosition(); mOnClickListener.onListItemClick(pos); } d. in the inner ViewHolder class' constructor, set onclicklistner of the passed item to the viewholder itself: public NumberViewHolder(View itemView) { super(itemView); listItemNumberView = (TextView) itemView.findViewById(R.id.tv_item_number); viewHolderIndex = (TextView) itemView.findViewById(R.id.tv_view_holder_instance); // TODO (7) Call setOnClickListener on the View passed into the constructor (use 'this' as the OnClickListener) itemView.setOnClickListener(this); } e. make MainActivity implments the Adapter.ItemClickListener, and provide the onclick method: public class MainActivity extends AppCompatActivity implements GreenAdapter.ListItemClickListener { //... // TODO (10) Override ListItemClickListener's onListItemClick method // TODO (11) In the beginning of the method, cancel the Toast if it isn't null // TODO (12) Show a Toast when an item is clicked, displaying that item number that was clicked @Override public void onListItemClick(int index) { if(mToast!=null) mToast.cancel(); mToast.setText(String.format(\"item %d is clicked!\", index)); mToast.show(); } } f. when creating Adapter in MainActivity, pass this as second constructor parameter","tags":"notes","title":"[Android Dev] 1.3 RecyclerView"},{"url":"https://x-wei.github.io/notes/andev_p1e4_intents.html","text":"So far: single screen with a single activity. start activity from another activity: use Intent s. Explicit intent: start a new activity toy app: type some text, press button, and a new activity will appear with the typed words. create activity in android studio: new â†’ activity call startActivity with an intent as parameter. Explicit intent constructor: a context (every Acitivity is a Context ), and a destination activity class. Intent ineten = new Intent(MainActivity.this, ChildActivity.class); startActivity(intent); This is called explicit intent as we know exactly which activity to start. in AndroidManifest.xml file, configure child activity having a back buttom to return to parent activity: <activity android:name= \".MainActivity\" android:label= \"@string/app_name\" > <intent-filter> <action android:name= \"android.intent.action.MAIN\" /> <category android:name= \"android.intent.category.LAUNCHER\" /> </intent-filter> </activity> <!-- TODO (4) Configure DetailActivity's up button functionality --> <activity android:name= \".DetailActivity\" android:parentActivityName= \".MainActivity\" > <meta-data android:name= \"android.suport.PARENT_ACTIVITY\" android:value= \".MainActivity\" /> </activity> Passing data between activities in main activity: Intent.putExtra(String name, String value) put data ( k-v pairs ) into the intent (some constant string names exists in Intent class, like Intent.EXTRA_TEXT ) then start new activity with this intent. in child activity: use getIntent() to get the comming intent, then use intent.getStringExtra(String name) , before getting extra data: use intent.hasExtra(name) to check if the extra stuff exists. Intent commingIntent = getIntent(); if(commingIntent.hasExtra(Intent.EXTRA_TEXT)){ String txt = commingIntent.getStringExtra(Intent.EXTRA_TEXT); mDisplayText.setText(txt); } Implicit Intent: opening a link when don't know/care which activity to start. example: want to visit a link or dial a number. ref of common intents: https://developer.android.com/guide/components/intents-common.html most implicit intent contains 2 parameters: an action and the associated data ( Uri ). Or use intent.setData to add uri to intent. To test if there is any application that can handle the intent: use intent.resolveActivity(getPackageManager()) private void openWebPage(String url) { // TODO (2) Use Uri.parse to parse the String into a Uri Uri uri = Uri.parse(url); // TODO (3) Create an Intent with Intent.ACTION_VIEW and the webpage Uri as parameters Intent intent = new Intent(Intent.ACTION_VIEW, uri); // TODO (4) Verify that this Intent can be launched and then call startActivity if(intent.resolveActivity(getPackageManager()) != null){ startActivity(intent); } } URIs URI : uniform resource identifier, a string that identifies resources. full format of an URI: components: scheme: ex. geo, http ... host path query fragment example of URI: uri1 = https://archive.org/web uri2 = geo:0,0?q=Montreal,Canada construct a geo URI now: want to open a location on maps. https://developers.google.com/maps/documentation/android-api/intents Use Uri.Builder to create complex URIs. public void onClickOpenAddressButton(View v) { String address = \"Boulvard des Marechaux\"; // TODO (6) Use Uri.Builder with the appropriate scheme and query to form the Uri for the address Uri.Builder builder = new Uri.Builder(); builder.scheme(\"geo\").path(\"0,0\").query(address); Uri uri = builder.build(); showMap(uri); // constructs an intent and starts activity } Share Intent When mutilple apps that can handle this intent â‡’ a chooser will pop up. Example: open an image / share a piece of text / share link ... â†’ ShareCompat.IntentBuilder gives helper functionality for sharing data between activities. Media type (MIME): format: toplevel_type_name/subtype_name[; parameters] example: text/html;charset=UTF-8, image/png , text/plain , text/rtf, video/mp4 ,... private void shareText(String txt) { String mimeType = \"text/plain\"; String title = \"title of chooser window\"; ShareCompat.IntentBuilder.from(this) .setType(mimeType) .setChooserTitle(title) .setText(txt).startChooser(); }","tags":"notes","title":"[Android Dev] 1.4 Intents"},{"url":"https://x-wei.github.io/notes/andev_p1e1_basics.html","text":"1 create project sunshine Created æ˜ŸæœŸä¸€ 06 äºŒæœˆ 2017 minSDK vs targetSDK The minSDK is the lowest SDK level that your app can run on. You can choose what level of devices to support. By comparison, the targetSDK is NOT a high pass filter -- it's used only to declare which platform version you've tested your app on. Enable VT-x and installing kvm this is necessary for running AVD devices. http://stackoverflow.com/questions/37087365/how-to-enable-vt-x-in-bios-and-kvm-modules-on-linux Components of an android app 4 main components of an app: Activity : responsible for most user interaction Service ContentProvider BroadcaseReceiver Activity Android keeps the activities in a stack, when press back button â†’ stack pops. Define the launcher of the activity in manifests/AndroidManifest.xml : application â†’ activity â†’ intent-filter res folder contains layouts/images/values in res/layout/activity_main.xml : xml file that defines the layout view Activities and Layouts An activity is a single focused thing that the user can do. Activities are responsible for creating the window that your application uses to draw and receive events from the system. Activities are written in Java, extending from the Activity class. An activity creates views to show the user information, and to let the user interact with the activity. View s are a class in the Android UI framework. They occupy a rectangular area on the screen and are responsible for drawing and handling events. An activity determines what views to create (and where to put them), by reading an XML layout file. These XML files, are stored in the res folder inside the folder labeled layouts . 2 types of views type1: UI components (widgets) UI components that are often interactive elements. example: TextView, EditView, Buttom, ImageView, ... most of UI view classes: in android.widgets package https://developer.android.com/reference/android/widget/package-summary.html type2: container view The second are views called \"Layout\" or \"Container\" views. They extend from a class called ViewGroup . They are primarily responsible for containing a group of views and determining where they are on screen. Layout views can be nested in one another. example: LinearLayout, RelativeLayout, ConstraintLayout, ... relate XML layout to java activities use xml layout in java activity in onCreate method of an activity, using the setContentView(R.layout.name_of_layout) the setContentView method: Android reads your XML file and generates Java objects for each of the tags in your layout file. You can then edit these objects in the Java code by calling methods on the Java objects. refer to widgets defined in xml in java in the xml file, give an id to the view:","tags":"notes","title":"[Android Dev] 1.1 Create Project Sunshine"},{"url":"https://x-wei.github.io/tech/scala-ocaml-impression.html","text":"2016å¹´çš„æœ€åå‡ å°æ—¶, éšä¾¿å†™å†™å…³äºScalaå’ŒOCamlçš„ä¸€äº›å…¥é—¨ä½“éªŒå¥½äº†. ä»Šå¹´å¯¹FPè¯­è¨€ç‰¹åˆ«æ„Ÿå…´è¶£, ä¸Šäº†ä¸¤é—¨Scalaçš„å…¬å¼€è¯¾( here and here )å’Œä¸€é—¨OCamlçš„å…¬å¼€è¯¾( here ), åœ¨åšå®¢ä¸­å†™äº†ä¸€ç³»åˆ—çš„ç¬”è®°, è¯¾åä½œä¸šä¹Ÿéƒ½è®¤çœŸåšå®Œäº†. æ–—èƒ†è¯´è¿™ä¸¤é—¨è¯­è¨€éƒ½ç®—å…¥é—¨äº†å§... è¿™é‡Œå°±éšä¾¿å†™ä¸€ä¸‹ä½¿ç”¨è¿™ä¸¤é—¨è¯­è¨€çš„æ„Ÿå—, æƒ³åˆ°å“ªé‡Œå†™åˆ°å“ªé‡Œ... FPè¯­è¨€å’Œä¹‹å‰æ¥è§¦çš„è¯­è¨€ç¡®å®ä¸å¤§ä¸€æ ·, æ¯”å¦‚ä¹‹å‰æˆ‘éƒ½æœ‰ç§é”™è§‰, å­¦ä»€ä¹ˆè¯­è¨€åªè¦çŸ¥é“å¾ªç¯/æ¡ä»¶/åŸºæœ¬ç±»å‹è¿ç®—æ€ä¹ˆå†™, å°±å·®ä¸å¤šå¯ä»¥ä¸Šæ‰‹äº†...... ç„¶åé‡åˆ°äº†FP, å‘ç°å¾ªç¯è¯­å¥å…¶å®æ˜¯ä¸å¿…è¦çš„... è®°å¾—çœ‹åˆ°è¿‡ä¸€ç¯‡æ–‡ç« , ç±»æ¯”å­¦FPå°±å¥½åƒå¼€äº†å¾ˆå¤šç§è½¦çš„è€å¸æœºçªç„¶å¼€å§‹å­¦å¼€å®‡å®™é£èˆ¹, è‚¯å®šå„ç§WTFä¸é€‚åº”äº†~ ä»¥å‰è°ˆåˆ°FPæˆ‘åªèƒ½è”æƒ³åˆ°ä¸€äº›Pythoné‡Œçš„FPç‰¹æ€§: lambdaè¡¨è¾¾å¼, é«˜é˜¶å‡½æ•°ä¹‹ç±»çš„, é¡¶å¤šè¿˜æƒ³åˆ°ä¸ªé—­åŒ…... ä¸è¿‡Pythoné‡Œé¢çš„FPç‰¹æ€§å’ŒScala/OCamlé‡Œçš„æ¯”èµ·æ¥è¿˜æ˜¯å·®äº†ä¸å°‘: i.e. ç°åœ¨éå¸¸å¸Œæœ›Pythoné‡Œå¯ä»¥æ”¯æŒpattern matching... Scala Scalaç®—æ˜¯æ¯”è¾ƒäº²æ°‘çš„FPè¯­è¨€äº†(å’ŒJavaæœ‰ç‚¹åƒ...), ä¹Ÿæ˜¯æˆ‘æœ€æ—©æ¥è§¦çš„FPè¯­è¨€. EPFLçš„é‚£ä¸¤é—¨å…¬å¼€è¯¾è´¨é‡å¾ˆæ£’, æ¯•ç«Ÿæ˜¯Scalaçš„ä½œè€…äº²è‡ªæ¥ä¸Šçš„... immutable types : ä¹ æƒ¯äº†å°±å¥½, å°±åƒjavaé‡Œæ‰€æœ‰ä¸œè¥¿éƒ½æ˜¯finalçš„, è¦ä¿®æ”¹ä»€ä¹ˆä¸œè¥¿çš„æ—¶å€™æ”¹æˆæ–°å»ºä¸€ä¸ª, immutableæ•°æ®çš„ä¼˜ç‚¹å°±æ˜¯å¹¶è¡Œæ–¹ä¾¿å•Š... ä¸€åˆ‡çš†ä¸ºè¡¨è¾¾å¼ , specifically, if è¯­å¥ä¹Ÿæ˜¯è¡¨è¾¾å¼(expression)è€Œä¸æ˜¯è¯­å¥(statement) å°½é‡ä¸ç”¨ return , è¿”å›å€¼å°±æ˜¯æœ€åä¸€å¥expression ç±»å‹æ¨å¯¼: å°±ä¸ç”¨å†™éº»çƒ¦çš„ç±»å‹æ ‡è®°äº†(æœ‰æ—¶åˆå¿…é¡»å†™, æ¯”å¦‚å¿…é¡»è¦å‘Šè¯‰Scalaé€’å½’å‡½æ•°çš„è¿”å›ç±»å‹)... ä¸è¿‡æœ‰æ—¶ä¸æ ‡è®°ç±»å‹åˆå®¹æ˜“å‡ºé”™(å¿ƒé‡Œä»¥ä¸ºçš„ç±»å‹å’Œå®é™…çš„ç±»å‹ä¸ä¸€æ ·). å¦å¤–Scalaçš„ç±»å‹æ˜¯å†™åœ¨å†’å·åé¢çš„, ä¹ æƒ¯äº†å°±å¥½... for expression : (å’Œ\"forå¾ªç¯\"ä¸æ˜¯ä¸€å›äº‹) éå¸¸å¥½ç”¨, å¯ä»¥è¯´æ˜¯ä¸€å¤§äº®ç‚¹, æ¯”è¾ƒå¤æ‚çš„ filter/map ç»„æˆçš„è¡¨è¾¾å¼, ç”¨for exprå†™å‡ºæ¥éå¸¸å®¹æ˜“ç†è§£, è¶…æ£’... åæ¥å­¦OCamlçš„æ—¶å€™éå¸¸æœŸå¾…OCamlé‡Œä¹Ÿæœ‰ç±»ä¼¼çš„ä¸œè¥¿(ä¸è¿‡å¥½åƒæ²¡æœ‰...) pattern matching: ç”¨constructoræ¥switch! æ²¡ä»€ä¹ˆå¥½è¯´çš„ éå¸¸å¥½ç”¨çš„ä¸œè¥¿... lazy evaluationå’ŒStream : éå¸¸æœ‰ç”¨çš„ä¸œè¥¿, å­¦åˆ°è¿™é‡Œæ—¶å¾ˆå—å¯å‘... intellijçœŸå¥½ç”¨, è¿˜æœ‰Scala worksheet... å°¾é€’å½’ä¼˜åŒ– : æŠŠé€’å½’å‡½æ•°åšåˆ°å’Œiterativeçš„ä¸€æ ·å¿«, tailrecç®—æ˜¯å·¥å…·ä¹‹ä¸€å§. ä¸€å¼€å§‹å¯¹tailrecæœ‰ç‚¹ä¸å¤ªä¼šå†™, å…¶å®åæ¥å¤§æ¦‚æ˜ç™½äº†æ€ä¹ˆå›äº‹: å°¾é€’å½’è¦æ±‚ f(n) æœ€åçš„returnè¯­å¥é‡Œåº”è¯¥ç›´æ¥æ˜¯é€’å½’è°ƒç”¨ f(n-1) , ä¸è¦åŠ åˆ«çš„ä»€ä¹ˆå¸¦ f(n-1) çš„è¡¨è¾¾å¼. ä¸€èˆ¬çš„é€’å½’å‡½æ•°å¤§æ¦‚æ˜¯: f(n) = some_expr_of f(n-1) , è€Œtailrecçš„ç‰ˆæœ¬é‡Œ, åŠ å…¥äº† acc è¿™æ ·ä¸€ä¸ªå‚æ•°, ä¿å­˜ç´¯åŠ ç»“æœ. å¯ä»¥æŠŠaccçœ‹åšf(n-1)çš„ä»£æ›¿å“ , è¿™æ—¶, æŠŠé‚£ä¸ªf(n-1)çš„exprä½œç”¨åœ¨ acc ä¸Š, å°±æ˜¯å°¾é€’å½’äº†! f(n, acc)æœ€åä¸€å¥å°±æˆäº† f(n-1, some_expr_of acc) â€” ç®€ç®€å•å•ä¸€ä¸ªé€’å½’è°ƒç”¨~ ä¸¾ä¸ªæœ€ç®€å•çš„ä¾‹å­: é˜¶ä¹˜è¿ç®— éå°¾é€’å½’çš„å†™æ³•æ˜¯: def factorial ( n : Int ) : Int = if ( n == 0 ) 1 else n * factorial ( n - 1 ) æ”¹æˆå°¾é€’å½’ä»¥å: def factorialTR ( n : Int ) : Int = { @tailrec def fact ( n : Int , acc : Int ) : Int = { if ( n == 0 ) acc else fact ( n - 1 , n * acc ) } fact ( n , 1 ) } ç®€å•çš„åŒ¿åå‡½æ•°æœ‰å‡ ç§å†™æ³•: ç”¨ => : param => ret ç”¨pattern matching(è¿™æ—¶è¦ç”¨èŠ±æ‹¬å·): {case(param list) => ret } ä¸‹åˆ’çº¿å°±è¡¨ç¤ºå‚æ•°: _*2 â€” ç›¸æ¯”ä¹‹ä¸‹ ç®€ç›´å—å¤Ÿäº†Pythoné‡Œé¢å†™lambda....... ä¸€äº›æ¦‚å¿µå’ŒJavaå¯¹åº”ä¸€ä¸‹: Unit å¯¹åº”Javaé‡Œçš„ void Option å¯¹åº”Javaé‡Œçš„Object(æœ‰æŒ‡é’ˆçš„å¯¹è±¡), Javaé‡Œçš„ null å¯¹åº”Scalaé‡Œ None , Javaé‡Œçš„æŸä¸ªå¯¹è±¡(énull) A å¯¹åº”Scalaé‡Œçš„ Some[A] , Scalaé‡Œå’Œ Option ç±»ä¼¼çš„è¿˜æœ‰ Try trait å¤§æ¦‚å¯ä»¥çœ‹åšJavaé‡Œçš„ Interface , ä¸è¿‡Scalaçš„traitæ˜¯å¯ä»¥åŒ…å«å‡½æ•°å®ç°çš„... Scalaçš„ object å’ŒJavaé‡Œå¯ä¸æ˜¯ä¸€ä¸ªæ„æ€, Scalaé‡Œobjectæ˜¯å•ä¾‹å¯¹è±¡( Singleton ), ç±»ä¼¼äºjavaé‡Œçš„ static final çš„å¯¹è±¡ æœ‰äººè¯´Scalaè¢«è¿‡åº¦è®¾è®¡äº†, æ„Ÿè§‰æœ‰ç‚¹é“ç†: å¿«å­¦å®Œç¬¬äºŒé—¨Scalaå…¬å¼€è¯¾çš„æ—¶å€™çœ‹çœ‹åˆ«äººä»£ç , åˆå‘ç°äº†å¥½å¤šæ²¡è§è¿‡çš„å…³é”®å­—... @@ å¹¶ä¸å¤ªå–œæ¬¢çœç•¥ç‚¹å· çœç•¥æ‹¬å·/åˆ†å·ä¹‹ç±»çš„è¯­æ³•ç³–... Scalaçš„collectionæœ‰ç‚¹å¤š: Seq/List/Array/IndexedSeq/Vector å‚»å‚»åˆ†ä¸æ¸…æ¥š.... OCaml OCamlä¹Ÿæ˜¯å·¥ä¸šç•Œæ¯”è¾ƒæˆåŠŸçš„è¯­è¨€äº†, è€Œä¸”æ®è¯´é€Ÿåº¦å’ŒCppä¸ç›¸ä¸Šä¸‹, æˆ‘å¯¹å®ƒå¯ä»¥è¯´æ˜¯å‘å¾€å·²ä¹…, çœ‹åˆ°FUNå¹³å°ä¸Šæœ‰å…¬å¼€è¯¾å°±èµ¶ç´§æŠ¥åäº†... OCamlç®—æ˜¯æ¯”è¾ƒ\"æ­£å®—\"çš„FPè¯­è¨€(æˆ–è®¸è¿˜ä¸å¤Ÿ\"çº¯\"?), é£å‘³å’Œåˆ«çš„è¯­è¨€å·®äº†å¥½å¤š, ä½†æ˜¯å†™ç€å†™ç€å°±å–œæ¬¢ä¸Šäº†... å‡½æ•°å‚æ•°ä¸ç”¨æ‹¬å·! è¿™æ˜¯ç¬¬ä¸€ä¸ªå†²å‡»... ä¸è¿‡æ€»æ˜¯æŠŠå‡½æ•°æ”¾åœ¨æœ€å‰é¢, è¿˜æ˜¯ä¸å¤§ä¹ æƒ¯, æ¯”å¦‚ List.map , æ›´å¸Œæœ›å¯ä»¥å†™æˆ a_list map a_fun è¿™æ ·... è¿ç®—ç¬¦å®Œå…¨åˆ†éš”: æ•´æ•°åŠ æ³•æ˜¯ + , æµ®ç‚¹æ•°åŠ æ³•è¦æ˜¾ç¤ºå†™æˆ +. , è¿™æ ·åšçš„å¥½å¤„å°±æ˜¯å¯ä»¥åšå¼‚å¸¸å¼ºå¤§çš„ç±»å‹æ¨å¯¼, æ¯”Scalaä¸çŸ¥é«˜åˆ°å“ªé‡Œå»äº†~ å„ç§é”™è¯¯éƒ½å¯ä»¥åœ¨ç¼–è¯‘æ—¶æ‰¾åˆ°, å®‰å…¨æ„Ÿå€å¢... let-in binding : ç†è§£äº†è¿™ä¸ªæ¦‚å¿µä»¥å, å¤§è„‘æœ‰äº†ä¸€ç§å¼€çªçš„æ„Ÿè§‰! è¿™ä¸ªå°±éå¸¸æ¥è¿‘æ•°å­¦æ¨å¯¼äº†, æ¯”å¦‚åœ¨æ•°å­¦ä¸Šè¯æ˜ä»€ä¹ˆä¸œè¥¿çš„æ—¶å€™, ä»¤x y zç­‰äºä»€ä¹ˆä»€ä¹ˆ, å…¶å®æœ€ç»ˆéƒ½æ˜¯ä¸ºäº†åœ¨æœ€åä¸€ä¸ªè¡¨è¾¾å¼é‡Œé¢ä½“ç°. åªæ˜¯èµ·ä¸€ä¸ªåå­—è€Œå·², å¹¶ä¸æ˜¯æ”¹å˜äº†è¿™äº›\"identifier\"çš„æ•°å€¼. Scalaé‡Œé¢çš„\"æœ€åä¸€ä¸ªè¡¨è¾¾å¼å³ä¸ºè¿”å›å€¼\"è¿™ä¸€ç‚¹, æˆ‘å½“æ—¶æœ‰ç‚¹ä¸å¤ªä¹ æƒ¯, ä¸è¿‡åœ¨OCamlé‡Œé¢ç”¨let-inç»‘å®šè¿™ä¹ˆä¸€å†™, è¿™ä¸æ˜¯æ˜¾ç„¶çš„ä¹ˆ?! ...æ€»ä¹‹è¿™ä¸ªå†™æ³•ç†è§£äº†ä»¥å, æ„Ÿè§‰éå¸¸ç¾å¦™... å‡½æ•°çš„ç±»å‹ä¸º para1_type -> para2_type -> ... -> ret_type , è¿™æ ·å†™äº†ä»¥åå¯¹äºç†è§£partial functionä¹‹ç±»çš„å°±æœ‰å¾ˆå¤§å¸®åŠ©, å¦å¤–OCamlå¹¶ä¸åŒºåˆ†æ•°å€¼å’Œå‡½æ•°äº†: éƒ½æ˜¯ç”¨letå£°æ˜, ä¸€ä¸ªæ•°å€¼å¯ä»¥çœ‹åšæ˜¯æ¥æ”¶0ä¸ªå‚æ•°çš„å‡½æ•°. try-with å¤„ç†å¼‚å¸¸: é™¤äº†å¤„ç†å¼‚å¸¸ä»¥å¤–, ç”±äºæ²¡å‘ç°breakå¯¹åº”çš„å†™æ³•, ç°åœ¨è¦breakçš„æ—¶å€™æˆ‘å°±ä¹Ÿå†™æˆ try-with ... basic composed types: tuple/record/array è¿™ä¸‰ä¸ª, ä¸ªäººæ„Ÿè§‰å¹¶ä¸æ˜¯ç‰¹åˆ«å¥½ç”¨... @@ taged type (åˆå«sum type/variant type): æ„Ÿè§‰éå¸¸å¼ºå¤§, å®šä¹‰äº†taged typeä»¥åå†pattern matchingä¸è¦å¤ªçˆ½... æ„Ÿè§‰æˆ‘å¯¹è¿™å—ç†è§£è¿˜ä¸å¤ªå¤Ÿ, çœ‹åˆ«äººå†™çš„taged typeå¯èƒ½å¯ä»¥å†™ä¸€äº›å¤„ç†çš„å‡½æ•°, è‡ªå·±å®šä¹‰taged typeå°±æ¯”è¾ƒè™šäº†... å¥½çš„ç¨‹åº, æŠŠç±»å‹å®šä¹‰å†™å¥½äº† åŸºæœ¬ä¸Šå°±å®Œæˆä¸€åŠäº†... å…³äºæ¨¡å—(module)çš„ç­¾åçš„å†™æ³•ä»€ä¹ˆçš„, å…¶å®è¿˜æ˜¯æœ‰ç‚¹æ™•... å¯èƒ½å®è·µè¿˜æ˜¯ä¸å¤Ÿ OCamlé‡Œçš„\"Polymorphism\"å¤§æ¦‚ç›¸å½“äºJavaé‡Œçš„generic/Cppé‡Œçš„template. pattern matching: åœ¨OCamlé‡Œè¢«å¤§é‡çš„åº”ç”¨, æ„Ÿè§‰æ¯”Scalaé‡Œé¢çš„è¿˜å¥½ç”¨ä¸å°‘... utopä½œä¸ºäº¤äº’å¼ç»ˆç«¯ä½“éªŒè¿˜æ˜¯å¾ˆæ£’çš„ ç¼–è¾‘å™¨å’Œideè¿˜æ˜¯ä¸å¤Ÿä¸°å¯Œ, æ²¡æ‰¾åˆ°(évim/emacs)å¾ˆå¥½çš„æ–¹æ¡ˆ... ä¸è¿‡FUNå¹³å°çš„ç½‘ç»œç¼–è¾‘ç¯å¢ƒéå¸¸ç»™åŠ›, è‡ªåŠ¨indentè¿™ä¸ªfeatureå¤ªå–œæ¬¢äº†, æœ€åæ‰€æœ‰ä½œä¸šéƒ½æ˜¯ç›´æ¥åœ¨webç¯å¢ƒä¸‹å†™çš„... opamåŒ…ç®¡ç†å™¨æœ‰æ—¶å€™ä¼šå‡ºç°ä¸€äº›æ¨¡å—å®‰è£…ä¸ä¸Šçš„é—®é¢˜ å¬è¯´ Core æä¾›äº†æ¯”è¾ƒå®Œå–„çš„å‡½æ•°æ”¯æŒ, å¸Œæœ›å­¦ä¸€ä¸‹(ä¹Ÿå°±æ˜¯çœ‹çœ‹real world OCaml) compared with Python é‚£ä¹ˆè¿™ä¸¤ä¸ªè¯­è¨€å’Œæˆ‘ç°åœ¨ç”¨å¾—æœ€å¤šçš„è¯­è¨€(Python)ç›¸æ¯”è¾ƒä¸€ä¸‹å§: ä½œä¸ºPython, éå¸¸ç¾¡æ…•Scala/OCamlçš„æ‰§è¡Œé€Ÿåº¦ çœ¼é¦‹pattern matchingå’Œå„ç§compile timeä¿æŠ¤...... Pythonçš„REPL( bpython )è¿˜æ˜¯æ¯”Scala worksheet / ocaml utopä½“éªŒå¥½ä¸å°‘ Pythonçš„\"è‡ªå¸¦ç”µæ± \"ç‰¹è‰²æ˜¯å¾ˆå¤§çš„ä¼˜ç‚¹, å¾ˆå¥½å¥‡Scala/OCamlæœ‰æ²¡æœ‰æä¾›defaultdict/counter/datetimeä¹‹ç±»çš„æ¨¡å—......","tags":"tech","title":"Scala/OCamlåˆä½“éªŒ"},{"url":"https://x-wei.github.io/tech/python_crawler_requests_lxml.html","text":"å‰ä¸€æ®µæ—¶é—´å†™äº†ä¸å°‘Pythonçš„çˆ¬è™«ç¨‹åº, ä¸ºæ­¤è¿˜çœ‹äº†æå®¢å­¦é™¢ä¸Šçš„ä¸€äº› æ•™ç¨‹ , ç°åœ¨æ¥ç®€å•æ€»ç»“ä¸€ä¸‹. ä¸»è¦ä»‹ç»ç”¨ requests + lxml çš„æ–¹å¼, scrapy çš„è¯ä¹‹å‰å†™è¿‡ä¸€ç¯‡ä»‹ç»æ€§çš„ æ–‡ç«  , è¿™é‡Œå°±ä¸é‡å¤äº†. è€Œä¸”æ„Ÿè§‰ä¸€èˆ¬ç®€å•çš„çˆ¬è™«é¡¹ç›®, ä¸€ä¸ªPythonæ–‡ä»¶å°±åŸºæœ¬å¯ä»¥æå®š, æ²¡å¿…è¦ç”¨scrapyå»ºç«‹ä¸€ä¸ªå·¥ç¨‹æ–‡ä»¶å¤¹æé‚£ä¹ˆæ­£å¼... å®‰è£…éœ€è¦çš„åº“(python2): pip install requests, lxml ç„¶ååœ¨Pythonç¨‹åºæœ€å¼€å§‹å¯¼å…¥: import requests from lxml import etree requestsåŸºç¡€ç”¨æ³• æŠ“å–htmlå†…å®¹ ç”¨requestsè·å–ç›®æ ‡ç½‘å€çš„htmlä»£ç éå¸¸ç®€å•, åªéœ€è¦ç”¨ requests.get æ–¹æ³•, ä¼ å…¥ç½‘å€URLå³å¯. ä¸¾ä¸ªä¾‹å­, æƒ³è¦æŠ“å– ç»´åŸºè¯­å½• çš„HTMLå†…å®¹, ä»£ç å¾ˆç®€å•: url = 'https://zh.wikiquote.org/zh-cn/é˜¿çˆ¾ä¼¯ç‰¹Â·æ„›å› æ–¯å¦' r = requests.get(url) html = r.text requests.get() è¿”å›ä¸€ä¸ªresponseå¯¹è±¡ r , å¯ä»¥ç”¨ r.ok æˆ–è€… r.status_code æ£€æŸ¥å¯¹è±¡æ˜¯å¦æ­£å¸¸è¿”å›(status code=200). ç¼–ç é—®é¢˜ å¤„ç†éè‹±æ–‡ç½‘é¡µæ—¶ç»å¸¸é‡åˆ°çš„é—®é¢˜å°±æ˜¯ç¼–ç çš„é—®é¢˜äº†(ä¸çŸ¥é“py3æ˜¯ä¸æ˜¯å¯¹Unicodeæ”¯æŒå¥½ä¸€ç‚¹?), å‰é¢å¾—åˆ°çš„htmlå…¶å®å¹¶éå­—ç¬¦ä¸²è€Œæ˜¯Unicodeå¯¹è±¡: >>> type(html) <type 'unicode'> Unicodeå¯¹è±¡å¤„ç†çš„æ—¶å€™ä¸€ä¸å°å¿ƒå°±ä¼šå¾—åˆ°ä»¥ä¸‹çš„é”™è¯¯: UnicodeEncodeError: 'ascii' codec can't encode characters in position 101-113: ordinal not in range(128) æ‰€ä»¥åœ¨é‚£äº›éœ€è¦stringç±»å‹çš„åœ°æ–¹, éœ€è¦ç”¨ encode å‡½æ•°è½¬æ¢: >>> type(html.encode('utf-8')) <type 'str'> å¦å¤–å®é™…ä¸­è¿˜é‡åˆ°è¿‡æ¯”è¾ƒå¥‡è‘©çš„æƒ…å†µ, æ˜¯è¿”å›çš„responseçš„ç¼–ç å¹¶ä¸å¯¹(è¿™ä¸ªç¼–ç æ˜¯requestsæ ¹æ®ç½‘é¡µå†…å®¹è‡ªå·±æ¨æ–­çš„, æ‰€ä»¥æœ‰æ—¶ä¼šå‡ºé”™), æ¯”å¦‚ è¿™ä¸ªç½‘å€ , requestsä»¥ä¸ºå®ƒçš„encodingæ˜¯'ISO-8859-1', æ‰€ä»¥ä¸ºäº†ä¿é™©èµ·è§, æœ€å¥½æ‰‹åŠ¨æŒ‡å®šr.encoding : r.encoding = 'utf-8 ' å¦: è¿˜æœ‰ä¸€ç§ç»å¸¸ç”¨çš„è§£å†³utfç¼–ç çš„æ–¹å¼, å°±æ˜¯åœ¨æ–‡ä»¶å¼€å¤´åŠ ä¸Šè¿™å››å¥è¯: # coding: utf-8 import sys reload ( sys ) sys . setdefaultencoding ( 'utf-8' ) ä¸è¿‡, çœ‹åˆ°æœ‰äººè¯´è¿™ç§æ–¹å¼ å¹¶ä¸å¥½ , æ‰€ä»¥æœ€å¥½åˆ«ç”¨è¿™ä¹ˆæš´åŠ›çš„æ–¹å¼å§... ç”¨scrapy shellæ£€æŸ¥å¾—åˆ°çš„htmlæ–‡ä»¶å†…å®¹ éœ€è¦æ³¨æ„çš„ä¸€ç‚¹æ˜¯, requests.getå¾—åˆ°çš„htmlå†…å®¹ å¹¶ä¸ä¸€å®š å’Œåœ¨æµè§ˆå™¨æ‰“å¼€é“¾æ¥å¾—åˆ°çš„å†…å®¹ç›¸åŒ! ä¸ºäº†æ£€æŸ¥æ˜¯å¦å¾—åˆ°äº†æƒ³è¦çš„htmlå†…å®¹, æœ‰ä¸¤ä¸ªæ–¹å¼, ä¸€ä¸ªæ˜¯æŠŠå¾—åˆ°çš„å†…å®¹è¾“å‡ºä¸ºä¸€ä¸ª.htmlæ–‡ä»¶, ç„¶åç”¨æµè§ˆå™¨æ‰“å¼€, æ¯”å¦‚è¿™æ ·: >>> with open('tmp.html', 'w') as f: ... f.write(html.encode('utf8')) # æ³¨æ„è¦æ˜¾å¼æŒ‡å®šç¼–ç  è¿™æ ·åšå…¶å®å¹¶ä¸æ–¹ä¾¿, è¾“å‡ºåˆ°æœ¬åœ°æ–‡ä»¶ä»¥åè¿˜è¦ç”¨æ–‡ä»¶æµè§ˆå™¨æ‰¾åˆ°é‚£ä¸ªæ–‡ä»¶å†æ‰“å¼€, è€Œä¸”æ‰“å¼€çš„ç½‘é¡µå¹¶æ²¡æœ‰å›¾ç‰‡, ä¹Ÿæ²¡æœ‰cssæ ·å¼. æˆ‘æ¯”è¾ƒå–œæ¬¢ç”¨scrapy shellè¿™ä¸ªå·¥å…·, è¿™ä¸ªå·¥å…·åœ¨ä¹‹å‰çš„æ–‡ç« ä¹Ÿ æåˆ°è¿‡ , å®ƒéå¸¸é€‚åˆå¿«é€Ÿæµ‹è¯•ä¸€äº›ä¸œè¥¿. é¦–å…ˆå®‰è£…ä¸€ä¸‹scrapyå§è¿˜æ˜¯: pip install scrapy ç„¶åè¾“å…¥ scrapy shell å³å¯ä½¿ç”¨. ç”¨ fetch(url) å¯ä»¥æŠŠè¿”å›çš„ç»“æœå­˜æ”¾åœ¨(scrapy shellé»˜è®¤çš„) response å˜é‡ä¸­, å¯ä»¥æŠŠ fetch æ“ä½œç†è§£ä¸º response = requests.get(url) . ç„¶åæŸ¥çœ‹å¾—åˆ°çš„htmlæ–‡ä»¶ åªéœ€è¦ view(response) , å°±ä¼šè‡ªåŠ¨ç”¨æµè§ˆå™¨æ‰“å¼€ä¸‹è½½çš„ä¸´æ—¶æ–‡ä»¶, éå¸¸æ–¹ä¾¿. $ scrapy shell --nolog [ s ] Available Scrapy objects : [ s ] scrapy scrapy module ( contains scrapy . Request , scrapy . Selector , etc ) [ s ] crawler < scrapy . crawler . Crawler object at 0x7f8aa3b70e50 > [ s ] item {} [ s ] settings < scrapy . settings . Settings object at 0x7f8aa3b70cd0 > [ s ] Useful shortcuts : [ s ] shelp () Shell help ( print this help ) [ s ] fetch ( req_or_url ) Fetch request ( or URL ) and update local objects [ s ] view ( response ) View response in a browser In [ 1 ] : url = 'https://zh.wikiquote.org/zh-cn/é˜¿çˆ¾ä¼¯ç‰¹Â·æ„›å› æ–¯å¦' In [ 2 ] : fetch ( url ) In [ 3 ] : view ( response ) Out [ 3 ] : True ä¿®æ”¹header, ä¼ªè£…æµè§ˆå™¨ å¯¹äºæœ‰äº›ç½‘ç«™, ç›´æ¥ç”¨ requests.get æŠ“å–ä¼šå¾—åˆ°403forbiddené”™è¯¯, è¿™æ—¶å°±è¦ä¿®æ”¹ä¸€ä¸‹getå‡½æ•°çš„ headers å‚æ•°äº†, æŠŠä¸€ä¸ªPythonå­—å…¸ä¼ ç»™headerså‚æ•°, è¿™ä¸ªå­—å…¸ç†, 'user-agent'å¯¹åº”chrome/firefoxä½¿ç”¨çš„å†…å®¹. ä¾‹å­: hea = {'User-Agent':'Mozilla/5.0 (Windows NT 6.3; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/41.0.2272.118 Safari/537.36'} r = requests.get('http://jp.tingroom.com/yuedu/yd300p/', headers = hea) headerså‚æ•°å¯¹äºé‚£äº›ä¸å¤ªå¥½çˆ¬çš„ç½‘ç«™éå¸¸æœ‰ç”¨, ä¸è¿‡å…³äºå¦‚ä½•çŸ¥é“å¾€headeré‡Œæ”¾ä»€ä¹ˆä¸œè¥¿, éœ€è¦ç”¨chrome-dev-tools, è¿™ä¸ªåé¢å†è¯´. lxmlä»¥åŠxpathè¯­æ³• è¿˜æ˜¯ç»§ç»­ä¸Šé¢ç»´åŸºè¯­å½•çš„ä¾‹å­, å‡è®¾ç°åœ¨å·²ç»è·å–äº†ç½‘é¡µçš„htmlæ–‡ä»¶, ä¸‹ä¸€æ­¥å°±æ˜¯åœ¨htmlæ–‡ä»¶é‡Œæå–æƒ³è¦çš„å†…å®¹äº†. æ¯”å¦‚æˆ‘ä»¬æƒ³è¦ä»ç»´åŸºè¯­å½•ä¸ŠæŠ“å– çˆ±å› æ–¯å¦ çš„æ‰€æœ‰åè¨€. ä»htmlä¸­æå–æ„Ÿå…´è¶£çš„å†…å®¹, ä¸€ç§é€‰æ‹©æ˜¯ç”¨æ­£åˆ™è¡¨è¾¾å¼, ä¸è¿‡æ­£åˆ™è¡¨è¾¾å¼å†™èµ·æ¥å¤ªè›‹ç–¼äº† â€” (?<=blablah).*(?=blah) ä¹‹ç±»çš„, æ¯æ¬¡ç”¨éƒ½å¾—ä»æ–°æŸ¥. è€Œä¸”å¤„ç†htmlä»£ç æ—¶ç»å¸¸å®¹æ˜“å‡ºé”™. htmlè¯­è¨€å¯ä»¥çœ‹åšæ˜¯ä¸€ç§xmlè¯­è¨€, è€Œxmlè¯­è¨€å…¶å®æ˜¯åˆ†å±‚æ¬¡çš„(å¯ä»¥parseä¸ºä¸€ä¸ªxmlæ ‘), æ“ä½œxmlå…ƒç´ çš„ç¥å™¨å°±æ˜¯xpathè¯­è¨€äº†. xpathåŸºç¡€è¯­æ³• xpathçš„è¯­æ³•å…¶å®ä¸éš¾, å…¥é—¨çš„è¯è¯äºŒååˆ†é’Ÿçœ‹çœ‹ è¿™é‡Œ ä¼°è®¡å°±å·®ä¸å¤š. è¿™é‡Œç®€å•åˆ—ä¸€ä¸‹: é€‰å–èŠ‚ç‚¹ çš„è¯­æ³•æœ‰: / ä»æ ¹èŠ‚ç‚¹é€‰å–, // ä»æ‰€æœ‰åŒ¹é…çš„èŠ‚ç‚¹é€‰å– . å½“å‰èŠ‚ç‚¹, .. å½“å‰çš„çˆ¶èŠ‚ç‚¹ nodename é€‰å–èŠ‚ç‚¹, @ é€‰å–èŠ‚ç‚¹çš„å±æ€§ é€šé…ç¬¦: * , é€‰å–è‹¥å¹²è·¯å¾„åˆ™ç”¨ | åˆ†éš” text() : è·å–è¯¥èŠ‚ç‚¹çš„æ–‡æœ¬å†…å®¹ ä¾‹å­: //img/@src : é€‰å–æ‰€æœ‰imgèŠ‚ç‚¹çš„srcå±æ€§ //img/../text : é€‰å–imgèŠ‚ç‚¹çš„çˆ¶èŠ‚ç‚¹ä¸‹çš„textèŠ‚ç‚¹(æ‰€ä»¥textå’Œimgä¸º\"sibling\"å…³ç³») //*/@src : é€‰å–ä»»ä½•èŠ‚ç‚¹çš„srcå±æ€§ ç„¶å è¿‡æ»¤èŠ‚ç‚¹ çš„è°“è¯è¯­æ³•æœ‰: (è°“è¯æ”¾åœ¨æ–¹æ‹¬å·ä¸­) [1] é€‰å–ç¬¬ä¸€ä¸ªå…ƒç´ , [last()] é€‰å–æœ€åä¸€ä¸ª, [position<3] é€‰å–å‰ä¸¤ä¸ª [@lang=\"eng\"] é€‰å–å±æ€§langç­‰äº\"eng\"çš„å…ƒç´  é‡åˆ°æ›´å¤æ‚çš„xpathä¸ä¼šå†™çš„è¯ å°è¯•ç¿»è¯‘æˆè‹±æ–‡ç„¶åGoogleä¸€ä¸‹, å‡ ä¹æ€»ä¼šæ‰¾åˆ°ç­”æ¡ˆ. ä½¿ç”¨chrome-dev-toolè·å¾—å…ƒç´ çš„xpath å¯ä»¥ç›´æ¥ç”¨chromeçš„å¼€å‘è€…å·¥å…·è·å–ç½‘é¡µå…ƒç´ çš„xpath, åœ¨è¯¥ç½‘é¡µä¸ŠæŒ‰ä¸‹crtl-shift-Iå°±å¯ä»¥æ‰“å¼€devtooläº†: ç‚¹å‡»å·¦ä¸Šè§’é‚£ä¸ªæŒ‡é’ˆçš„å°å›¾æ ‡, ç„¶åå†åœ¨ç½‘é¡µä¸Šç‚¹å‡»æƒ³è¦æŸ¥æ‰¾çš„å…ƒç´ , å°±å¯ä»¥å¿«é€Ÿå®šä½åˆ°å®ƒåœ¨htmlé‡Œå¯¹åº”çš„ä»£ç äº†: åœ¨ä»£ç ä¸­ç‚¹å‡»å³é”®, å¯ä»¥å¾—åˆ°xpath: ä¸è¿‡ä¸€èˆ¬chromeæ‰¾åˆ°çš„xpathå¹¶ä¸å…·æœ‰é€šç”¨æ€§, æ‰€ä»¥æœ€å¥½è¿˜æ˜¯è‡ªå·±åˆ†æå¾—åˆ°åˆé€‚çš„xpathä»£ç . chromeç»™æ‰¾åˆ°çš„xpathæ˜¯ //*[@id=\"mw-content-text\"]/ul[1]/li[1] , ç»è¿‡åˆ†æå’Œæµ‹è¯•, //div[@id=\"mw-content-text\"]/ul[position()<last()]/li/text() åº”è¯¥æ˜¯æ¯”è¾ƒæ­£ç¡®çš„æ‰€æœ‰åè¨€çš„xpathä»£ç . ä¸ºäº†æµ‹è¯•xpath, å¯ä»¥ç›´æ¥åœ¨chrome-dev-toolé‡Œé¢æŒ‰ä¸‹ctrl-FæŸ¥æ‰¾xpath: ç”¨lxml.etreeæ“ä½œxpath å­¦ä¼šäº†xpath, æ¥ä¸‹æ¥è¦åœ¨Pythoné‡Œä½¿ç”¨xpathåˆ™éœ€è¦lxml. æ­¥éª¤æ˜¯: é¦–å…ˆç”¨ç½‘é¡µhtmlå†…å®¹å»ºç«‹ä¸€ä¸ªetreeå¯¹è±¡, ç„¶ååœ¨ä½¿ç”¨å®ƒçš„ xpath æ–¹æ³•, ä¼ å…¥ä¹‹å‰å¾—åˆ°çš„xpathè¯­å¥. è¿”å›çš„ç»“æœä¸ºä¸€ä¸ªlist, listé‡Œé¢å°±æ˜¯æ‰€æœ‰åŒ¹é…çš„å…ƒç´ äº†. url = 'https://zh.wikiquote.org/zh-cn/é˜¿çˆ¾ä¼¯ç‰¹Â·æ„›å› æ–¯å¦' r = requests.get(url) sel = etree.HTML(r.text) for quote in sel.xpath('//div[@id=\"mw-content-text\"]/ul[position()<last()]/li/text()'): print quote.strip() xpathä½¿ç”¨æŠ€å·§ è¿™é‡Œè¯´ä¸€ä¸‹xpathçš„å®é™…ä½¿ç”¨æŠ€å·§. æ­£å¥½å‰é¢çš„ä»£ç ä¹Ÿä¸å®Œå–„, ç»“åˆè¿™ä¸ªä¾‹å­æ¥è¯´. å…ˆæŠ“å¤§å†æŠ“å° å…¶å®ä¹‹å‰çš„xpathè¿˜æœ‰ä¸å®Œç¾çš„åœ°æ–¹, æ¯”å¦‚çˆ±å› æ–¯å¦çš„é¡µé¢ä¸­æœ‰ä¸å°‘åè¨€è¿˜æœ‰\"åŸæ–‡\"è¿™ä¸€ä¿¡æ¯: åœ¨ä¸€ä¸ª li èŠ‚ç‚¹ä¸‹é¢æœ‰å¯èƒ½è¿˜æœ‰ä¸œè¥¿, æ‰€ä»¥æˆ‘ä»¬å¯ä»¥å…ˆè·å¾—è¿™ä¸€ä¸ªä¸ª li å…ƒç´ , ç„¶åå†åœ¨æ¯ä¸ª li å…ƒç´ é‡Œé¢å°è¯•æŸ¥æ‰¾\"åŸæ–‡\"çš„ä¿¡æ¯. ä»£ç å¦‚ä¸‹: for li in sel.xpath('//div[@id=\"mw-content-text\"]/ul[position()<last()]/li'): quote = li.xpath('./text()')[0] print quote.strip() origin = li.xpath('./ul/li/span/i/text()') if len(origin)>0: print 'origin:', origin[0] æ›´å¤æ‚çš„ä¾‹å­æ¯”å¦‚è±†ç“£ç”µå½±çš„é¡µé¢, æ¯ä¸€ä¸ªç”µå½±çš„entryéƒ½æœ‰ç”µå½±å/ä¸Šæ˜ æ—¶é—´/å›½å®¶ç­‰å¥½å¤šä¿¡æ¯. å¤„ç†è¿™æ ·çš„é¡µé¢, å¿…é¡»è¦å…ˆæŠŠå¤§çš„å…ƒç´ (æ•´ä¸ªç”µå½±ä¿¡æ¯çš„div)æŠ“å–, ç„¶åå†åœ¨æ¯ä¸ªå¤§å…ƒç´ é‡Œåˆ†åˆ«æå–ä¿¡æ¯. ç”¨ string() è·å¾—nestedèŠ‚ç‚¹æ–‡å­—å†…å®¹ ä¸Šé¢çš„ä»£ç è¿è¡Œç»“æœè¿˜æœ‰ä¸æ»¡æ„çš„åœ°æ–¹: å¯¹äºä¸€äº›å¸¦æœ‰è¶…é“¾æ¥çš„åè¨€, æˆ‘ä»¬çš„ç¨‹åºä¸èƒ½è·å–é‚£äº›å¸¦æœ‰è¶…é“¾æ¥çš„æ–‡å­—, æ¯”å¦‚è¿™å¥è¯: å®ƒçš„htmlä»£ç æ˜¯è¿™æ ·çš„: <li> ä¸€ä¸ª <a href= \"/w/index.php?title=%E5%BF%AB%E4%B9%90&amp;action=edit&amp;redlink=1\" class= \"new\" title= \"å¿«ä¹ï¼ˆé¡µé¢ä¸å­˜åœ¨ï¼‰\" > å¿«ä¹ </a> çš„äººæ€»æ˜¯æ»¡è¶³ä¸æ´»äºå½“ä¸‹ï¼Œè€Œéæµªè´¹æ—¶é—´æ£æƒ³ <a href= \"/wiki/%E6%9C%AA%E6%9D%A5\" title= \"æœªæ¥\" > æœªæ¥ </a> ã€‚ </li> å¦‚æœç›´æ¥ç”¨ /text() å¤„ç†çš„è¯, åªèƒ½å¾—åˆ°\"ä¸€ä¸ª\"è¿™ä¿©å­—... é—®é¢˜å‡ºåœ¨è¿™ä¸ªå…ƒç´ æ˜¯nestedçš„, é‡Œé¢åµŒå¥—äº†åˆ«çš„å…ƒç´ (ä¸¤ä¸ª <a> ), è€Œè¿™ç§æƒ…å†µè¿˜éå¸¸å¸¸è§, æ‰€ä»¥æ€ä¹ˆåŠå‘¢? éœ€è¦ç”¨xpathçš„ string() å‡½æ•°, å®ƒå¯ä»¥è¿”å›èŠ‚ç‚¹çš„æ­£ç¡®å­—ç¬¦ä¸²è¡¨ç¤º. æ‰€ä»¥ä»£ç å†æ¬¡ä¿®æ”¹, quoteçš„è·å–æ”¹ä¸º: quote = li.xpath('string(.)') . xpathé‡Œæä¾›äº†è›®ä¸°å¯Œçš„ å‡½æ•° , é‡åˆ°æ¯”è¾ƒå¤æ‚çš„æ“ä½œçš„æ—¶å€™å¯ä»¥å‚è€ƒä¸€ä¸‹. åˆ é™¤ä¸æƒ³è¦çš„èŠ‚ç‚¹ è¿›è¡Œäº†ä¸Šé¢çš„ä¿®æ”¹, åˆå¼•å…¥äº†æ–°çš„é—®é¢˜: å¯¹äºé‚£äº›æœ‰\"åŸæ–‡\"ä¿¡æ¯çš„liå…ƒç´ è€Œè¨€, ç”¨string()å‡½æ•°çš„è¯ä¼šæŠŠè¿™äº›åŸæ–‡ä¿¡æ¯ä¹ŸåŒ…æ‹¬åœ¨å†…äº†, è¿™ä¸æ˜¯æˆ‘ä»¬æƒ³è¦çš„ç»“æœ. æ¯”å¦‚è¿™æ ·çš„èŠ‚ç‚¹: è¿™æ—¶, å¯ä»¥ç”¨lxmlæä¾›çš„ remove å‡½æ•°, åœ¨lièŠ‚ç‚¹ä¸­æŠŠä¸éœ€è¦çš„èŠ‚ç‚¹å…ˆå»æ‰, ç„¶åå†ä½¿ç”¨string()å°±ä¸ä¼šæœ‰ä¸éœ€è¦çš„å†…å®¹äº†. æœ€ç»ˆçš„ä»£ç ä¸º: for li in sel . xpath ( '//div[@id=\"mw-content-text\"]/ul[position()<last()]/li' ): print '---' origin = li . xpath ( './ul' ) badnodes = li . xpath ( './ul' ) # remove 'origin' stuff in the li element for bad in badnodes : bad . getparent () . remove ( bad ) quote = li . xpath ( 'string(.)' ) print quote . strip () if len ( origin ) > 0 : print origin [ 0 ] . xpath ( 'string(.)' ) . strip () åŠ¨æ€é¡µé¢/æ¨¡æ‹Ÿç™»å½•: å–„ç”¨chrome-dev-tools ä¸Šé¢çš„ç»´åŸºè¯­å½•çš„ä¾‹å­è¿˜ç®—æ¯”è¾ƒç®€å•, å¯¹äºé‚£äº›éœ€è¦åŠ¨æ€åŠ è½½çš„ç½‘é¡µæˆ–è€…éœ€è¦ç™»å½•æ‰å¯ä»¥æŸ¥çœ‹çš„å†…å®¹, å°±éœ€è¦å¤šç”¨chromeå¼€å‘è€…å·¥å…·äº†. ç”±äºè¿™æ–¹é¢è¦æ ¹æ®ä¸åŒç½‘ç«™å»è¯•éªŒ(+çŒœæµ‹), æ‰€ä»¥è¿™é‡Œä»‹ç»çš„ä¸ä¼šå¤ªè¯¦ç»†... ä¸€èˆ¬æ¥è¯´, å¯¹äºåŠ¨æ€åŠ è½½çš„ç½‘é¡µ, å¯ä»¥æ‰“å¼€ctrl-shift-Iæ‰“å¼€devtoolsä»¥å, é€‰æ‹©networkæ ‡ç­¾é¡µç„¶ååˆ·æ–°, åœ¨æœ€å¼€å§‹çš„åœ°æ–¹ä¸€èˆ¬ä¼šæœ‰formæäº¤(å¯ä»¥ç”¨ requests.post æ¨¡æ‹Ÿ)æˆ–è€…urlè¯·æ±‚ä¹‹ç±»çš„ä¸œè¥¿, ä¸€è·¯è¿½è¸ªè¿‡å»å³å¯. è¿™é‡Œå±•ç¤ºä¸€ä¸‹ç”¨cookiesæ¨¡æ‹Ÿç™»å½•å¾®åšçš„è¿‡ç¨‹. weiboç”µè„‘ç‰ˆçš„é¡µé¢å¤ªè¿‡å‡Œä¹±, ç”¨å¾®åšæ‰‹æœºç‰ˆ(weibo.cn). ç”¨dev-toolsè·å–ç™»å½•cookies cookieså°±æ˜¯ä¸€å°æ®µ(åŠ å¯†åçš„)å­—ç¬¦ä¸², å®ƒçš„å¤§æ¦‚æ˜¯æœ¬åœ°å­˜å‚¨çš„ä¿ç•™ç”¨æˆ·ä¿¡æ¯çš„åŠ å¯†å­—ç¬¦, æœ‰çš„ç½‘ç«™ç‚¹é€‰\"ä¸‹æ¬¡è‡ªåŠ¨ç™»å½•\"æ—¶, å…¶å®å°±æ˜¯ç”Ÿæˆäº†ä¸€ä¸ªcookieä¿å­˜åœ¨æœ¬åœ°, ä¸‹æ¬¡ç™»å½•æ—¶åªè¦å‘ç½‘ç«™å‘é€è¿™ä¸²cookieså­—ç¬¦, å¦‚æœcookiesæ²¡æœ‰è¿‡æœŸçš„è¯å°±å¯ä»¥ç›´æ¥ç™»å½•äº†. åœ¨è¦ç‚¹å‡»ç™»å½•å‰, æ‰“å¼€devtoolså¹¶é€‰æ‹©networkæ ‡ç­¾. ç„¶ååœ¨ç™»å½•ä»¥å, æ‰¾å¼€å¤´çš„å‡ ä¸ªrequests, å®šä½åˆ°ä¸€ä¸ªheaderå¸¦æœ‰cookieçš„requestä¸Šé¢, cookieå°±åœ¨è¿™é‡Œäº†(æˆ‘è¯•éªŒå‘ç°, å¥½åƒéœ€è¦ç™»å½•ä»¥åå†åˆ·æ–°ä¸€ä¸‹, è¿™æ—¶dev-toolså¾—åˆ°çš„cookiesæ‰æ˜¯å¯ç”¨çš„): å¦ä¸€ç§åŠæ³•æ˜¯ç”¨chromeè‡ªå¸¦çš„ç›‘æµ‹é¡µé¢ , (è®¾ç½®captureâ†’Include the actual bytes sent/received), ä¹Ÿå¯ä»¥å¾—åˆ°cookies: åœ¨requestsé‡Œä½¿ç”¨cookies ä¸€æ—¦è·å¾—äº†cookieså­—ç¬¦ä¸², æ¨¡æ‹Ÿç™»å½•å°±å¾ˆç®€å•: åœ¨requests.geté‡Œä¼ å…¥headerså‚æ•°: import requests hea = { 'Cookie' : '_T_WM=3a52fbed11ed299552cf910553be7d3b; SUB=_2A251Y_geDeTxGedG6lUQ9SrKyj2IHXVWr5hWrDV6PUJbkdAKLUejkW1CLxUVXEMZZq8EFgsGuIYNqC6MqQ..; gsid_CTandWM=4uno88c512gBK6O5nyuKd7CIW9R' } url = 'http://weibo.cn' html = requests . get ( url , headers = cook ) . content # use content instead of text print html ä¿å­˜çˆ¬å–çš„å†…å®¹ ä¿å­˜æ–‡æœ¬å†…å®¹: csv ä¿å­˜æ–‡æœ¬ä¿¡æ¯æˆ‘ä¸€èˆ¬å–œæ¬¢æ”¾è¿›csvé‡Œé¢, è€Œç”¨ pandas æ“ä½œcsvæ–‡ä»¶ä¼šæ¯”è¾ƒæ–¹ä¾¿: åœ¨ç¨‹åºä¸­, æŠŠæ¯ä¸€ä¸ªæŠ“å–çš„æ¡ç›®(item)æ”¾è¿›ä¸€ä¸ªå­—å…¸, ç„¶åappendåˆ°dataframeé‡Œé¢, æœ€åç›´æ¥ to_csv æå®š. ä¸‹é¢æ˜¯ä¸ªç®€å•çš„ç¤ºæ„ä»£ç , å‡è®¾æˆ‘ä»¬è¦æŠ“å–ä¸€äº›æ–‡ç« çš„title, dateå’Œå‘è¡¨åœ°ç‚¹ä¸‰ä¸ªä¿¡æ¯: import pandas as pd df = pd . DataFrame () # ... for item in __loop__ : #... title , place , date = __code_for_extracting_these_fields__ #... series = pd . Series ({ 'title' : title , 'place' : place , 'date' : date }) df = df . append ( series , ignore_index = True ) df = df [[ 'title' , 'date' , 'place' ]] # adjust column order df . to_csv ( 'melanthon.csv' , index = False , encoding = 'utf-8' ) ä¿å­˜éæ–‡æœ¬å†…å®¹ æœ‰äº›æ—¶å€™æˆ‘ä»¬è¦ä¸‹è½½å›¾ç‰‡/è§†é¢‘ç­‰éæ–‡æœ¬çš„ä¿¡æ¯, æˆ‘ä»¬å¯ä»¥ç”¨xpathå®šä½åˆ°å›¾ç‰‡/è§†é¢‘çš„é“¾æ¥åœ°å€å¤„, é‚£ä¹ˆä¸‹è½½åˆ°æœ¬åœ°æ–‡ä»¶, æˆ‘æŸ¥çš„æœ‰ä¸¤ä¸ªåŠæ³•. ç¬¬ä¸€ä¸ªæ–¹æ³•ç®€å•ç²—æš´: ç”¨urlretrieve, ç›´æ¥å¾€å‡½æ•°é‡Œä¼ å…¥urlå’Œæœ¬åœ°è·¯å¾„å³å¯: from urllib import urlretrieve urlretrieve ( img_url , fpath ) å¦ä¸€ä¸ªæ–¹æ³•è¿˜æ˜¯ç”¨requests, ç”¨åˆ†ç‰‡çš„æ–¹å¼è·å–æ–‡ä»¶(æˆ‘çŒœè¿™ç§æ›´é€‚åˆå¤§æ–‡ä»¶çš„ä¸‹è½½?): resp = requests.get(url, stream=True) f = open(fpath, 'wb') for chunk in resp.iter_content(chunk_size=1024): if chunk: # filter out keep-alive new chunks f.write(chunk) f.close() å¹¶è¡Œä¸‹è½½ åœ¨ä¸‹è½½å¤§æ–‡ä»¶çš„æ—¶å€™å¯ä»¥éå¸¸æ˜æ˜¾æ„Ÿå—åˆ°, ä¸‹è½½æ–‡ä»¶çš„è¿‡ç¨‹å æ®äº†å¤§éƒ¨åˆ†ç¨‹åºçš„æ‰§è¡Œæ—¶é—´. æ¯”è¾ƒç®€å•çš„åŠ é€ŸåŠæ³•å°±æ˜¯, å…ˆæŠŠæ‰€æœ‰è¦ä¸‹è½½çš„æ–‡ä»¶url(ä»¥åŠæœ¬åœ°ä¿å­˜çš„fpath)æ”¾è¿›ä¸€ä¸ªlisté‡Œ, æœ€ååœ¨ä¸€èµ·ä¸‹è½½, è¿™æ—¶å°±å¯ä»¥ä½¿ç”¨Pythonçš„å¤šè¿›ç¨‹æ¨¡å—è¿›è¡ŒåŠ é€Ÿäº†. æ ¸å¿ƒçš„ä»£ç åªå…¶å®å°±æ˜¯pool.map, æŠŠçˆ¬å»çš„å‡½æ•°mapåˆ°è¦çˆ¬çš„urlåˆ—è¡¨ä¸Š: from multiprocessing.dummy import Pool pool = Pool ( 4 ) results = pool . map ( crawl_func , urls_list ) pool . close () pool . join () ä¸‹é¢æ˜¯ä¸ªå®é™…çš„ä¾‹å­, é¦–å…ˆå®šä¹‰äº†ä¸€ä¸ªdownloadå‡½æ•°ç”¨äºä¸‹è½½è§†é¢‘, ç„¶ådownload_videoså‡½æ•°, å¤šçº¿ç¨‹ä¸‹è½½è§†é¢‘. def download (( url , fpath ), headers = {}): fname = os . path . split ( fpath )[ - 1 ] print 'start downloading %s ...' % fname with open ( fpath , 'wb' ) as f : while 1 : resp = requests . get ( url , stream = True , headers = headers ); time . sleep ( 1.0 ) if resp . ok : break print resp . status_code for chunk in resp . iter_content ( chunk_size = 1024 ): if chunk : # filter out keep-alive new chunks f . write ( chunk ) print 'download finished: %s ' % fpath def download_videos ( video_urls_list ): # input = list of (url,fpath) pairs print 'downloading %d files in parallel...' % len ( video_urls_list ) from multiprocessing import Pool pool = Pool ( processes = 4 ) pool . map ( download , video_urls_list ) pool . close () pool . join () print 'all downloading finished !' æœ€å, æˆ‘å†™äº†ä¸€ä¸ªæå®¢å­¦é™¢è¯¾ç¨‹è§†é¢‘çš„ä¸‹è½½è„šæœ¬, ç”¨cookiesæ¨¡æ‹Ÿç™»å½•. ä¸€ç™¾æ¥è¡Œçš„ä»£ç , è·‘ä¸€æ™šä¸Šå¯ä»¥ä¸‹è½½å¥½å‡ åGçš„è§†é¢‘... gistæ”¾åœ¨: https://gist.github.com/X-Wei/46817a6614e3677391ab13e420b4cb9f (ä¸è¿‡è¿™é‡Œç”¨çš„cookiesæ—©å°±è¿‡æœŸäº†)","tags":"tech","title":"ä½¿ç”¨requestså’Œlxmlç¼–å†™pythonçˆ¬è™«å°è®°"},{"url":"https://x-wei.github.io/notes/ocamlMOOC_wk6_modules.html","text":"this week: programming-in-the-large using the module system of OCaml. 1. STRUCTURING SOFTWARE WITH MODULES in large project: mangage high number of definitions â†’ abstractions built on top of other abstractions. layers of abstractions: hide information divide program into components identifiers organised to avoid naming conflicts module as namespace dot-notation: access module component. ex. List.length or first open List then just call length if open 2 modules having identical identifiers, the last opened module will be used. to define a module: module SomeModuleIdentifier = struct (* a seq of definitions *) end module name: start with an upper case to alias a module: module SomeModuleIdentifier = SomeOtherModuleIdentifier # module Stack = struct type ' a t = ' a list let empty = [] let push x s = x :: s let pop = function | [] -> None | x :: xs -> Some ( x , xs ) end ;; module Stack : sig type ' a t = ' a list val empty : ' a list val push : ' a -> ' a list -> ' a list val pop : ' a list -> ( ' a * ' a list ) option end # let s = Stack . empty ;; val s : ' a list = [] # let s = Stack . push 1 s ;; val s : int list = [ 1 ] # let x , s = match Stack . pop s with | None -> assert false | Some ( x , s ) -> ( x , s );; val x : int = 1 val s : int list = [] # let r = Stack . pop s ;; val r : ( int * int list ) option = None hierachical module structure a module can contain other module definitions a signature can also contain module signatures if module B is inside A , use A.B to get its namespace module Forest = struct type ' a forest = ' a list module Tree = struct type ' a tree = Leaf of ' a | Node of ' a tree forest end end ;; open Forest . Tree ;; let t = Leaf 42 ;; 2. INFORMATION HIDING a module should come with some user manual (\"contract\") to indicate to clients: function preconditions that must be verified data invariants that must be preserved definitions that user must not rely on (cause they'll change in the future) a module signature represents this contract, the type checker will enforce point 2 and 3 . module signatures a module's type is called signature or interface programmer can force a module to have a specific signature to define a signature: module type sig (* a seq of declarations of following form:*) val some_identifier : some_type type some_type_identifier = some_type_definition exception SomeException of some_type end to construct a module with a specific signature: module M: sig ... end = struct ... end to name a signature: module type S = sig ... end then use this name to annotate module: module M:S = struct ... end example: natural numbers module Naturals : sig (* Invariant: A value of type t is a positive integer *) type t = int val zero : t val succ : t -> t val pred : t -> t end = struct type t = int let zero = 0 let succ n = if n = max_int then 0 else n + 1 let pred = function | 0 -> 0 | n -> n - 1 end ;; abstract types we can use the module normally: open Naturals ;; let rec add : t -> t -> t = fun x y -> if x = zero then y else succ ( add ( pred x ) y );; but the invariant can be easily broken: let i_break_the_abstraction = pred (- 1 );; This don't have compiler error, as the type of pred is int , we can pass any int to it. â‡’ use abstract types that will give no choice to the client but to respect the rule. in the signature: module Naturals : sig (* Invariant: A value of type t is a positive integer *) type t (* remove the type value of t in the signature *) val zero : t val succ : t -> t val pred : t -> t end then calling pred (-1) will cause an error. â†’ we have hiddent the definition of the type t the sig don't publish t's implementation anymore, so the checker ensures clients can't use that fact t is called an abstract type . With abstract type, users can't do pattern matching, to allow pattern matching while forbidding the direct application of data constructors, OCaml provides a mechanism called private types . see here . 3. CASE STUDY: A MODULE FOR DICTIONARIES An example of using abstract types to increase the modularity of programs. Define a dictionary signature: module type DictSig = sig type ( ' key , 'value ) t = ( ' key * 'value ) list (* internal repr of the dict is exposed@ *) val empty : ( ' key , 'value ) t val add : ( ' key , 'value ) t -> ' key -> 'value -> ( ' key , 'value ) t exception NotFound val lookup : ( ' key , 'value ) t -> ' key -> 'value end ;; module Dict : DictSig = struct type ( ' key , 'value ) t = ( ' key * 'value ) list (*......implementation *) end ;; Then a client can use this module: module ForceArchive = struct let force = Dict . empty let force = Dict . add force \"luke\" 10 let force = Dict . add force \"yoda\" 100 let force_of_luke = Dict . lookup force \"luke\" let all_jedis = List . map fst force (* here client knows that dict is a list!*) end ;; This is not very good if the internal implemtation of Dict is changed into For instance, change the implemention into a BST: type ( ' key , 'value ) t = | Empty | Node of ( ' key , 'value ) t * ' key * 'value * ( ' key , 'value ) t â†’ change the signature of module to abstract type. 4. FUNCTORS Functors are functions from modules to modules. In other words, a functor is a module parameterized by another module. Continue the last example, we want to choose a Dict implementation externally. â†’ module functor To declear a functor, add the Dict module in the parameter module ForceArchive ( Dict : DictSig ) = struct let force = Dict . empty let force = Dict . add force \"luke\" 10 let force = Dict . add force \"yoda\" 100 let force_of_luke = Dict . lookup force \"luke\" end ;; Then we can call the explicit implementation in the client: module Dict_list : DictSig = struct ... end ;; module Dict_bst : DictSig = struct ... end ;; module Client1 = ForceArchieve ( Dict_list ) module Client2 = ForceArchieve ( Dict_bst ) a functor is a module waiting for another module syntax: module SomeModuleIdentifier (SomeModuleIdentifier: SomeSignature) = struct ... end;; to apply a functor to a module: SomeModuleIdentifier (SomeModule) signature of a functor: functor (ModuleIdentifier: SomeSignature) -> sig ... end example: Set and Map They expects a module satisfying the following signature: module type OrderedType = sig type t val compare : t -> t -> int end Once a module E has this signature, Set.Make (E) offers over sets of E.t elements Map.Make (E) .... type parameterization of exception can be done using functor. In signature declaration: module type DictSig = sig (* before: type ('key, 'value) t *) type key (* make the key not polymorphic *) type 'value t val empty : 'value t val add : 'value t -> key -> 'value -> 'value t exception NotFound of key (* parameterize exception type in signature *) val lookup : 'value t -> key -> 'value end ;; In the implementation make the module a functor : add the Key module as argument module Dict ( Key : sig type t val compare : t -> t -> int end ) : DictSig = struct type key = Key . t (* key is the type of the Key module *) ... end ;; (... don't quite get it......) type constraint : DictSig with key=string","tags":"notes","title":"[OCaml MOOC] week6: MODULES AND DATA ABSTRACTION"},{"url":"https://x-wei.github.io/notes/ocamlMOOC_wk5_imperative.html","text":"1. IMPERATIVE FEATURES IN OCAML functional language: immutable data structure identifiers instead of variables pure functions but imperative features are useful: exceptions to alter control flow ops to consume input and output mutable data structures for and while loop for iterations 2. GETTING AND HANDLING YOUR EXCEPTIONS exceptions in ocaml are just constructors of a special sum type exn . the constructors can have arguments new exception can be defined at any time unlike usual sum types, exn can be extended but exception can't be polymorphic raise exception to define an exception sum type: exception E;; to raise exceptions: raise E;; when an exception is raise, any computation is immediately stopped : let _ = raise E in [1;2;];; example: exception EmptyList ;; (*define an exn value*) let head = function | a :: r -> a | [] -> raise EmptyList ;; head [ 1 ; 2 ; 3 ];; head [] ;; handling exceptions using try-with to capture exceptions try expr with | p1 -> e1 | p2 -> e2 expr is evaluated, if during evaluation of expr , any E is raised, then it's matched with patterns in the with clause if E matches pi , then evaluate expression ei note: all the ei s must have the same type as expr example: mul elements of a list, once encountered a 0, stop the computation. let rec multl = function | [] -> 1 | a :: rest -> if a = 0 then 0 else a *( multl rest );; (*the above implementation is not efficient: if 0 is at the end, then have to pop the whole stack and get 0 at the end *) (*using exceptions to directly return as soon as we get a 0 (and throw away the stack) *) exception Zero ;; let mullexc l = let rec aux = function | [] -> 1 | a :: rest -> if a = 0 then raise Zero else a *( aux rest ) in try aux l with Zero -> 0 ;; runtime errors runtime errors can be: div by 0 incomplete pattern matching out-of-bound In these cases, ocaml raise an exception. 3. GETTING INFORMATION IN AND OUT the unit type has only 1 value: () often used as input/output type for funcitons with side effects Simple input/output print_int : print out an integer read_line : read one line of string other similar funs... # print_int ;; - : int -> unit = < fun > # print_int 123 ;; 123 - : unit = () # read_line ;; - : unit -> string = < fun > # read_line () ;; (* give the func a parameter *) hello - : string = \"hello\" 4. SEQUENCES AND ITERATIONS sequences of expressions ex. print several values. let _ = print_int 1 in let _ = print_int 2 in let _ = print_int 3 ;; cleaner way: separate such expressions just by single semi-colon: print_int 1 ; print_int 2 ; print_int 3 ; expression sequence: e1; e2; ...; en eval ei in turn drops all internal results, return the last expression all intermediate exprs should be of type unit (otherwise warning) note: precedence of ; : if true then print_int 1; print_int 2;; either use parentheses or use begin-end: (e1; ...; en) or: begin e1; e2;... en end iterations ex. print all integers from 1 to 10 can define a recursive foreach function: # let foreach starti endi f = let rec aux n = if n <= endi then ( f n ; aux ( n + 1 )) else () in aux starti ;; val foreach : int -> int -> ( int -> ' a ) -> unit = < fun > # foreach 1 10 print_int ;; 12345678910 - : unit = () for loop an easier way: for loop # for i = 1 to 10 do print_int i done ;; 12345678910 - : unit = () for id = e1 to e2 do e3 done the id cannot be altered loop body e3 is evaluated for each value of id type of the for loop is unit loop body e3 is expected to be unit (warning otherwise) alternative: backward for-loop for i = 10 downto 1 do print_int i done ;; while loop while e1 do e2 done condition e1 is evaluated, if true, the body e2 is evaluated type of the while loop is unit , body e2 expected to be unit to ignore the warning when loop body is not unit: use ignore :'a -> unit function 5. MUTABLE ARRAYS the (immutable) array: fixed size access to elements via index constant time for accessing element well-adapted to loop constructs example: find cubes which are also squares: let cubes n = Array . init n ( fun i -> i * i * i );; let sqrti n = truncate ( sqrt ( float n )) (*get sqrt of an integer*) ;; let issquare n = let s = sqrti n in s * s = n ;; let squaresubes n = let c = cubes n in for i = 0 to n - 1 do if issquare c .( i ) then ( print_int c .( i ); print_string \" \" ) done ;; ocaml arrays are real arrays: each cell can be modified in place using <- operator in-place modification: e1 <- e2 e1 denotes a mutable value type of the opeartion is unit let a = [| 0 ; 1 ; 2 ; 3 ; 4 |];; a .( 0 );; a .( 0 ) <- 100 ;; a .( 0 );; example: rotate array let rotate a = let n = Array . length a in let v = a .( 0 ) in for i = 0 to n - 2 do a .( i ) <- a .( i + 1 ) done ; a .( n - 1 ) <- v ;; 6. MUTABLE RECORD FIELDS records: tuples with distinct name components. some_type_identifier = { field_name_1 : some_type1 ; ...; filed_name_n : some_typen } let r = { field_name_1 = e1 ; ...; field_name_n = en } example: type point2D = { x : int ; y : int };; let origin = { x = 0 ; y = 0 };; let offset_h p dx = { p with x = p . x + dx };; (*create a new point*) let offset_v p dy = { p with y = p . y + dy };; we can define some fields of a record to be mutable: type some_type_identifier = {...; mutable field_name_i: some_type_i;...} these mutable fields can be modified in place using <- type point2D = { mutable x : int ; mutable y : int }; let origin = { x = 0 ; y = 0 };; let move p dx dy = p . x <- p . x + dx ; p . y <- p . y + dy ;; (* modify p in place*) move origin 2 2 ;; 7. VARIABLES, AKA REFERENCES more consise way: the predefined ref type (that wraps the above): ' a ref = {mutable contents: 'a) the ref function: ' a -> 'a ref !r : prefix operator to read the contents of the reference r r:=v : update the content of the reference # let i = ref 0 ;; val i : int ref = { contents = 0 } # i ;; - : int ref = { contents = 0 } # i := ! i + 1 ;; - : unit = () # i ;; - : int ref = { contents = 1 } example: log2 of an integer let log2int n = let count = ref 0 and v = ref n in while ! v > 1 do count := ! count + 1 ; v := ! v / 2 done ; ! count ;; log2int 16 ;; example 2: read int list from stdin # let read_int () = in_of_string ( read_line () );; # let read_intlist () = let l = ref [] in let doread () = try while true do l := ( read_int () ) :: ! l done with _ -> () in doread () ; List . rev ! l ;; # read_intlist () ;; 1 2 3 4 5 6 &#94; C - : int list = [ 1 ; 2 ; 3 ; 4 ; 5 ; 6 ]","tags":"notes","title":"[OCaml MOOC] week5: EXCEPTIONS, INPUT OUTPUT AND IMPERATIVE CONSTRUCTS"},{"url":"https://x-wei.github.io/notes/ocamlMOOC_wk4_higher_order_fun.html","text":"1. FUNCTIONAL EXPRESSIONS syntax for functional expr: function some_identifier -> some_expr the type of the functional expr is t1 -> t2 where t1 is the type of some_identifier, t2 is type of some_expr ex. function x -> x + 1 ;; ( function x -> 2 * x ) 5 ;; (*annonymous function*) the previous way of defining function: let f x = e , is just an abbreviation for common let-binding: let f = function x -> e In fact, the most general form of a function definitoin contains a seq of pattern matching: function | pattern_1 -> expr_1 | pattern_2 -> expr_2 When only 1 pattern, the | is omitted. example let rc length = function | [] -> 0 | _:: r -> 1 + length r ;; type expr = | Int of int | Add of expr * expr ;; let rec eval = function | Int n -> n | Add ( e1 , e2 ) -> ( eval e1 ) + ( eval e2 );; 2. FUNCTIONS AS FIRST-CLASS VALUES functional types are just values of a particular type, thus this allows the uniform way of naming a value let x = ... Types govern function application. We can apply e1 to e2 when: e1 has type t1 -> t2 t1 matchs the type of e2 let f1 = [( function x -> x + 1 ); ( function x -> 2 * x )];; ( List . hd fl ) 17 ;; let apply_twice f x = f ( f x );; apply_twice ( function x -> 2 * x ) 1 ;; let rec apply_n_times f n x = if n <= 0 then x else apply_n_times f ( n - 1 ) ( f x );; apply_n_times ( function x -> 2 * x ) 10 1 ;; let compose f g = ( function x -> f ( g x ));; let fg = compose ( function x -> x + 1 ) ( function x -> 2 * x ) in fg 10 ;; function pitfalls function apply from left to right ( function application associates to the left ): exp1 exp2 exp3 is equivalent to: (exp1 exp2) exp3 let double = function x -> 2 * x ;; double double 5 ;; double ( double 5 );; 3. FUNCTIONS WITH MULTIPLE ARGUMENTS anonymous function with several arguments: use keyword fun : fun p1 ... pn -> exp unlike function keyword, fun only admits one case/branch remark: funs with several arguments are just abbrevations for single-argument functions that returns a function: let f1 = function n -> ( function x -> n + x );; ( f1 17 ) 73 ;; f1 17 73 ;; let f2 = fun n x -> n + x ;; f2 17 73 ;; ( f2 17 ) 73 ;; in fact, fun x1 ... xn -> e is just abbreviation for: function x1 -> (..(function x2 -> ... -> (function xn -> e)..) 4. PARTIAL FUNCTION APPLICATION let f = fun x y -> exp is equivalent to: let f = function x -> (function y -> exp) â‡’ partially apply f (ie, f x ) will give a function. let f1 = fun x y x -> x + y * z ;; let f2 = f1 1 ;; let f3 = f2 2 ;; f3 4 ;; what happens at func-application: when applying f = function x->e to a : â†’ evaluate e in the context x=a â†’ the arrow -> will block any evaluation let f = fun x y -> ( x / 0 ) + y ;; let f2 = f1 17 ;; (*error will not happen here, as the `->` blocks the evaluation!*) f2 42 ;; partial evaluation sometimes we can do part of a calculation as soon as we have the frist few arguments â‡’ extract that part of calculation before the arrow ! let egal l1 l2 = List . sort compare l1 = List . sort compare l2 ;; let egalp l1 = let l1sorted = List . sort compare l1 in (*sort the 1st argument before going to the next functional abstraction*) function l2 -> l1sorted = List . sort compare l2 ; 5. MAPPING FUNCTIONS ON LISTS many useful functions in the List module, either open List at beginning, or with pointed notation ( List.hd ) implementation let rec map f = function | [] -> [] | h :: r -> ( f h ):( map f r );; map ( function x -> x * x ) [ 1 ; 2 ; 3 ; 4 ; 5 ];; let map2 f l1 l2 = match ( l1 , l2 ) with | [] , [] -> [] | h1 :: r1 , h2 :: r2 -> ( f h1 h2 )::( map2 f r1 r2 ) | _ -> raise ( Invalid_argument \"List.map2\" );; map2 ( fun x y -> x + y ) [ 1 ; 2 ; 3 ] [ 10 ; 20 ; 30 ];; examples example1: int vectors/matrices row vector: int list matrix: list of row vectors turn infix operators into functions : using parentheses (+) (/) ( * ) ...(note: spaces are necessary for * , otherwise this turns into comments... let vsum = List . map2 (+);; (* use partial application *) vsum [ 1 ; 2 ; 3 ] [ 10 ; 20 ; 30 ];; let msum = List . map2 ( List . map2 (+));; (* nested partial application *) msum [[ 1 ; 2 ;]; [ 3 ; 4 ]] [[ 10 ; 20 ]; [ 30 ; 40 ]];; example2: get all sublists of a list type: a' list -> 'a list list write using induction: let rec sublists = function | [] -> [ [] ] | h :: r -> let rp = sublists r let appendh = function lst -> h :: lst in rp @ ( map appendh rp ) 6. FOLDING FUNCTIONS ON LISTS map: apping a unary function on list, all elements considered isolated. folding: combining all elements of a list using a binary operator . 2 different ways of folding: fold-left/fold-right fold_right fold_right: ('a -> 'b -> 'b) -> 'a list -> 'b -> 'b implementation and usage: let rec fold_right f l b = match l with | [] -> b | h :: r -> f h ( fold_right f r b );; fold_right (+) [ 1 ; 2 ; 3 ; 4 ] 0 ;; let concat = fold_right ( fun x y -> x :: y );; ( partial application of fold_right ) concat [ 1 ; 2 ; 3 ] [ 3 ; 4 ; 5 ];; fold_left fold_left: ('a -> 'b -> 'a) -> 'a -> 'b list -> 'a note: the default value's position is different from that of fold_right ! let rec fold_left f a l = match l with | [] -> a | h :: r -> fold_left f ( f a h ) r ;; fold_left (+) 0 [ 1 ; 2 ; 3 ];; let reverse = fold_left ( fun x y -> y :: x ) [] ;; (* partial application *) reverse [ 1 ; 2 ; 3 ; 4 ];; examples example1: Inner product of int vectors first get pairwise product, then sum up. let product v1 v2 = List . fold_left (+) 0 ( List . map2 ( * ) v1 v2 );; product [ 1 ; 2 ; 3 ] [ 4 ; 5 ; 6 ];; example2: countif let countif p l = List . fold_left ( fun acc elem -> if p elem then acc + 1 else acc ) 0 l ;; countif ( fun x -> x > 0 ) [ 3 ; 1 ;- 2 ; 0 ; 4 ];;","tags":"notes","title":"[OCaml MOOC] week4: HIGHER ORDER FUNCTIONS"},{"url":"https://x-wei.github.io/notes/ocamlMOOC_wk3_advanced_ds.html","text":"Last week, we only defined flat data structures which are nice to aggregate values but quite limited when you try to structure values. This week: algebraic datatypes . 1. TAGGED VALUES â‡’ change the return type to a type query_result , which can be either of these: an error a new database (in case of successful insertion/deletion) a contact and its index (in case of successful search) in ocaml, can define such a type (called sum type ) by : # type query_result = | Error | NewDatabase of database | FoundContact of contact * int ;; More generally, to define disjoint union of types: type some_type_identifier = | SomeTag of some_type | ... | SomeTag of some_type tag must start with uppercase letter Taga are also called conscturcors , grammar is like java constructors: SomeTag (some_expr, ..., some_expr) (the parenthesis can be omitted if only 1 expr is required) enumeration: type color = Black | Gray | White;; observing tagged values must prvide an expression for each possible case of the value. A case is described by a pattern: SomeTag (some_pattern, ..., some_pattern) A branch is composed of a pattern an an expr separated by an arrow. some_pattern -> some_expr pattern matching is a seq of branches: match some_expr with | some_pattern -> some_expr |... | some_pattern -> some_expr example: let engine db query = match query with | Insert contact -> insert db contact | Delete contact -> delete db contact | Search name -> search db name ;; synatactic shortcut: function keyword (for functions with only 1 argument) pitfalls ill-typed pattern non-exhaustive case analysis These errors can be caught by the checker. 2. RECURSIVE TYPES data structures with unbounded depth, ie, list/tree. For example, an integer list can be defined as: # type int_list = | EmptyList | SomeElement of int * int_list ;; type int_list = EmptyList | SomeElement of int * int_list in the machine: functions on such datastruct usually use pattern matching: # let rec length = function | EmptyList -> 0 | SomeElement ( x , l ) -> 1 + length l ;; val length : int_list -> int = < fun > The predefined type in ocaml: t list empty list: [] ( [] is just a special tage corresponding to EmptyList) head and tail: i::r ( :: is just a special tage corresponding to SomeElement) a list can be defined by enumeration: [some_expr; ...; some_expr] list concatenation: @ # let rec length = function | [] -> 0 | x :: xs -> 1 + length xs ;; val length : ' a list -> int = < fun > # length [ 1 ; 2 ; 3 ;];; - : int = 3 # let rec rev = function | [] -> [] | x :: xs -> ( rev xs )@[ x ];; val rev : ' a list -> ' a list = < fun > # rev [ 1 ; 2 ; 3 ; 4 ];; - : int list = [ 4 ; 3 ; 2 ; 1 ] the rev function above has quad-complexity â†’ here is the tail rec version: # let rec rev_aux accu = function | [] -> accu | x :: xs -> rev_aux ( x :: accu ) xs ;; val rev_aux : ' a list -> ' a list -> ' a list = < fun > # let rev l = rev_aux [] l ;; val rev : ' a list -> ' a list = < fun > 3. TREE-LIKE VALUES the database type is formed in a (binary)tree-like fashion: # type database = | NoContact | DataNode of database * contact * database ;; type database = NoContact | DataNode of database * contact * database impose the BST invariant: Now the functions insert/search/delete is BST fashion: 4. CASE STUDY: A STORY TELLER type-directed programming: writing the right type declaration is half success. define a story type (and other types: type story = { context : context ; perturbation : event ; adventure : event list ; conclusion : context ; } and context = { characters : character list } and character = { name : string ; state : state ; location : location ; } and event = | Change of character * state | Action of character * action and state = Happy | Hungry and action = Eat | GoToRestaurant and location = Appartment | Restaurant ;; 5. POLYMORPHIC ALGEBRAIC DATATYPES parametric programming: example â€” list is parametrized by the element type. Hence in List module contains polymorphic functions. Good for code reuse. define your own polymorphic types, using ' a to indicate unkonw types: type ('a1,...,1aN) some_type_identifier = some_type example: type ' a option = | None | Some of ' a ;; type ( ' a , ' b ) either = | Left of ' a | Right of ' b ;; type square = { dimension : int );; type circle = { radius : int );; type shape = ( square , circle ) either ;; another example: bst: type ' a bst = | Empty | Node of ' a bast * a' * ' a bst ;; let rec insert x = function | Empty -> Node ( Empty , x , Empty ) | Node ( l , y , r ) -> if x = y then Node ( l , y , r ) else if x < y then Node ( insert x l , y , r ) else Node ( l , y , insert x r );; 6. ADVANCED TOPICS precise typing when 2 types have the same structure but different semantical meaning: a sum type with only one constructor can be useful to distinguish them. example: type euro = Euro of float ;; type dollar = Dollar of float ;; let euro_of_dollar ( Dollar d ) = Euro ( d /. 1 . 33 );; let x = Dollar 4 ;; let y = Euro 5 ;; let valid_comparison = ( euro of dollar x < y ) disjunctive patterns Use or-patterns to factorize branches into a unique branch: some_pattern_1 | some_pattern_2 means observation of either pattern 1 or pattern 2. constraint: both must contain the same identifiers . ex: let remove_zero_or_one_head = function | 0 :: xs | 1 :: xs -> xs | l -> l let remove_zero_or_one_head' = function | ( 0 | 1 ):: xs -> xs | l -> l as-patterns convenient ot name a matched component : some_pattern as x ( if the value can be observed using some_pattern, name it x) ex. let rec duplicate_head_at_the_end = function | [] -> [] | ( x ::_) as l -> l @[ x ] guard: pattern matching branch using when a guard (some bool-expression) can add an extra constraint to a pattern: ex. let rec push_max_at_the_end = function | ( [] | [_]) as l -> l | x ::(( y ::_) as l ) when x <= y -> x ::( push_max_at_the_end l ) | x :: y :: ys -> y :: push_max_at_the_end ( x :: ys );; (*when x>y, should permuate x and y*)","tags":"notes","title":"[OCaml MOOC] week3: MORE ADVANCED DATA STRUCTURES"},{"url":"https://x-wei.github.io/notes/ocamlMOOC_wk2_basics_ds.html","text":"this week: structure code with types: tuples, records, arrays. 1. USER-DEFINED TYPES primary use of types: document your code use type type_identifier = some_type to define a new type ( type_identifier is synonym/abbrevation of some_type ) type_identifier must start with lowercase letter already known types: int, bool, string, char ... use : to add type annotation to identifiers let x : some_type = some_expr annotation param/return type of a function: let f(x: some_type): return_type = some_expr or let f x : return_type = some_expr example: colors # type color = int ;; type color = int # let red : color = 0 ;; val red : color = 0 # let white : color = 1 ;; val white : color = 1 # let blue : color = 2 ;; val blue : color = 2 example: positive integers # type positive = int ;; type positive = int # let abs ( x : int ) = ( if x < 0 then - x else x : positive );; val abs : int -> positive = < fun > # let abs' ( x : int ): positive = if x < 0 then - x else x ;; val abs' : int -> positive = < fun > pitfalls in the REPL, careful with unintended hiding of type identifiers: # type t = int ;; type t = int # let x : t = 0 ;; val x : t = 0 # type t = bool ;; type t = bool # let f ( x : t ) = not x ;; val f : t -> bool = < fun > # let z = f x ;; Error : This expression has type t / 1027 = int but an expression was expected of type t / 1029 = bool limitations of type synonyms â‡’ but ocaml has ways to define more precise types to avoid such error statically 2. TUPLES: positioned components Some objects are naturally made of several components, example: 2d point. # let origin = ( 0 , 0 );; val origin : int * int = ( 0 , 0 ) # let positive_range = ( max_int , 0 );; val positive_range : int * int = ( 4611686018427387903 , 0 ) # let negative_range = ( min_int , 0 );; val negative_range : int * int = (- 4611686018427387904 , 0 ) name tuples with type : use * to construct tuple types. # type point2D = int * int ;; type point2D = int * int # let origin : point2D = ( 0 , 0 );; val origin : point2D = ( 0 , 0 ) pattern matching: observing components of tuple pattern : describe how values are observed by the program. appear in let-bindings or in func arguments. simplest form of pattern: identifiers example: let x = 6*3 in x can be read as \" I observe the value of 6 3 by naming it as x*\" ignore some component using wildcard _ , example: let _ = 6*3 in 1;; example for tuple: let (x, _) = (5, 2) in x;; can read as: \" I observe the first component of tuple (5,2) by naming it as x, and I ignore the 2nd component \" # let a = ( 3 , 4 );; val a : int * int = ( 3 , 4 ) # let ( x ,_) = a ;; val x : int = 3 # let x_coord ( x , _) = x ;; val x_coord : ' a * ' b -> ' a = < fun > # let y_coord (_, y ) = y ;; val y_coord : ' a * ' b -> ' b = < fun > tuples in the machine tuple is a block of memory, program holds pointer to the block, pointers can be shared : structrual equality VS physical equaliity in ocaml there are 2 types of equalities: = implies structrual eq â€” i.e. they have the same content . == implies physical eq â€” i.e. they are stored in the same memory location . # let x = ( 1 , 2 ) let y = ( 1 , 2 ) let z = x ;; val x : int * int = ( 1 , 2 ) val y : int * int = ( 1 , 2 ) val z : int * int = ( 1 , 2 ) # x = y ;; - : bool = true # x == y ;; - : bool = false # x == z ;; - : bool = true pitfalls mismatching number of components : can be caught by compiler semantic errors: example: # let x_coord (x, y) = y;; can't be caught by compiler â†’ using records . 3. RECORDS: naming components name each components of a tuple â†’ record. example: # type point2D = { x : int ; y : int };; type point2D = { x : int ; y : int ; } # let origin = { x = 0 ; y = 0 };; val origin : point2D = { x = 0 ; y = 0 } # let from_tuple ( x , y ) = { x ; y };; val from_tuple : int * int -> point2D = < fun > # let a = from_tuple ( 4 , 2 ) ;; val a : point2D = { x = 4 ; y = 2 } # let b = from_tuple ( 10 , 5 );; val b : point2D = { x = 10 ; y = 5 } # type box = { left_upper : point2D ; right_lower : point2D ;};; type box = { left_upper : point2D ; right_lower : point2D ; } # let abox = { left_upper = a ; right_lower = b };; val abox : box = { left_upper = { x = 4 ; y = 2 }; right_lower = { x = 10 ; y = 5 }} # let get_min_xcoord { left_upper = { x }} = x ;; (*pattern matching here for the func*) val get_min_xcoord : box -> int = < fun > decalre a record type: type som_type_identifier = {field_name: some_type; ...; field_name: some_type} construct a record: {field_name = some_expr; ...; field_name = som_expr} observe a field: some_expr.field_name observe several fields: use record patterns : {field_name = some_pattern; ...; field_name = some_pattern} (don't have to write all fields here) in the machine: like a tuple, a block of memory pitfalls: shadowing a field name if 2 records share some identical field names: # type a = { x : int ; b : int };; type a = { x : int ; b : int ; } # type b = { y : int ; c : int ;};; type b = { y : int ; c : int ; } # { x = 0 ; b = 2 };; - : a = { x = 0 ; b = 2 } # type t = { x : bool };; type t = { x : bool ; } # { x = true };; - : t = { x = true } # type u = { x : int };; type u = { x : int ; } # { x = true };; Error : This expression has type bool but an expression was expected of type int advice: NOT share field names between records! 4. ARRAYS tuple/record: sizes are statically bounded. array: dynamically change sequence size, but all array elements must have same type . # let p = [| 1 ; 2 ; 3 ;|];; val p : int array = [| 1 ; 2 ; 3 |] # let square x = x * x ;; val square : int -> int = < fun > # let squares n = Array . init n square ;; val squares : int -> int array = < fun > # let s1 = squares 5 ;; val s1 : int array = [| 0 ; 1 ; 4 ; 9 ; 16 |] Std module Array : provides functions over arrays some_array = [|some_expr; ...; some_expr|] Array.make sz val : takes an int (size of array) and a value to initialize each component of the array (like Array.fill). Array.init sz f : initial size of array sz and a function f to initilize each component of array, f takes the index of the component and returns a value. Array.length arr : returns array size. array indexing: arr.(some_expr:int) , index: 0 to sz-1 array patterns: observe several components of array [|some_expr; ...; some_expr|] (not very useful) # let swap a = [| a .( 1 ); a .( 0 )|];; val swap : ' a array -> ' a array = < fun > # let b = swap [| 0 ; 1 |];; val b : int array = [| 1 ; 0 |] # let swap [| x ; y |] = [| y ; x |];; Characters 9 - 28 : Warning 8 : this pattern - matching is not exhaustive . Here is an example of a value that is not matched : [| |] val swap : ' a array -> ' a array = < fun > # let t = swap [| 2 ; 1 |];; val t : int array = [| 1 ; 2 |] # let t = swap [| 2 ; 1 ; 0 |];; Exception : Match_failure ( \"//toplevel//\" , 1 , 9 ). in the machine: a memory block, like a record 5. CASE STUDY: A SMALL TYPED DATABASE a toy db for contacts, 3 queries: insert, delete, search . These functions have type: database -> query_contact -> status * database * contact define the phone number/contact/database types: type phone_number = int * int * int * int ;; type contact = { name : string ; phone_number : phone_number };; let nobody = { name = \"\" ; phone_number = ( 0 , 0 , 0 , 0 ) };; type database = { number_of_contacts : int ; contacts : contact array ; };; implement make (to create a database with parameter=max capacity): let make max_number_of_contacts = { number_of_contacts = 0 ; contacts = Array . make max_number_of_contacts nobody };; (* Queries are represented by a code and a contact. - If the code is 0 then the contact must be inserted. - If the code is 1 then the contact must be deleted. - If the code is 2 then we are looking for a contact with the same name in the database. *) type query = { code : int ; contact : contact ; } implement search : let search db contact = let rec aux idx = if idx >= db . number_of_contacts then ( false , db , nobody ) else if db . contacts .( idx ). name = contact . name then ( true , db , db . contacts .( idx )) else aux ( idx + 1 ) in aux 0 ;; implement insert : let insert db contact = if db . number_of_contacts >= Array . length db . contacts then ( false , db , nobody ) else let ( status , db , _) = search db contact in if status then ( false , db , contact ) else let cells i = if i = db . number_of_contacts then contact else db . contacts .( i ) in let db' = { number_of_contacts = db . number_of_contacts + 1 ; contacts = Array . init ( Array . length db . contacts ) cells } in ( true , db' , contact );; implement delete : let delete db contact = let ( status , db , contact ) = search db contact in if not status then ( false , db , contact ) else let cells i = let last = db . contacts .( db . number_of_contacts - 1 ) in if db . contacts .( i ). name = contact . name then last else if i ==( db . number_of_contacts - 1 ) then nobody else db . contacts .( i ) in let db' = { number_of_contacts = db . number_of_contacts - 1 ; contacts = Array . init ( Array . length db . contacts ) cells } in ( true , db' , contact );; implement an engine function to process all kinds of queries: (* Engine parses and interprets the query. *) let engine db { code ; contact } = if code = 0 then insert db contact else if code = 1 then delete db contact else if code = 2 then search db contact else ( false , db , nobody );; Remarks: This is purely functional, a new db is created each time a query is processed.","tags":"notes","title":"[OCaml MOOC] week2: BASIC DATA STRUCTURES"},{"url":"https://x-wei.github.io/notes/progfun2_lec4_var.html","text":"this week: discuss how to handle events in user-interface â€” MVC, functional reactive programming. Lecture 4.1 - Imperative Event Handling: The Observer Pattern Traditional way of handling events: observer Pattern (MVC) . Used when views need to react to change in a model. MVC: model-view-controller for user interface Views can announce themselves to a model (called \" substribe \") Models can \" publish \" new informations to views trait Publisher { private var subscribers : Set [ Subscriber ] = Set () def subscribe ( subscriber : Subscriber ) : Unit def unsubscribe ( subscriber : Subscriber ) : Unit def publish () : Unit = subscribers . foreach ( _ . handler ( this )) } trait Substriber { def handler ( pub : Publisher ) } make the BankAccount a Publisher : create a Consolidator that displays bank accounts: Advantages of MVC: decouples views from stat have varying number of views of a given state simple to set up Disadvantages: forces imperative style since handlers are of Unit type many moving parts that need to be coordinated concurrency will be more complicated (ex. 2 models update one view at the same time) Views are tightly bound to one state, view updates immediately Lecture 4.2 - Functional Reactive Programming FRP: reactive programming: react to seq of events that happen in time . functional view: aggregate an event sequence to a signal . In our simple API, the most important concept is Signal . Signal: is a vlaue that changes over time represented as a function mapping time to value domain define new signals from existing ones (instead of having mutable state) example: move mouse positions event-based view: whenever mouse moves, an event MouseMoved(toPos: Position) is fired FRP view: use a signal(function): mousePosition: Signal[Position] , which at any point represents a current mouse position Signal opeartions 2 fundamental ops on signals: obtain value of signal at current time (the apply function): mousePosition() define a signal in term of another signal (constructor Signal(expr) ) example: from the mouse curve signal, define a new signal indicating whether the curve is inside the rectangle or not. def inReactangle ( LL : Position , UR : Position ) : Signal [ Boolean ] = Signal { val pos = mousePosition () // the mouse pos signal LL <= pos && pos <= UR } use Signal(_value) to define a constant signal: val sig = Signal(3) // constant signal then define a subclass Var of Signal for changable signals, which has an update operation to redefine the value of a signal. val sig = Var ( 3 ) sig . update ( 5 ) // update â‡’ In scala, update is also a special function: assignments like a(e1,...en)=e are translated to a.update(e1...en, e) . (Here the n could be 0, i.e. no arguments in the assignment expression). â†’ So sig.update(5) can be re-written as sig()=5 . The () is like dereferencing a varable. Difference between Var s and mutable var s: we can map over signals , i.e. maintain a relation between 2 signals forever in the future, whereas using mutable var s have to propagate all updates manually. example: bank account add a signal balance to BankAccount s, define a function consolidated which takes sum of all balances of accounts in list. class BankAccount { val balance = Var ( 0 ) // a Var signal def deposit ( amount : Int ) : Unit = if ( amount > 0 ){ val b = balance () balance () = b + amount // otherwise cyclic definition of `balance` } def withdraw ( amount : Int ) : Unit = if ( 0 < amount && amount <= balance ()){ val b = balance () balance () = b - amount } else throw new Error ( \"insufficient balance\" ) } def consolidated ( accts : List [ BankAccount ]) : Signal [ Int ] = Signal ( accts . map ( _ . balance ()). sum ) // similarly, define exange rate signals def xchange = Signal ( 246.0 ) def inDollar = Signal ( c ()* xchange ) note the difference between var assignment and signal update: v = v+1 : the new value is old value + 1 s() = s() + 1 : the s is a function that is always 1 larger than itself (cyclic definitions) Lecture 4.3 - A Simple FRP Implementation implementation of Singal and Var . class API: class Signal [ T ]( expr : => T ){ def apply () : T = ??? // s() give cur value } object Signal { def apply [ T ]( expr : => T ) = new Signal ( expr ) // construct new signal } class Var [ T ]( expr : => T ) extends Signal [ T ]( expr ){ def update ( expr : => T ) : Unit = ??? // s()=expr for update } object Var { def apply [ T ]( expr : => T ) = new Var ( expr ) } or more convientently: use sig() get the signal's (current) value use sig() = {new_expr} to update the signal's expression implemention idea Signal each sig: Signal[T] maintains: its *current value * private var myValue: T its *current expression * private var myexpr: () => T set of observers : other signals ( callersig s) that depend on this.myValue â€” if this.myValue changes, all signals in this.observers should be re-evaluated private var observers: Set[Signal[_]] protected function to re-evaluate value protected def computeValue(): Unit protected function to change expression protected def update(expr: => T): Unit How to record dependencies: when evaluating a Signal , need to know which callersig gets defined by this So we should add the caller to this.observers when apply is called (like: sig() ). if this.myValue changes (when calling computeValue() ), all caller signals in this.observers are re-evaluated ( callersig.computeValue() ); and this.observers is cleared(!! see next item) . when callersig s re-evaluate their expression, the apply() method will add the callersig again to this.observers caller How to find out who is calling so that a signal is evaluated ? simplistic way: maintain a global data structure (stack-fashion) referring to current caller: StackableVariable[Signal[T]] . caller is a global \"stack\" of callersig s that get poped/pushed. The API of the StackableVariable[Signal[T]] class: caller.value: Signal[T] : get the callersig on top of stack, which depends on currently evaluating signal ( this ), and so should be added to this.observers . caller.withValue(sig:Signal[T])(expr: () => [T]) : first add sig to the top of stack; then evaluate expr ; finally pop sig off the stack. Here is the implementation of the caller : So whenever sig want to know who depends on it, it just use caller.value ; thus, in the apply method of Signal s, we write like this: def apply () = { observers += caller . value // caller.value=top of stack, it depends on currenlty-evaluating value (this), so it should be added to this.observers assert (! caller . value . observers . contains ( this ), \"cyclic signal definition\" ) myValue } And if sig want to depend on other signals, in order to write the expression(which includes other signals that sig depends on), it use: caller.withValue(this){expr...} so in computeValue() , as this.myExpr may contain other signals that this depend on, we should write: protected def computeValue () : Unit = { for ( sig <- observed ) sig . observers -= this observed = Nil val newValue = caller . withValue ( this )( myExpr ()) // withValue will add this to the top of stack, so when eval other signals, they know that it's this signal that depends on them if ( myValue != newValue ) { // re-evaluate all callersigs that depends on this myValue = newValue val obs = observers observers = Set () // clear observers for this: the callersigs may be added back in apply() obs . foreach ( _ . computeValue ()) // here this.observers might be added with calersigs } } problem: global stack is not good... especially for concurrency â‡’ replace global state by thread-local state . Or use implicit parameteres : pass current value of the thread-local variable into a signal expr as implicit parameter. Lecture 4.4/4.5 - Latency as an Effect (I didn't quite get the point from this lecture on...) when computation takes a lot of time: register a callback when computation terminates (either success or failure). Future[T] : a monad that handles both exceptions and latency trait Future [ T ] { def onComplete ( callback : Try [ T ] => Unit ) : Unit } The callback use pattern matching: ts match { case Success ( t ) => onNext ( t ) case Failure ( e ) => onError ( e ) } another option: give 2 callbacks, one for success, one for failure. def onCompelet(success: T=>Unit, failed: Throwable => Unit): Unit Lecture 4.6/4.7/4.8/4.9/4.10 - Combinators on Futures/Composing Futures higher-order funcitons on Future s: map/filter/flatMap/... recover/recoverWith for Error case â‡” map/flatMap for Future. fallbackTo: retry: deal with failure... turn recursion to foldleft/foldright... Conclusion lazy evaluation: infinite data structure distinction between computations and values: random/signal are computations monads: abstract over properties of computations, encapsulate mutations, ... mix FP and mutable state laziness FRP monads exercice: calculator Use Function Reactive Programming (FRP), with the Signal[A] class that you have seen in the lectures, to implement a spreadsheet-like calculator. In this calculator, cells can depend on the value of other cells, and are recomputed automatically when the latter change. https://github.com/X-Wei/Coursera-progfun2/tree/master/hw4-calculator","tags":"notes","title":"[Scala MOOC II] Lec4 - Timely Effects"},{"url":"https://x-wei.github.io/notes/progfun2_lec3_var.html","text":"This week: scala for imperative programming. Lecture 3.1 - Functions and State So far: pure functional programming â†’ side-effect free: therefore time doesn't matter . Any rewriting that terminates lead to the same solution. (Churcher-Rosser Th) Now: mutable states Stateful objects : objects can have state that change over time. (state is influenced by its history). â‡’ variables var in scala, associates a value to a name, and can be changed by assignment. ex. bank account â€” pretty much like java class class BankAccount { private var balance = 0 def deposit ( amount : Int ) : Unit = if ( amount > 0 ) balance = balance + amount def withdraw ( amount : Int ) : Unit = if ( 0 < amount && amount <= balance ){ balance = balance - amount balance } else throw new Error ( \"insufficient balance\" ) } val acct = new BankAccount acct deposit 50 acct withdraw 20 acct withdraw 10 ex2. streams impolemented using mutable variable Lecture 3.2 - Identity and Change when are 2 ( mutable ) objs equal ? â†’ what is equal? x and y are operationally equivalent if no possible test can distinguish between them. to test if x and y are the same: The substitution model is no longer valid : x and y are not the same: val x = new BankAccount val y = new BankAccount x and y are the same: val x = new BankAccount val y = x Lecture 3.3 - Loops prop: var s are already enough to model all imperative programs. Can model loops using functions . ex. scala while loop def power ( x : Double , exp : Int ) : Double = { var r = 1.0 ; var i = exp while ( i > 0 ) { r = r * 1 ; i = i - 1 } r } This while loop can be implemented using a function WHILE : def WHILE ( cond : => Boolean )( cmd : => Unit ) : Unit = { // cond and cmd must be passed by name if ( cond ) { comd WHILE ( cond )( cmd ) } else () // or `()`=Unit (= void in java) } exercice: write a REPEAT function: REPEAT{cmd} (condition) , similar to do...while def REPEAT ( cmd : => Unit )( cond : => Boolean ) : Unit = { cmd if ( cond ) () // stop else REPEAT ( cmd )( cond ) } do-while loop syntax in scala: do{cmd}while(cond) the classical for loop in java can NOT be modeled by higher-order function, because the for loop arguments contains declaration of a variable i. However, in scala, use: for(i <- 1 until 3) println(i) This is similar to previously discussed for-expression , but using foreach instead of map / flatMap . example: for(i<-i until 3; j<- \"abc\") println(i+\" \"+j) translates to: (1 until 3) foreach (i => \"abc\" foreach (j => println(i+\" \"+j))) Lecture 3.4 - Extended Example: Discrete Event Simulation digital circuit simulator. A digital circuit(DC) is composed of wires and functional components. Basic components: Inverter, AND gate, OR gate components have reaction time ( delay ) diagrams: example: half adder (input=a,b, output=sum and carry) language to describe digital circuits: using classes and functions val a , b , c = new Wire def inverter ( input : Wire , output : Wire ) : Unit def andGate ( a1 : Wire , a2 : Wire , output : Wire ) : Unit def orGate ( a1 : Wire , a2 : Wire , ouput : Wire ) : Unit a half adder can be defined as: def halfAdder ( a : Wire , b : Wire , s : Wire , c : Wire ) : Unit = { val d , e = new Wire orGate ( a , b , d ) andGate ( a , b , c ) inverter ( c , e ) andGate ( d , e , s ) } And this half adder can be used as another component, for example, for full adder : Lecture 3.5 - Discrete Event Simulation: API and Usage give implementations of the digital circuits, based on an API for discrete event simulation. discrete evenet simulator performs actions , specified by user at a given moment . An Action : a function that takes 0 parameters and returns Unit . type Action = () => Unit class hierachy: trait Simulation { def currentTime : Int = ??? def afterDelay ( dalay : Int )( block : => Unit ) : Unit = ??? def run () : Unit = ??? } abstract class Gates extends Simulation { class Wire {...} ...} abstract class Circuits extends Gates {...} object sim extends Circuits ... Wire class: state of a wire is modeled by 2 private vars getSignal: Boolean : current value of signal in wire setSignal(sig:Boolean):Unit : modifies value of signal addAction(a: Action): Unit : attach actions to be executed at each change of signal class Wire { private var sigVal = false private var actions : List [ Action ] = List () def getSignal = sigVal def setSignal ( sig : Boolean ) : Unit = if ( getSignal != sig ){ sigVal = sig actions foreach ( _ ()) // for(a<-actions) a() } def addAction ( a : Action ) : Unit = { actions = a :: actions a () // have to perform it when added } } Inverter : install an action on its input wire , the change is effective after a delay. def inverter ( input : Wire , output : Wire ) : Unit = { def invertAction () : Unit = { val inputSig = input . getSignal afterDelay ( InverterDelay ) { output setSignal ! inputSig } } input addAction invertAction } andGate/orGate is similar: Lecture 3.6 - Discrete Event Simulation: Implementation and Test implement the simulation trait: keep each instance of Simulation in agenda of actions to perform. Agenda is a list of Event s, each event consists of an action and the time , sorted by actions' time. To run the simulation, use a loop to handle events in agenda. To examine the changes of the signals in wires, use funciton probe . trait Simulation { type Action = () => Unit case class Event ( time : Int , action : Action ) private type Agenda = List [ Event ] private var agenda : Agenda = List () private var curtime = 0 def currentTime : Int = curtime def afterDelay ( delay : Int )( block : => Unit ) : Unit = { val item = Event ( currentTime + delay , () => block ) agenda = insert ( agenda , item ) //insert to the write time } private def insert ( ag : List [ Event ], item : Event ) : List [ Event ] = ag . match { case first :: rest if first . time <= item . time => first :: insert ( rest , item ) case _ => item :: ag } private def loop () : Unit = // event handling loop agenda match { case first :: rest => agenda = rest curtime = first . time first . action () loop () case Nil => } def run () : Unit = { afterDelay ( 0 ){ println ( s\"*** simulation started, time = $currentTime ***\" )} loop () } def probe ( name : String , wire : Wire ) : Unit = { def probeAction () : Unit = println ( s\" $name time = $currentTime , value = ${ wire . getSignal } \" ) // string formatting in scala wire addAction probeAction } } to pack delay constrains into their own trait, use extend..with.. syntax: trait Parameters { def InverterDelay = 2 def AndGateDelay = 3 def OrGateDelay = 5 } object sim extends Circuits with Paramters summary state and assignments make model more complicates, lose referential transparency on the other hand, assignments allow formulate certain programs in an elegant way. Programming Assignment: Quickcheck This assignment has nothing to do with the mutable data... but rather to use scalacheck for testing. Write properties that a heap should have to test heap implementations. about Generator https://github.com/rickynils/scalacheck/blob/master/doc/UserGuide.md#generators my code: https://github.com/X-Wei/Coursera-progfun2/tree/master/hw3-quickcheck/quickcheck","tags":"notes","title":"[Scala MOOC II] Lec 3: Functions and State"},{"url":"https://x-wei.github.io/notes/ocamlMOOC_wk1_basics.html","text":"1. BASIC DATA TYPES: int, bool Rich type system and polymorphism in ocaml. Types are infered not declared. Basic types : int, bool, float, string, char, ... int value: \\(-2&#94;{62}\\) ~ \\(2&#94;{62}-1\\) on 64-bit machines. ops: +, -, *, /, mod (reminder: / is integer division) # 3 + 2 * 4 - 1 ;; - : int = 10 # 5 / 2 ;; - : int = 2 # - 5 mod 3 ;; - : int = - 2 bool values: true, false ops: &&,||, not comparison ops: <, >, =, <=, =>, <> note 1: comparisons must have the same type of operands) note 2: equal test is = , = is NOT assigment. == exists but is for something else... # true && ( 1 < 7 );; - : bool = true # 1 . 0 < 7 ;; Error : This expression has type int but an expression was expected of type float # 5 > \"hello\" ;; Error : This expression has type string but an expression was expected of type int # 3 = 3 ;; - : bool = true # 3 == 3 ;; - : bool = true # 3 < 3 . 0 ;; Error : This expression has type float but an expression was expected of type int # 3 . 0 < 3 . 0 ;; - : bool = false 2. MORE DATA TYPES: float, char, string float value: must written with a dot ( 5.0 , 5. ), or exponential ( 5e3 , 6e-9 ) ops: also have a dot in the end +. , -. , *. , /. functions: sqrt, sin, cos, ceil, floor, ... # 3 . 0 +. 1e10 ;; - : float = 10000000003 . # 2 + 3 . 0 ;; Error : This expression has type float but an expression was expected of type int # 3 . +. 2 . 0 ;; - : float = 5 . All basic types are disjoint : no value belongs to 2 different basic types, no implicit conversion. conversion functions in both directions: float_of_int : int -> float int_of_float : float -> int # float_of_int ( 2 );; - : float = 2 . # int_of_float ( 2 . 4 );; - : int = 2 # float_of_int 2 ;; - : float = 2 . # int_of_float 2 . 8 ;; - : int = 2 Parentheses only necessary to indicate structure . char values: 256 chars (0~255), can be written as ' a ' or ' \\087 ' conversion functions (char â†” int): Char.chr : int ->char Char.code : char -> int # Char . code 'A' ;; - : int = 65 # Char . code '\\122' ;; - : int = 122 # Char . chr 233 ;; - : char = '\\233' # Char . chr 65 ;; - : char = 'A' # Char . chr ( Char . code 'B' );; - : char = 'B' string values: written between \"\" ops: &#94; for string concatenation functions: String.length, int_of_string, float_of_string, String.get(s,i) ... # \"abc\" &#94; \"def\" ;; - : string = \"abcdef\" # String . length \"1234\" ;; - : int = 4 # int_of_string \"123\" ;; - : int = 123 # int_of_string \"123a\" ;; Exception : Failure \"int_of_string\" . # string_of_int 123 ;; - : string = \"123\" # String . get \"abc\" 1 ;; - : char = 'b' 3. EXPRESSIONS: if-then-else, func-applications and operators expressions are used to compute values. conditional expr if... then... else... â‡’ this gives an expression , not an instruction . An expression always have a type , type of the if-then-else expression is the type of the expressions in then and else, which must be the same . If the else is missing â†’ there is a default value, to be discussed later # if 1 < 2 then 8 else 9 ;; - : int = 8 # if 6 = 8 then 1 else 8 ;; - : int = 8 # if 6 = 8 then 1 else 8 .;; Error : This expression has type float but an expression was expected of type int # if ( if 1 = 1 then 2 = 2 else 3 > 2 ) then 2 < 3 else 3 < 2 ;; - : bool = true function application again, () are not needed unless indicate structure, and parentheses are NOT function applications... # String . get ;; - : string -> int -> char = < fun > # String . get \"abcde\" 2 ;; - : char = 'c' # String . get ( \"Hello\" &#94; \"world\" ) ( 3 + 2 );; - : char = 'w' # String . get ( string_of_int 65 ) ( int_of_string \"0\" );; - : char = '6' # String . get ( \"hello\" , 2 );; Error : This expression has type ' a * ' b but an expression was expected of type string Polymorphic operators Some ops have polymorphic(generic) types, like > : ' a â†’ 'a â†’ bool Here the ' a is a type variable, can be instantiated by any type . # 12 > 23 . 0 ;; Error : This expression has type float but an expression was expected of type int # 'a' > 'b' ;; - : bool = false # \"hello\" > \"world\" ;; - : bool = false 4. DEFINITIONS definition s are used to give names to values, in ocaml there are global defs and local defs. global definition effective for rest of session syntax: let name = expr once set, the value of the identifier never changes. # let x = 2 + 3 ;; val x : int = 5 # let y = 2 * x ;; val y : int = 10 # let x = 3 ;; # ** the old definition of x will be shadowed ** val x : int = 3 # x = x + 1 ;; - : bool = false local definition naming within a delimited scope syntax: let name = expr1 in expr2 the scope of the identifier is expr2 , the result's value is also expr2's value . So the identifier should appear in expr2 . # let x = 9 in 2 * x ;; - : int = 18 # x ;; # x is not in global scope Error : Unbound value x # let y = x + 1 in y / 3 ;; Error : Unbound value x # let x = 17 ;; # now x is global val x : int = 17 # let y = x + 1 in y / 3 ;; - : int = 6 local defs can be nested: # let x = 4 in let y = x + 1 in let x = 2 * y in x ;; Error : Syntax error # let x = 4 in let y = x + 1 in let x = 2 * y in x ;; - : int = 10 # let x = 4 in ( let x = 17 in x + 1 ) + x ;; - : int = 22 Simultaneous Definitions can assign 2 identifiers in the same line: # let x1 = 2 and x2 = 3 - 3 ;; val x1 : int = 2 val x2 : int = 0 Note: expr is evaluated w.r.t. the value bindings before the let . # let x = 2 in let y = x + 1 in (*y=2+1*) x * y ;; - : int = 6 # let x = 1 ;; val x : int = 1 # let x = 2 and y = x + 1 in (*y=1+1 because the binding for x before the let is 1!*) x * y ;; - : int = 4 5. FUNCTIONS func definition global function (with 1 argument) def : let f x = expr local def: let f x = expr1 in expr2 # let f x = x + 1 ;; val f : int -> int = < fun > # f 17 ;; - : int = 18 # let g y = 2 * y in g 42 ;; - : int = 84 # f f 1 ;; (* interpreted as apply 2 argments to f, need parentheses here*) Error : This function has type int -> int It is applied to too many arguments ; maybe you forgot a `; ' . # f ( f 1 );; - : int = 3 lexical scoping def. lexical scoping identifiers(names) used in function body refers to the names that are visible at the moment of function definition . def. dynamic scoping names refer to names that are visible at the moment of function invocation . # let f x = x + 1 in let g y = f ( f y ) in (*here f is the f defined above, which is visible at the moment of g's declaration*) let f x = 2 * 2 in (*this f is visible after g's declaration, it is visible when g is invocated*) g 5 ;; (*g uses the first f*) Warning 26 : unused variable f . - : int = 7 (*the same is true for global scoping*) # let f x = x + 1 ;; val f : int -> int = < fun > # let g y = f ( f y );; val g : int -> int = < fun > # let f x = 2 * x ;; val f : int -> int = < fun > # g 5 ;; - : int = 7 identifiers are NOT variables A name(identifier) can be hidden (the value is NOT changed ) by a new definition of the same name. The hidden identifier can be accessed with static(lexical) binding: # let a = 1 ;; val a : int = 1 # let f x = x + a ;; val f : int -> int = < fun > # f 2 ;; - : int = 3 # let a = 73 ;; val a : int = 73 # f 2 ;; (*f still uses a's value as 2, the old value of a is NOT changed, it's hidden --closure? *) - : int = 3 6. RECURSION rec functions are natural on recursively defined data structures. example: fact(n) recursive definition using the f in let's expr will cause pb as f refers to the previous value of f . â‡’ use key word rec . # let fact n = if n <= 1 then 1 else n * fact ( n - 1 );; Error : Unbound value fact # let rec fact n = if n <= 1 then 1 else n * fact ( n - 1 );; val fact : int -> int = < fun > # fact 10 ;; - : int = 3628800 mutually recursive function ex. 2 funcs calling each other recursively â‡’ use simultaneous defs ( let...and... ): # let rec even x = if x = 0 then true else odd ( x - 1 ) and odd x = if x = 0 then false else even ( x - 1 );; val even : int -> bool = < fun > val odd : int -> bool = < fun > # even 17 ;; - : bool = false # odd 10 ;; - : bool = false exercices let multiple_of n d = ( n mod d ) == 0 ;; let integer_square_root n = let sqr = sqrt ( float_of_int n ) in int_of_float sqr ; let rec gcd n m = let big = max n m and small = min n m in let r = big mod small in if r = 0 then small else gcd r small ;; let rec multiple_upto n r = if r < 2 then false else if multiple_of n r then true else multiple_upto n ( r - 1 );; let is_prime n = if n <= 1 then false else not ( multiple_upto n ( n - 1 ));; if (!document.getElementById('mathjaxscript_pelican_#%@#$@#')) { var align = \"center\", indent = \"0em\", linebreak = \"false\"; if (false) { align = (screen.width < 768) ? \"left\" : align; indent = (screen.width < 768) ? \"0em\" : indent; linebreak = (screen.width < 768) ? 'true' : linebreak; } var mathjaxscript = document.createElement('script'); var location_protocol = (false) ? 'https' : document.location.protocol; if (location_protocol !== 'http' && location_protocol !== 'https') location_protocol = 'https:'; mathjaxscript.id = 'mathjaxscript_pelican_#%@#$@#'; mathjaxscript.type = 'text/javascript'; mathjaxscript.src = location_protocol + '//cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML'; mathjaxscript[(window.opera ? \"innerHTML\" : \"text\")] = \"MathJax.Hub.Config({\" + \" config: ['MMLorHTML.js'],\" + \" TeX: { extensions: ['AMSmath.js','AMSsymbols.js','noErrors.js','noUndefined.js'], equationNumbers: { autoNumber: 'AMS' } },\" + \" jax: ['input/TeX','input/MathML','output/HTML-CSS'],\" + \" extensions: ['tex2jax.js','mml2jax.js','MathMenu.js','MathZoom.js'],\" + \" displayAlign: '\"+ align +\"',\" + \" displayIndent: '\"+ indent +\"',\" + \" showMathMenu: true,\" + \" tex2jax: { \" + \" inlineMath: [ ['\\\\\\\\(','\\\\\\\\)'] ], \" + \" displayMath: [ ['$$','$$'] ],\" + \" processEscapes: true,\" + \" preview: 'TeX',\" + \" }, \" + \" 'HTML-CSS': { \" + \" styles: { '.MathJax_Display, .MathJax .mo, .MathJax .mi, .MathJax .mn': {color: 'inherit ! important'} },\" + \" linebreaks: { automatic: \"+ linebreak +\", width: '90% container' },\" + \" }, \" + \"}); \" + \"if ('default' !== 'default') {\" + \"MathJax.Hub.Register.StartupHook('HTML-CSS Jax Ready',function () {\" + \"var VARIANT = MathJax.OutputJax['HTML-CSS'].FONTDATA.VARIANT;\" + \"VARIANT['normal'].fonts.unshift('MathJax_default');\" + \"VARIANT['bold'].fonts.unshift('MathJax_default-bold');\" + \"VARIANT['italic'].fonts.unshift('MathJax_default-italic');\" + \"VARIANT['-tex-mathit'].fonts.unshift('MathJax_default-italic');\" + \"});\" + \"MathJax.Hub.Register.StartupHook('SVG Jax Ready',function () {\" + \"var VARIANT = MathJax.OutputJax.SVG.FONTDATA.VARIANT;\" + \"VARIANT['normal'].fonts.unshift('MathJax_default');\" + \"VARIANT['bold'].fonts.unshift('MathJax_default-bold');\" + \"VARIANT['italic'].fonts.unshift('MathJax_default-italic');\" + \"VARIANT['-tex-mathit'].fonts.unshift('MathJax_default-italic');\" + \"});\" + \"}\"; (document.body || document.getElementsByTagName('head')[0]).appendChild(mathjaxscript); }","tags":"notes","title":"[OCaml MOOC] week1: BASIC TYPES, DEFINITIONS AND FUNCTIONS"},{"url":"https://x-wei.github.io/notes/progfun2_lec2_lazyeval.html","text":"Lecture 2.1 - Structural Induction on Trees (optional) Generalize the structural induction on list to general structures like trees. To prove a property P(t) for all trees t : * show for any leave l, P(l) holds * for each internal node t with subtrees s1...sn , show P(s1)&...&P(sn) holds Example: Prove correctness for IntSets recall the IntSet def: empty set or non-empty set organized in a binary (search) tree structure. abstract class IntSet { def incl ( x : Int ) : IntSet def contains ( x : Int ) : Boolean } object Empty extends IntSet { def contains ( x : Int ) : Boolean = false def incl ( x : Int ) : IntSet = NonEmpty ( x , Empty , Empty ) } class NonEmpty ( elem : Int , left : IntSet , right : IntSet ) extends IntSet { // NonEmpty is just a BST def contains ( x : Int ) : Boolean = if ( x < elem ) left contains x else if ( x > elem ) right contains x else true def incl ( x : Int ) : IntSet = if ( x < elem ) NonEmpty ( elem , left incl x , right ) else if ( x > elem ) NonEmpty ( elem , left , right incl x ) else this } Prove the correctness of this implementation: show that it respects certain laws: prop1: Empty contains x = false pf: easy... prop2: (s incl x) contains x = true pf: proof by structual induction on s base case: s = Empty , (Empty incl x) = NonEmpty(x, Empty, Empty) NonEmpty(x, Empty, Empty) contains x = true induction step: s=NonEmpty(z,l,r) first case, z=x s incl x = NonEmpty(x,l,r) incl x = NonEmpty(x,l,r) so NonEmpty(x, l, r) contains x = true - second case, z<x s incl x = NonEmpty(z,l,r) incl x = NonEmpty(z,l,r incl x) so: (s incl x) contains x = NonEmpty(z,l,r incl x) contains x = (r incl x) contains x = ture // by induction hypothesis third case, z>x: symmetric ... prop3: if x!=y, (s incl x) contains y = s contains y pf: by structual induction base case: s = Empty induction step: s=NonEmpty(z,l,r) 5 cases to consider... z=x z=y z<y<x y<z<x y<x<z Lecture 2.2 - Streams motivation: 2nd prime number between 1000 and 10000: elegant, but not efficient solution: ( (1000 to 10000) filter isPrime) (1) â†’ ALL prime numbers are constructed in the code, only use the first 2 elements... â‡’ *avoid computing the tail of a seq until necessary * â†’ new data structure: Stream s, like lists, but tail is eval only on demand Stream class constructor Streams defined from either constant Stream.empty and constructor Stream.cons ex: val xs = Stream.cons(1, Stram.cons(2, Stream.empty)) (Stream.empty~= Nil , Stream.cons~= :: ) or by using the Stream object as a factory (like other collections): val xs = Stream(1,2,3) toStream() toStream on a collection will turn the collection into a stream. scala > ( 1 to 1000 ). toStream res1 : scala.collection.immutable.Stream [ Int ] = Stream ( 1 , ?) // the tail is (?) -- not evaled The tail is not evaled! let's write a function to return a range as Stream ( returns (lo until hi).toStream) ): def streamRange ( lo : Int , hi : Int ) : Stream [ Int ] = if ( lo > hi ) stream . empty ) else Stream . cons ( lo , stramRange ( lo + 1 , hi )) other methods Stream supports almost all method of a List ((1000 to 10000).toStream filter isPrime)(1) Exception: concat operator :: will always return a list instead of a stream. â†’ alternative: #:: returns a stream x#::xs == Stream.cons(x,xs) Implementation of Streams similar to the implementation of lists. scala trait Stream[+A] extends Seq[A]{ def isEmpty: Boolean def head: A def tail: Stream [A] } concrete implementations are in the Stream companion object : object Stream { def cons [ T ]( hd : T , tl : => Stream [ T ]) = // **`=>`: tl is by name, will be evaled later! new Stream [ T ]{ def isEmpty = false def head = hd def tail = tl } val empty = new Stream [ Nothing ]{ def isEmpty = true def head = throw new NoSuchElementException ( \"empty.head\" ) def tail = throw new NoSuchElementException ( \"empty.tail\" ) } } all other methods are implemented similar to list counterparts... ex: class Stream [ +T ]{ //... def filter ( p : T => Boolean ) : Stream [ T ] = if ( isEmpty ) this else if ( p ( head )) cons ( head , tail . filter ( p )) // tail.filter(p) will be evaled on demande else tail . filter ( p ) //... } Lecture 2.3 - Lazy Evaluation pb with the last implementation of Streams: if tail is called several times, the corresponding stram will be re-computed each time. â†’ can store the 1st result of the eval and use it later. (As in FP, the eval result never change) â‡’ this scheme is called lazy evaluation , as opposed to both by-name evaluation ( def x ) and strict-evaluation ( val x ). avoids both unnessary and repeated eval. lazy val x = expr exercice: â†’ this will print: \"xzyz\" adapt the lazy scheme for Stream implementation: def cons [ T ]( hd : T , tl : => Stream [ T ]) = new Stream [ T ]{ def head = hd lazy val tail = tl // **lazy instead of `def`** //... } Lecture 2.4 - Computing with Infinite Sequences with lazyness, can deal with inf seqs. â‡’ infinite Streams example: the stream of all integers starting from a given number: def from ( n : Int ) : Stream [ Int ] = n # :: from ( n + 1 ) // non - terminating recursive call here all natural numbers: val nats = from(0) all multiples of 4: nats map (_ * 4) scala > def from ( n : Int ) : Stream [ Int ] = n #:: from ( n + 1 ); from : ( n: Int ) Stream [ Int ] scala > val nats = from ( 0 ) nats : Stream [ Int ] = Stream ( 0 , ?) scala > val m4s = nats map ( _ * 4 ) m4s : scala.collection.immutable.Stream [ Int ] = Stream ( 0 , ?) scala > ( m4s take 10 ). toList res2 : List [ Int ] = List ( 0 , 4 , 8 , 12 , 16 , 20 , 24 , 28 , 32 , 36 ) `` ` example1: Sieve of Eratosthenes ------------------------------- ![](../images/progfun2_lec2_lazyeval/pasted_image001.png) written in scala: ` `` scala def sieve ( s : Stream [ Int ]) : Stream [ Int ] = // param s is the prime numbers for sieve s . head #:: sieve ( s . tail filter ( _ % s . head != 0 )) scala > val primes = sieve ( from ( 2 )) primes : Stream [ Int ] = Stream ( 2 , ?) scala > primes . take ( 100 ). toList res0 : List [ Int ] = List ( 2 , 3 , 5 , 7 , 11 , 13 , 17 , 19 , 23 , 29 , 31 , 37 , 41 , 43 , 47 , 53 , 59 , 61 , 67 , 71 , 73 , 79 , 83 , 89 , 97 , 101 , 103 , 107 , 109 , 113 , 127 , 131 , 137 , 139 , 149 , 151 , 157 , 163 , 167 , 173 , 179 , 181 , 191 , 193 , 197 , 199 , 211 , 223 , 227 , 229 , 233 , 239 , 241 , 251 , 257 , 263 , 269 , 271 , 277 , 281 , 283 , 293 , 307 , 311 , 313 , 317 , 331 , 337 , 347 , 349 , 353 , 359 , 367 , 373 , 379 , 383 , 389 , 397 , 401 , 409 , 419 , 421 , 431 , 433 , 439 , 443 , 449 , 457 , 461 , 463 , 467 , 479 , 487 , 491 , 499 , 503 , 509 , 521 , 523 , 541 ) example2: square root previous implementation: use isGoodEnough test termination. now: express the converging seq without having to worry about when to terminate: def sqrtStream ( x : Double ) : Stream [ Double ] = { def improve ( guess : Double ) = ( guess + x / guess ) / 2 lazy val guesses : Stream [ Double ] = 1 #:: ( guesses map improve ) //**this will not explod!** guesses } def isGoodEnough ( guess : Double , x : Double ) = math . abs (( guess * guess - x ) / x ) < 0.0001 ( sqrtStream ( 4 ) filter ( isGoodEnough ( _ , 4 )) ) ( 1 ) // get the 1st guess that is good enough Lecture 2.5 - Case Study: the Water Pouring Problem task: \"water pouring problem\" given: source, sink, glasses of different sizes, target size... goal: fill/empty/move water from 1 glass to another Model Glass: Int State: Vector[Int] one entry per glass Moves: Empty(glass), Fill(glass), Pour(from, to) question: how to find the correct sequence of moves ? â‡’ BFS, generate all possible paths (from initial state where all glasses are empty) of length=1,2,3,... Implementation first: define Move classes, they have a change method, take one state as param and return a state: class Pouring ( capacity : Vector [ Int ]) { type State = Vector [ Int ] val initialState = capacity map ( x => 0 ) trait Move { def change ( state : State ) : State } case class Empty ( glass : Int ) extends Move { def change ( state : State ) = state . updated ( glass , 0 ) } case class Fill ( glass : Int ) extends Move { def change ( state : State ) = state . updated ( glass , capacity ( glass )) } case class Pour ( from : Int , to : Int ) extends Move { def change ( state : State ) ={ val amount = state ( from ) min ( capacity ( to )- state ( to )) //the amount to move state updated ( from , state ( from )- amount ) updated ( to , state ( to )+ amount ) } } ... } generate all possible moves: val glasses = capacity . indices // equal to `0 until capacity.length` val moves = // all possible moves ( for ( g <- glasses ) yield Empty ( g ) ) ++ ( for ( g <- glasses ) yield Fill ( g ) ) ++ ( for ( gfrom <- glasses ; gto <- glasses ; if gfrom != gto ) yield Pour ( gfrom , gto ) ) Then define a Path class: class Path ( history : List [ Move ]){ // history: moves in reversed order def endState : State = // given a path (list ot moves), return the final state by following the path ( history foldRight ( initialState )) ( ( mv : Move , stt : State ) => mv change stt ) // as in the list are reversed order of moves, use foldright def extend ( move : Move ) = new Path ( move :: history ) override def toString = ( history . reverse mkString \" \" ) + \"-->\" + endState } val initialPath = new Path ( Nil ) Then define a Stream of path sets: given current (set of) paths, extend one move and generate (a set of) paths of longer length: def from ( paths : Set [ Path ]) : Stream [ Set [ Path ]] ={ if ( paths . isEmpty ) Stream . empty else { val more = for { path <- paths next <- moves map path . extend } yield next paths #:: from ( more ) } } val pathSets = from ( Set ( initialPath )) finally, solve the problem: for each path, track its end state, and if the target value is in the end state, return the path. def solutions ( target : Int ) : Stream [ Path ] = for { pathsets <- pathSets path <- pathsets if path . endState contains target } yield path pb: too slow for some case â†’ we generate ALL paths of a certain length in the stream, but in the paths, we should avoid returning to a preivous state ! â†’ re-define the from function: add a param of explored set of states. def from ( paths : Set [ Path ], explored : Set [ State ]) : Stream [ Set [ Path ]] ={ if ( paths . isEmpty ) Stream . empty else { val more = for { path <- paths nextpath <- moves map path . extend if ( explored contains nextpath . endState )== false } yield nextpath val newstates = more map ( _ . endState ) paths #:: from ( more , explored . union ( newstates )) } } val pathSets = from ( Set ( initialPath ), Set ( initialState )) â†’ more improvement: avoid computing endState (a foldRight ) over and over again â€” add to class param. class Path ( history : List [ Move ], val endState : State ){ // history: moves in reversed order def extend ( move : Move ) = new Path ( move :: history , move change endState ) override def toString = ( history . reverse mkString \" \" ) + \"-->\" + endState } Programming Assignment: Bloxorz https://github.com/X-Wei/Coursera-progfun2/tree/master/hw2-stream-bloxorz/streams","tags":"notes","title":"[Scala MOOC II] Lec2: Lazy Evaluation"},{"url":"https://x-wei.github.io/soft/pelican3_blog_and_theme.html","text":"ä¸Šæ¬¡æ£é¼“pelicanåšå®¢ç³»ç»Ÿè¿˜æ˜¯åœ¨2012å¹´, é‚£æ—¶ farseerfc å­¦é•¿å°±æä¾›äº†æ— ç§çš„å¸®åŠ©, å½“æ—¶éå¸¸å…´å¥‹å†™äº†è¿™ä¹ˆä¸€ç¯‡ç®€å•çš„ æ•™ç¨‹ . è¿™ä¸¤å¤©æ£é¼“äº†å¥½ä¹… ç»ˆäºæŠŠåšå®¢å‡çº§åˆ°äº†pelican3... æ–°çš„pelicanè²Œä¼¼å¸Œæœ›ä½¿ç”¨è€…æŠŠå†™ä½œçš„å†…å®¹å’Œç”Ÿæˆçš„ç½‘é¡µåˆ†æˆä¸¤ä¸ªrepoç®¡ç†, æˆ‘å«Œéº»çƒ¦è¿˜æ˜¯æŠŠå®ƒä»¬éƒ½æ”¾åœ¨äº†ä¸€ä¸ªrepoä¸‹é¢: https://github.com/X-Wei/x-wei.github.com è¿™ä¸ªrepoåŒ…å«äº†ç”Ÿæˆçš„ç½‘é¡µä»¥åŠæˆ‘å†™ä½œçš„å†…å®¹(åœ¨pelican_dirç›®å½•ä¸‹é¢). æ¢äº†è¶…èµçš„æ–°çš®è‚¤, è¿™ä¸ªæ˜¯ farseerfc å­¦é•¿å®šåˆ¶çš„bootstrap3 ä¸»é¢˜ , éå¸¸ç²¾ç¾. å­¦é•¿çš„ç‰ˆæœ¬åŒ…å«äº†ç¹ç®€è‹±æ—¥ç¿»è¯‘ä»¥åŠå¯¼å‡ºpdf/pngä»€ä¹ˆçš„æŒ‰é’®, åŠŸèƒ½éå¸¸å…¨, ä¸è¿‡ç›´æ¥æ‹¿æ¥ç”¨ä¸å¤ªåˆé€‚, æ¯”å¦‚æˆ‘å°±ä¸éœ€è¦åšå®¢çš„æ—¥è¯­ç‰ˆ... æˆ‘å®é™…æ˜¯ç”¨çš„ silverchard å¯¹farseerfcå­¦é•¿ä¸»é¢˜çš„ ä¿®æ”¹ç‰ˆ . å†ç¨å¾®ä¿®æ”¹äº†ä¸€ä¸‹é…è‰²ä»€ä¹ˆçš„... å¦‚æœæƒ³è¦åšä¸€ä¸ªç±»ä¼¼çš„åšå®¢, ä¸‹é¢æ˜¯ä¸€äº›æ­¥éª¤: 1. å®‰è£…è½¯ä»¶ é¦–å…ˆå®‰è£…pelican3ä»¥åŠå…¶ä»–ä¸€äº›python module (å¦å¤–ä¸ªäººå»ºè®®æ–°å»ºä¸€ä¸ªvirtualenvåœ¨é‡Œé¢æ): pip install pelican jinja2 py3babel babel beautifulsoup4 markdown å…¶å®å®‰è£…äº†è¿™äº›ä»¥å, å¦‚æœä¸ç”¨è¿™ä¸ªä¸»é¢˜çš„è¯åˆ«çš„ä¸œè¥¿ä¹Ÿä¸ç”¨å®‰è£…äº†, å¯ä»¥å‚è€ƒ è¿™ç¯‡æ–‡ç«  ... ä¸è¿‡è¯´å®è¯, æˆ‘çœ‹äº†ä¸€åœˆ, è¿˜åªæœ‰å­¦é•¿è¿™ä¸ªä¸»é¢˜æ—¢å¥½çœ‹(meterial design)åˆå®ç”¨(æœ‰æ ‡ç­¾äº‘/æœç´¢/è‡ªå®šä¹‰ä¾§æ ç­‰åŠŸèƒ½). ä¸ºäº†å®‰è£…æ¥ä¸‹æ¥ä¸€äº›ä¾èµ–, éœ€è¦æœ‰rootæƒé™, è¿™é‡Œå¯ä»¥å‚è€ƒsilverchardçš„ æ–‡ç«  (ubuntuæŠŠ yum æ”¹æˆ apt å°±å¯ä»¥), æ³¨æ„openccéœ€è¦ç”¨ä»–æåˆ°çš„é‚£ç§æ–¹æ³•ç”¨githubä¸Šçš„ç‰ˆæœ¬, å¦åˆ™ä¼šæŠ¥é”™... ä¸Šé¢çš„åšå®¢é“¾æ¥å¤±æ•ˆäº†, æŠŠå®‰è£…çš„å‘½ä»¤å†™åœ¨æ­¤å¤„: sudo apt - add - repository ppa : chris - lea / node . js - y sudo apt - get update sudo apt - get install nodejs ditaa doxygen parallel sudo pip install pelican jinja2 py3babel babel beautifulsoup4 markdown sudo npm install - g less wget \"http://downloads.sourceforge.net/project/plantuml/plantuml.jar?r=&ts=1424308684&use_mirror=jaist\" - O plantuml . jar sudo mkdir - p / opt / plantuml sudo cp plantuml . jar / opt / plantuml echo \"#! /bin/sh\" > plantuml echo ' exec java - jar / opt / plantuml / plantuml . jar \"$@\" ' >> plantuml sudo install - m 755 - D plantuml / usr / bin / plantuml wget https : //bintray.com/artifact/download/byvoid/opencc/opencc-1.0.2.tar.gz tar xf opencc - 1.0.2 . tar . gz cd opencc - 1.0.2 && make && sudo make install && cd .. sudo locale - gen zh_CN . UTF - 8 sudo locale - gen zh_HK . UTF - 8 sudo locale - gen en_US . UTF - 8 sudo locale - gen ja_JP . UTF - 8 2. clone repo ç¬¬äºŒæ­¥å¯ä»¥ç›´æ¥å…‹éš†æˆ‘çš„git repoåˆ°æœ¬åœ°: git clone https://github.com/X-Wei/x-wei.github.com.git ç„¶ååœ¨ä¸‹è½½ä¸‹æ¥çš„æ–‡ä»¶å¤¹é‡Œ, åˆ é™¤é™¤äº† pelican_dir ä»¥å¤–çš„æ‰€æœ‰æ–‡ä»¶/æ–‡ä»¶å¤¹, è¿›å…¥ pelican_dir , è¿™é‡Œé¢æœ‰ä¸ªcontentæ–‡ä»¶å¤¹, é‡Œé¢å°±æ˜¯æˆ‘çš„åšå®¢çš„markdownæºæ–‡ä»¶, æ¯ä¸ªæ–‡ä»¶å¤¹ä¸ºä¸€ä¸ªcategoryåˆ†ç±»( images , static , pages ç›®å½•é™¤å¤–), æƒ³è¦å†™è‡ªå·±çš„åšå®¢åªè¦æŠŠè¿™é‡Œçš„markdownæ–‡ä»¶æ›¿æ¢æ‰å³å¯. å¦å¤–æ³¨æ„, å¦‚æœå†™çš„markdownæ–‡ä»¶é‡Œé¢æœ‰å¼•ç”¨å›¾ç‰‡çš„è¯, éœ€è¦æŠŠå›¾ç‰‡æ”¾åœ¨ images ç›®å½•ä¸‹é¢, ç„¶ååœ¨mdæ–‡ä»¶é‡Œå›¾ç‰‡åœ°å€å†™æˆ ../images/XXX.jpg 3. æ›´å¤šé…ç½® ç„¶åå¯ä»¥ä¿®æ”¹ä¸€ä¸‹pelicanconf.pyæ–‡ä»¶, æ¯”å¦‚ä¿®æ”¹ä¸€ä¸‹åšå®¢åå­—/ä½œè€…åå­—/disqusidä¹‹ç±»çš„... å…³äºä¸€äº›configå˜é‡çš„ç”¨æ³•, å¯ä»¥å‚è€ƒpelicançš„æ–‡æ¡£: http://docs.getpelican.com/en/3.6.3/settings.html , ä»¥åŠbootstrape3ä¸»é¢˜çš„æ–‡æ¡£: https://github.com/DandyDev/pelican-bootstrap3/wiki/Variables . 4. æœ¬åœ°é¢„è§ˆ å†™å¥½åšå®¢å†…å®¹ä»¥åŠé…ç½®å¥½pelicanä»¥å, å¯ä»¥é¦–å…ˆåœ¨æœ¬åœ°é¢„è§ˆä¸€ä¸‹. åœ¨ pelican_dir ç›®å½•ä¸‹, è¾“å…¥: make html è¿™ä¼šåœ¨ pelican_dir/outpt ä¸‹ç”Ÿæˆ(é¢„è§ˆç‰ˆçš„)ç½‘ç«™çš„æ‰€æœ‰æ–‡ä»¶. æƒ³è¦æŸ¥çœ‹æ•ˆæœ, åªè¦ç»§ç»­åœ¨ pelican_dir ä¸‹è¾“å…¥: make serve ç„¶åæµè§ˆå™¨æ‰“å¼€ http://localhost:8000/ å³å¯çœ‹åˆ°é¢„è§ˆçš„æ•ˆæœ. 5. pushåˆ°github å¦‚æœæƒ³è¦åƒæˆ‘ä¸€æ ·å»ºç«‹ä¸€ä¸ªgithub.ioåŸŸåçš„åšå®¢, éœ€è¦é¦–å…ˆæœ‰ä¸€ä¸ªgithubè´¦å·, ç„¶åæ–°å»ºä¸€ä¸ªåå­—ä¸º your_github_id.github.io çš„git repo, ç„¶ååœ¨æœ¬åœ°æŠŠåˆšæ‰é‚£ä¸ª pelican_dir æ–‡ä»¶å¤¹å¤åˆ¶åˆ°è¿™ä¸ªrepoçš„æ ¹ç›®å½•. ä¹‹ååœ¨ pelican_dir ä¸‹è¿è¡Œ: make publish , è¿™ä¼šåœ¨ your_github_id.github.io çš„æ ¹ç›®å½•(ä¹Ÿå°±æ˜¯ pelican_dir çš„ä¸Šçº§ç›®å½•)ä¸‹ç”Ÿæˆç½‘ç«™çš„æ‰€æœ‰æ–‡ä»¶. è¿™äº›æ–‡ä»¶ç”Ÿæˆä»¥å, åªéœ€è¦pushåˆ°githubå³å¯(pelicançš„makefileæœ¬æ¥æœ‰pushåˆ°github pageçš„é€‰é¡¹, ä¸è¿‡æ²¡å¼„æ˜ç™½, äºæ˜¯è¿˜æ˜¯è¿™ä¹ˆæå¥½äº†): git add -A . git commit -m 'your commit message' git push pushæˆåŠŸä»¥å, ç­‰å‡ åˆ†é’Ÿ, å°±å¯ä»¥åœ¨ your_github_id.github.io çœ‹åˆ°ä½ è‡ªå·±åšå®¢äº† !","tags":"soft","title":"pelican3å»ºç«‹githubåšå®¢&ä¸»é¢˜é…ç½®"},{"url":"https://x-wei.github.io/notes/learn-torch-6-optim.html","text":"ref: http://rnduja.github.io/2015/10/26/deep_learning_with_torch_step_7_optim/ doc: https://github.com/torch/optim/blob/master/doc/intro.md Before we implement the gd update step by defining a gradientUpdate function and calling it in a loop. function gradientUpdate ( model, x, y, criterion, learningRate ) local pred = model : forward ( x ) -- assumes pred is what criterion expects as input local loss = criterion:forward(pred, y) model : zeroGradParameters () local grad_cri = criterion:backward(pred, y) model : backward ( x , grad_cri ) model : updateParameters ( learningRate ) end But this is functionality is implemented in the optim module. In addition to just grad-descent, it has more complicated optimization algorithms implemented. Interface The interface for all optimization algos are: params_new, fs, ... = optim._method_(feval, params[, config][, state]) explination: params : current parameters vector ( 1D tensor ), this will be updated during optimization feval : a user-defined closure that respects this API: f, df/dx = feval(x) config : a table of parameters for the algorithm (e.g. learning rate) state : a table of state variables params_new : the resulting new parameter (in a 1D tensor), which minimizes the function f fs : a table of f values evaluated during the optimization, fs[#fs] is the optimized function value note: As optim expects the input to be 1D tensors, we need to flatten the parameters in our model, this can be achieved via: params, gradParams = model:getParameters() the reuslting params and gradParams are all flattened into 1D tensor. Example: sgd to train mlp the XOR function Here is an example for learning an XOR using a mlp with one hidden layer. model, criterion First, define the model and criterion (use MSE here, see it as a regression problem): require 'nn' inputs = 2 ; outputs = 1 ; HUs = 20 -- parameters model = nn . Sequential () -- make a multi-layer perceptron model : add ( nn . Linear ( inputs , HUs )) model : add ( nn . Tanh ()) model : add ( nn . Linear ( HUs , outputs )) criterion = nn . MSECriterion () data Then generate dataset of XORs: sample 2d inputs, and lables are -1 if the samples are of the sign, otherwise +1. Generate 128 training samples: batchSize = 128 batchInputs = torch . DoubleTensor ( batchSize , inputs ) batchLabels = torch . DoubleTensor ( batchSize ) for i = 1 , batchSize do local input = torch . randn ( 2 ) local label if input [ 1 ] * input [ 2 ] > 0 then -- calculate label for XOR function label = - 1 else label = 1 end batchInputs [ i ] : copy ( input ) batchLabels [ i ] = label end feval() closure Then define the feval function that returns the loss and the gradient wrt the loss: function feval ( params ) gradParams : zero () local outputs = model:forward(batchInputs) local loss = criterion:forward(outputs, batchLabels) local dloss_doutputs = criterion:backward(outputs, batchLabels) model : backward ( batchInputs , dloss_doutputs ) return loss, gradParams end finally, apply optim.sgd to the batch for 500 epochs: require 'optim' local sgdcfg = { learningRate = 0 . 01 } for epoch = 1 , 500 do optim . sgd ( feval , params , sgdcfg ) end can take some examples to test: x = torch.Tensor(2) x[1] = 0.5; x[2] = 0.5; print(model:forward(x)[1]) x[1] = 0.5; x[2] = -0.5; print(model:forward(x)[1]) x[1] = -0.5; x[2] = 0.5; print(model:forward(x)[1]) x[1] = -0.5; x[2] = -0.5; print(model:forward(x)[1]) The output is: -0.0073583598776157 0.24137506111789 0.31254747107449 -0.14114052583337 And the signs are correct for XOR function.","tags":"notes","title":"[learning torch] 6. optim (optimization tools)"},{"url":"https://x-wei.github.io/notes/learn-torch-5-nngraph.html","text":"ref: http://rnduja.github.io/2015/10/07/deep_learning_with_torch_step_4_nngraph/ doc: https://github.com/torch/nngraph/ The aim of this library is to provide users of nn package with tools to easily create complicated architectures. luarocks install nngraph optionally can install graphvis for graph visualization. From previous posts, to build networks, there are 2 important classes: Module as a nn layer, can do forward and backward prop Container to combine several Module s The nngraph library provides a way to build any complex network focusing on the network graph and avoiding the use of Containers. nngraph.Node Any Module can be wrapped into a nngraph.Node . For all nn.Module , nngraph overrides the __call__ meta method (the function call operator () ), by calling a module, a Node is returned: th> require 'nngraph'; [0.0000s] th> module = nn.Identity() [0.0001s] th> module nn.Identity [0.0000s] th> module() nngraph.Node [0.0000s] The arguments of __call__ are other (parent) nodes that come into this node, in this way we specify which module(s) will feed into the current node/module: th> h1 = nn.Linear(20, 10)() [0.0001s] th> h2 = nn.Linear(10, 1)(h1) -- h1 is input of h2 [0.0001s] Simple sequential example We make a network by calling nn.gModulet() , this takes 2 arguments: a table of inputs , and a table of outputs : th> mlp = nn.gModule({h1}, {h2}) [0.0002s] Then we can plot the model using graphviz: -- draw graph (the forward graph, '.fg'), use it with itorch notebook graph.dot(model.fg, 'MLP') -- or save graph to file MLP.svg and MLP.dot graph.dot(model.fg, 'MLP', 'MLP') (The first and last nodes are dummy nodes and regroup all inputs and outputs of the graph.) DAG example https://github.com/torch/nngraph#a-network-with-2-inputs-and-2-outputs Here is an example to build a model with 2 inputs and 2 outputs: h1 = nn . Linear ( 20 , 20 )() h2 = nn . Linear ( 10 , 10 )() hh1 = nn . Linear ( 20 , 1 )( nn . Tanh ()( h1 )) hh2 = nn . Linear ( 10 , 1 )( nn . Tanh ()( h2 )) madd = nn . CAddTable ()( { hh1 , hh2 } ) oA = nn . Sigmoid ()( madd ) oB = nn . Tanh ()( madd ) gmod = nn . gModule ( { h1 , h2 } , { oA , oB } ) x1 = torch . rand ( 20 ) x2 = torch . rand ( 10 ) gmod : updateOutput ( { x1 , x2 } ) gmod : updateGradInput ( { x1 , x2 } , { torch . rand ( 1 ), torch . rand ( 1 ) } ) graph . dot ( gmod . fg , 'Big MLP' ) alternatively, use - to make your code looks like the data flow : h1 = - nn.Linear(20,20) h2 = - nn.Linear(10,10) hh1 = h1 - nn.Tanh() - nn.Linear(20,1) hh2 = h2 - nn.Tanh() - nn.Linear(10,1) madd = {hh1,hh2} - nn.CAddTable() oA = madd - nn.Sigmoid() oB = madd - nn.Tanh() gmod = nn.gModule( {h1,h2}, {oA,oB} ) Annotations of nodes https://github.com/torch/nngraph#annotations Use node::annotate() to annotated nodes, can add name/description, or change node color. WIth annotation, can enable debugging too: https://github.com/torch/nngraph#debugging","tags":"notes","title":"[learning torch] 5. nngraph (another way to construct nn)"},{"url":"https://x-wei.github.io/notes/learn-torch-4-criterion.html","text":"ref: http://rnduja.github.io/2015/10/05/deep_learning_with_torch_step_3_nn_criterions/ doc: https://github.com/torch/nn/blob/master/doc/criterion.md Criterion : abstract class, given input and target(true label), a Criterion can compute the gradient according to a certain loss function. Criterion class important methods: forward(input, target) : compute the loss function, the input is usually the prediction/log-probability prediction of the network, target is the truth label of training data. backward(input, target) : compute gradient of the loss function. subclasses of Criterion : classification critierions: cross-entropy, neg loglikelihood, ... regression criterions: MSE, Abs, KL divergence, ... embedding criterions misc criterions Classification criterion examples ClassNLLCriterion negative log likelihood criterion https://github.com/torch/nn/blob/master/doc/criterion.md#nn.ClassNLLCriterion crt = nn.ClassNLLCriterion([weights]) optional argument weights is to assign class weights (1D tensor), which is useful for unbalanced dataset. For NLL criterion, the input given through a forward(input, target) is expected to be the log-probabilities of each class. The target is expected to be a class index (1 to n). The probabilities of each class can be computed by applying softmax on logits , the log-proba is just to take the log of the probabilities. Can use directly logsoftmax layer to achieve this (ex. add nn.LogSoftMax as last layer of a sequential container). If the input x is log-proba of each class, the loss is just: loss = forward(x, target) = -x[target_class] CrossEntropyCriterion https://github.com/torch/nn/blob/master/doc/criterion.md#nn.CrossEntropyCriterion This combines a logsoftmax and a NLLcriterion, so the input is expected to be logits (scores) MarginCriterion https://github.com/torch/nn/blob/master/doc/criterion.md#margincriterion computes hinge loss of binary classification problem. input x is expected to be svm scores, target y is expected to be Â±1 labels. Regression criterion examples MSECriterion https://github.com/torch/nn/blob/master/doc/criterion.md#nn.MSECriterion criterion = nn.MSECriterion() the loss is just MSE, input and target both have n elements: loss = forward(x,y) = sum[ (xi-yi)&#94;2 ] / n AbsCriterion L1 distance between x and y. DistKLDivCriterion KL divergence for class probabilities A Complete Example updating function First write a function for grad-desc updating for a model , input to the model is x , truth label is y . function gradientUpdate ( model , x , y , criterion , learningRate ) local pred = model : forward ( x ) -- assumes pred is what criterion expects as input local loss = criterion : forward ( pred , y ) model : zeroGradParameters () local grad_cri = criterion : backward ( pred , y ) model : backward ( x , grad_cri ) model : updateParameters ( learningRate ) end This function implements an update step, given a training sample ( x , y ): the model computes its output by model:forward(x) criterion takes model's output, and computes loss by criterion:forward(pred, y) , note : the output of model shall be what criterion expects, e.g. pred=log-class-proba for NLL criterion. criterion gives the gradient of loss function wrt the model output by cri:backward(pred, y) model computes the gradient of its parameters using the gradient from criterion by model:backward(x, grad_cri) the model do a gradient descent step to modify its parameters by model:updateParameters(learningRate) This is the function that we should pass to an optimizer. model, criterion and data the model is just a linear layer (5 inputs, 1 output ), output = Ax+b lua model = nn.Sequential() model:add(nn.Linear(5,1)) the criterion is just hinge loss: criterion = nn.MarginCriterion(1) For the data, just use 2 datapoints: lua x1 = torch.rand(5) y1 = torch.Tensor({1}) x2 = torch.rand(5) y2 = torch.Tensor({-1}) training To train the model, we run the update funcion on the data points 1000 times ( epochs ): lua for i = 1,1000 do gradientUpdate(model, x1, y1, criterion, 0.01) gradientUpdate(model, x1, y1, criterion, 0.01) end evaluating to see the prediciton, just use model:forward(x) lua print('prediction for x1='..model:forward(x1)[1]..' expected value='..y1[1]) print('prediction for x2='..model:forward(x2)[1]..' expected value='..y2[1]) to see loss, use criterion:forward(model_out, y) lua print('loss after training for x1 = ' .. criterion:forward(model:forward(x1), y1)) print('loss after training for x2 = ' .. criterion:forward(model:forward(x2), y2))","tags":"notes","title":"[learning torch] 4. Criterion (loss function)"},{"url":"https://x-wei.github.io/notes/learn-torch-3-container.html","text":"doc: https://github.com/torch/nn/blob/master/doc/containers.md ref: http://rnduja.github.io/2015/10/04/deep_learning_with_torch_step_2_nn_containers/ Container, similarly to Module, is the abstract class defining the base methods inherited from concrete containers. Container contains modules (layers) . Container class important methods: add(module) get(index) : get module at the index size() important subclasses: Sequential Parallel Concat Sequential Sequential is just a stack of layers , add layer by model:add() . Here is a simple 2-layer MLP example: th> mlp = nn.Sequential() [0.0000s] th> mlp:add( nn.Linear(10, 25) ) -- 10 input, 25 hidden units [0.0001s] th> mlp:add( nn.Tanh() ) -- some hyperbolic tangent transfer function [0.0001s] th> mlp:add( nn.Linear(25, 1) ) -- 1 output [0.0001s] th> mlp:forward(torch.range(1,10)) 1.2697 [torch.DoubleTensor of size 1] Parallel module = Parallel(inputDimension,outputDimension) Creates a container module that applies its ith child module to the ith slice of the input Tensor by using select on dimension inputDimension . It concatenates the results of its contained modules together along dimension outputDimension . So if the input for parallel model is x , the input for its ith child module should be: x.select(inputDimension, i) , and the parallel model should be: torch.cat( out1, out2, ouputDimension) (concat along this dimension). th > mlp = nn . Parallel ( 2 , 1 ) -- select(split) on dim2 for input, concat along dim1 for output [ 0 . 0000 s ] th > mlp : add ( nn . Linear ( 10 , 3 )) -- input=1st slice of x (x:select()), output1: size=3 [ 0 . 0001 s ] th > mlp : add ( nn . Linear ( 10 , 2 )) -- output2: size=2 [ 0 . 0001 s ] th > x = torch . randn ( 10 , 2 ) [ 0 . 0001 s ] th > x 0 . 3242 - 1 . 3911 0 . 7433 - 0 . 2725 0 . 3947 0 . 3332 1 . 1618 0 . 6743 0 . 6655 - 1 . 0901 0 . 0419 - 0 . 7845 - 0 . 8508 - 1 . 4670 - 0 . 3842 - 0 . 4107 0 . 5238 2 . 3616 1 . 4136 - 0 . 1327 [ torch . DoubleTensor of size 10 x2 ] [ 0 . 0002 s ] th > mlp : forward ( x ) - 0 . 0456 - 0 . 5682 - 0 . 3488 - 1 . 3786 - 0 . 6320 [ torch . DoubleTensor of size 5 ] Concat module = nn.Concat(dim) Concat concatenates the output of its \"parallel\" children modules along dim : these child modules take the same inputs , and their output is concatenated. th > mlp = nn . Concat ( 1 ) -- ouput concat along dim 1 [ 0.0001 s ] th > mlp : add ( nn . Linear ( 10 , 2 ) ); [ 0.0001 s ] th > mlp : add ( nn . Linear ( 10 , 3 ) ); [ 0.0000 s ] th > x = torch . randn ( 1 , 5 ) th > mlp : forward ( x ) 0 . 7497 -0 . 1909 0 . 3280 -0 . 3981 0 . 0207 [ torch.DoubleTensor of size 5 ]","tags":"notes","title":"[learning torch] 3. Container (models)"},{"url":"https://x-wei.github.io/notes/learn-torch-2-module.html","text":"Module is an abstract class which defines fundamental methods necessary for a Layer . doc: https://github.com/torch/nn/blob/master/doc/module.md Module class variables in Module : output : Tensor, the ouput computed from last call of forward(input) gradInput : Tensor, gradient wrt input of module, computed from last call of updateGradInput(input, gradOutput) important methods in Module : forward(input) : return corresponding output of layer backward(input, gradOutput) : return gradInput wrt the given input Linear https://github.com/torch/nn/blob/master/doc/simple.md#nn.Linear Linear extends Module , it's just linear transformation of input: y=Ax+b (parameters/variables: weight , bias ) gradWeight , gradBias are respectively the gradient of each parameter. th > ln = nn . Linear ( 3 , 2 ) -- 3 input , 2 output [ 0.0001 s ] th > ln . weight : fill ( 1 ); ln . bias : zero (); [ 0.0000 s ] th > x = torch . Tensor ( { 1,2,3 } ) [ 0.0000 s ] th > y = ln : forward ( x ) [ 0.0000 s ] th > gradinput = ln : backward ( x , y ) [ 0.0001 s ] th > gradinput 12 12 12 [ torch.DoubleTensor of size 3 ] [ 0.0001 s ] th > ln . gradInput 12 12 12 [ torch.DoubleTensor of size 3 ] [ 0.0001 s ] th > ln . gradWeight 1 . 1132e + 171 1 . 2000e + 01 7 . 3587e + 223 1 . 7112e + 243 2 . 3276e + 251 5 . 0404e + 180 [ torch.DoubleTensor of size 2 x3 ] [ 0.0001 s ] th > ln . gradBias 6 6 [ torch.DoubleTensor of size 2 ] [ 0.0001 s ] Identity output reproduces input, this layer can be used to model the input layer of a neural network. th > id = nn . Identity () [ 0 . 0000 s ] th > y = id : forward ( x ) [ 0 . 0000 s ] th > y 1 2 3 [ torch . DoubleTensor of size 3 ] [ 0 . 0001 s ] th > id : backward ( x , y ) 1 2 3 [ torch . DoubleTensor of size 3 ] [ 0 . 0001 s ] th > id . gradInput 1 2 3 [ torch . DoubleTensor of size 3 ] Other modules https://github.com/torch/nn/blob/master/doc/simple.md some examples: Add Mul CMul Reshape","tags":"notes","title":"[learning torch] 2. Module (layers)"},{"url":"https://x-wei.github.io/notes/learn-torch-1-tensor.html","text":"A Tensor is the fondamental data type in torch, (similar to numpy for tensorflow), it's a potentially multi-dimensional matrix. See doc: https://github.com/torch/torch7/blob/master/doc/tensor.md basic ops Indicate shape in constructor: th> x = torch.Tensor(3,4) [0.0000s] th> x 3.7366e+193 9.4775e+170 3.3018e+180 4.8950e-85 1.3808e+267 7.6859e+261 3.7512e-81 1.4692e+195 9.7016e+189 6.9641e+252 9.1815e+170 4.5239e+217 [torch.DoubleTensor of size 3x4] By default the elements of a newly allocated memory are not initialized , might contain arbitrary numbers ! x:dim() : return nb of dimensions x:nElement() : return nb of elements (\"size\") x:size() : return \"shape\", shortcut is: #x x:resize(sz1, sz2, ...) : will not throw exception when total size is inconsistent! th > # x 3 4 [ torch . LongStorage of size 2 ] [ 0.0001 s ] th > x : size () 3 4 [ torch . LongStorage of size 2 ] [ 0.0001 s ] th > x : dim () 2 th > x = torch . Tensor ( 3 , 4 ) [ 0.0000 s ] th > x : resize ( 2 , 6 ) 1.7479e+270 7.0981e+194 7.4861e-114 1.7479e+270 8.2791e-114 3.6822e+180 4.8548e-27 6.9204e-72 8.8289e+199 1.1567e+247 4.8548e-27 7.7700e-109 [ torch . DoubleTensor of size 2 x6 ] [ 0.0002 s ] th > x : resize ( 2 , 7 ) Columns 1 to 6 1.7479e+270 7.0981e+194 7.4861e-114 1.7479e+270 8.2791e-114 3.6822e+180 6.9204e-72 8.8289e+199 1.1567e+247 4.8548e-27 7.7700e-109 6.9006e-72 Columns 7 to 7 4.8548e-27 1.0240e-259 [ torch . DoubleTensor of size 2 x7 ] [ 0.0001 s ] th > x : resize ( 2 , 4 ) 1.7479e+270 7.0981e+194 7.4861e-114 1.7479e+270 8.2791e-114 3.6822e+180 4.8548e-27 6.9204e-72 [ torch . DoubleTensor of size 2 x4 ] fill with constant value: th> x:fill(1) 1 1 1 1 1 1 1 1 1 1 1 1 [torch.DoubleTensor of size 3x4] other constructors: th > y = torch . Tensor ( x ) -- note: y is just a reference of x!!! [ 0.0001 s ] th > y = torch . Tensor ({ { 2 , 3 , 4 },{ 1 , 2 , 3 } }) [ 0.0000 s ] th > y 2 3 4 1 2 3 [ torch . DoubleTensor of size 2 x3 ] Storage One could say that a Tensor is a particular way of viewing a Storage : a Storage only represents a chunk of memory, while the Tensor interprets this chunk of memory as having dimensions. th > s = x : storage () -- 'flatten' version of x [ 0.0000 s ] th > for i = 1 , # s do s [ i ] = i end [ 0.0000 s ] th > x 1 2 3 4 5 6 7 8 9 10 11 12 [ torch . DoubleTensor of size 3 x4 ] short for range: torch.range(1,5) Slicing https://github.com/torch/torch7/blob/master/doc/tensor.md#extracting-sub-tensors Slicing using sub() and select() . th > x 1 2 3 4 5 6 7 8 9 10 11 12 [ torch . DoubleTensor of size 3 x4 ] th > print ( x : sub ( 2 , 3 , 2 , 4 )) -- x[2:3, 2:4] slicing 6 7 8 10 11 12 [ torch . DoubleTensor of size 2 x3 ] th > print ( x : select ( 2 , 2 )) -- select(dim, index), dim=1 for rows, =2 for cols 2 6 10 [ torch . DoubleTensor of size 3 ] Or use slicing/indexing shortcut : [{ {dim1start, dim1end},...}] [dim1, dim2,...] th > x 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 [ torch . DoubleTensor of size 5 x6 ] [ 0.0002 s ] th > x [ 2 ][ 3 ] 9 [ 0.0000 s ] th > x [{ 2 , 3 }] 9 [ 0.0000 s ] th > x [{ 2 ,{ 2 , 5 }}] 8 9 10 11 [ torch . DoubleTensor of size 4 ] [ 0.0001 s ] th > x [{ {}, 3 }] 3 9 15 21 27 [ torch . DoubleTensor of size 5 ] All are references All tensor operations in this class do not make any memory copy. All these methods transform the existing tensor, or return a new tensor referencing the same storage . th > y = torch . Tensor ( x ) [ 0.0000 s ] th > y 1 2 3 4 5 6 7 8 9 10 11 12 [ torch . DoubleTensor of size 3 x4 ] [ 0.0001 s ] th > y : select ( 1 , 1 ): zero () -- x will be effected [ 0.0001 s ] th > y 0 0 0 0 5 6 7 8 9 10 11 12 [ torch . DoubleTensor of size 3 x4 ] [ 0.0001 s ] th > x 0 0 0 0 5 6 7 8 9 10 11 12 [ torch . DoubleTensor of size 3 x4 ] If don't want to modify original tensor, use clone() : th > y = x : clone () [ 0.0000 s ] th > y : sub ( 1 , 3 , 1 , 2 ): fill ( - 1 ) - 1 - 1 - 1 - 1 - 1 - 1 [ torch . DoubleTensor of size 3 x2 ] [ 0.0001 s ] th > y - 1 - 1 0 0 - 1 - 1 7 8 - 1 - 1 11 12 [ torch . DoubleTensor of size 3 x4 ] [ 0.0001 s ] th > x 0 0 0 0 5 6 7 8 9 10 11 12 [ torch . DoubleTensor of size 3 x4 ] Matrix ops Some matrix operations random matrix: th > torch . manualSeed ( 1 ) [ 0.0000 s ] th > A = torch . rand ( 3 , 4 ) [ 0.0001 s ] th > print ( A ) 0.4170 0.9972 0.7203 0.9326 0.0001 0.1281 0.3023 0.9990 0.1468 0.2361 0.0923 0.3966 [ torch . DoubleTensor of size 3 x4 ] transpose th > At = A : t () [ 0.0000 s ] th > At 0.4170 0.0001 0.1468 0.9972 0.1281 0.2361 0.7203 0.3023 0.0923 0.9326 0.9990 0.3966 [ torch . DoubleTensor of size 4 x3 ] matrix mul is just * th > A * At 2.5568 1.2773 0.7330 1.2773 1.1059 0.4544 0.7330 0.4544 0.2431 [ torch . DoubleTensor of size 3 x3 ] inner product: dot() th > A [ 1 ]: dot ( At : select ( 2 , 1 )) 2.5568154905493 inverse: torch.inverse(sq_mat) More operations can be found at: https://github.com/torch/torch7/blob/master/doc/maths.md example: torch.ones()/eye()/zeros() torch.cat() : concat tensors th > torch . cat ( torch . ones ( 3 , 2 ), torch . zeros ( 2 , 2 ), 1 ) 1 1 1 1 1 1 0 0 0 0 [ torch . DoubleTensor of size 5 x2 ] torch.conv2()","tags":"notes","title":"[learning torch] 1. Tensor"},{"url":"https://x-wei.github.io/notes/ocamlMOOC_wk0_intro.html","text":"Intro ML lang family statically strongly typed languages fisrt-class functions type inference pattern matching highlights of ocaml safty: static typing, pattern matching efficiency: high performance expressiveness: functional+type inference+polymorphism package manager: opam debugger profiler REPL: \"toplevel\" bytecode compiler: ccamlc native compiler: ocamlopt programming environment fully online: https://try.ocamlpro.com/fun-demo/tryocaml_index.html note: the local REPL ocaml (toplevel) is not very good, either use ledit ocaml , or use utop . Quick tour of the language list [] is empty list a::l element a in head and l as remaining tail. [1;2;3;4] function : sum of list write with pattern matching: let rec sumlist = [] -> 0 | a :: rest -> a + ( sumlist rest );; This func has auto-inferred as of type: int list ->int . all types are computed and enforced at compile time. polymorphism and higher order note: polymorphism ~= generic in java/template in cpp turn the 0 and + in previous function into parameters, call this function fold let rec fun fold op e = function [] -> e | a :: rest -> op a ( fold op e rest ) infered the most general type: val fold : ('a -> 'b -> 'b) -> 'b -> 'a list -> 'b = <fun> pattern matching write a function to remove all consecutive duplicates from a list: let rec destutter = function | [] -> [] | x :: y :: rest -> if x == y then destutter ( y :: rest ) else x :: destutter ( rest );; â‡’ compiler tell us we forgot to add the case when only one element is in list !! And this case: let rec destutter = function | [] -> [] | x :: [] -> x :: [] | x :: y :: rest -> if x == y then destutter ( y :: rest ) else x :: destutter ( rest );;","tags":"notes","title":"[OCaml MOOC] week0: intro and overview"},{"url":"https://x-wei.github.io/notes/progfun2_lec1_forexpr.html","text":"Recap: Functions and Pattern Matching case classes ex: json json objects can be seq, num, str, bool,... â‡’ represented as abstract class and case classes. pattern matching â†’ question: what is the type of the {case(key, value)=>\"...\"} clause? it is (JBinding => String) type, which is a shorthand for Function1[JBinding, String] . Function1 Trait subclass a function type function types can also be extended ! element accessing can be written as function calls because Seq s are functions! Partial Match if there is no match â†’ throw MatchError val f: String=>String = {case \"ping\" => \"pong\"} f(\"ping\") // no pb f(\"abc\") // MatchError â‡’ define f as partial function val f: PartialFunction[String,String] = {case \"ping\" => \"pong\"} f.isDefinedAt(\"ping\") f.isDefinedAt(\"abc\") isDefinedAt is a method for the PartialFunction class. The f definition is translated to: But the PartialFunction will only apply for level 1: Recap: Collections scala collections hirarchy: collections share some general methods ( core methods ): map flatMap filter foldLeft/foldRight (idealized) implementation of map and flatMap on Lists: For expressions for-expr can simplify combinations of core methods . the lhs of a generator can also be a pattern! pat <- expr is translated to : x <- expr withFilter { case pat => true ; case _ => false } map { case pat => x } 1.1 - Queries with For for notation is equivalent to common ops on databases(ex. sql). ex. books in library case class Book(title: String, authors: List[String]) query1: books with author name is \"Bird\" for ( b <- books ; a <- b.authors if a startsWith \"Bird,\" ) yield b.title query2: books with \"Program\" in the title: for ( b <- books if b.title indexOf \"Program\" >= 0 ) yield b.title query3: names of authors who wrote >=2 books for { b1 <- books b2 <- books if b1 != b2 a1 <- b1.authors a2 <- b2.authors if a1 == a2 } yield a1 â†’ pb: the authors will be doubled â†’ b1,b2 and b2,b1 â‡’ change line 3 to b1.title < b2.title â†’ still pb: print 3 times if authors write 3 books... â‡’ sol1. use distinct function sol2. decalre books as Set instead of List. 1.2 - Translation of For for expressions â†’ higer order functions map, flatMap, filter can all be implemented with for expression: In reality: scala translates for expr to map/flatMap/filter. implemention of for-expr: 3 rules rule 1: in for(..) only a simple generator for(x <- l1) yield e2 is translated to: l1.map(x => e2) rule2: in for(..), followed by the generator there is a filter for(x <- l1 if f; s) yield e2 //s is seq of other generators and filters is translated to: for( x <- l1.withFilter(x=>f) ) yield e2 rule3: in for(..), starts with 2 generators â†’ flatMap for( x<-l1; y<-l2; s) yield e3 is translated to: l1.flatMap( x => for(y<-l2; s) yield e3 ) example: for { b <- books a <- b.authors if a startsWith \"Bird\" } yield b.title translated to: books flatMap ( b => b . authors . filter ( a => a startsWith \"Bird\" ). map ( y => y . title ) ) NB: for expr is not restricted to collections, it supports any types with map/flatMap/withFilter method. â‡’ use for expr for your own types as well. 1.3 - Functional Random Generators goal: use for expr on rand generators. for expr support any type with map/flatMap/filter â‡’ ex. rand value generator. generate rand value of type T: trait Generator[+T] { def generate: T } first implement Generator[Int], then use this to implement booleans, pairs, lists, sets, trees,...... val integers = new Generator [ Int ] { val rand = new java . util . Random def generate = rand . nextInt () } val booleans = new Generator [ Boolean{ def generate = integers.generate > 0 } val pairs = new Generator[(Int, Int) ] { def generate = ( integers . generate , integers . generate ) } â†’ can we avoid the new Generator[...] ? ideally we want to write booleans as pairs as: val booleans = for ( x <- integers ) yield x > 0 def pairs [ T,U ] ( t : Generator [ T ] , u : Generator [ U ] ) = for { x <- t ; y <- u } yield ( x , y ) the for expr will be translated to map/flatMap/filter... â‡’ define map and flatMap on the Generator trait so that it supports for expr! trait Generator [ +T ] { self => // syntax : ` self ` is an alias of ` this ` def generate : T def map [ S ] ( f : T => S ) : Generator [ S ] = new Generator [ S ] { def generate = f ( self . generate ) // can ' t use ` this ` here : inf loop // or use Generator . this . generate } def flatMap ( f : T => Generator [ S ] ) : Generator [ S ] = new Generator [ S ] { def generate = f ( self . generate ). generate } } ex. the booleans expression: val booleans = for (x<-integers) yield x>0 is translated to: val booleans = integers map (x=>x>0) which is then expands to: val booleans = new Generator [ Boolean ] { val f = ( x => x > 0 ) def generate = f ( integers . generate ) } after reduction, the expression is: val booleans = new Generator[Boolean{ def generate = integers.generate > 0 } which is the initial implementation... other base Generators (The T* syntax is variable parameter) rand List Generator def lists : Generator[List[Int]] = for { isEmpty <- booleans list <- if ( isEmpty ) emptyLists else nonEmptyLists } yield list def emptyLists = single ( Nil ) def nonEmptyLists = for { head <- integers tail <- lists // recursive call to `lists` } yield head :: tail rand (binary) Tree Generator two types of tree nodes: leaf or inner node def trees : Generator [ Tree ] = for { isLeaf <- booleans tree <- if ( isLeaf ) leafs else inners } yield tree def leafs : Generator [ Leaf ] = for { x <- integers } yield Leaf ( x ) def inners : Generator [ Inner ] = for { l <- trees r <- trees } yield Inner ( l , r ) Application: random testing test: check postconditions (expected results) â†’ generate random test inputs a generic wrapper: def randTest[T](g: Generator[T], numTimes: Int=100)(testfcn: T=>Boolean): Unit = { for( i <- 0 until numTimes){ val value:T = g.generate assert(testfcn(value), \"test failed for \"+value) } println(\"passed\" + numTime + \"tests\") } ScalaCheck instead of writing tests, write properties that are assumed to hold. forAll { ( l1 : List [ Int ] , l2 : List [ Int ] ) => l1 . size + l2 . size == ( l1 ++ l2 ). size } 1.4 - Monads from last section: not only collections, but also any type with map and flatmap can use for expr â‡’ monads. . Monads is a type M[T] with 2 operations: flatMap (\"bind\") and unit , and satisfy some laws. train M [ T ] { def flatMap [ U ] ( f : T => M [ U ] ) : M [ U ] ) : M [ U ] } def unit [ T ] ( x : T ) : M [ T ] examples: List is a monad, unit(x) = List(x) Set , with unit(x) = Set(x) Option , with unit(x) = Some(x) Generator , with unit(x) = single(x) map can be defined as a combination of flatMap and unit : m map f == m flatMap (x => unit( f(x)) ) Monad laws associativity (m flatMap f) flatMap g == m flatMap ( x => f(x) flatMap g ) â†” (x+y+z) = x+(y+z) left unit unit(x) flatMap f == f(x) right unit m flatMap unit == m the Try type We define a Try class, which is similar to Option class. abstraxt class Try [ +T ] case class Success [ T ] ( x : T ) extends Try [ T ] case class Failure ( ex : Exception ) extends Try [ Nothing ] we can write Try(expr) to give a computation a try, by implementing the apply method of object Try: object Try { def apply [ T ] ( expr : => T ) : Try [ T ]= // expr is passed BY NAME , otherwise will cause exception in eval try Success ( expr ) // java syntax of try - catch catch { case NonFatal ( ex ) => Failure ( ex ) } } } if Try is a Monad â‡’ can be written in for expr: â‡’ define map and flatMap on Try type. question: is Try a monad with unit(x)=Try(x) ? â‡’ no, left-unit fails: Try(expr) flatMap f != f(expr) (lhs never nonfatal exception, but rhs will raise) Try is not a monad, but it can still use for expr... Conclusion for exprs are useful not only for collections: Generator , Option , Try","tags":"notes","title":"[Scala MOOC II] Lec1: For Expressions and Monads"},{"url":"https://x-wei.github.io/notes/progfun1_lec6_collections.html","text":"6.1 - Other Collections so far: only seen List. â†’ more ( immutable ) collections. vector List: is linear -- access to head is faster than middle or end element. Vector: better rand access performance. represented as very shallow trees(32-split at each node) Vector support similar operations as List (head, tail,map, fold) , except concat :: , instead Vectors have +: and :+ : x +: xs create new vector with x in head xs :+ x create new vector with x in tail implementation of :+ : create copies Seq Seq is base class for Vector and List , Seq itself is subclass of Iterable . Hierarchy of Iterables: Array ans String Array and String support same op as Seq, can implicitly be converted to seq when needed. But they are NOT subclasses of Seq as they come from java. scala> val xs: Array[Int] = Array(1,2,3) xs: Array[Int] = Array(1, 2, 3) scala> xs map (2*_) res3: Array[Int] = Array(2, 4, 6) scala> val ys = \"Hello\" ys: String = Hello scala> ys filter (_.isUpper) res4: String = H Range represents a seq of evenly spaced integers. represented as an obj with 3 values: lower bound, upper bound, step value. 3 op: to : inclusive until : exclusive by : step value 1 to 6 // 1 2 3 4 5 6 1 until 6 // 1 2 3 4 5 1 to 6 by 2 // 1 3 5 6 to 1 by -2 // 6 4 2 More ops on Seq xs exists p xs forall p xs zip ys : takes 2 seq, returns a single seq, each elem is a pair scala> List(1,2,3) zip Vector(2,3,4) res7: List[(Int, Int)] = List((1,2), (2,3), (3,4)) xs.unzip : reverse zip, return 2 lists xs flatMap f : apply f to all elements, and concat the results scala> \"hello\" flatMap (c => List('.', c)) res9: String = .h.e.l.l.o flatten : flatten a seq of seq into just one seq... xs flatMap f = (xs map f).flatten The result is concated, instead of being a list of list. xs.sum / xs.product : for numeric collection xs.max / xs.min : an ordering must exist Examples cartesen product: 1..M x 1..N: (1 to M) flatMap( x => (1 to N) map (y => (x,y)) ) scalar of 2 vectors def scalaProd(xs: Vector[Double], ys: Vector[Double]): Double = (xs zip ys) map (xy => xy._1 * xy._2).sum alternative: use pattern matching in map (need to add braces {} !): (xs zip ys) map ( {case(x,y) => x*y}).sum test isPrime for a number def isPrime(n: Int): Boolean = (2 until n) forall (d => n%d!=0) 6.2 - Combinatorial Search and For-Expressions goal: handle nested seq. â‡’ extend usage of higher order functions instead of using nested loops. example: given n, find all (i,j) st: 1<=j<i<=n, and i+j is prime. (1 until n) flatMap ( i => (1 until i) map (j => (i,j)) ) filter ( {case(i,j) => isPrime(i+j)}) this works, but less understandable... â‡’ for expressions. for/yield expressions example: class of person case class Person(name: String, age: Int) To obtain names of persons over 20 years old: persons filter (_.age>20) map (_.name) equivalent to : for (p <- person if p.age > 20) yield p.name The for expression is similar to jave for-loop, except it builds a list of the results of all iterations . for expression form: for( s ) yield e where s can contain generators and filters : generator: p<-e where e is a collection, p is a pattern filter: if f where t is boolean expr rewrite the prime sum example: for { i <- 1 until n j <- 1 until i if isPrime ( i + j ) } yield ( i , j ) exercice: write the scalaProd using for expr: def scalaProd ( xs : Vector [ Double ] , ys : Vector [ Double ] ) : Double = ( for ( ( x , y ) <- xs zip ys ) yield x * y ) sum more on scala for expr: http://www.artima.com/pins1ed/for-expressions-revisited.html 6.3 - Combinatorial Search Example goal: combine set and for -expr to solve the n-queens problem. Sets 3 fundamental iterable collection types: seq, set , map. set support most operations on seq (c.f. doc on Iterable) sets are unordered set don't have dup elements contains: s contains e Example: N-Queens 8*8 chess board, 8 queens â‡’ places queens st: no two queen in same row/col/diag algo: put one queen in each row (in the right column) recursive solution: suppose already have solutions for first n-1 rows. represent each (partial)solution as a list of column index. return all possible solutions (as a Set). def queens ( n : Int ) : Set [ List[Int ] ] = { def placeQueens ( k : Int ) : Set [ List[Int ] ] = ??? // place first k rows placeQueens ( n ) } Fill in the helper function: def placeQueens ( k : Int ) : Set [ List[Int ] ] = { if ( k == 0 ) Set ( List ()) else for { queens <- placeQueens ( k - 1 ) // queens ( List [ Int ] ) = one solution to k - 1 c <- 0 until n if isSafe ( c , queens ) // if column c doesn ' t conflict with the partial solution queens } yield c : : queens // the kth row solution is in head of list } Now fill in the function isSafe that check if a column is valid wrt queens for above rows: def isSafe ( col : Int , queens : List [ Int ] ) : Boolean = { val k = queens . length // current row is k val indexedQueens = ( k - 1 to 0 by - 1 ) zip queens // List [ (row, col) ] indexedQueens forall { case ( r , c ) => c != col && k - r != math . abs ( c - col ) } } Now the queens function will work. Write another function to print the solution out: def show ( queens : List [ Int ] ) : String = { val lines = for ( col <- queens . reverse ) yield Vector . fill ( queens . length ( \"* \" ). updated ( col , \"X \" ). mkString \"\\n\" + lines . mkString ( \"\\n\" ) } ( queens ( 4 ) map show ) mkString \"====\\n\" 6.4 - Maps Map[Key, Value] ex: val romanNumerals = Map(\"I\" ->1, \"V\" ->5, \"X\" -> 10) val captial = Map(\"France\" -> \"Paris\", \"US\" -> \"Washington\") Maps are iterables and functions : maps Key to Value like a function call ex. romanNumerals(\"I\") will throw NoSuchElementException if the key is not in map. â‡’ use get : scala > captial ( \"France\" ) res3 : String = Paris scala > captial get \"France\" res4 : Option [ String ] = Some ( Paris ) scala > captial get \"China\" res5 : Option [ String ] = None have a look at the Option type: The Option Type definition: trait Option [ +A ] case class Some [ +A ] ( value : A ] extends Option [ A ] object None extends Option [ Nothing ] so the get function of map gives: None if key is not in map Some(x) if map associates key to x since Some is case class, can use pattern matching to decompose. def showCaptical(country: String) = captial.get(country) match{ case Some(cap) => cap case None => \"missing data\" } Sorted and GroupBy two useful SQL queries. orderBy can be expressed using sortWith and sorted: val fruit = List(\"apple\", \"pear\", \"orange\", \"pineapple\") scala> fruit sortWith ( .length < .length) res7: List[String] = List(pear, apple, orange, pineapple) scala> fruit.sorted res8: List[String] = List(apple, orange, pear, pineapple) GroupBy(f) : partition a collection into a map of collections according to f scala> fruit groupBy (_.head) res9: scala.collection.immutable.Map[Char,List[String]] = Map(p -> List(pear, pineapple), a -> List(apple), o -> List(orange)) map Example: polynomials can be seen as map from exponents to coefficients: â‡’ represent polynm as maps class Poly(val terms: Map[Int, Double]) { def + (other: Poly) = new Poly(terms ++ // ++ on maps: will override older entries in terms! (other.terms maps adjust)) // adjust defined below def adjust(term: (Int, Double)):(Int, Double) = { val (exp, coeff) = term terms get exp match{ case None => Pair(exp, coeff) // or write: exp -> coeff case Some(coeff1) => Pair(exp, coeff+coeff1) } } override def toString = (for( (exp, coeff) <- terms.toList.sorted.reverse) yield coeff+\"x&#94;\"+exp) mkString \"+ \" } default values withDefulatValue : makes a map into a total map rewrite the poly example: class Poly ( terms0 : Map[Int , Double] ) { val terms = terms0 withDefaultValue 0.0 def + ( other : Poly ) = new Poly ( terms ++ // ++ on maps : will override older entries in terms ! ( other.terms maps adjust )) // adjust defined below def adjust ( term : ( Int , Double )) : ( Int , Double ) = { val ( exp , coeff ) = term exp -> ( coeff + terms ( exp )) } override def toString = ( for ( ( exp , coeff ) <- terms.toList.sorted.reverse ) yield coeff + \"x&#94;\" + exp ) mkString \"+ \" } } change to variable parameter for better constructor calling: add another constructor def this(bindings: (int, Double)*) = // bindings is s sequence this(bindings.toMap) Exercie: re-implement the + using foldLeft : def + (other: Poly) = new Poly( (other.terms foldLeft terms)(addTerm) ) def addTerm(terms:Map[Int, Double], term: (Int, Double)): Map[Int, Double] = { val (exp, coeff) = term terms + ( exp -> (coeff + terms(exp)) ) // map + (k,v) updates the map } 6.5 - Putting the Pieces Together: T9 keyboard mnem convert a seq of numbers to a scentence val mnem = Map('2'->\"ABC\", '3'->\"DEF\", 4->\"GHI\", '5'->\"JKL\", '6'->\"MNO\", '7'->\"PQRS\", '8'->\"TUV\", '9'->\"WXYZ\" ) val in = Source.fromURL(\"...\") val words = in.getLines.toList // dictionary: list of valid words goal: design a translate(phoneNumber) that produces all phrases of words that can serve as mnemonics(åŠ©å¿†) for a phone number. Step 1: invert the mnem map to a map from A~Z to 2~9: val charCode: Map[Char, Char] = for ( (digit, str) <-mnem ; ltr<-str) yield ltr- > digit Step 2: map a word to the string it represents, ex. \"java\"->\"5282\" def wordCode(word: String):String = word.toUpperCase map charCode Step 3: maps from digit string to all possible valid strings, ex. \"5282\"->List(\"java\", \"kata\",...) â‡’ just a groupby!! val wordsForNum: Map[String, Seq[String]] = words groupBy wordCode â†’ Error: key not found: \"-\", some words contains a \"-\"... â†’ drop such words... val words = in.getLines.toList filter (wd => wd forall (ch => ch.isLetter)) Step 4: return all ways to encode a number as a list of words â†’ recursive, recurse on the nb of first words~ def encode ( number : String ) : Set [ List[String ] ] = { if ( number . isEmpty ) Set ( List ()) else { val phraseList = for { split <- 1 to number . length // the first word in phrase uses numbers [ 1:split ] firstWd <- wordsForNum [ number.take(split) ] followingWds <- encode ( number . drop ( split )) } yield firstWd : : follwingWds phraseList . toSet } } â‡’ error in the line with wordsForNum : key not found... â‡’ wordsForNum[\"7\"] will give error â‡’ make the wordsForNum a total map, using withDefaultValue val wordsForNum: Map[String, Seq[String]] = (words groupBy wordCode) withDefaultValue( Seq() ) Step 5: return strings (instead of List[String]) def translate ( number : String ) : Set [ String ] = { encode ( number ) map ( _ . mkString ( \" \" )) } summary: Conclusion https://www.scala-exercises.org/","tags":"notes","title":"[Scala MOOC I] Lec6: Collections"},{"url":"https://x-wei.github.io/notes/progfun1_lec5_lists.html","text":"5.1 - More Functions on Lists already known methods: xs.head xs.tail sublist and ele access: xs.length xs.last xs.init : all elementh except last element xs.take(n) : sublist of first n elements xs.drop(n) : the rest of list after taking first n elements xs(n) : = xs.apply(n) , element at index n More methods: concatenation: xs ++ ys ( ::: is legacy usage) xs.reverse xs.updated(n,x) : return a same list, except xs(n)=x (Note: Lists are immutable, so cannot modify) xs.indexOf(x) : index or -1 xs.contains(x) : same as xs.indexOf(x)>=0 complexity: head, tail: simple to implement â‡’ complexity of last ? def last [ T ] ( xs : List [ T ] ) : T = xs match { case List () => throw new Error ( \"last of Nil\" ) case List ( x ) => x case y : : ys => last ( ys ) } â‡’ complexity of last = O(n) implement init : def init [ T ] ( xs : List [ T ] ) : T = xs match { case List () => throw new Error ( \"init of Nil\" ) case List ( x ) => List () case y : : ys => y : : init ( ys ) } â‡’ complexity = O(length of xs) implement concatenation ::: / ++ (NB: ::: is right-associative, xs:::ys = ys. :::(xs) . ) def concat [ T ] ( xs : List [ T ] , ys : List [ T ] ) = xs match { case List () => ys case z : : zs => x : concat ( xs , ys ) } â‡’ complexity of concat = O(length of xs) implement of reverse def reverse [ T ] ( xs : List [ T ] ) = xs match { case List () => List () case y : : ys => reverse ( ys ) ++ y } â‡’ complexity of reverse: every call contains a concat, thus complexity=O(n2) exercice: remove nth element: def removeAt [ T ] ( n : Int , xs : List [ T ] ) : List [ T ] = ( xs take n ) ++ ( xs drop n + 1 ) 5.2 - Pairs and Tuples example: sort list faster than insertion sort â†’ merge sort. sort 2 sublist, merge them â‡’ list is sorted def msort ( xs : List [ Int ] ) : List [ Int ] = { val n = xs . length / 2 if ( n == 0 ) xs else { def merge ( xs : List [ Int ] , ys : List [ Int ] ) = ... // see below val ( fst , snd ) = x splitAt n // splitAt returns 2 sublists merge ( msort ( fst ), msort ( snd )) } } merge: def merge ( xs : List [ Int ] , ys : List [ Int ] ) : List [ Int ] = xs match { case Nil => ys case x : : zs => match ys { case Nil => xs case y : : ws => { if ( x < y ) x : : merge ( zs , ys ) else y : : merge ( xs , ws ) } } } Pair/Tuple written as (x, y) in scala. pair can be used as patterns : similar for tuples. val pair = (\"a\", 2) val (label, value) = pair tuple implementation: â‡’ can use _1 _2 to access elements exercice: rewrite the merge function using a pattern matching over pairs : def merge ( xs : List [ Int ] , ys : List [ Int ] ) : List [ Int ] = ( xs , ys ) match { case ( Nil , ys ) => ys case ( xs , Nil ) => xs case ( x : zs , y : ws ) => if ( x < y ) x : : merge ( zs , ys ) else y : : merge ( xs , ws ) } 5.3 - Implicit Parameters pb: how to apply msort to list of other element types. using type parameters ? msort[T] â‡’ the compare operator is not always defined ! â‡’ pass the lt function as a parameter : def msort[T](xs: List[T])(lt: (T,T)=>Boolean) = ... another option: scala.math.Ordering[T] impor math . Ordering def msort [ T ] ( xs : List [ T ] )( ord : Ordering ) = ... // use ord . lt ( x , y ) msort ( nums )( Ordering . Int ) pb: pass each time the function parameter is cumbersome... â‡’ use implicite parameters def msort [ T ] ( xs : List [ T ] )( implicite ord : Ordering ) = ... // use ord . lt ( x , y ) â‡’ the function calls can ignore the implicite parameter, the compiler will figure it out. 5.4 - Higher-Order List Functions functions over list have similar pattern: transform each element retrive elements that satisfy some cretirion combing elements using an operator map apply an operation to every elements. abstract class List [ T ] { def map [ U ] ( f : T => U ) : List [ U ] = this match { case Nil => this case x : xs => f ( x ) :: xs . map ( f ) } } filtering def filter ( p : T => Boolean ) : List [ T ] = this match { case Nil => this case x : xs => f ( p ( x )) x : : xs . filter ( p ) else xs . filter ( p ) } other methods that extracts sublist: exercice: implement a function pack : def pack [ T ] ( xs : List [ T ] ) : List [ List[T ] ] = xs match { case Nil => Nil case x : : ys => { val ( head , tail ) = xs span ( c => c == x ) head :: pack ( tail ) } } exercice2: implement a function encode : def encode [ T ] ( xs : List [ T ] ) : List [ (T, Int) ] = xs match { case Nil => Nil case x : : ys => { val ( head , tail ) = xs span ( c => c == x ) ( x , head . length ) :: pack ( tail ) } } another version: use the pack: def encode [ T ] ( xs : List [ T ] ) : List [ (T, Int) ] = pack ( xs ) map ( l => ( l . head , l . length )) 5.5 - Reduction of Lists fold/reduce: combine elements using an operator. reduceLeft (can apply only to non-empty lists) inserts a binary operator between adj elements: ex. def sum ( xs : List [ Int ] ) = ( 0 :: xs ) reduceLeft ( ( x , y ) => x + y ) def prod ( xs : List [ Int ] ) = ( 1 :: xs ) reduceLeft ( ( x , y ) => x * y ) write shorter function values using underscore _ : every _ represents a new parameter def sum ( xs : List [ Int ] ) = ( 0 :: xs ) reduceLeft ( _ + _ ) def prod ( xs : List [ Int ] ) = ( 1 :: xs ) reduceLeft ( _ * _ ) foldLeft foldLeft is like reduceLeft, but can apply on Nil, and takes an accumulator z => returns z when calling on Nil. def sum ( xs : List [ Int ] ) = ( xs foldleft 0 ) ( _ + _ ) def prod ( xs : List [ Int ] ) = ( xs foldleft 1 ) ( _ * _ ) foldRight/reduceRight dual functions to foldLeft and reduceLeft , but produce a tree leaned to right if the operation is associative and communitive, foldLeft and foldRight should give same results. Other times need to think. ex. concat if apply foldLeft â‡’ type error, because the :: operator will be applied to 2 elements of type T. 5.6 - Reasoning About Concat proof of programs structural induction pb: prove some properties of concat: ç±»ä¼¼æ•°å­¦å½’çº³æ³•: ex. prove (xs ++ ys) ++ zs = xs ++ (ys ++ zs) : induction on xs def concat [ T ] ( xs : List [ T ] , ys : List [ T ] ) = xs match { case Nil => ys case z : : zs => x : concat ( xs , ys ) } base case: xs=Nil (Nil ++ ys ) ++ zs = Nil ++ (ys ++ zs) induction step: x::xs 5.7 - A Larger Equational Proof on Lists pb: want to prove that xs.reverse.revese == xs base case: Nil.reverse.revers = Nil induction step pb: cannot advance â‡’ generalize the argument.","tags":"notes","title":"[Scala MOOC I] Lec5: Lists"},{"url":"https://x-wei.github.io/notes/Rnotes-4-regression.html","text":"Ré‡Œé¢çš„ç»Ÿè®¡å‡½æ•°æœ‰å¾ˆå¤š, è¿™é‡Œåªç”¨çº¿æ€§æ¨¡å‹ lm ä»¥åŠ(ä¸€ç»´)éå‚ä¼°è®¡æœ€å¸¸ç”¨çš„ä¸‰ä¸ªsmoother: Nadaraya-Watson kernel( NW, ksmooth ), Local Polynomial( LP, loess ), Smoothing Spline( SS, smooth.spline ). ç”¨è¿™ä¸‰ä¸ªsmootherä½œä¸ºä¾‹å­, ä»‹ç»Ré‡Œé¢ç»Ÿè®¡å›å½’çš„ä¸€äº›ç”¨æ³•. æ•°æ®çš„å½¢å¼æ˜¯: ç›®æ ‡æ˜¯ä¼°è®¡å‡½æ•°m(). ä¾‹å­ä½¿ç”¨Rè‡ªå¸¦çš„ cars æ•°æ®é›†, å®ƒåŒ…å«ä¸¤åˆ—: æ±½è½¦é€Ÿåº¦speedå’Œåˆ¹è½¦è·ç¦»dist. > data(cars) > summary(cars) speed dist Min. : 4.0 Min. : 2.00 1st Qu.:12.0 1st Qu.: 26.00 Median :15.0 Median : 36.00 Mean :15.4 Mean : 42.98 3rd Qu.:19.0 3rd Qu.: 56.00 Max. :25.0 Max. :120.00 > ?cars > plot(cars$speed, cars$dist) Theory é¦–å…ˆç®€å•ä»‹ç»ä¸€ä¸‹è¿™4ä¸ªsmootherçš„åŸç†: linear model è®¤ä¸ºmæ˜¯çº¿æ€§å½¢å¼(åŒ…å«intercept): Nadaraya-Watson kernel smoother m_NW åœ¨xå¤„çš„å–å€¼ä¸ºYiçš„åŠ æƒå¹³å‡, æƒé‡æ˜¯æŒ‰ç…§kernel K()ç¡®å®šçš„. å¦å¤–m_NW(x)è¿˜å¯ä»¥çœ‹åšæ˜¯æœ€å°åŒ–åŠ æƒçš„square-error: Local Polynomial smoother m_NW(x)æœ€å°åŒ–åŠ æƒsq-erré‚£ä¸ªè¡¨è¾¾å¼é‡Œ, å¯ä»¥æ˜¯ç”¨ä¸€ä¸ª å¸¸æ•°å‡½æ•° mxæ¥ä¼°è®¡åœ¨xå¤„çš„å–å€¼, LPå°†å®ƒæ³›åŒ–ä¸ºp-1é˜¶å¤šé¡¹å¼çš„å½¢å¼, måœ¨xé™„è¿‘æ˜¯å¤šé¡¹å¼å½¢å¼. m(u)=poly(x-u), è¿™ä¸ªå¤šé¡¹å¼çš„ç³»æ•°ä¸ºbeta(x): æœ€åm_LPåœ¨xå¤„çš„å–å€¼ä¸º: Smoothing Spline è®¾å®šmçš„å½¢å¼ä¸ºknotåœ¨xiçš„spline, åŠ ä¸Špenalizeé¡¹: å¦å¤–SSå¯ä»¥çœ‹ä½œæ˜¯bandwidthéšxå˜åŒ–çš„kernel smoother. fit model formula lm å’Œ loess çš„æ–‡æ¡£é‡Œéƒ½æåˆ°å‚æ•°ä¸ºformula, å®ƒå¤§æ¦‚æ˜¯æŒ‡ç¤ºè¦fitçš„è¡¨è¾¾å¼å½¢å¼. è¿™é‡Œé¢çš„åŠ å‡å·ä¸æ˜¯ç®—æ•°æ„ä¹‰ä¸Šçš„åŠ å‡. çœ‹ä¾‹å­: dist ~ speed : è¡¨ç¤ºdistæ˜¯speedçš„å‡½æ•° y ~ . : è¡¨ç¤ºyæ˜¯æ‰€æœ‰å…¶ä»–å˜é‡çš„å‡½æ•° y ~ x1+x2 : y æ˜¯x1å’Œx2çš„å‡½æ•° y ~ x - 1 : yæ˜¯xçš„å‡½æ•°, ä¸”æ²¡æœ‰intercepté¡¹ fit models è¿™å‡ ä¸ªå‡½æ•°çš„fitå†™æ³•å„ä¸ç›¸åŒ, æœ‰çš„è¦æä¾›formula, æœ‰çš„è¦æä¾›xå’Œyå€¼, éœ€è¦çœ‹æ–‡æ¡£: fit.lm <- lm ( dist ~ speed , data = cars ) fit.nw <- ksmooth ( cars $ speed , cars $ dist , kernel = \"normal\" ) fit.lp <- loess ( dist ~ speed , data = cars ) fit.ss <- smooth.spline ( cars $ speed , cars $ dist ) predict, fitted/residuals predictçš„å†™æ³•ä¹Ÿæ˜¯å„ä¸ç›¸åŒ, ä¸€èˆ¬éƒ½æ˜¯ç”¨ predict å‡½æ•°, ç„¶è€Œè¿™ä¸ªå‡½æ•°åœ¨ä½œç”¨åˆ°ä¸åŒsmootherä¸Šé¢, å‚æ•°å’Œè¿”å›å€¼ä¹Ÿéƒ½ä¸ä¸€æ ·......orz å…³äº xx smootherçš„predictå‡½æ•°ç”¨æ³•å‚è€ƒ? predict.xx . æœ€å¥‡è‘©çš„æ˜¯NW, å®ƒä¸èƒ½ç”¨ predict å‡½æ•°, è€Œè¦fitçš„æ—¶å€™åœ¨ skmooth å‡½æ•°é‡Œä¼ å…¥ x.points å‚æ•°... çœ‹predictä¾‹å­: newspeed <- 1 : 26 pred.lm <- predict ( fit.lm , newdata = data.frame ( speed = newspeed ), interval = \"prediction\" ) [ , \"fit\" ] pred.nw <- ksmooth ( cars $ speed , cars $ dist , kernel = \"normal\" , bandwidth = 2 , x.points = newspeed ) $ y pred.lp <- predict ( fit.lp , newdata = newspeed ) pred.ss <- predict ( fit.ss , x = newspeed ) $ y å¦å¤–, å¦‚æœæƒ³çœ‹smootheråœ¨design points(Xi)å¤„çš„é¢„æµ‹å€¼, å¯ä»¥ç”¨ fitted å‡½æ•°(NWè¿˜æ˜¯ä¸èƒ½ç”¨), ä¾‹å­: fitted.lm <- fitted ( fit.lm ) fitted.nw <- ksmooth ( cars $ speed , cars $ dist , kernel = \"normal\" , bandwidth = 2 , x.points = cars $ speed ) $ y fitted.lp <- fitted ( fit.lp ) fitted.ss <- fitted ( fit.ss ) è¦çœ‹æ¯ä¸ªç‚¹çš„residual ri=yi-yhat_i, ç”¨ residuals å‡½æ•°(NWä¸è¡Œ): resd.lm <- residuals ( fit.lm ) resd.nw <- ksmooth ( cars $ speed , cars $ dist , kernel = \"normal\" , bandwidth = 2 , x.points = cars $ dist ) $ y - cars $ dist resd.lp <- residuals ( fit.lp ) resd.ss <- residuals ( fit.ss ) å¯ä»¥ç”»å‡ºè¿™å‡ ä¸ªæ–¹æ³•çš„fit: abline(fit.lm, lty=1, col=1) # linear model is just a straigh line lines(newspeed, pred.nw, lty=2, col=2) lines(newspeed, pred.lp, lty=3, col=3) lines(newspeed, pred.ss, lty=4, col=4) legend(\"topleft\", c(\"lm\", \"nw\", \"lp\", \"ss\"), lty=1:4, col=1:4) bandwidth&df: Hat Matrix ä¸‰ä¸ªéå‚ä¼°è®¡çš„smootheréƒ½æœ‰\"å¸¦å®½\"(bandwidth)æˆ–è€…\"è‡ªç”±åº¦\"(df)çš„æ¦‚å¿µ, å¸¦å®½å³NWæˆ–LPè¡¨è¾¾å¼é‡Œçš„h. è‡ªç”±åº¦dfæ˜¯å¸¦å®½çš„å‡½æ•°, smootherçš„dfå¯ä»¥ç”¨å®ƒçš„ hat matrix Sè®¡ç®—å‡ºæ¥. ä¸€ä¸ªsmootherçš„hat matrix S, æ˜¯æŠŠè®­ç»ƒå€¼Yæ˜ å°„åˆ°ä¼°è®¡å€¼Yhatçš„çŸ©é˜µ: è€Œdfåˆ™æ˜¯Sçš„è¿¹: df = tr(S). dfçš„ æ ¹æ®script(P28), Sçš„ç¬¬jåˆ—å¯ä»¥ç”¨è¿™ä¸ªsmoother fitä¸€ä¸ªunit vectoræ¥å¾—åˆ°: æ‰€ä»¥è®¡ç®—Så¯ä»¥ç”¨ä¸‹é¢çš„ä»£ç : n <- nrow ( cars ) Snw <- Slp <- Sss <- matrix ( 0 , nrow = n , ncol = n ) In <- diag ( n ) # identity matrix for ( j in 1 : n ){ y <- In[ , j] # unit vector ej Snw[ , j] <- ksmooth ( cars $ speed , y , kernel = \"normal\" , bandwidth = 2 , x.points = x ) $ y Slp[ , j] <- fitted ( loess ( y ~ cars $ speed )) Sss[ , j] <- fitted ( smooth.spline ( cars $ speed , y )) } df.nw <- sum ( diag ( Snw )) df.lp <- sum ( diag ( Slp )) df.ss <- sum ( diag ( Sss )) å‘ç°ä¸‰ä¸ªéå‚smootherçš„è‡ªç”±åº¦ä¸åŒ, æ‰€ä»¥ä¸Šé¢ç”»å›¾çš„æ¯”è¾ƒå¹¶æ²¡æœ‰æ„ä¹‰, ä¸ºäº†è®©ä¸‰è€…çš„è‡ªç”±åº¦ç›¸åŒ, å¯ä»¥è®¾å®šksmooth/loess/smooth.splineçš„å‚æ•°. æ§åˆ¶å¸¦å®½, Lpçš„å‚æ•°ä¸º span , SSçš„å‚æ•°ä¸º spar ; è€ŒæŒ‡å®šæƒ³è¦çš„è‡ªç”±åº¦åˆ™åˆ†åˆ«æ˜¯ enp.target å’Œ df . cat ( \"let all 3 np smoother use the same df=\" , df.nw ) Slp <- Sss <- matrix ( 0 , nrow = n , ncol = n ) In <- diag ( n ) # identity matrix for ( j in 1 : n ){ y <- In[ , j] Slp[ , j] <- fitted ( loess ( y ~ cars $ speed , enp.target = df.nw )) Sss[ , j] <- fitted ( smooth.spline ( cars $ speed , y , df = df.nw )) } sum ( diag ( Slp )) sum ( diag ( Sss )) å‘ç°SSçš„dfå‚æ•°ä½¿ç”¨ä»¥åæ§åˆ¶çš„éå¸¸æ¥è¿‘NWçš„dfäº†, ä¸è¿‡lpçš„dfè¿˜æ˜¯ä¸å¤Ÿæ¥è¿‘, ç”¨spanæ¥æ§åˆ¶åº”è¯¥æ›´å‡†ç¡®ä¸€äº›, ä¸ºäº†æ‰¾åˆ°åˆé€‚çš„span, ç”¨ä»¥ä¸‹ä»£ç æ¥å¯»æ‰¾ä½¿å¾—df=df.nwçš„spanå–å€¼: dflp <- function ( span , val ){ for ( j in 1 : n ) Slp[ , j] <- loess ( In[ , j] ~ cars $ speed , span = span ) $ fitted return ( sum ( diag ( Slp )) - val ) } chosen_span <- uniroot ( dflp , c ( 0.2 , 0.5 ), val = df.nw ) $ root å¦‚æœä¸ç”¨è¿™ä¸ªå¾ªç¯è®¡ç®—çš„è¯, å¯ä»¥ç”¨ sfsmisc åŒ…é‡Œçš„ hatMat å‡½æ•°: å‚æ•° trace å–TRUEçš„è¯, ç›´æ¥è¿”å›hat matrixçš„è¿¹, å¦åˆ™è¿”å›æ•´ä¸ªhat matrix. éœ€è¦æŠŠè¦è®¡ç®—çš„smootheråŒ…è£…æˆä¸€ä¸ªpred.små‡½æ•°ä¼ å…¥, è¿™ä¸ªå‡½æ•°æ¥å—xå’Œy, è¿”å›fittedæ•°å€¼. ä¾‹å­: hatMat(cars$speed, T, pred.sm = function(x,y) ksmooth(x, y, kernel=\"normal\", bandwidth=2, x.points=x)$y ) hatMat(cars$speed, T, pred.sm = function(x,y) fitted(loess(y~x, span=chosen_span)) ) hatMat(cars$speed, T, pred.sm = function(x,y) fitted(smooth.spline(x, y, df=df.nw)) ) CV and Hat Matrix ä¸ºäº†é¢„æµ‹smootherçš„performance, ç”¨loo CVæ¥ä¼°è®¡MSE(mean sq err)çš„å€¼. loo CVå¯ä»¥ç”¨ä¸‹é¢è¿™ä¸ªé€šç”¨å‡½æ•°å¾—åˆ°(æ³¨æ„çœ‹å¯¹äºå‚æ•°çš„è¦æ±‚): ## ' Calculates the LOO CV score for given data and regression prediction function ##' ## ' @param reg.data: regression data; data.frame with columns ' x ', ' y ' ##' @param reg . fcn : regr . prediction function ; arguments : ## ' reg.x: regression x-values ##' reg . y : regression y - values ## ' x: x-value(s) of evaluation point(s) ##' value : prediction at point ( s ) x ##' @return LOOCV score loocv <- function ( reg . data , reg . fcn ) { ## Help function to calculate leave - one - out regression values loo . reg . value <- function ( i , reg . data , reg . fcn ) return ( reg . fcn ( reg . data $ x [ -i ] , reg . data $ y [ -i ] , reg . data $ x [ i ] )) ## Calculate LOO regression values using the help function above n <- nrow ( reg . data ) loo . values <- sapply ( 1 : n , loo . reg . value , reg . data , reg . fcn ) ## Calculate and return MSE return ( mean ( ( loo . values - reg . data $ y ) &#94; 2 ) ) } æ¯”å¦‚, ä¸ºäº†è®¡ç®—NWçš„CVæ•°å€¼, éœ€è¦è¿™æ ·: regfcn.nw <- function ( regx , regy , x ) ksmooth ( regx , regy , kernel = \"normal\" , bandwidth = 2 , x.points = x ) $ y loocv ( data.frame ( x = cars $ speed , y = cars $ dist ), regfcn.nw ) ä¸è¿‡, å¦‚æœå¾—åˆ°äº†hat Matrix S, æ ¹æ®å…¬å¼4.5, loo CVå¯ä»¥è¿™æ ·ä¸€æ¬¡è®¡ç®—å‡ºæ¥: è¯•ä¸€ä¸‹: # compute CV using shortcut euqation yhat.nw <- Snw %*% cars $ y # or use regfcn.nw(cars$speed, cars$dist, cars$speed) mean ( ( ( cars $ y - yhat.nw ) / ( 1 - diag ( Snw )) ) &#94;2 ) å¾—åˆ°çš„ç»“æœå’Œä¹‹å‰ç”¨loocvä¸€æ ·, éƒ½æ˜¯253.9128 !~ æˆ–è€…åªç”¨df, è®¡ç®—generalized CV, å…¬å¼ä¸º: #compute GCV mean( (cars$dist-yhat.nw)&#94;2 ) / ( 1 - df.nw/n )&#94;2 å¾—åˆ°gcv=269.3911, å’ŒlooCVä¹Ÿæ¯”è¾ƒæ¥è¿‘.","tags":"notes","title":"Rè¯­è¨€ä»å…¥é—¨åˆ°æ”¾å¼ƒ (4). ç»Ÿè®¡å›å½’"},{"url":"https://x-wei.github.io/notes/Rnotes-3-plot.html","text":"Rå…³äºç»˜å›¾åº”è¯¥å¯ä»¥å†™å¾ˆå¤š, ä¸è¿‡è¿™é‡Œåªåˆ—ä¸¾åœ¨compstatè¿™é—¨è¯¾é‡Œæœ€ç»å¸¸ç”¨çš„å‡ ä¸ªå‡½æ•°. å…³äºRçš„ç»˜å›¾, è¯¦ç»†äº†è§£å¯ä»¥è¿è¡Œ demo(graphics) æˆ–è€… example(\"plot\") . Ré‡Œé¢çš„ç»˜å›¾å‘½ä»¤åˆ†ä¸ºä¸¤ç±»: ä¸€ç±»æ˜¯\"high-level\"çš„\"åˆ›å»ºæ–°å›¾ç‰‡\"å‘½ä»¤, è¿è¡Œä»¥åä¼šæ–°ç”»ä¸€ä¸ªå›¾; å¦ä¸€ç±»åˆ™æ˜¯\"low-level\"çš„å‘½ä»¤, ä¸ä¼šåˆ›å»ºæ–°å›¾ç‰‡, è€Œåªä¼šåœ¨å½“å‰å›¾ç‰‡ä¸­ä¿®æ”¹æ·»åŠ (ä¾‹å¦‚æ·»åŠ çº¿æ¡, æ·»åŠ ç‚¹ç­‰). ä¸‹é¢åˆ†åˆ«ç®€å•ä»‹ç», æœ€åå†ä»‹ç»å…¶ä»–ä¸€äº›ç»˜å›¾é…ç½®çš„å‘½ä»¤. configurations/parameters ä»‹ç»ä¸€ä¸‹å¸¸ç”¨çš„å‚æ•°æ„ä¹‰, ä»¥åŠç”»å›¾çš„é…ç½®. è¯¦ç»†æ–‡æ¡£è§ ?par . è¿™äº›å‚æ•°å¯ä»¥æ”¾åœ¨ç»˜å›¾å‘½ä»¤ä¸­. par(mfrow=c(1,2)) : è¿™ä¸ªå‘½ä»¤æ˜¯è®¾å®šç”»å›¾çš„å¸ƒå±€, æŠŠæ”¾ç½®å›¾ç‰‡çš„åŒºåŸŸåˆ†ä¸ºä¸€è¡Œä¸¤åˆ—, ç¬¬ä¸€ä¸ªplotçš„å›¾ç‰‡åœ¨å·¦è¾¹, ç¬¬äºŒä¸ªåœ¨å³è¾¹. col : è®¾å®šç”»å›¾(çº¿æ®µ/ç‚¹)çš„é¢œè‰², å¯ä»¥ç”¨æ•°å­—(col=1, 2, ...)ä¹Ÿå¯ä»¥ç”¨è‹±æ–‡(col=\"red\", \"gray\", \"blue\"ç­‰) lty : è®¾å®šçº¿æ®µç±»å‹, ä¾‹å¦‚lty=1ä¸ºå®çº¿, lty=2ä¸ºè™šçº¿ pch : è®¾å®šç‚¹çš„ç±»å‹(pch=\"point character\") cex : ä¼¼ä¹æ˜¯è®¾å®šæ–‡å­—å¤§å°çš„, ä¸€èˆ¬è®¾ç½®cex=0.6 high levelå‘½ä»¤: plot åˆ›å»ºæ–°å›¾ç‰‡çš„å‘½ä»¤ä¸»è¦å°±æ˜¯plotè¿™ä¸ªå‡½æ•° (å…¶ä»–è¿˜æœ‰å¦‚ hist , contour , boxplot , ä¸å¤ªå¸¸ç”¨, çœ‹æ–‡æ¡£åº”è¯¥èƒ½ä¼šç”¨). plot çš„å†…å®¹æˆ–è€…ä¸ºä¸€ç³»åˆ—xå’Œyåæ ‡, æˆ–è€…ä¸ºä¸€ä¸ªformula(è§plot.formula). : type : æŒ‡å®šç”»çº¿( type=\"l\" )æˆ–è€…ç”»ç‚¹( type=\"p\" , é»˜è®¤å€¼). å½“type=\"l\"çš„æ—¶å€™, å¯ä»¥è®¾å®š lty å‚æ•°, type=\"p\"åˆ™å¯ä»¥è®¾å®š pch å‚æ•°. å½“ type=\"n\" çš„æ—¶å€™è¡¨ç¤ºä¸ç”»ä»»ä½•ä¸œè¥¿ â€” ç„¶åå¯ä»¥ç”¨åé¢ä»‹ç»çš„low levelå‘½ä»¤å¾€é‡Œé¢æ·»åŠ ä¸œè¥¿. main : è®¾å®šå›¾ç‰‡çš„æ ‡é¢˜ xlab / ylab : x/yè½´çš„æ–‡å­— xlim/ylim : è®¾å®šx/yè½´çš„èŒƒå›´, ä¾‹å¦‚: xlim=c(0,10) . è¿™ä¸ªå‚æ•°æ¯”è¾ƒé‡è¦, å¦‚æœæƒ³è¦æ ¹æ®æ•°æ®æ¥åŠ¨æ€è°ƒæ•´çš„è¯, å¯ä»¥ä½¿ç”¨extendrangeå‡½æ•°, å®ƒè¿”å›æ¯”æ•°æ®rangeç¨å¤§ä¸€ç‚¹çš„range: > extendrange(1:10) [1] 0.55 10.45 ä¸€ä¸ªplotçš„ä¾‹å­: plot(x, y, type=\"l\", lty=2, xlab=\"x axis label\", ylab=\"y=10sin(x)+x\", main=\"sample plot\", xlim=c(-1, 101), ylim=extendrange(y) ) low levelå‘½ä»¤ points points(x, y) æ·»åŠ (å¤šä¸ª)ç‚¹, è¿™äº›ç‚¹çš„åæ ‡åœ¨xå’Œyä¸­. æ­¤æ—¶å¯ä»¥ç”¨ pch å‚æ•°æŒ‡å®šç‚¹çš„ç±»å‹. lines lines(x, y) æ·»åŠ å¤šæ¡çº¿æ®µ, è¿™äº›çº¿æ®µä¾æ¬¡ç»è¿‡ä¸€ç³»åˆ—çš„ç‚¹, è€Œç‚¹çš„xyåæ ‡æ”¾åœ¨xå’Œyä¸­. æ­¤æ—¶å¯ä»¥è®¾å®š lty æŒ‡å®šçº¿æ®µç±»å‹. abline è¿™ä¸ªå‡½æ•°ä½œç”¨æ˜¯æ·»åŠ ä¸€æ¡ç›´çº¿, å¯ä»¥ä¼ å…¥ lty å‚æ•°. ablineæœ‰å¤šç§ç”¨æ³•: abline(a=a, b=b) : æŒ‡å®šæ–œç‡å’Œæˆªè·(y=ax+b) abline(h=y0) / abline(v=x0) : ç”»æ°´å¹³/å‚ç›´çš„çº¿ abline(reg=lm_fit) : regä¸ºæœ‰coeffçš„å¯¹è±¡(å¦‚ä¸€ä¸ªçº¿æ€§fit), ç”»å‡ºfitted line rug rug(x) çš„ä½œç”¨æ˜¯åœ¨xè½´æ·»åŠ å°çº¿æ®µ, ä½ç½®ä¸ºå‚æ•° x . lengend æ·»åŠ å›¾ä¾‹, ç›´æ¥çœ‹ä¾‹å­: legend(\"topleft\", c(\"data\", \"fitted\"), lty=1:2) è¿™æ ·åœ¨å·¦ä¸Šè§’(å…¶ä»–å¯é€‰é¡¹è§æ–‡æ¡£)æ·»åŠ å›¾ä¾‹, æ–‡å­—\"data\"å¯¹åº”lty=1çš„æ•°æ®, \"fitted\"å¯¹åº”lty=2çš„. example ä¸‹é¢æ˜¯ä¸€ä¸ªlow levelç»˜å›¾ä¾‹å­(åœ¨å‰ä¸€ä¸ªå›¾åŸºç¡€ä¸Šæ·»åŠ å„ç§ä¸œè¥¿): newpts.x <- c ( 20 , 30 , 40 , 50 ) newpts.y <- c ( 40 , 70 , 60 , 80 ) points ( newpts.x , newpts.y , pch = 'x' , col = \"blue\" ) lines ( newpts.x , newpts.y , lty = 3 , col = \"red\" ) abline ( h = 30 , col = \"gray\" ) abline ( v = 50 , col = \"blue\" , lty = 4 ) fit <- lm ( y ~ x ) # fit to linear model abline ( fit , lty = 1 ) legend ( \"topleft\" , c ( \"data\" , \"linear fit\" , \"lines example\" , \"vertical line\" ), lty = c ( 2 , 1 , 3 , 4 ), col = c ( rep ( \"black\" , 3 ), \"blue\" ))","tags":"notes","title":"Rè¯­è¨€ä»å…¥é—¨åˆ°æ”¾å¼ƒ (3). ç»˜å›¾"},{"url":"https://x-wei.github.io/notes/Rnotes-2-seq_func.html","text":"é¦–å…ˆ, Rä¼¼ä¹é»˜è®¤æ‰€æœ‰çš„å˜é‡éƒ½ä¸ºå‘é‡vector, å³ä½¿ä¸€ä¸ªå•ç‹¬çš„æ•°å­—ä¹Ÿæ˜¯é•¿åº¦ä¸º1çš„, æ‰€ä»¥ 1 ç­‰ä»·äº c(1) . > a <- 1 > a [1] 1 > length ( a ) [1] 1 > a[1] [1] 1 > typeof ( a ) [1] \"double\" # means \"double vector\" (I think) > 1 == c ( 1 ) [1] TRUE fancy indexing Rçš„vector/list/matrixæ”¯æŒç±»ä¼¼numpy(ç¨æœ‰ä¸åŒ)çš„fancy indexing, ä»¥ä¸‹æ˜¯ä¾‹å­: > v <- 1 : 10 > v[1 : 3 ] # slicing [1] 1 2 3 > v[ - ( 1 : 3 ) ] # EXCLUDING first 3 elements [1] 4 5 6 7 8 9 10 > v[ -1 ] # EXCLUDING first element [1] 2 3 4 5 6 7 8 9 10 > v [c ( 2 , 4 , 9 ) ] [1] 2 4 9 > v[v %% 2 == 0 ] # indexing using logical array [1] 2 4 6 8 10 # works also for lists > l <- list ( 1 , 2 , 3 , \"aa\" ) > l[ -1 ] [[1]] [1] 2 [[2]] [1] 3 [[3]] [1] \"aa\" ä»¥ä¸‹æ˜¯çŸ©é˜µçš„fancy indexingä¾‹å­: > mat <- matrix ( 1 : 9 , nrow = 3 , ncol = 3 ) > mat [ , 1 ] [ , 2 ] [ , 3 ] [1 , ] 1 4 7 [2 , ] 2 5 8 [3 , ] 3 6 9 > mat[1 , ] [1] 1 4 7 > mat[1 , c ( 2 , 3 ) ] [1] 4 7 > mat[ -1 , ] [ , 1 ] [ , 2 ] [ , 3 ] [1 , ] 2 5 8 [2 , ] 3 6 9 > mat[ , 2 ] [1] 4 5 6 names / dimnames å¥½ç©çš„æ˜¯å¯ä»¥ç”¨ names / dimnames å‡½æ•°ç»™æ¯ä¸ªå€¼åŠ ä¸Šä¸€ä¸ªåå­—: > names ( v ) <- paste ( \"elem\" , sep = \"-\" , 1 : length ( v )) > v elem -1 elem -2 elem -3 elem -4 elem -5 elem -6 elem -7 elem -8 elem -9 elem -10 1 2 3 4 5 6 7 8 9 10 > names ( v ) <- paste ( \"elem\" , sep = \"_\" , 1 : length ( v )) > v elem_1 elem_2 elem_3 elem_4 elem_5 elem_6 elem_7 elem_8 elem_9 elem_10 1 2 3 4 5 6 7 8 9 10 > v $ elem_1 Error in v $ elem_1 : $ operator is invalid for atomic vectors > v[ \"elem_1\" ] elem_1 1 > names ( l ) <- paste ( \"elem\" , sep = \"_\" , 1 : length ( l )) > l $ elem_1 [1] 1 > l[1] $ elem_1 [1] 1 > l[ \"elem_1\" ] $ elem_1 [1] 1 ä¸Šé¢ä¾‹å­çœ‹åˆ°, vectorä¸èƒ½ä½¿ç”¨ $ æ¥è·å¾—\"field\", ä½†æ˜¯listå¯ä»¥, è¿™æ˜¯listå’Œvectorçš„ä¸€ä¸ªåŒºåˆ«. ä¸‹é¢æ˜¯çŸ©é˜µçš„ä¾‹å­: > dimnames ( mat ) <- list ( paste ( \"row\" , sep = \"_\" , 1 : nrow ( mat )), paste ( \"col\" , sep = \"_\" , 1 : ncol ( mat )) ) > mat col_1 col_2 col_3 row_1 1 4 7 row_2 2 5 8 row_3 3 6 9 > mat[ \"row_1\" , \"col_1\" ] [1] 1 c() å…³äº c è¿™ä¸ªå‡½æ•°, å€¼å¾—ä¸€æçš„é™¤äº†å®ƒè‡ªåŠ¨\"å±•å¼€\"å‚æ•°çš„list/vectorä»¥å¤–(ä¸Šæ¬¡åšå®¢æåˆ°), è¿˜æœ‰å°±æ˜¯å®ƒä¼šè‡ªåŠ¨cast, æ–‡æ¡£é‡Œæ˜¯è¿™ä¹ˆè¯´çš„: The output type is determined from the highest type of the components in the hierarchy NULL < raw < logical < integer < double < complex < character < list < expression. å…¶ä¸­çš„logical, integer, characteréƒ½å±äº(atomic) vector, listå’Œä»–ä»¬ä¸åŒ, è§åæ–‡. ä»¥ä¸‹æ˜¯ä¾‹å­: > c ( 1 , 2 , TRUE ) # logical < integer [ 1 ] 1 2 1 > c ( 1 , 2 , \"char\" ) # integer < character [ 1 ] \"1\" \"2\" \"char\" > c ( 1 , 2 , list ( 1 )) # integer < list [[ 1 ]] [ 1 ] 1 [[ 2 ]] [ 1 ] 2 [[ 3 ]] [ 1 ] 1 vector VS list ( matrix VS data.frame ) ç”¨äºé›†åˆä¸»è¦æ˜¯vectorå’Œlist, ä»–ä»¬çš„åŒºåˆ«æ˜¯: vectoråªèƒ½å­˜æ”¾åŒæ ·ç±»å‹çš„å…ƒç´ , è€Œlistå¯ä»¥å­˜æ”¾ä¸åŒç±»å‹çš„å…ƒç´  . vectorå¯ä»¥æ˜¯: numeric, logical, char... ç±»æ¯”ä¸€ä¸‹, vectorç±»ä¼¼javaé‡Œçš„array, listç±»ä¼¼pythonçš„list. å¦å¤–è®¿é—®ç¬¬iä¸ªå…ƒç´ , vectoræ˜¯ v[i] , è€Œlistéœ€è¦ç”¨ä¸¤ä¸ªæ‹¬å· l[[i]] ( l[i] è¿˜æ˜¯ä¸€ä¸ªlist, l[[i]] æ‰æ˜¯æƒ³è¦çš„ä¸œè¥¿... ) çœ‹ä¾‹å­: > c ( 1 , 2 , 3 ) # numeric vector [ 1 ] 1 2 3 > c ( 1 , 2 , \"a\" ) # c () è‡ªåŠ¨ cast æŠŠå‰ä¸¤ä¸ªæ•°å­—è½¬æˆäº† char , å˜æˆä¸€ä¸ª char ç±»å‹çš„ vector [ 1 ] \"1\" \"2\" \"a\" > list ( 1 , 2 , \"a\" ) # list [[ 1 ]] [ 1 ] 1 [[ 2 ]] [ 1 ] 2 [[ 3 ]] [ 1 ] \"a\" åŒç†, matrixå’Œdata.frameä¹Ÿç±»ä¼¼, matrixçš„æ‰€æœ‰å…ƒç´ å¿…é¡»ç›¸åŒ, è€Œdata.frameå¯ä»¥æ¯ä¸€åˆ—å„ä¸ç›¸åŒ(ä¸è¿‡ä¸€åˆ—ä¹‹ä¸­éœ€è¦ç›¸åŒ). å¦å¤–data.frameä¹Ÿæ”¯æŒç”¨ $ é€‰å–ä¸€åˆ—, matrixåˆ™ä¸æ”¯æŒ. functions Rçš„å‡½æ•°å®šä¹‰ä¸ºå¦‚ä¸‹å½¢å¼, æ³¨æ„, å‡½æ•°ä½“çš„æœ€åä¸€å¥å°±æ˜¯è¿”å›å€¼, ä¸ç”¨æ˜¾ç¤ºå†™\"return\" (ç±»ä¼¼scala). myfunnction <- function ( params , ... ){ # ... the.return.value } å¦å¤–æ³¨æ„åˆ°ä¸Šé¢å‡½æ•°å®šä¹‰, å‚æ•°é‡Œæœ‰ä¸‰ä¸ªç‚¹ ... , è¿™ä¸ªä¸æ˜¯å¿…é¡»çš„, å®ƒçš„çš„ä½œç”¨è§ä¸‹ä¸€èŠ‚. Ræ˜¯å‡½æ•°å¼è¯­è¨€: ä¸€ä¸ªfunctionå¯ä»¥ä½œä¸ºå‚æ•°ä¼ é€’, ä¾‹å­å°±æ˜¯ apply , è§ä¸‹ä¸€èŠ‚. apply/lapply/sapply apply applyè¿™ä¸ªå‡½æ•°çš„docå†™åˆ°ç”¨æ³•ä¸º: apply(X, MARGIN, FUN, ...) X æ˜¯æ“ä½œçš„æ•°æ®( ä¸€èˆ¬ä¸ºmatrix ), MARGIN ä¸ºé€‰æ‹©å¯¹è¡Œæˆ–åˆ—æ“ä½œ(ç±»ä¼¼numpyçš„ axis å‚æ•°), FUN å°±æ˜¯ä½œä¸ºå‚æ•°ä¼ å…¥çš„å‡½æ•°äº†. > mat <- matrix ( 1 : 12 , nrow = 3 , ncol = 4 ) > mat [ , 1 ] [ , 2 ] [ , 3 ] [ , 4 ] [1 , ] 1 4 7 10 [2 , ] 2 5 8 11 [3 , ] 3 6 9 12 > apply ( mat , 1 , sum ) # apply on row [1] 22 26 30 > apply ( mat , 2 , sum ) # apply on col [1] 6 15 24 33 è¿™é‡Œç±»ä¼¼åšreduceæ“ä½œ, è€ŒMARGINå°±æ˜¯æŒ‡å®šè¦reduceå“ªä¸€ä¸ªç»´åº¦. å¦å¤–æ–‡æ¡£é‡Œçš„ä¸‰ä¸ªç‚¹ ... å¾ˆæœ‰æ„æ€, å®ƒæ˜¯ å‚æ•°FUNçš„é¢å¤–å‚æ•° ! ä¸‹é¢æ˜¯ä¸€ä¸ªä¾‹å­, ç»™FUNä¼ å…¥äº†ä¸€ä¸ªåŒ¿åå‡½æ•°: function(x,power) sum(x&#94;power) , å®ƒè®¡ç®—xé‡Œå…ƒç´ çš„poweræ¬¡æ–¹, ç„¶ååŠ èµ·æ¥. æ‰€ä»¥åœ¨applyé‡Œå¯ä»¥æŒ‡å®šFUNè¿™ä¸ª power å‚æ•°çš„æ•°å€¼, è¿™å°±å¯¹åº”ç€applyç”¨æ³•é‡Œçš„è¿™ä¸‰ä¸ªç‚¹ ... . > apply(mat, 1, function(x,power) sum(x&#94;power), power=1 ) [1] 22 26 30 > apply(mat, 1, function(x,power) sum(x&#94;power), power=2 ) [1] 166 214 270 lapply/sapply å¦‚æœè¯´ä¸Šé¢ apply ä¸€èˆ¬ç”¨åœ¨matrixä¸Š, ç”¨äºå°†ä¸€ä¸ªmatrix reduce ä¸ºå‘é‡çš„è¯, lapply/sapply å°±æ˜¯ map æ“ä½œäº†: ä½œç”¨åœ¨ä¸€ä¸ªvector/listä¸Š, è¿”å›å¯¹æ¯ä¸€ä¸ªå…ƒç´ è¿›è¡Œæ“ä½œåçš„æ–°list. å®ƒä»¬çš„åŒºåˆ«å¤§æ¦‚æ˜¯: lapplyè¿”å›list, sapplyè¿”å›vector. > sq <- function ( x ) x&#94;2 > l <- list ( 1 , 2 , 3 , 4 ) > v <- 1 : 4 > lapply ( v , sq ) # lapply returns a list [[1]] [1] 1 [[2]] [1] 4 [[3]] [1] 9 [[4]] [1] 16 > lapply ( l , sq ) # lapply returns a list [[1]] [1] 1 [[2]] [1] 4 [[3]] [1] 9 [[4]] [1] 16 > sapply ( v , sq ) # sapply returns a vector [1] 1 4 9 16 > sapply ( l , sq ) # sapply returns a vector [1] 1 4 9 16","tags":"notes","title":"Rè¯­è¨€ä»å…¥é—¨åˆ°æ”¾å¼ƒ (2). å‘é‡(åˆ—è¡¨)åŠå‡½æ•°"},{"url":"https://x-wei.github.io/notes/Rnotes-1-basics.html","text":"è¿™ä¸ª\"ä»å…¥é—¨åˆ°æ”¾å¼ƒ\"ç³»åˆ—æ˜¯ä¸ºäº†åº”ä»˜ethçš„ computational statistics è¿™é—¨è¯¾... å¯¹Ræ— çˆ±... terminology é¦–å…ˆåœ¨staté‡Œé¢æœ‰ä¸€äº›å«æ³•å’Œä»¥å‰ä¸å¤ªä¸€æ ·: predictor variable : å°±æ˜¯æœºå™¨å­¦ä¹ é‡Œé¢è¯´çš„feature (Xi) design points : æ˜¯æœºå™¨å­¦ä¹ é‡Œçš„è®­ç»ƒæ•°æ®(X1...Xn) response variable : è¦é¢„æµ‹çš„å˜é‡(y) Rstudio è¿™ä¸ªæ˜¯ç”¨Rç¼–ç¨‹çš„æ ‡é…, ç¡®å®å¾ˆæ–¹ä¾¿, ä¸ç”¨å¯æƒœ. å¦å¤–R markdownä¹Ÿä¸é”™, å¯ä»¥è¾¹å†™markdownè¾¹è¿è¡Œä»£ç , å»ºè®®ç¼–è¾‘å™¨çª—å£é‡Œæ–°å»ºrmdæ–‡ä»¶. é»˜è®¤æœ‰å››ä¸ªçª—å£: ç¼–è¾‘å™¨, å˜é‡, å‘½ä»¤è¡Œ, ç”»å›¾/å¸®åŠ©. å¿«æ·é”® ä¸€äº›å¸¸ç”¨çš„å¿«æ·é”®: alt+- : ç”¨äºè¾“å…¥èµ‹å€¼ç¬¦å· <- (ç¼–è¾‘å™¨çª—å£ä¸­) ctrl+enter : (åœ¨consoleé‡Œ)æ‰§è¡Œå…‰æ ‡æ‰€åœ¨çš„è¡Œ, ç­‰åŒäºæŒ‰é’®\"run\" (r markdownç¼–è¾‘å™¨çª—å£ä¸­) ctrl+alt+I : æ’å…¥ä¸€ä¸ªRä»£ç çš„chunk (r markdownç¼–è¾‘å™¨çª—å£ä¸­) ctrl+shift+enter : è¿è¡Œå½“å‰code chunk (é€‰ä¸­ä¸€ä¸ªå‡½æ•°å) F1 : åœ¨å³ä¸‹è§’å¸®åŠ©çª—å£é‡Œæ˜¾ç¤ºç›¸å…³æ–‡æ¡£. R æ–‡æ¡£ è·å¾—æ–‡æ¡£ä¹Ÿå¯ä»¥è¾“å…¥: ?funcname æˆ–è€… help(funcname) è¾“å…¥ ??funcname åˆ™æ˜¯éç²¾ç¡®åŒ¹é…çš„æŸ¥æ‰¾. å¦å¤–è·å¾—ä¾‹å­å¯ä»¥ä½¿ç”¨ demo() / example() , ä¾‹å¦‚: demo(graphs) example(\"plot\") ä¸‹é¢æ˜¯ä¸€ä¸ªRæ–‡æ¡£çš„ä¾‹å­(è¿è¡Œ ?lm å¾—åˆ°): ç« èŠ‚Argumentsé‡Œä»‹ç»äº†æ¯ä¸ªå‚æ•°çš„æ„ä¹‰å’Œç”¨æ³•, ç„¶åå¾€ä¸‹ç¿»è¿˜æœ‰ä¸€ä¸ªValuesç« èŠ‚: Valuesé‡Œçš„æ¯ä¸€é¡¹æ˜¯è¿™ä¸ªå‡½æ•°çš„è¿”å›å€¼(object)çš„å†…å®¹, æ¯”å¦‚è¦è·å¾—ä¸€ä¸ªlm objectçš„å‚æ•°, åªéœ€è¦: lm_obj$coefficients R 101 é¦–å…ˆ, Réå¸¸è®©æˆ‘éå¸¸ä¸ä¹ æƒ¯çš„ä¸€ç‚¹æ˜¯: åœ¨Ré‡Œé¢, dot . åªæ˜¯ä¸€ä¸ªæ™®é€šçš„å­—ç¬¦ , å®ƒçš„ç”¨æ³•å’Œpythoné‡Œçš„ä¸‹åˆ’çº¿ _ ç±»ä¼¼, åªæ˜¯èµ·åˆ°åˆ†å‰²å‡½æ•°åé‡Œçš„å•è¯è€Œå·²... åœ¨å…¶ä»–è¯­è¨€é‡Œ, dot . ä¸€èˆ¬éƒ½æ˜¯ç”¨æ¥è°ƒç”¨å‡½æ•°æˆ–è€…è·å–fieldçš„. æ‰€ä»¥è§åˆ° cv.ss ä¹‹ç±»çš„åå­—çš„æ—¶å€™åˆ«ä»¥ä¸ºæ˜¯å˜é‡cvçš„ä¸€ä¸ªfield... è¿™ä¸ªå°±ç›¸å½“äºpythoné‡Œä¸€ä¸ªå« cv_ss çš„å˜é‡... è·å–ä¸€ä¸ªobjectçš„field, åœ¨Ré‡Œé¢æ˜¯ç”¨dollar $ (å¦å¤–Ré‡Œçš„objectä¼¼ä¹å¹¶æ²¡æœ‰method!) . å¦å¤–, èµ‹å€¼ä½¿ç”¨çš„æ˜¯ <- , ç­‰å·ä¼¼ä¹åªåœ¨æŒ‡å®šå‡½æ•°å‚æ•°çš„æ—¶å€™ç”¨åˆ°. å¸¸ç”¨å‡½æ•° æ¥ä¸‹æ¥åˆ—ä¸¾ä¸€äº›å¸¸ç”¨çš„å‡½æ•°, å®ƒä»¬çš„è¯¦ç»†ç”¨æ³•å¯ä»¥çœ‹æ–‡æ¡£... c(...) combine values into vector/list. æ³¨æ„çš„æ˜¯å®ƒä¼šè‡ªåŠ¨æŠŠlist/vectorå‚æ•°å±•å¼€: > c(1,2,3) [1] 1 2 3 > c(c(1,2),3) [1] 1 2 3 åˆ©ç”¨è¿™ä¸ªæ€§è´¨, å¯ä»¥è¿™æ ·å‘ä¸€ä¸ªåˆ—è¡¨(å‘é‡)æ·»åŠ ä¸œè¥¿: l <- c(l, new_element) numeric(l) ç”Ÿæˆé•¿åº¦ä¸ºlçš„(å…¨0)å‘é‡. ç»å¸¸ç”¨è¿™ä¸ªå‘½ä»¤ç”Ÿæˆä¸€ä¸ª\"æ•°ç»„\" ç„¶åç”¨ä¸€ä¸ªå¾ªç¯å‘é‡Œé¢å†™å…¥ä¸œè¥¿. > numeric(5) [1] 0 0 0 0 0 è·å–å‘é‡ç¬¬iä¸ªå…ƒç´ : vec[i] (btw, R indexæ˜¯ä»1å¼€å§‹çš„) matrix(v, nrow=nr, ncol=nc) ç”Ÿæˆä¸€ä¸ªçŸ©é˜µ, å…¨éƒ¨åˆå§‹åŒ–ä¸ºv, nrè¡Œ, ncåˆ—. è·å–iè¡Œjåˆ—: mat[i,j] è·å–ç¬¬iè¡Œ: mat[i,] ç¬¬jåˆ—: mat[,j] seq(from, to, by) ç±»ä¼¼pyçš„rangeå‡½æ•°... å¦å¤– 1:n æ˜¯ seq(1,n,by=1) çš„ç®€å†™ > seq(1,10, 2) [1] 1 3 5 7 9 > 1:5 [1] 1 2 3 4 5 forå¾ªç¯: for(i in 1:n){... rep ç›´æ¥çœ‹ä¾‹å­: > rep(1, 10) [1] 1 1 1 1 1 1 1 1 1 1 > rep(c(1,2), 10) [1] 1 2 1 2 1 2 1 2 1 2 1 2 1 2 1 2 1 2 1 2 > rep(c(1,2), each=10) [1] 1 1 1 1 1 1 1 1 1 1 2 2 2 2 2 2 2 2 2 2 length(lst) ç”¨æ¥è·å¾—ä¸€ä¸ªå‘é‡/åˆ—è¡¨çš„é•¿åº¦ dim(mat) è·å¾—ä¸€ä¸ªçŸ©é˜µçš„ç»´åº¦, ç±»ä¼¼numpyçš„ mat.shape cbind/rbind æŒ‰è¡Œ/åˆ—åˆæˆçŸ©é˜µ > cbind(c(1,2),c(3,4)) [,1] [,2] [1,] 1 3 [2,] 2 4 str / summary è¾“å‡ºä¸€ä¸ªobjçš„ä¿¡æ¯ cat / print æ‰“å°, åŒºåˆ«æ˜¯ cat å¯ä»¥ä¾æ¬¡æ‰“å°å¤šä¸ªå­—ç¬¦ä¸²/å¯¹è±¡ which / which.max / which.min which.max/minç±»ä¼¼äºargmax/min > which(2>c(1,2,1)) [1] 1 3 > which.max(c(1,2,1)) [1] 2 > which.min(c(1,2,1)) [1] 1 paste è¿™ä¸ªå‡½æ•°å¯ä»¥ç”¨æ¥ç»™ä¸€ä¸ªæ•°ç»„çš„å‰é¢åŠ ä¸€ä¸ªå‰ç¼€, çœ‹ä¾‹å­: > paste(\"a\", 1:5, sep=\"-\") [1] \"a-1\" \"a-2\" \"a-3\" \"a-4\" \"a-5\" operators: with % ä¸€äº›è¿ç®—ç¬¦éœ€è¦ç”¨%åŒ…è£¹èµ·æ¥, æ¯”å¦‚: - %% : å–æ¨¡ - %*% : çŸ©é˜µç›¸ä¹˜ - %/% : æ•´æ•°ç›¸é™¤(ç±»ä¼¼javaé‡Œintçš„é™¤æ³•) - a %in% b : åˆ¤æ–­å…ƒç´ æ˜¯å¦å±äºb","tags":"notes","title":"Rè¯­è¨€ä»å…¥é—¨åˆ°æ”¾å¼ƒ (1). åŸºç¡€"},{"url":"https://x-wei.github.io/soft/double-hop-ssh.html","text":"é—®é¢˜: ç°åœ¨æœ¬åœ°sshè¿æ¥ethçš„daintæœåŠ¡å™¨, è¿æ¥éœ€è¦è¿›è¡Œä¸¤æ¬¡ssh: ç¬¬ä¸€æ¬¡æœ¬åœ°è¿æ¥åˆ°elaæœåŠ¡å™¨, ç¬¬äºŒæ¬¡ä»elaå†æ¬¡sshåˆ°daint. ç°åœ¨é…ç½®æœ¬åœ°çš„sshä»£ç†ä½¿ä¹‹å¯ä»¥ä¸€æ¬¡å®Œæˆ. ç¬¬ä¸€æ­¥: ç”Ÿæˆsshkey ssh-keygen cat ~/.ssh/id_rsa.pub | ssh your_username@ela.cscs.ch 'cat >> ~/.ssh/authorized_keys' ssh your_username@ela.cscs.ch ç¬¬äºŒæ­¥: ä¿®æ”¹.ssh/configæ–‡ä»¶å†…å®¹ ç”¨æ–‡æœ¬ç¼–è¾‘å™¨æ‰“å¼€ .ssh/config æ–‡ä»¶, æ·»åŠ å¦‚ä¸‹å†…å®¹: Host daint Hostname daint101 User your_username ForwardAgent yes ForwardX11 yes Port 22 IdentityFile ~/.ssh/id_rsa ProxyCommand ssh -q -Y your_username@ela.cscs.ch netcat %h %p -w 10 ç›´è¿ç¬¬äºŒå±‚ssh è¿›è¡Œäº†ä»¥ä¸Šé…ç½®ä»¥å, è¿æ¥åˆ°cscså°±ä¸å†éœ€è¦ä¸¤å±‚sshçš„å‘½ä»¤äº†, ç›´æ¥: $ssh daint å³å¯ ! ç”¨rsyncåŒæ­¥è¿œç¨‹æ–‡ä»¶å¤¹ ä¾‹å­: æŠŠæœ¬åœ°æ–‡ä»¶å¤¹åŒæ­¥åˆ°ç¬¬äºŒå±‚sshçš„ç›®å½•ä¸‹. rsync -a --progress ~/Downloads/nn_coref-master daint:/scratch/daint/your_username/code","tags":"soft","title":"ä¸¤å±‚sshè¿æ¥(2-hop ssh connection)ä»£ç†é…ç½®"},{"url":"https://x-wei.github.io/notes/progfun1_lec4_pattern_matching.html","text":"4.1 - Objects Everywhere scala is pure OO: every value is an obj, every operation is a method of obj. scala.Int scala.Boolean maps to JVM standard primitive types. Implement Boolean withous primitive type in scala: Then defin false and true as objects, give implementation for ifThenElse() funciton: object true extends Boolean { def ifThenElse [ T ] ( t : => T , e : => T ) = t } object false extends Boolean { def ifThenElse [ T ] ( t : => T , e : => T ) = e } 4.2 - Functions as Objects Function values are treated as objects in scala. the type A => B is an abbrevation for scala.Function1[A, B] Functions are objects with apply methods. anonymous function (x: Int) => x*x is expanded to : new Function1[Int, Int]{ def apply(x: Int) = x*x } function call f(a,b) is expanded to: f.apply(a,b) List(1,2) is expanded to : List.apply(1,2) 4.3 - Subtyping and Generics 2 forms of polymorphism: subtyping and generics Type Bounds assertAllPos taks either EmptySet or NonEmptySet , the return type is EmptySet (when para=EmptySet) or NonEmptySet (when para=NonEmpty). To express this situation: def assertAllPos[S <: IntSet](r: S): S = ... Here <: IntSet means IntSet is an upper bound of the type parameter. and we can mix the two notations: [S >: NonEmpty <: IntSet] Covariance Given NonEmpty <: IntSet , should we have: List[NonEmpty] <: List[IntSet] ? In this case the typse are called *covariant. * In java, arrays are covariant: NonEmpty[] <: IntSet[] but this might cause problems: will get ArrayStoreException in 3rd line. Liskov substitution principle : when a type can be a subtype of another If A<:B, then everything one can do with an object of type B, one should also be able to do it with object of type A. In scala the Array is not covariant: Array[IntSet] is not supertype of Array[NonEmpty] 4.5 - Decomposition ex: arithmetic expression interpreter: a tree of numbers and sums, both are subtype of Expr . 1st try: test and accessor methods â†’ tedious... And to add more operands need to add many more methods... 2nd try: (non-solution) type testing and type casting isinstantceof , asinstanceof discouraged in scala. 1st solution: OO decomposition add eval method to class Expr. limitation: if we want to simplify an expression, â‡’ there is no local simplification ! â‡’ pattern matching 4.6 - Pattern Matching goal: reverse the construction process. which subclass it is? what were the arguments? case classes add case in class definition. ex. case class Number(n: Int) extends Expr case class Sum(e1: Expr, e2: Expr) extends Expr adding case adds companion objects with apply methods: according to the expansion, Number(2) is equal to Number.apply(2) which is actaully new Numver(2) pattern matching match : extension of switch in java, ex: def eval(e: Expr): Int = e match{ case Number(n) => n case Sum(e1, e2) => e1 + e2 } patterns include: constructor, ex. Number(n) variable, ex. n, e1, e2 wildcard patters, ex. _ constant, ex. 1, true or their combination, ex Sum(Number(1), Var(x)) The whole match expression is replaced with the expression to the rhs of the first match pattern. exercice: implement a show function. def show(e: Expr): String = e match { case Number(n) => n.toString case Sum(l, r) => show(l) + \"+\" + show(r) } 4.7 - Lists example: difference between List and Array: Lists are immutable, elements cannot change Lists are recursive, arrays are flat both are homogeneous, all elements of the same type All List s in scala are constructed with: Empty list Nil construction op :: (pronunced: cons), x::xs convention in scala: operators ending with : are right-associative . a::b::c is equal to a::(b::c) seen as method calls from the right-hand operand. 1::2::Nil equal to Nil.::(2).::(1) ( :: is prepend operation) operations on lists: head tail isEmpty list in pattern matching: ex. insertion sort of lists def isort ( xs : List [ Int ] ) : List [ Int ] = xs match { case List () => List () case y : : ys => insert ( y , isort ( ys )) } def insert ( x : Int , xs : List [ Int ] ) : List [ Int ] = xs match { case List () => List ( x ) case y : : ys => if ( x <= y ) x : : xs else y : : insert ( y , ys ) }","tags":"notes","title":"[Scala MOOC I] Lec4: Types and Pattern Matching"},{"url":"https://x-wei.github.io/notes/progfun1_lec3_data_abstraction.html","text":"This week, we'll cover traits, and we'll learn how to organize classes into hierarchies. We'll cover the hierarchy of standard Scala types, and see how to organize classes and traits into packages. Finally, we'll touch upon the different sorts of polymorphism in Scala. 3.1 - Class Hierarchies abstract class abstract class IntSet { def incl(x: Int): IntSet def contains(x: Int): Boolean } abstract class: contains members without implementation cannot be created with new class Extensions implement the integer set abstract class with BST 2 types of trees: Empty and NonEmpty class Empty extends IntSet { override def incl ( x : Int ): IntSet = new NonEmpty ( x , new Empty , new Empty ) override def contains ( x : Int ): Boolean = false } class NonEmpty ( elem: Int , left: IntSet , right: IntSet ) extends IntSet { override def incl ( x : Int ): IntSet = if ( x == elem ) this else if ( elem > x ) new NonEmpty ( elem , left . incl ( x ), right )// immutable ! else new NonEmpty ( elem , left , right . incl ( x )) override def contains ( x : Int ): Boolean = if ( elem == x ) true else if ( elem > x ) left . contains ( x ) else right . contains ( x ) } root class of all classes: Object replace concrete defintion of super class: override is mandantory. Object in the previous example, seems only one single Empty set is needed. â‡’ define Empty as singleton object no other Empty instances can be created, object is a value. object Empty extends IntSet { override def incl ( x : Int ): IntSet = new NonEmpty ( x , Empty , Empty ) override def contains ( x : Int ): Boolean = false override def toString = \".\" } Program create standalone scala applicatoins. Each such applications contains an object with a main(args:Array[String]) method exercice: implement union union(other:IntSet): IntSet override def union(other: IntSet): IntSet = left union (right union (other incl elem)) why this recursive call terminates ? every call to union is on a smaller IntSet ! å†™æˆè¿™æ ·å°±ä¼šstackoverflow: other.incl(elem).union(left).union(right) è®¨è®ºè§: https://www.coursera.org/learn/progfun1/discussions/weeks/3/threads/AzJ-4CLYEeag6wpD-92Rcw (éœ€è¦ç‚¹\"view earlier replies\"æ‰æœ‰) Dynamic Binding behavior depends on the runtime type of the object. ~ higher-order functions Lecture 3.2 - How Classes Are Organized package // named imports import week3.Rational import week3. { Rational , Hello } // wildcard import import week3._ can import either from a package or from an object automatically imported in scala: ex: scaladoc: http://www.scala-lang.org/files/archive/api/current/#package Traits in scala/java, a class has only one super class (single inheritance). have several supertypes? â‡’ trait! one class can extend many traits (concated by with ) â€” like java interface traits can contain fileds and concrete methods on the other hand, traits cannot have (value) parameters, but classes can scala class hierchy Any : base class of all AnyVal : primitive types ( Int, Unit, Boolean,... ) AnyRef : (=alias of java.lang.Object ) all reference types ( String, List, Seq, Iterable,... ) Nothing : bottom of the hierchy, is subtype of every type Null : subtype of every reference type, null 's type is Null , not compatible with AnyVal types. exception: throw Exc , the typeof Exc is Nothing exercice: if (true) 1 else false â‡’ type = AnyVal Lecture 3.3 - Polymorphism cons-list immutable linked list implement this in scala: the val in the class definition: defines at the same time parameter and field of a class , equivalent to: type parameters (generic) trait List[T]{ def isEmpty : Boolean def head: T def tail: List[T] } class Cons[T](val head:T, val tail: List[T]) extends List[T] { def isEmpty(): Boolean = false } head and tail are implemented in the parameters(fields), difference between val and def only consist in the initialization (CBN, CBV). class Nil [ T ] extends List [ T ] { def isEmpty = false def head : Nothing = throw new NoSuchElementException ( \"Nil.head\" ) def tail : Nothing = throw new NoSuchElementException ( \"Nil.tail\" ) } use nothing as return type, and throw an exception. generic functions type parameters can be applied to functions. sometime the type parameter can be deduced by scala compiler. ex. singleton(2); singleton(true) Types and Evaulation type parameters don't affect evaluation. can assume type parameters are removed before the evaluation ( type erasure ). Polymorphism subtyping: instances of subclass can be passed to a base class generics: function/class with type parameters exercice: write a function nth(n: Int, list: List) def nth [ T ] ( n : Int , list : List [ T ] ) : T = if ( list . isEmpty ) throw new IndexOutOfBoundsException () else if ( n == 0 ) list . head else nth ( n - 1 , list . tail ) Programming Assignment: Object-Oriented Sets TweetSet : an abstract class TweetSet with two concrete subclasses, Empty which represents an empty set, and NonEmpty(elem: Tweet, left: TweetSet, right: TweetSet ), which represents a non-empty set as a binary tree rooted at elem. The tweets are indexed by their text bodies: the bodies of all tweets on the left are lexicographically smaller than elem and all bodies of elements on the right are lexicographically greater.","tags":"notes","title":"[Scala MOOC I] Lec3: Data and Abstraction"},{"url":"https://x-wei.github.io/notes/progfun1_lec2_highorder_func.html","text":"This week, we'll learn about functions as first-class values, and higher order functions. We'll also learn about Scala's syntax and how it's formally defined. Finally, we'll learn about methods, classes, and data abstraction through the design of a data structure for rational numbers. 2.1 - Higher-Order Functions higher order functions: functions that takes functions as parameter or returns functions. example: â‡’ put the f as a parameter def sum(f:Int => Int, a: Int, b: Int):Int = { if(a>b) 0 else f(a) + sum(f, a+1, b) } function types A => B is a function that takes A as parameter and returns B . Anonymous functions \"literals\" for functions, syntactic sugar. ex. (x: Int, y: Int) => x+y (x: Int) => x*x use anon functions in previous sum() function: sum(x=>x, 1, 10) sum(x=>x*x, 1, 10) exercice: turn sum() into tailrec fashion. def sum2(f:Int => Int, a: Int, b: Int):Int = { @tailrec def sumTR(a: Int, acc: Int): Int = { if (a > b) acc else sumTR(a + 1, acc + f(a)) } sumTR(a, 0) } (note: using namescoping to eliminate parameters in inner functions) 2.2 - Currying define a function that returns a funtion def sum3(f:Int => Int): (Int, Int)=>Int = { def sumF(a:Int, b:Int):Int = { if(a>b) 0 else f(a) + sum3(f, a+1, b) } sumF } when calling this function: sum3(cube)(1,10) syntactic sugar: shorter version of functions that return functions: def sum3(f:Int => Int)(a:Int, b:Int):Int = { if(a>b) 0 else f(a) + sum3(f)(a+1, b) } question: what is type of sum3 ? â†’ Int => Int => (Int, Int) => Int note: functional types are associated to the right , Int => Int => Int is equivalent to Int => (Int => Int) \"currying\" exercice: def product(f: Int => Int)(a: Int, b: Int): Int = { if (a > b) 1 else a * product(f)(a + 1, b) } product(x=>x)(1,10) def fact(n:Int) = product(x=>x)(1,n) fact(10) def more_general(op: (Int,Int) => Int, default: Int) (f: Int=> Int)(a:Int, b:Int):Int = { if(a>b) default else op(a, more_general(op, default)(f)(a + 1, b)) } more_general((x,y)=>x+y, 0)(x=>x)(1,10) è€å¸ˆçš„è§£æ³•: def map_reduce(f:Int=> Int, op:(Int, Int)=>Int, default:Int) (a:Int, b:Int):Int = { if(a>b) default else op(f(a), map_reduce(f, op, default)(a+1,b)) } def factorial2(n:Int):Int = map_reduce(x=>x, (a,b)=> a*b, 1)(1,n) factorial2(10) 2.3 - Example: Finding Fixed Points find the fix point of a function: x = f(x) val tol = 0.001 def isCloseEnough(x:Double, y:Double):Boolean = math.abs((x-y)/x)<tol def fixedPoint(f: Double=>Double)(firstGuess:Double):Double = { def iterate(guess:Double):Double = { if(isCloseEnough(guess, f(guess))) guess else iterate(f(guess)) } iterate(firstGuess) } fixedPoint(x=>1+x/2)(1) using the fixepoint function for sqrt : sqrt(x) = y such that: x=y*y =y such that y = x/y = fixed point for the function f(y)=x/y def sqrt(x:Double):Double = fixedPoint(y=>x/y)(1) sqrt(2) â‡’ doesn't converge! â‡’ guess oscillates between 1 and 2... average damping: prevent the estimate from varying to much. â‡’ by taking the average of successive values def sqrt2(x: Double): Double = fixedPoint(y => (y + x / y) / 2)(1) abstract this damping technique: def avgDamping(f:Double=> Double)(x:Double):Double = (f(x)+x)/2 def sqrt2(x: Double): Double = fixedPoint(avgDamping(y=>x/y))(1) summary: The highest level of abstraction is not always the best, but it is important to know the techniques of abstraction, so as to use them when appropriate. 2.4 - Scala Syntax Summary notations(EBNF): | denotes an alternative [...] an option (0 or 1) {...} a repetition (0 or more) Types Expressions Definitions 2.5 - Functions and Data example. rational numbers (x/y) define a class: class Rational(x:Int, y:Int){ def numer = x def denom = y } val x = new Rational(1,2) x.numer x.denom this definition creates both a class and the constructor. now implement arithmetic: def add ( that : Rational ) = new Rational ( numer * that . denom + denom * that . numer , that . denom * denom ) def neg = new Rational ( - numer , denom ) def sub ( that : Rational ) = add ( that . neg ) override def toString = numer + \"/\" + denom 2.6 - More Fun With Rationals simplify the rationals at construction : add private members: private def gcd(a: Int, b: Int): Int = if (b == 0) a else gcd(b, a % b) private val g = gcd(x, y) def numer = x/g def denom = y/g other options: replace g with gcd(x,y) turn numer and denom into val add less and max function: def less ( that : Rational ) = this . numer * that . denom < this . denom * that . numer def max ( that : Rational ) = if ( this . less ( that )) that else this preconditions ex: avoid divide by 0. require(y!=0, \"denominator must be non zero\") â†’ java.lang.IllegalArgumentException: requirement failed: denominator must be non zero require is a test to perform when the class is initialized. similar: assert() constructor in scala a class implicitly introduces a primary constructor: takes parameters of the class executes all statements in the class body to add another constructor: def this(x:Int) = this(x,1) exercice: override def toString = { val g = gcd(numer, denom) numer/g + \"/\" + denom/g } 2.7 - Evaluation and Operators evaluation for class/object extend the substitution model to classes and objects examples: operator overloading infix ops any method with one parameter can be used as an infix operator. scala identifiers can bu symbolic: â‡’ change names to +, <, -, use in this way: x + y x < y x max y x - y - z unitary ops now change the neg method: prefix operator, and might be confused with the sub( - ) â‡’ it's name is special: unary_- def unary_- = new Rational(-numer, denom) precedence of ops the precedence of an op is defined by its first letter order (by increasing precedence): quite the same as in java Programming Assignment: Functional Sets Mathematically, we call the function which takes an integer as argument and which returns a boolean indicating whether the given integer belongs to a set, the characteristic function of the set. For example, we can characterize the set of negative integers by the characteristic function (x: Int) => x < 0. Therefore, we choose to represent a set by its characterisitc function and define a type alias for this representation: type Set = Int => Boolean def contains(s: Set, elem: Int): Boolean = s(elem)","tags":"notes","title":"[Scala MOOC I] Lec2: Higher Order Functions"},{"url":"https://x-wei.github.io/notes/progfun1_lec1_fun_and_eval.html","text":"In this week, we'll learn the difference between functional imperative programming. We step through the basics of Scala; covering expressions, evaluation, conditionals, functions, and recursion 1.1 - Programming Paradigms imperative programming: modify mutable variables using assignments control structures: if-else, loops, break, continue, return, etc. ~~~> Von Neumann computer: conceptualize data structures word-by-word. â‡’ need higher level abstractions (theories). theory doesn't describe mutations! ex. theories of polynomials To implement high-level concepts following their math theories, there's no place for mutation . Functional programming functions in FP language are 1st-class citizens. 1.2 - Elements of Programming in a language: primitive expressions operators to combin expressions abstract expressions: introduce a name for an expression primitive types in scala are written capatilized: REPL interactive shell: write expressions and respond its value Evaluation evaluation: expression â†’ value evaluation stops onces it results in a value. evaluate non-primitive expressions: take the left-most operator take (left and right) operands apply the operator to operands evaluate names: replace the name with the rhs of its definition. definitions can have parameters. ex. variable/return types are after their names, seperated by a : def power(x: Double, y: Int): Double = ... evaluate a parameterized function: This scheme is called \" substition model \" â€” formalized in the lambda calculus. This can be applied as long as there is no side effects (ex. modify variable c++ ) . Termination Q: does every expression evaluates to a value? NO, ex. def loop: Int = loop change evaluation strategy do not reduce argument values before rewrite function application. call-by-name and call-by-value the above evaluation schemes. call-by-value: reduce argument values before rewrite function application. advantage: it evaluates every function argument only once. call-by-name: do not reduce arg values advantage: a function argument is not evaluated if the corresponding parameter is unused in the evaluation of the function body. ex. 1.3 - Evaluation Strategies and Termination CBV and CBN: ex. def first(x: Int, y: Int) = x first(1, loop) in scala: normally use call-by-value (more efficient than call-by-name because it avoid repeated computation of CBN). but: if a => before a parameter type , that parameter is called by-name . ex. def constOne(x: Int, y: => Int) = 1 constOne(1+2, loop) constOne(loop, 1) 1.4 - Conditionals and Value Definitions conditional expressions the if-else expression the if-else is an expression, not statement. ex. def abs(x: Int): Int = if (x>=0) x else -x the x>=0 is a boolean expression, sometimes called predicates . CBN and CBV for definition def form is by name, its rhs is evaluated at each use val is by value, evaluted at the definiton ex. scala > def loop : Boolean = loop loop : Boolean scala > def x = loop x : Boolean scala > val x = loop Execution interrupted by signal . exercice: implement and(x,y) scala > def and ( x : Boolean , y : => Boolean ) = if ( x ) y else false and : ( x : Boolean , y : => Boolean ) Boolean scala > and ( false , loop ) res3 : Boolean = false 1.5 - Example: square roots with Newton's method def sqrt(x: Double): Double = ... need helper (recursive) functions. note: in scala the return type of recursive functions must be given. def improve ( guess : Double , x : Double ): Double = ( x / guess + guess ) / 2 . 0 def isGoodGuess ( guess : Double , x : Double ): Boolean = math . abs (( guess * guess - x ) / x ) < 0 . 001 def sqrtItr ( guess : Double , x : Double ): Double = { if ( isGoodGuess ( guess , x )) guess else sqrtItr ( improve ( guess , x ), x ) } def sqrt ( x : Double ): Double = sqrtItr ( 1 , x ) 1.6 - Blocks and Lexical Scope nested functions put aux functions inside a function. def sqrt ( x : Double ): Double = { def improve ( guess : Double , x : Double ): Double = ( x / guess + guess ) / 2 . 0 def isGoodGuess ( guess : Double , x : Double ): Boolean = math . abs (( guess * guess - x ) / x ) < 0 . 001 def sqrtItr ( guess : Double , x : Double ): Double = { if ( isGoodGuess ( guess , x )) guess else sqrtItr ( improve ( guess , x ), x ) } sqrtItr ( 1 , x ) } blocks and visibility blocks: delimited by braces {...} The last element of a block is an expression that defines its value. Blocks are themselves expressions; a block may appear everywhere an expression can . ex. val x = 0 def f(y: Int) = y +1 val result = { val x = f(3); x * x } + x // result = 16 ex. eliminate the parameter x of helper functions inside the sqrt function def sqrt ( x : Double ): Double = { def improve ( guess : Double ): Double = ( x / guess + guess ) / 2 . 0 def isGoodGuess ( guess : Double ): Boolean = math . abs (( guess * guess - x ) / x ) < 0 . 001 def sqrtItr ( guess : Double ): Double = { if ( isGoodGuess ( guess )) guess else sqrtItr ( improve ( guess )) } sqrtItr ( 1 ) } about multiline expressions: put the operator in the first line to avoid ambguity. 1.7 - Tail Recursion review: evaluation of function application. ex1. gcd def gcd(a:Int, b:Int): Int= if(b==0) a else gcd(b, a%b) ex2. factorial def factorial(n:Int): Int = if(n==0) 1 else n*factorial(n-1) difference from the gcd case: in gcd , the expression is reduced to a gcd() in factorial , add one more element to the expression in each step ! tail recursion if a function calls itself as its last action , then the function's stack can be reused. â‡’ tail recursion functions are iterative process. In general, if the last action of a function consists of calling a function (which may be the same) , one stack frame would be sufficient for both functions. Such calls are called tail-calls . tail-recursive function: more efficient can avoid stackoverflow might not be as clear as a non-tailrec version add @tailrec annotation to the function, if its not tailrec, an error will be shown. @tailrec def gcd(a: Int, b: Int): Int = ... exercice: turn factorial into tailrec fashion. â†’ idea: use an accumulator (partial result) acc . def factorialTR(n:Int):Int = { @tailrec def fact(n:Int, acc:Int):Int = { if(n==0) acc else fact(n-1, n*acc) } fact(n, 1) } Programming Assignment: Recursion ä¸‰é“é€’å½’çš„ç»ƒä¹ é¢˜... /** * Exercise 1 */ def pascal ( c : Int , r : Int ) : Int = { if ( c == 0 || c == r ) 1 else pascal ( c , r - 1 ) + pascal ( c - 1 , r - 1 ) } /** * Exercise 2 */ def balance ( chars : List [ Char ] ) : Boolean = { def balance_rec ( chars : List [ Char ] , acc : Int ) : Boolean = { if ( acc < 0 ) false else if ( chars . isEmpty ) acc == 0 else if ( chars . head == '(' ) balance_rec ( chars . tail , acc + 1 ) else if ( chars . head == ')' ) balance_rec ( chars . tail , acc - 1 ) else balance_rec ( chars . tail , acc ) } balance_rec ( chars , 0 ) } /** * Exercise 3 */ def countChange ( money : Int , coins : List [ Int ] ) : Int = { if ( money == 0 ) 1 else if ( coins . isEmpty || money < 0 ) 0 else countChange ( money , coins . tail ) + countChange ( money - coins . head , coins ) }","tags":"notes","title":"[Scala MOOC I] Lec1: Functions & Evaluation"},{"url":"https://x-wei.github.io/notes/progfun1_lec0_setup.html","text":"Get up and running with Scala on your computer. Complete an example assignment to familiarize yourself with our unique way of submitting assignments. Tool setup IntelliJ use worksheet as a better REPL SBT navigate to the directory of the assignment you are working on, then start sbt . (when first running sbt , will take 5~10 minutes to download files...) REPL type console to enter scala REPL, hit ctrl-d to exit REPL. Compile / run / test compile : The compile task will compile the source code of the assignment which is located in the directory src/main/scala . test : The directory src/test/scala contains unit tests for the project. In order to run these tests in sbt, you can use the test command. run : If your project has an object with a main method (or an object extending the trait App), then you can run the code in sbt easily by typing run. In case sbt finds multiple main methods, it will ask you which one you'd like to execute. submit submitting assignments in sbt: submit your@email.com YourSubmissionPassWord Scala tutorial Classes, Traits, Objects and Packages Classes Classes in Scala are very similar to classes in Java. They are templates containing fields and methods. Like in Java, classes can be instantiated using the new construct, there can be many \"instances\" (or \"objects\") of the same class. In Scala there exists a special kind of class named case classes . You will learn about case classes during the course. Classes in Scala cannot have static members . You can use objects (see below) to achieve similar functionality as with static members in Java. Traits Traits are like interfaces in Java, but they can also contain concrete members , i.e. method implementations or field definitions. Objects Object in Scala are like classes, but for every object definition there is only one single instance. It is not possible to create instances of objects using new , instead you can just access the members (methods or fields) of an object using its name. Packages Adding a statement such as package foo.bar at the top of a file makes the code in a file part of the package foo.bar. You can then do import foo.bar._ to make everything from package foo.bar available in your code. The content of a package can be scattered across many files. If you define a class MyClass in package foo.bar, you can import that specific class (and not anything else from that package) with import foo.bar.MyClass. In Scala, everything can be imported, not only class names . So for instance if you have an object baz in package foo.bar, then import foo.bar.baz._ would import all the members of that object. Hello, World! in Scala In Scala, the main or entry point method is defined in an object . An object can be made executable by either adding extending the type App or by adding a method def main(args: Array[String]) . Here are two ways to define a program which outputs \"Hello, World!\" in Scala: object HelloWorld extends App { println(\"Hello, World!\") } or: object HelloWorld { def main ( args : Array [ String ] ) { println ( \"Hello, World!\" ) } } Source Files, Classfiles and the JVM Scala source code is stored in text files with the extension .scala . Typically Scala programmers create one source file for each class, or one source file for a class hierarchy: In fact, Scala allows multiple classes and objects to be defined in the same source file . The name of a Scala source file can be chosen freely , but it is recommended to use the name of a class which is defined in that file. Package hierarchies should be reflected in directory structure: a source file defining class C in package foo.bar should be stored in a subdirectory as foo/bar/C.scala. Scala does not really enforce this convention, but some tools such as the Scala IDE for eclipse might have problems otherwise. The scala compiler compiles .scala source files to .class files, like the Java compiler. Classfiles are binary files containing machine code for the Java Virtual Machine. In order to run a Scala program, the JVM has to know the directory where classfiles are stored. This parameter is called the \"classpath\". If you are using eclipse or sbt to compile and run your Scala code, you don't need to do any of the above manually - these tools take care of invoking the Scala compiler and the JVM with the correct arguments. Scala Style Guide style checker: http://www.scalastyle.org/ (in IntelliJ: You can enable scalastyle in Intellij by selecting Settings->Editor->Inspections, then searching for Scala style inspections.) Avoid Casts and Type Tests : Never use isInstanceOf or asInstanceOf - there's always a better solution. Indentation Line Length and Whitespace Use local Values to simplify complex Expressions Choose meaningful Names for Methods and Values Common Subexpressions *Don't Copy-Paste Code!: factor out common parts into separate methods instead of copying code around. * Scala doesn't require Semicolons Don't submit Code with \"print\" Statements: the final code should be free of debugging statements. Avoid using Return : often don't need to use explicit returns. Avoid mutable local Variables : You can often rewrite code that uses mutable local variables to code with helper functions that take accumulators. Eliminate redundant \"If\" Expressions Cheatsheet https://github.com/lampepfl/progfun-wiki/blob/gh-pages/CheatSheet.md Example Assignment implementation implement max and sum method for List[Int] . trick: use recursion. def sum ( xs : List [ Int ] ) : Int = { if ( xs . isEmpty ) 0 else xs . head + sum ( xs . tail ) } def max ( xs : List [ Int ] ) : Int = { if ( xs . isEmpty ) throw new java . util . NoSuchElementException () max ( xs , Int . MinValue ) } def max ( xs : List [ Int ] , m : Int ) : Int = { if ( xs . isEmpty ) m else if ( xs . head > m ) max ( xs . tail , xs . head ) else max ( xs . tail , m ) } ScalaTest A test suite is simply a collection of individual tests for some specific component of a program. A test suite is created by defining a class which extends the type org.scalatest.FunSuite . When running ScalaTest, it will automatically find this class and execute all of its tests. You have two options for running this test suite: - Start the sbt console and run the \" test \" command - Right-click this file in eclipse and chose \"Run As\" - \"JUnit Test\" Tests are written using the test operator which takes two arguments: A description of the test. This description has to be unique, no two tests can have the same description. The test body, a piece of Scala code that implements the test The most common way to implement a test body is using the method assert which tests that its argument evaluates to true . So one of the simplest successful tests is the following: test(\"one plus one is two\")(assert(1 + 1 == 2)) In Scala, it is allowed to pass an argument to a method using the block syntax, i.e. { argument } instead of parentheses (argument) . This allows tests to be written in a more readable manner: test(\"one plus one is three?\") { assert(1 + 1 == 3) // This assertion fails! Go ahead and fix it. } One problem with the previous (failing) test is that ScalaTest will only tell you that a test failed, but it will not tell you what was the reason for the failure. The output looks like this: {{{ [ info ] - one plus one is three ? *** FAILED *** }}} This situation can be improved by using a special equality operator === instead of == (this is only possible in ScalaTest). So if you run the next test, ScalaTest will show the following output: {{{ [ info ] - details why one plus one is not three *** FAILED *** [ info ] 2 did not equal 3 ( ListsSuite . scala : 67 ) }}} We recommend to always use the === equality operator when writing tests. In order to test the exceptional behavior of a methods, ScalaTest offers the intercept operation. In the following example, we test the fact that the method intNotZero throws an IllegalArgumentException if its argument is 0 . def intNotZero ( x : Int ) : Int = { if ( x == 0 ) throw new IllegalArgumentException ( \"zero is not allowed\" ) else x } test ( \"intNotZero throws an exception if its argument is 0\" ) { intercept [ IllegalArgumentException ] { intNotZero ( 0 ) } } It is allowed to have multiple assert statements inside one test, however it is recommended to write an individual test statement for every tested aspect of a method. test ( \"sum of a few numbers\" ) { assert ( sum ( List ( 1 , 2 , 0 )) === 3 ) } test ( \"sum of empty list\" ) { assert ( sum ( List ()) === 0 ) } test ( \"sum of negative numbers\" ) { assert ( sum ( List ( - 1 , - 1 , - 1 )) === - 3 ) } test ( \"max of a few numbers\" ) { assert ( max ( List ( 3 , 7 , 2 )) === 7 ) } test ( \"max of empty list throws NoSuchElementException\" ) { intercept [ NoSuchElementException ] { max ( List ()) } }","tags":"notes","title":"[Scala MOOC I] Lec0: Getting Started"},{"url":"https://x-wei.github.io/notes/dlMOOC_L4.html","text":"problems with text: often very rare word is important, e.g. retinopathy ambiguity: e.g. cat and kitty â†’ need a lot of labeled data â‡’ not realistic. â‡’ unsupervised learning similar words appear in similar context. embedding: map words to small vectors measure the closeness by cosine distance: word2vec initial: random vector â†’ train model to predict nearby word. pb: too many words in dictionary â†’ softmax too slow â‡’ random sample the non-target words tSNE dimension reduction (not PCA) that preserves the neighborhood structure (close vector â†’ close in 2d as well). RNN treat varaible length sequences of words. use the current word (Xi) and the last prediction as input. backprop for RNN apply highly correlated derivatives to W â†’ not good for SGD. pb if we use highly correlated updates: grad either explod or it disappear quickly. fix grad-exploding: clip grad-vanishing: memory loss in RNN â‡’ LSTM LSTM in RNN: replace the NN by a LSTM cell represent the system with memory by a diagram with logical gates: change the decision variables to continous: a logistic regression in each gate: controls when to remember and when to forget things. http://blog.csdn.net/dark_scope/article/details/47056361 regularization for LSTM: L2 regularization: OK dropout: OK when used for input/output (X and Y), but NOT use to the recurrent in/out. beam search beam search is for generating sequences by RNN. Greedy approach: at each step, sample from the predicted distribution of the RNN. smarter approach: predict more steps and pick the seq with largest proba. pb with this: the number of possible seq grows exponentially â‡’ just keep the few most promising seqs â†’ \" Beam search\" seq to seq RNN: model to map vaiable length seq to fix-length vectors. Beam search: sequence generation (map fix-length vectors to seq) concat them together: seq to seq system e.g. translation, speech recognation, image captionning","tags":"notes","title":"(DeepLearning MOOC) Lesson 4: Deep Models for Text and Sequences"},{"url":"https://x-wei.github.io/notes/dlMOOC_L3.html","text":"statistical invariance â†’ weight sharing e.g. image colors, translation invariance... convnet is NNs that share their weights across space. convolution: slide a small patch of NN over the image to produce a new \"image\" convnet forms a pyramid, each \"stack of pincake\" get larger depth and smaller area. convolutional lingo def. patch (kernel) small NN that slides over the image. def. depth number of pincakes in stack. def. feature map each \"pincake\" in stack. def. stride nb of pixels that you shift each time you move your filter. e.g. stride=1 â†’ output almost the same size as the input; stride=2 â†’ output about half size def. padding the way you treat the edge of image. valid padding : don't go pass the edge same padding : go off the image and pad with 0s (output size=input size) once got \"deep and narrow\" representation by convolution, connect to a normal (regular) fully-conncected NN. pooling better way to reduce the spatial extend (i.e. size) of the feature map. simple convnet: use large stride to reduce the feature map size. â‡’ aggressive pooling : use small stride (ex. stride=1), then take convolutions in neighbourhood and combine them . max pooling average pooling 1x1 convolution classic convolution = linear classifier over a small patch of image add a 1x1 convolution in the middle â‡’ a mini-dnn over the patch. cheap: not convolution, just matrix multiplication. inception module between each layers, just do both pooling and 1x1 conv, and 3x3 and 5x5.. conv, and concatenate them together. benefit: total number of parameters is small, yet performance better.","tags":"notes","title":"(DeepLearning MOOC) Lesson 3: Convolutional Neural Networks"},{"url":"https://x-wei.github.io/notes/dlMOOC_L2.html","text":"Linear models matrix multiplication: fast with GPU numerically stable cannot cocatenate linear units â†’ equivalent to one big matrix... â‡’ add non-linear units in between rectified linear units (RELU) chain rule: efficient computationally back propagation easy to compute the gradient as long as the function Y(X) is made of simple blocks with simple deritivates. most deep-learning framework can do it automatically for you. N.B. The backprop block takes 2x memory/compute wrt the forward prop blocks. first neural network: RELU units between linear classifiers: Tensor flow tensors define computations, and they are nodes in a computation graph . To actually run the optimization, use sessions ... define a computation graph: batch_size = 128 num_hidden = 1024 graph = tf . Graph () with graph . as_default () : # Input data . For the training data , we use a placeholder that will be fed # at run time with a training minibatch . tf_train_dataset = tf . placeholder ( tf . float32 , shape = ( batch_size , image_size * image_size )) tf_train_labels = tf . placeholder ( tf . float32 , shape = ( batch_size , num_labels )) tf_valid_dataset = tf . constant ( valid_dataset ) tf_test_dataset = tf . constant ( test_dataset ) # Variables for linear layer 1 W1 = tf . Variable ( tf . truncated_normal ( [ image_size * image_size, num_hidden ] )) b1 = tf . Variable ( tf . zeros ( [ num_hidden ] )) # Hidden RELU input computation y1 = tf . matmul ( tf_train_dataset , W1 ) + b1 # Hidden RELU output computation X1 = tf . nn . relu ( y1 ) # Variables for linear layer 2 W2 = tf . Variable ( tf . truncated_normal ( [ num_hidden, num_labels ] )) #W2 b2 = tf . Variable ( tf . zeros ( [ num_labels ] )) #b2 # logit ( y2 ) output logits = tf . matmul ( X1 , W2 ) + b2 loss = tf . reduce_mean ( tf . nn . softmax_cross_entropy_with_logits ( logits , tf_train_labels )) def getlogits ( X ) : y1 = tf . matmul ( X , W1 ) + b1 X1 = tf . nn . relu ( y1 ) return tf . matmul ( X1 , W2 ) + b2 # Optimizer . optimizer = tf . train . GradientDescentOptimizer ( 0.5 ). minimize ( loss ) # Predictions for the training , validation , and test data . train_prediction = tf . nn . softmax ( logits ) valid_prediction = tf . nn . softmax ( getlogits ( tf_valid_dataset ) ) test_prediction = tf . nn . softmax ( getlogits ( tf_test_dataset )) run sgd optimization: num_steps = 3001 with tf . Session ( graph = graph ) as session : tf . initialize_all_variables (). run () print ( \"Initialized\" ) for step in range ( num_steps ): # Pick an offset within the training data , which has been randomized . # Note : we could use better randomization across epochs . offset = ( step * batch_size ) % ( train_labels . shape [ 0 ] - batch_size ) # Generate a minibatch . batch_data = train_dataset [ offset :( offset + batch_size ), :] batch_labels = train_labels [ offset :( offset + batch_size ), :] # Prepare a dictionary telling the session where to feed the minibatch . # The key of the dictionary is the placeholder node of the graph to be fed , # and the value is the numpy array to feed to it . feed_dict = { tf_train_dataset : batch_data , tf_train_labels : batch_labels } _ , l , predictions = session . run ( [ optimizer , loss , train_prediction ], feed_dict = feed_dict ) if ( step % 500 == 0 ): print ( \"Minibatch loss at step %d: %f\" % ( step , l )) print ( \"Minibatch accuracy: %.1f%%\" % accuracy ( predictions , batch_labels )) print ( \"Validation accuracy: %.1f%%\" % accuracy ( valid_prediction . eval (), valid_labels )) print ( \"Test accuracy: %.1f%%\" % accuracy ( test_prediction . eval (), test_labels )) Regularization early termination: stop when cannot improve in validation performance. L2 regularization: adding L2 norm of Dropout def. activation is the output of last layer that flows into the next layer. dropout: randomly set half of activations to 0 . rational: forcing your model to learn reduadant representations (consus over an ensemble of nns...)... N.B. for evaluation no longer dropout, ye = average of activations, trick to let ye=E(yt) , in training, multiply the remaining activations by 2.","tags":"notes","title":"(DeepLearning MOOC) Lesson 2: Deep Neural Networks"},{"url":"https://x-wei.github.io/notes/dlMOOC_L1.html","text":"è¿™æ˜¯udacityä¸Šdeeplearningçš„ç¬”è®°, åšå¾—éå¸¸ç²—ç³™, è€Œä¸”è¿™é—¨è¯¾ä¹Ÿåªæ˜¯ä»‹ç»æ€§è´¨çš„... https://www.udacity.com/course/deep-learning--ud730 Softmax function socres yi â‡’ probabilities pi property: smaller scores â‡’ less certain about result Onehot encoding Cross entropy measure how well the probability vector S corresponds to the label vector L . â‡’ cross entropy D(S,L) ( D>=0, the smaller the better) N.B. D(S,L) is not symmetric (never log 0 ) recap (\"multinominal logistic classificaton\"): Minimizing cross entropy take avg D as loss function: â‡’ optimization, for example, by grad-desc: for the moment, take the optimizer as black box. two practical problems: how to feed img pixels to classifiers how to initialize the optimization numerical stability adding very small values to very large values will introduce a lot of errors ! ex. >>> a = 1e9 >>> for _ in xrange(1000000): ... a += 1e-6 >>> a - 1e9 0.95367431640625 â‡’ the result is not 1... â‡’ normalize input ! â‡’ 0 mean, 1 variance this make optimizers easier to find optimum. normalization for images: weight initialization draw init w/b from a Gaussian(0, sigma) , sigma â†’ magtitude of initial output. small sigma means small outputs â†’ uncertain about result. â‡’ take small sigma for initialization recap: â‡’ feed this loss fcn to the optimizer training, validation and test dataset rule of thumb (30) : a change that affects 30 examples in the validation set is statically significant. â‡’ in most cases use >30000 samples in validation set â†’ changes in 0.1% is significant. SGD rule of thumb: computing grad(L) takes 3x time than computing loss fcn L . â†’ pb for scaling.. SGD is the only fast enough model in practice. tricks to help SGD: normalize data (0 mean, uni-var) randomly initialize weights momentum learning rate decay Momentum SGD: many small steps in random directions â†’ general direction is more accurate. â‡’ keep a running average of the gradients Learning rate decay take smaller and smaller steps (alpha decays) e.g. alpha decays exponentially... parameter tuning how quickly you learning != how well you train.. balck magics in deep learning: Adagrad variant of SGD, implicitly decays momentum and learning rate. recap:","tags":"notes","title":"(DeepLearning MOOC) Lesson 1: From Machine Learning to Deep Learning"},{"url":"https://x-wei.github.io/tech/codejam-python-tools.html","text":"æ€»ç»“ä¸€ä¸‹ç”¨pythonæ’¸codejamæ—¶å¸¸ç”¨çš„ä¸€äº›åº“, å¹¶ä¸”ç»™ä¸€äº›ç®€å•çš„ä¾‹å­. å‘ç°ç”¨pythonæ’¸codejaméå¸¸åˆé€‚: codejamçš„æ—¶é—´è¦æ±‚ä¸ä¸¥æ ¼(4/8åˆ†é’Ÿ), è€Œä¸”ç¨‹åºåªè¦æœ¬åœ°è¿è¡Œ. æ­£å¥½å¯ä»¥ä½¿ç”¨pythonç®€æ´çš„è¯­æ³•å’Œä¸°å¯Œçš„å‡½æ•°åº“. collections pyè‡ªå¸¦çš„ä¸€äº›å¥½ç”¨çš„æ•°æ®ç»“æ„... https://docs.python.org/2/library/collections.html from collections import Counter, deque, defaultdict itertools ä¸»è¦æ˜¯ç”¨æ¥ç©·ä¸¾çš„æ—¶å€™å®ƒé‡Œé¢ä¸€äº›å‡½æ•°å¾ˆå¥½ç”¨... https://docs.python.org/2/library/itertools.html >>> from itertools import product , combinations >>> a = 'ABCD' ; b = 'EFG' >>> for p in product ( a , b ): print p ... ( 'A' , 'E' ) ( 'A' , 'F' ) ( 'A' , 'G' ) ( 'B' , 'E' ) ( 'B' , 'F' ) ( 'B' , 'G' ) ( 'C' , 'E' ) ( 'C' , 'F' ) ( 'C' , 'G' ) ( 'D' , 'E' ) ( 'D' , 'F' ) ( 'D' , 'G' ) >>> for c in combinations ( a , 2 ): print c ... ( 'A' , 'B' ) ( 'A' , 'C' ) ( 'A' , 'D' ) ( 'B' , 'C' ) ( 'B' , 'D' ) ( 'C' , 'D' ) >>> for p in permutations ( b , 2 ): print p ... ( 'E' , 'F' ) ( 'E' , 'G' ) ( 'F' , 'E' ) ( 'F' , 'G' ) ( 'G' , 'E' ) ( 'G' , 'F' ) bitmap èªæ˜ä¸€ç‚¹çš„ç©·ä¸¾éœ€è¦ç”¨bitmap... å®æµ‹å¯ä»¥åŠ é€Ÿåå€... use bitmap for combinations (2&#94;N possibilities) (N elements, each element 2 choices) for mask in xrange(1<<N): ... set/clean Kth bit set: bm |= 1<<k clean: bm &= ~(1<<k) count nb of 1s in a bitmap bin(bm).count('1') networkx å¸¸ç”¨çš„å›¾è®ºç®—æ³•éƒ½åœ¨é‡Œé¢äº†. nxæœ€æ£’çš„æ˜¯ ä»»ä½•hashableçš„objectéƒ½å¯ä»¥ç”¨æ¥ä½œä¸ºèŠ‚ç‚¹çš„index , å†æƒ³æƒ³ç”¨C++çš„bgl, ç®€ç›´è›‹ç–¼... https://networkx.readthedocs.io/en/stable/ constructing graph >>> import networkx as nx >>> G = nx . DiGraph () # use `Graph` for undired graph, `MultiGraph` for dup-edges >>> G . add_node ( 'a' ) # any hashable obj can be used as node index >>> G . add_edge ( 1 , 2 ) # missing nodes will be automatically added >>> G . add_edge ( 1 , 3 ) # if G is undired(`Graph`), 1-->3 and 3-->1 will be added >>> G . nodes () [ 'a' , 1 , 2 , 3 ] >>> G . edges () [( 1 , 2 ), ( 1 , 3 )] >>> G . add_edge ( 1 , 2 ); G . add_node ( 'a' ) # nx ignores duplicate adding edges/nodes >>> G . nodes () [ 'a' , 1 , 2 , 3 ] >>> G . edges () [( 1 , 2 ), ( 1 , 3 )] >>> G [ 1 ] # outgoing edges from a node { 2 : {}, 3 : {}} >>> G [ 1 ][ 2 ][ 'color' ] = 'blue' # easily add edge properties >>> G [ 1 ] { 2 : { 'color' : 'blue' }, 3 : {}} >>> G . add_edge ( 1 , 2 , capacity = 1 ) # this is another way to add property >>> G . edge { 'a' : {}, 1 : { 2 : { 'color' : 'blue' , 'capacity' : 1 }, 3 : {}}, 2 : {}, 3 : {}} >>> G . node [ 'a' ][ 'cat' ] = 'string node' # can also be: G.add_node('a', cat='string node') >>> G . node { 'a' : { 'cat' : 'string node' }, 1 : {}, 2 : {}, 3 : {}} DiGraph: topo-sort, cycle-detection, strongly connected component http://networkx.readthedocs.io/en/stable/reference/algorithms.shortest_paths.html >>> import networkx as nx >>> G = nx . DiGraph () >>> G . add_edge ( 1 , 2 ); G . add_edge ( 1 , 3 ); G . add_edge ( 'a' , 'b' ) >>> list ( nx . strongly_connected_components ( G ) ) [ set ([ 'b' ]), set ([ 'a' ]), set ([ 2 ]), set ([ 3 ]), set ([ 1 ])] >>> nx . topological_sort ( G ) [ 1 , 2 , 3 , 'a' , 'b' ] >>> G . add_edge ( 2 , 3 ); G . add_edge ( 3 , 1 ); G . add_edge ( 'b' , 'a' ) >>> list ( nx . simple_cycles ( G ) ) [[ 1 , 3 ], [ 1 , 2 , 3 ], [ 'a' , 'b' ]] >>> list ( nx . strongly_connected_components ( G ) ) [ set ([ 'a' , 'b' ]), set ([ 1 , 2 , 3 ])] >>> G . add_edge ( 3 , 4 ); G . add_edge ( 4 , 'a' ) >>> nx . shortest_path ( G , 1 , 'a' ) [ 1 , 3 , 4 , 'a' ] >>> G . add_edge ( 1 , 3 , weight = 2 ); G . add_edge ( 1 , 2 , weight = 3 ) >>> nx . shortest_path ( G , 1 , 'a' ) [ 1 , 3 , 4 , 'a' ] >>> nx . shortest_path_length ( G , 1 , 'a' ) 3 >>> nx . shortest_path_length ( G , 1 , 'a' , 'weight' ) # set attribut edge 'weight' as weight, (if not present, weight=1 ) 4 Undirected Graph: connected component, MST http://networkx.readthedocs.io/en/networkx-1.11/reference/generated/networkx.algorithms.mst.minimum_spanning_tree.html#networkx.algorithms.mst.minimum_spanning_tree >>> G = nx.Graph() >>> G.add_edge(1,2); G.add_edge(1,3); G.add_edge('a','b') >>> list( nx.connected_components(G) ) [set(['a', 'b']), set([1, 2, 3])] >>> G.add_edge(2,3) >>> mst = nx.minimum_spanning_tree(G) # returns a new graph >>> mst.edges() [('a', 'b'), (1, 2), (1, 3)] >>> G.add_edge(1,3,weight=2) # mst takes attribut 'weight', if no present, weight=1 >>> nx.minimum_spanning_tree(G).edges() [('a', 'b'), (1, 2), (2, 3)] maxflow http://networkx.readthedocs.io/en/networkx-1.11/reference/algorithms.flow.html >>> import networkx as nx >>> G = nx . DiGraph () >>> G . add_edge ( 'x' , 'a' , capacity = 3.0 ) >>> G . add_edge ( 'x' , 'b' , capacity = 1.0 ) >>> G . add_edge ( 'a' , 'c' , capacity = 3.0 ) >>> G . add_edge ( 'b' , 'c' , capacity = 5.0 ) >>> G . add_edge ( 'b' , 'd' , capacity = 4.0 ) >>> G . add_edge ( 'd' , 'e' , capacity = 2.0 ) >>> G . add_edge ( 'c' , 'y' , capacity = 2.0 ) >>> G . add_edge ( 'e' , 'y' , capacity = 3.0 ) >>> flow_value , flow_dict = nx . maximum_flow ( G , 'x' , 'y' ) >>> flow_value 3.0 >>> print ( flow_dict [ 'x' ][ 'b' ]) 1.0 maximum matching NB: maxi mum matching != maxim al matching... there are maximum-matching functions for general undir graph ( max_weight_matching ) and for bipartitie graph ( maximum_matching ), the one for bipartite graph is faster, the general one takes O(V**3). http://networkx.readthedocs.io/en/stable/reference/generated/networkx.algorithms.matching.max_weight_matching.html?highlight=maximum_matching >>> G = nx . Graph () >>> G . add_edges_from ( [ (1,2),(2,3),(3,4),(4,5) ] ) >>> mate = nx . max_weight_matching ( G , maxcardinality = True ) #mate [ v ] == w if node v is matched to node w . >>> mate { 2 : 3 , 3 : 2 , 4 : 5 , 5 : 4 } >>> nx . is_bipartite ( G ) True >>> mate = nx . bipartite . maximum_matching ( G ) >>> mate { 1 : 2 , 2 : 1 , 3 : 4 , 4 : 3 } and there are vertex cover algorithms as well...... pulp çº¿æ€§è§„åˆ’çš„åº“, ä¾›äº†éå¸¸å¥½ç”¨çš„æ¥å£æ¥æ„é€ LPé—®é¢˜, å¢åŠ çº¦æŸæˆ–è€…å®šä¹‰objectiveåªè¦ç”¨ prob+=[expression] å°±å¥½äº†, åŸºæœ¬ä¸Šçœ‹çœ‹ä¾‹å­å°±èƒ½ä¸Šæ‰‹. é¢å¯¹é€‰æ‹©é—®é¢˜çš„æ—¶å€™çº¿æ€§è§„åˆ’æ˜¯ä¸é”™çš„æ–¹æ³• -- å¦‚æœè®¡ç®—é€Ÿåº¦å¯ä»¥è¶³å¤Ÿå¿«çš„è¯... https://pythonhosted.org/PuLP/pulp.html >>> from pulp import * >>> x = LpVariable ( \"x\" , 0 , 3 ) >>> y = LpVariable ( \"y\" , 0 , 1 , 'Integer' ) # var category can be integer >>> prob = LpProblem ( \"myProblem\" , LpMinimize ) >>> prob += x + y <= 2 # add constraint >>> prob += - 4 * x + y # add objective >>> status = prob . solve () # solve using default solver >>> status = prob . solve ( GLPK ( msg = 0 )) # or use glpk solver >>> LpStatus [ status ] 'Optimal' >>> value ( prob . objective ) # see objective value - 8.0 >>> value ( x ) # see variable value 2.0 å…³äºnxå’Œpulpçš„åº”ç”¨å¯ä»¥å‚è€ƒ ä¸Šç¯‡æ–‡ç«  .","tags":"tech","title":"codejamå¸¸ç”¨(python)è§£é¢˜å·¥å…·"},{"url":"https://x-wei.github.io/tech/codejam-2015-r2pbC.html","text":"æ˜¨å¤©åšçš„ä¸€é“codejamé¢˜ç›®, è¿™ä¸ªé¢˜ç›®çš„ä¸‰ç§è§£æ³•éƒ½éå¸¸æœ‰ä»£è¡¨æ€§, ç‰¹æ­¤ä¸€è®°. é¢˜ç›®é“¾æ¥åœ¨è¿™é‡Œ: https://code.google.com/codejam/contest/8234486/dashboard#s=p2 Elliot's parents speak French and English to him at home. He has heard a lot of words, but it isn't always clear to him which word comes from which language! Elliot knows one sentence that he's sure is English and one sentence that he's sure is French, and some other sentences that could be either English or French. If a word appears in an English sentence, it must be a word in English. If a word appears in a French sentence, it must be a word in French. Considering all the sentences that Elliot has heard, what is the minimum possible number of words that he's heard that must be words in both English and French? Input The first line of the input gives the number of test cases, T. T test cases follow. Each starts with a single line containing an integer N. N lines follow, each of which contains a series of space-separated \"words\". Each \"word\" is made up only of lowercase characters a-z. The first of those N lines is a \"sentence\" in English, and the second is a \"sentence\" in French. The rest could be \"sentences\" in either English or French. (Note that the \"words\" and \"sentences\" are not guaranteed to be valid in any real language.) Output For each test case, output one line containing \"Case #x: y\", where x is the test case number (starting from 1) and y is the minimum number of words that Elliot has heard that must be words in both English and French. Limits 1 â‰¤ T â‰¤ 25. Each word will contain no more than 10 characters. The two \"known\" sentences will contain no more than 1000 words each. The \"unknown\" sentences will contain no more than 10 words each. Small dataset 2 â‰¤ N â‰¤ 20. Large dataset 2 â‰¤ N â‰¤ 200. æˆ‘çš„codejamç¨‹åºæ¨¡æ¿é•¿è¿™æ ·: def readval ( typ = int ): return typ ( raw_input () ) def readvals ( typ = int ): return map ( typ , raw_input (). split () ) def testcase ( cas ): print 'Case #%d: %d' % ( cas , res ) if __name__ == '__main__' : T = int ( raw_input ()) for i in xrange ( T ): testcase ( i + 1 ) æ³•1: ç©·ä¸¾ bruteforce (for small testcase) åœ¨small set(N=20) ä¸­, å¯¹äºé‚£18ä¸ªæœªçŸ¥è¯­è¨€çš„å¥å­, æ¯å¥å¯èƒ½æ˜¯è‹±è¯­æˆ–æ³•è¯­. é‚£ä¹ˆç©·ä¸¾æ‰€æœ‰å¯èƒ½æ€§, ç„¶åé€‰æ‹©åŒè¯­å•è¯æœ€å°‘çš„å³å¯. 2&#94;18çº¦ç­‰äºå‡ åä¸‡ , æŒ‰è¯´pythonè¿˜æ˜¯å¯ä»¥handleçš„ (2&#94;10=1k, 2&#94; 20=1M, pythonæ¯ç§’å¤§çº¦èƒ½å¾ªç¯å‡ ç™¾ä¸‡æ¬¡). naive bruteforce ç”Ÿæˆæ‰€æœ‰çš„å¯èƒ½æ€§ç»„åˆ, pythonçš„ itertools åŒ…é‡Œæä¾›äº† combinations å‡½æ•°, combinations(iterable, r) è¿”å›æ‰€æœ‰åœ¨iterableä¸­å¤§å°ä¸ºrçš„å­é›†(çš„è¿­ä»£å™¨): >>> from itertools import combinations >>> for c in combinations ( 'ABCD' , 2 ): print c ( 'A' , 'B' ) ( 'A' , 'C' ) ( 'A' , 'D' ) ( 'B' , 'C' ) ( 'B' , 'D' ) ( 'C' , 'D' ) ç”¨ combination å‡½æ•°å³å¯å®ç°æšä¸¾æ¯å¥è¯æ˜¯è‹±è¯­è¿˜æ˜¯æ³•è¯­çš„åŠŸèƒ½. å½“æ¯å¥è¯æ˜¯è‹±è¯­è¿˜æ˜¯æ³•è¯­å·²ç»ç¡®å®šä»¥å, å¯ä»¥ç”¨é›†åˆå–äº¤é›†çš„æ–¹æ³•( set1.intersection(set2) )å¾—åˆ°ä¸¤ç§è¯­è¨€ä¸€å…±æœ‰å¤šå°‘ä¸ªé‡å¤çš„å•è¯. ç¨‹åºé•¿è¿™æ ·: def testcase ( cas ) : # not fast enough ... N = readval () En = set ( readvals ( str ) ) Fr = set ( readvals ( str ) ) if N == 2 : print 'Case #%d: %d' % ( cas , len ( En . intersection ( Fr )) ) return scent = [] for i in xrange ( N - 2 ) : scent . append ( set ( readvals ( str )) ) def partition ( engsubset ) : allEn , allFr = En . copy (), Fr . copy () for i in xrange ( N - 2 ) : if i in engsubset : allEn . update ( scent [ i ] ) else : allFr . update ( scent [ i ] ) return len ( allEn . intersection ( allFr ) ) possibleres = [] for l in xrange ( N - 2 ) : for engsubset in combinations ( xrange ( N - 2 ), l ) : possibleres . append ( partition ( engsubset )) res = min ( possibleres ) print 'Case #%d: %d' % ( cas , res ) ç„¶è€Œ, ä¸‹è½½äº†small testcaseä»¥åè¿è¡Œç¨‹åº, é€Ÿåº¦è¿˜æ˜¯ä¸å¤Ÿå¿«, å¤§çº¦è¦ååˆ†é’Ÿæ‰æœ‰ç»“æœ â€” è€Œcodejamçš„æäº¤æ—¶é—´é™åˆ¶æ˜¯4åˆ†é’Ÿå•Š... ç¨‹åºæ¯æ¬¡æ£€æŸ¥2&#94;18ç§å¯èƒ½æ€§, ä½†æ˜¯ç”±äºæ¯æ¬¡æ£€æŸ¥éƒ½è¦è¿›è¡Œé›†åˆçš„unionå’Œintersectionæ“ä½œ(è¿™ç§æ“ä½œçš„æ•ˆç‡å¹¶ä¸é«˜, ç”šè‡³C++é‡Œä¹Ÿæ˜¯ä¸€æ ·), è¿™ä¸ªæ“ä½œå¤ªè€—è´¹æ—¶é—´äº†æ‰€ä»¥ä¸è¡Œ... bruteforce using bitmap éœ€è¦æ›´åŠ èªæ˜çš„ç©·ä¸¾æ–¹æ³•, è‡ªç„¶çš„æƒ³æ³•å°±æ˜¯ç”¨bitmap(æˆ–è€…å«bitvector?). ä¹‹å‰çš„ä¸¤ä¸ªåŸºæœ¬æ“ä½œéƒ½å¯ä»¥ç”¨bitmapå®Œæˆ: æšä¸¾å„ä¸ªå¥å­çš„è¯­è¨€ç§ç±»: å¦‚æœæ¯ä¸ªå¥å­ç”¨ä¸€ä½æ¥è¡¨ç¤ºçš„è¯(1ä»£è¡¨è‹±è¯­, 0ä»£è¡¨æ³•è¯­), é‚£ä¹ˆç”¨Nä½çš„bitmapå³å¯è¡¨ç¤ºä¸€ç§æƒ…å½¢. è¿™ä¸ªbitmapåªéœ€ä»0å¢åŠ åˆ°2&#94;N-1, å°±æŠŠ2&#94;Nä¸ªå¯èƒ½æ€§éƒ½éå†äº†. (å®é™…ä¸Šæ˜¯2&#94;N-2ä¸ªå¯èƒ½æ€§, å› ä¸ºå‰ä¸¤ä¸ªå¥å­å·²ç»ç¡®å®šè¯­è¨€äº†). ä¸¤ç§è¯­è¨€çš„è¯æ±‡è¡¨è¿›è¡Œunion/intersection: å‡è®¾å…±æœ‰Kä¸ªä¸åŒçš„å•è¯, é‚£ä¹ˆç”¨ä¸€ä¸ªKä½çš„bitmapå³å¯è¡¨ç¤ºä¸€ç§è¯­è¨€åŒ…å«äº†å“ªäº›å•è¯. ç„¶åé›†åˆçš„unionå’Œintersectionå³å¯è¡¨ç¤ºä¸ºORå’ŒANDçš„é€»è¾‘è¿ç®—. bit manipulationè›®subtleçš„, ä¸è¿‡ä¹ æƒ¯äº†å°±å¥½... å¦å¤–pythonçš„integerå¯ä»¥ä»»æ„é•¿åº¦, ä¸ç”¨åƒC/javaé‚£æ ·è€ƒè™‘bitmapä½æ•°å¤§äº64çš„æƒ…å†µ, è¿˜æ˜¯éå¸¸æ–¹ä¾¿çš„. ä»£ç å¦‚ä¸‹: def testcase ( cas ) : # use bitmap instead of set to speedup for small case !! N = readval () scent = [] ; allwords = set () for i in xrange ( N ) : scent . append ( readval ( str ) ) allwords . update ( scent [ i ] . split () ) words = sorted ( allwords ) # if K distinct words in total , each sentence can be reprensented as a K - bit bitmap bitmaps = [] for i in xrange ( N ) : #construct bitmaps bm = 0 for wd in scent [ i ] . split () : bm |= ( 1 << words . index ( wd ) ) bitmaps . append ( bm ) res = 1e10 # look for all combinations for i in xrange ( 1 << ( N - 2 )) : en = bitmaps [ 0 ] ; fr = bitmaps [ 1 ] for k in xrange ( N - 2 ) : if ( 1 << k ) & i > 0 : en |= bitmaps [ k+2 ] else : fr |= bitmaps [ k+2 ] res = min ( res , bin ( en & fr ). count ( '1' ) ) print 'Case #%d: %d' % ( cas , res ) ä»¥ä¸Šä»£ç åœ¨æˆ‘ç”µè„‘ä¸Šæ‰§è¡Œsmallçš„æ—¶å€™å¤§çº¦èŠ±è´¹1åˆ†é’Ÿ, æ¯”æœ€å¼€å§‹ç”¨setçš„é€Ÿåº¦æé«˜äº†åå€. å½“ç„¶, å¯¹äºlargeçš„caseè¿™ç§è§£æ³•è‚¯å®šå°±è¶…æ—¶äº†... æ³•2: æœ€å¤§æµ maxflow è¿™ä¸ªæ–¹æ³•ä¹Ÿæ˜¯å®˜æ–¹ analysis é‡Œæä¾›çš„ç­”æ¡ˆ. å¦‚æœå°†æ‰€æœ‰å¥å­ S ä»¥åŠæ‰€æœ‰å•è¯ w çœ‹ä½œèŠ‚ç‚¹, æ¯ä¸ªå¥å­çš„èŠ‚ç‚¹ S äºå®ƒåŒ…å«çš„å•è¯çš„èŠ‚ç‚¹ w ç›¸è¿, é—®é¢˜è½¬åŒ–æˆäº†ä»èŠ‚ç‚¹ S1 åˆ°èŠ‚ç‚¹ S2 çš„vertex cuté—®é¢˜ (é€‰å–æœ€å°çš„èŠ‚ç‚¹é›†åˆ, å°†è¯¥é›†åˆçš„èŠ‚ç‚¹å»æ‰ä»¥åS1å’ŒS2ä¸å†è”é€š). ç„¶åè¿™ä¸ªé—®é¢˜åˆå¯ä»¥è½¬ä¸ºè¾¹çš„min cuté—®é¢˜: åªéœ€è¦æŠŠæ¯ä¸ªå•è¯èŠ‚ç‚¹wåˆ†æˆå·¦å³ä¸¤ä¸ªèŠ‚ç‚¹ w1 å’Œ w2 , å¹¶ä¸”è¿™æ ·æ·»åŠ è¾¹(å‡è®¾wåœ¨å¥å­Sä¸­): w1-->w2 , capacity=1 S-->w1 , capacity=INF w2-->S , capacity=INF åœ¨è¿™æ ·æ„é€ çš„å›¾é‡Œè®¡ç®—maxflowå³å¯å¾—åˆ°mincut, ä¹Ÿå°±æ˜¯é¢˜ç›®çš„ç­”æ¡ˆ... åœ¨å®ç°è¿™ä¸ªè§£æ³•çš„æ—¶å€™ç”¨åˆ°äº†networkxè¿™ä¸ªåŒ…, å®ƒæä¾›äº†æ¯”bglå¥½ç”¨100å€çš„æ¥å£(è™½ç„¶ä¹Ÿæ¯”bglæ…¢å·®ä¸å¤š100å€ ==...). ä»»ä½•hashableçš„objectéƒ½å¯ä»¥ç”¨æ¥ä½œä¸ºèŠ‚ç‚¹çš„index , æ‰€ä»¥å†™èµ·æ¥éå¸¸èˆ’æœ, 15è¡Œæå®š: def testcase_maxflow ( ind ): # using maxflow ! INF = 1e10 import networkx as nx G = nx . DiGraph () N = readval () for i in xrange ( N ): words = readvals ( str ) si = 'sent- %d ' % i G . add_node ( si ) for wd in words : G . add_edge ( wd + '_l' , wd + '_r' , capacity = 1 ) G . add_edge ( si , wd + '_l' , capacity = INF ) G . add_edge ( wd + '_r' , si , capacity = INF ) flow_value , flow_dict = nx . maximum_flow ( G , 'sent-0' , 'sent-1' ) print 'Case # %d : %d ' % ( ind , int ( flow_value ) ) ç”¨è¿™ä¸ªä»£ç å³å¯è½»æ¾é€šè¿‡large case... maxflowçš„å»ºæ¨¡è¿˜çœŸæ˜¯è‰ºæœ¯...orz æ³•3: çº¿æ€§è§„åˆ’ (integer) linear programming å†™å®Œä¸Šé¢é‚£ä¸ªè§£æ³•ä»¥å, æˆ‘åˆçœ‹äº†çœ‹ å¤§ç¥ çš„è§£æ³•, å‘ç°ä»–å±…ç„¶ç”¨çš„æ˜¯ pulp (pythonçº¿æ€§è§„åˆ’çš„åŒ…), äºæ˜¯è‡ªå·±æƒ³äº†ä¸€ä¸‹, è¿™ä¸ªé—®é¢˜ç¡®å®å¯ä»¥ç”¨çº¿æ€§è§„åˆ’æ¥å»ºæ¨¡ ! é¦–å…ˆè¯´ä¸€å¥pulpè¿™ä¸ªåŒ…, å®ƒæä¾›äº†éå¸¸å¥½ç”¨çš„æ¥å£æ¥æ„é€ LPé—®é¢˜, å¢åŠ çº¦æŸæˆ–è€…å®šä¹‰objectiveåªè¦ç”¨ prob+=[expression] å°±å¥½äº†, å¯ä»¥è¯´æ¯”AMPLå¥½ç”¨ä¸å°‘... ä¸‹é¢æ˜¯ä¸€ä¸ªç®€å•çš„ä¾‹å­: >>> from pulp import * >>> x = LpVariable ( \"x\" , 0 , 3 ) >>> y = LpVariable ( \"y\" , 0 , 1 , 'Integer' ) # var category can be integer >>> prob = LpProblem ( \"myProblem\" , LpMinimize ) >>> prob += x + y <= 2 # add constraint >>> prob += - 4 * x + y # add objective >>> status = prob . solve () # solve using default solver >>> status = prob . solve ( GLPK ( msg = 0 )) # or use glpk solver >>> LpStatus [ status ] 'Optimal' >>> value ( prob . objective ) # see objective value - 8.0 >>> value ( x ) # see variable value 2.0 OK, æœ¬é¢˜çš„å»ºæ¨¡è¿‡ç¨‹å¦‚ä¸‹: å¯¹äºæ¯ä¸€ä¸ªå¥å­ S , å®šä¹‰binaryçš„LPå˜é‡ Se , Se=1è¡¨ç¤ºå¥å­Sä¸ºè‹±è¯­, =0è¡¨ç¤ºä¸ºæ³•è¯­. å¯¹äºæ¯ä¸ªå•è¯ w , å®šä¹‰ä¸¤ä¸ªbinaryå˜é‡ we , wf , è¡¨ç¤ºå•è¯wæ˜¯è‹±(æ³•)è¯­å•è¯. ç„¶å, å†å®šä¹‰å˜é‡ wef , å®ƒè¡¨ç¤ºå•è¯ w æ—¢æ˜¯è‹±è¯­å•è¯åˆæ˜¯æ³•è¯­å•è¯. æ‰€ä»¥æœ‰è¿™ä¸ªé€»è¾‘å…³ç³»: wef = we AND wf é‚£ä¹ˆè¿™ç§é€»è¾‘å…³ç³»å¦‚ä½•ç”¨çº¿æ€§çº¦æŸæè¿°å‘¢? å¯ä»¥è¿™æ ·: wef >= we+wf-1 éå¸¸å·§å¦™å§... ( è¿™ç¯‡æ–‡ç«  æ€»ç»“äº†å„ç§é€»è¾‘å…³ç³»ç”¨çº¿æ€§è§„åˆ’çš„æè¿°æ–¹å¼, å†™çš„å¾—éå¸¸è¯¦ç»†. ) è¦æœ€å°åŒ–çš„ç›®æ ‡å‡½æ•°å°±æ˜¯ sum(wef) äº†, çº¦æŸé™¤äº†åˆšæ‰é‚£ä¸ª wef >= we+wf-1 ä»¥å¤–, è¿˜è¦è¡¨è¾¾å•è¯å’Œå¥å­ä¹‹é—´çš„å…³ç³»: å¦‚æœä¸€ä¸ªå¥å­ä¸ºè‹±(æ³•)è¯­, é‚£ä¹ˆå¥å­é‡Œçš„æ¯ä¸€ä¸ªå•è¯éƒ½ä¸ºè‹±(æ³•)è¯­. è¿™æ˜¯ä¸€ä¸ª se==>we çš„é€»è¾‘å…³ç³», ç”¨çº¿æ€§çº¦æŸè¡¨è¾¾ä¸º: we>=se . æ‰€ä»¥æ•´ä¸ªæ¨¡å‹æ˜¯: Minimize sum(wef) st: we >= se wf >= (1-se) wef >= we+wf-1 Se[0]==1, Se[1]==0 ç”¨pulpç¼–å†™çš„ä»£ç å¦‚ä¸‹: def testcase ( ind ) :# formulate it as linear programming N = readval () sentc = [] allwords = set () for i in xrange ( N ) : sentc . append ( set ( readvals ( str )) ) allwords . update ( sentc [ -1 ] ) words = sorted ( allwords ) M = len ( words ) wordsindex = { words [ i ] : i for i in xrange ( M ) } # mapping a word to its index pb = LpProblem ( 'Bilingual' , LpMinimize ) # LP variables Se = [ LpVariable('Se_'+str(i), cat='Binary') for i in xrange(N) ] # Se [ i ] = indicator ( scentence i is english ) we = [ LpVariable('we_'+str(j), cat='Binary') for j in xrange(M) ] # we [ j ] = indicator ( word j is english ) wf = [ LpVariable('wf_'+str(j), cat='Binary') for j in xrange(M) ] # wf [ j ] = indicator ( word j is french ) wef = [ LpVariable('wef_'+str(j), cat='Binary') for j in xrange(M) ] # wef [ j ] = indicator ( word j is BOTH en and fr ) pb += sum ( wef ) pb += Se [ 0 ]== 1 pb += Se [ 1 ]== 0 for i in xrange ( N ) : si = sentc [ i ] for wd in si : j = wordsindex [ wd ] pb += we [ j ] >= Se [ i ] pb += wf [ j ] >= ( 1 - Se [ i ] ) for j in xrange ( M ) : pb += wef [ j ] >= we [ j ]+ wf [ j ]- 1 # # wef [ i ] = we [ i ] && wf [ i ] # ~ pb . solve ( GLPK ( msg = 0 ) ) pb . solve ( ) res = int ( value ( pb . objective ) ) print 'Case #%d: %d' % ( ind , res ) ä»¥ä¸Šä»£ç åœ¨smallä¸Šè¿è¡Œçº¦1åˆ†é’Ÿ, largeçº¦3åˆ†é’Ÿ. å¦å¤–æˆ‘å‘ç° å¦ä¸€ä¸ªå¤§ç¥ ä»£ç é‡Œæ²¡æœ‰ç”¨Binary/Integerçš„lpå˜é‡, ä¹Ÿå°±æ˜¯è¯´ä»–ç”¨çš„æ˜¯è¿ç»­çš„çº¿æ€§è§„åˆ’! å½“æˆ‘æŠŠå˜é‡çš„å®šä¹‰æ”¹æˆ: Se = [ LpVariable('Se_'+str(i), 0, 1) for i in xrange(N) ] # Se [ i ] = indicator ( scentence i is english ) we = [ LpVariable('we_'+str(j), 0) for j in xrange(M) ] # we [ j ] = indicator ( word j is english ) wf = [ LpVariable('wf_'+str(j), 0) for j in xrange(M) ] # wf [ j ] = indicator ( word j is french ) wef = [ LpVariable('wef_'+str(j), 0) for j in xrange(M) ] # wef [ j ] = indicator ( word j is BOTH en and fr ) è¿™æ ·ä»¥å, å¾—åˆ°çš„ç»“æœè¿˜æ˜¯æ­£ç¡®çš„!! (ä¸è¿‡ä»£ç è¿è¡Œæ—¶é—´æ²¡æœ‰æ˜¾è‘—çš„æé«˜). æ‰€ä»¥æ˜¯è¿™ä¸ªæ¨¡å‹ä¸­çš„çŸ©é˜µæ»¡è¶³ totally unimodular æ€§è´¨? ä¸è¿‡è¿™ä¸ªæ¨¡å‹ä¼¼ä¹å¹¶ä¸æ»¡è¶³wikipediaé‡Œå†™çš„é‚£ä¸ªå……åˆ†æ¡ä»¶?...@@ è¿™é‡Œ æœ‰ä¸€ç¯‡çœŸâ€¢å¤§ç¥çš„æ–‡ç« æ˜¯è®²å¦‚ä½•è¯†åˆ«TUçŸ©é˜µçš„ (tl;dr......), é‚£ä¹ˆæ˜¯ä¸æ˜¯å„ç§solverå†…éƒ¨å·²ç»æœ‰äº†è‡ªåŠ¨åˆ¤æ–­TUçš„ä»£ç , æ‰€ä»¥è¿™ä¸¤ç§ç¨‹åºçš„è¿è¡Œæ—¶é—´å·®ä¸å¤š?... æ€»è€Œè¨€ä¹‹è¿™é“é¢˜ç›®è¿˜æ˜¯éå¸¸æœ‰æ„æ€çš„, ä¸‰ç§è§£æ³•éƒ½å¾ˆæœ‰ä»£è¡¨æ€§, è¿™é‡Œçš„æŠ€å·§ä¼°è®¡åœ¨codejamé‡Œä¼šç»å¸¸ç”¨åˆ°...","tags":"tech","title":"codejam2015-round2-pbC çš„ä¸‰ç§è§£æ³•"},{"url":"https://x-wei.github.io/soft/java-use-weka.html","text":"ä¹‹å‰ä¸€ç›´ç”¨wekaçš„GUIç•Œé¢åšæœºå™¨å­¦ä¹ çš„ä»»åŠ¡, æ„Ÿè§‰è¿™ä¸ªè½¯ä»¶è™½ç„¶ç•Œé¢ä¸‘, ä¸è¿‡ç¡®å®æ˜¯å¿«é€Ÿå¼€å±•æœºå™¨å­¦æœŸçš„åˆ©å™¨. å…³äºGUIçš„wekaä½¿ç”¨ä»¥åæœ‰æ—¶é—´å†å†™. ä»Šå¤©è¿™ç¯‡è®°å½•ä¸€ä¸‹æœ€è¿‘ä½¿ç”¨çš„javaç‰ˆæœ¬çš„weka. 1. Include jars into project wekaå®˜ç½‘çš„ä¸‹è½½é“¾æ¥é‡Œé€‰æ‹©linuxç‰ˆæœ¬çš„wekaå‹ç¼©åŒ…å³å¯, ä¸‹è½½ä»¥åæ‰¾åˆ°weka.jaræ–‡ä»¶, åœ¨å·¥ç¨‹é‡Œå°†å…¶includeä¸€ä¸‹å°±å¯ä»¥ä½¿ç”¨äº†(btw, ç°åœ¨å¼€å§‹æ”¾å¼ƒeclipse, è¿›å…¥IDEAçš„æ€€æŠ±äº†...). wekaçš„æ–‡æ¡£åœ¨è§£å‹ç¼©çš„æ–‡ä»¶é‡Œæœ‰, å¦å¤–åœ¨çº¿æ–‡æ¡£åœ¨: http://weka.sourceforge.net/doc.stable-3-8/ about libsvm... å…³äºlibsvméœ€è¦æœ‰ä¸€ç‚¹ç‰¹åˆ«æŒ‡å‡º. wekaè‡ªå¸¦çš„ç®—æ³•é‡Œæ˜¯ä¸åŒ…å«libsvmçš„ (æœ‰ä¸ªç±»ä¼¼çš„SMO, ä¸è¿‡è¿˜æ˜¯libsvmä¹…ç»è€ƒéªŒå•Š...), éœ€è¦ä½¿ç”¨wekaçš„package managerå®‰è£…. æ‰“å¼€package manageræ˜¯åœ¨wekaä¸»ç•Œé¢çš„èœå•é‡Œ: åœ¨package manageré‡Œæœç´¢åˆ°libsvmå®‰è£…å³å¯. ç„¶å(linuxä¸‹)åœ¨ä¸»ç›®å½•å¯ä»¥çœ‹åˆ°æœ‰ä¸ªwekafilesæ–‡ä»¶å¤¹, wekafiles/packages/LibSVM/ ç›®å½•ä¸‹å°±æ˜¯libsvmçš„å†…å®¹. éœ€è¦æŒ‡å‡ºçš„ä¸€ç‚¹æ˜¯, è¦ä½¿ç”¨libsvmçš„è¯, éœ€è¦åŒæ—¶å¼•ç”¨ä¸¤ä¸ªjaræ–‡ä»¶ , è€Œä¸”éƒ½å«libsvm.jar!! è¿™ä¸¤ä¸ªjar, ä¸€ä¸ªå« LibSVM.jar , åœ¨ wekafiles/packages/LibSVM/ ä¸‹, å¦ä¸€ä¸ªå« libsvm.jar , åœ¨ wekafiles/packages/LibSVM/lib/ ä¸‹...orz å¦‚æœåªincludeç¬¬ä¸€ä¸ªjarçš„è¯, å°±ä¼šæŠ¥é”™: \"java.lang.Exception: libsvm classes not in CLASSPATH! \". 2. terminology é¦–å…ˆç»Ÿä¸€ä¸€ä¸‹å„ç§ä¸œè¥¿çš„å«æ³•... Instances : å°±æ˜¯dataset, æ¯”å¦‚training setæˆ–è€…test set, Instanceså®é™…ä¸Šå°±æ˜¯ä¸€ä¸ªInstanceçš„é›†åˆ Instance : å°±æ˜¯ä¸€ä¸ªæ•°æ®ç‚¹äº† Attribute : ä¸€ä¸ªæ•°æ®ç‚¹æœ‰ä¸€äº›attribute (åˆ«å¤„ä¸€èˆ¬å«åšfeature), å…¶ä¸­æœ‰ä¸€ä¸ªattributeå…¶å®æ˜¯label(å¯ä»¥ä¸ºmissing) Classifier : wekaé‡Œçš„Classiferå…¶å®æ˜¯ä¹ŸåŒ…å«äº†regressoræˆ–è€…cluster... åé¢éƒ½ç§°ä¹‹ä¸ºmodel Evaluation : ç»™å®šä¸€ä¸ªmodelå’Œä¸€ä¸ªdataset, ç»™å‡ºevaluationçš„æ•°æ®, ç±»ä¼¼GUIç•Œé¢ç»™å‡ºçš„é‚£äº›å†…å®¹ 3. åœ¨ç¨‹åºé‡Œæ„å»ºæ•°æ® è¿™ä¹Ÿæ˜¯ä¸ºä»€ä¹ˆè¦åœ¨javaé‡Œç”¨wekaçš„åŸå› : å¦‚æœæ•°æ®å¯ä»¥ç›´æ¥ä»¥csvæˆ–è€…arffæ–‡ä»¶çš„æ–¹å¼å¾—åˆ°, é‚£ä¹ˆç›´æ¥åœ¨GUIç•Œé¢ä¸‹å°±å¯ä»¥æäº†... æ–°å»ºAttribute http://weka.sourceforge.net/doc.stable-3-8/weka/core/Attribute.html æ–°å»ºnumericçš„attribueåªè¦ç®€å•çš„åœ¨æ„é€ å‡½æ•°é‡Œä¼ å…¥ä¸€ä¸ªattributeçš„åå­—å³å¯: // Create numeric attributes \"length\" and \"weight\" Attribute length = new Attribute(\"length\"); Attribute weight = new Attribute(\"weight\"); æ–°å»ºç¦»æ•£(normial)çš„attribueåˆ™éœ€è¦ä¸€ä¸ªlistä¹˜æ”¾æ‰€æœ‰å¯èƒ½çš„æ•°å€¼: // Create list to hold nominal values \"first\", \"second\", \"third\" List my_nominal_values = new ArrayList(3); my_nominal_values.add(\"first\"); my_nominal_values.add(\"second\"); my_nominal_values.add(\"third\"); // Create nominal attribute \"position\" Attribute position = new Attribute(\"position\", my_nominal_values); æ–°å»ºInstances(dataset) http://weka.sourceforge.net/doc.stable-3-8/weka/core/Instances.html Instances å®é™…ä¸Šå°±æ˜¯ä¸€ä¸ª Instance çš„é›†åˆ, Instanceså¯ä»¥ç±»æ¯”ä¸ºpandasé‡Œé¢çš„DataFrame, ç„¶åæ¯ä¸ªinstanceç›¸å½“äºä¸€è¡Œ. å¦å¤– Instances æ¯” Instance å¤šçš„å°±æ˜¯Attributeä¿¡æ¯(ç±»æ¯”ä¸ºpandasé‡ŒDataFrameçš„è¡¨å¤´head). Instances çš„æ„é€ å‡½æ•°æœ‰ä¸¤ç§, ä¸€ç§æ˜¯ç›´æ¥åœ¨arffæ–‡ä»¶é‡Œè¯»å–, è¿™ä¸ªåé¢å†è¯´. å¦ä¸€ç§æ„é€ å‡½æ•°æ˜¯åœ¨javaå‡½æ•°é‡Œæ„å»ºInstanceæ—¶ç”¨çš„, å®ƒæ„é€ ä¸€ä¸ªç©ºçš„Instanceé›†åˆ, æ„é€ å‡½æ•°æä¾›datasetçš„åå­—, attributeçš„é›†åˆ(arraylist)ä»¥åŠåˆå§‹çš„capacity: Instances(String name, ArrayList<Attribute> attInfo, int capacity) å…¶ä¸­çš„ç¬¬äºŒä¸ªå‚æ•°attInfoå…¶å®å°±ç›¸å½“äºæ˜¯è¡¨å¤´ä¿¡æ¯äº†, å®ƒæ˜¯ä¸€ä¸ªAttributeçš„ArrayList. ArrayList<Attribute> atts = new ArrayList<Attribute>(); atts.add(length); atts.add(weight); atts.add(position); Instances adataset = new Instances(\"aDataSet\", atts, 10); (ä¸Šé¢ä»£ç é‡Œçš„ length , weight å’Œ position éƒ½æ˜¯å‰é¢å£°æ˜çš„Attributeå¯¹è±¡) Instancesè¿˜å¯ä»¥æŒ‡å®šå“ªä¸€åˆ—å¯¹åº”çš„æ˜¯class label (å•ä¸ªInstanceåˆ™ä¸èƒ½ â€” å› ä¸ºå•ä¸ªInstanceå¹¶æ²¡æœ‰è¡¨å¤´ä¿¡æ¯attInfo): void setClassIndex(int classIndex) æ–°å»ºInstance http://weka.sourceforge.net/doc.stable-3-8/weka/core/Instance.html Instance æ˜¯ä¸€ä¸ªæ¥å£è€Œä¸æ˜¯ä¸€ä¸ªç±», ä¸€åŠå¸¸ç”¨çš„æ˜¯ DenseInstance ç±»(å®ƒåˆç»§æ‰¿è‡ª AbstractInstance æŠ½è±¡ç±») è¿™é‡Œæœ‰ä¸€ä¸ªå‘: ä¸€å®šè¦æŒ‡å®šInstanceæ‰€å±çš„DataSet(æ—¢å®ƒå±äºå“ªä¸€ä¸ªInstanceså¯¹è±¡)å†ä½¿ç”¨setValueå‡½æ•°, å¦åˆ™åœ¨è°ƒç”¨setValueçš„æ—¶å€™å¯èƒ½ä¼šæœ‰é—®é¢˜!!! void setDataset(Instances instances) æ„é€ å‡½æ•°é‡Œåªéœ€è¦æä¾›è¿™ä¸ªinstanceçš„attributeæ•°é‡å³å¯. ç„¶åä½¿ç”¨ setValue å‡½æ•°å¯ä»¥ç»™æ¯ä¸ªattribueæŒ‡å®šæ•°å€¼. setValueå‡½æ•°çš„ç¬¬ä¸€ä¸ªå‚æ•°æ¥æ”¶ä¸€ä¸ªAttribueå¯¹è±¡, ç¬¬äºŒä¸ªå‚æ•°å°±æ˜¯è¿™ä¸ªattribueçš„æ•°å€¼(doubleæˆ–è€…string). // Create empty instance with three attribute values Instance inst = new DenseInstance(3); instance.setDataset( adataset); // before calling setValue, should first set the Dataset!`` // Set instance's values for the attributes \"length\", \"weight\", and \"position\" inst.setValue(length, 5.3); inst.setValue(weight, 300); inst.setValue(position, \"first\"); 4. åœ¨ç¨‹åºé‡Œè®­ç»ƒmodel è¿™é‡Œåªåšclassificationçš„ä¾‹å­å¥½äº†. http://weka.sourceforge.net/doc.stable-3-8/weka/classifiers/Classifier.html Classifieræ˜¯ä¸€ä¸ªInterface, å¯ä»¥åœ¨æ–‡æ¡£é‡Œçœ‹åˆ°æœ‰å¾ˆå¤šç±»éƒ½å®ç°äº†è¿™ä¸ªinterface, ä¸»è¦æ˜¯ä¸‰ä¸ªå¸¸ç”¨çš„å‡½æ•°: void buildClassifier(Instances data) : ç”¨dataæ•°æ®è¿›è¡Œè®­ç»ƒ double classifyInstance(Instance instance) : é¢„æµ‹ä¸€ä¸ªInstanceçš„label double[] distributionForInstance(Instance instance) :å¯¹äºæ¯ä¸€ä¸ªå¯èƒ½çš„ç±», ç»™ä¸€ä¸ªprobability, è¿”å›ä¸€ä¸ªdoubleæ•°ç»„ æ‰€ä»¥ç¨‹åºé‡Œè®­ç»ƒmodelåªéœ€è¦è°ƒç”¨ buildClassifier() å‡½æ•°å³å¯. 5. ä»æ–‡ä»¶è¯»å…¥æ•°æ®å’Œmodel ä¹‹å‰è®²çš„æ˜¯åœ¨ç¨‹åºé‡Œå¾—åˆ°æ•°æ®, åœ¨ç¨‹åºé‡Œå‚¨å­˜ç»“æœçš„æ–¹æ³•, è€Œå¦‚æœå¯ä»¥ä¿å­˜æ•°æ®åˆ°æ–‡ä»¶çš„è¯, åœ¨GUIç•Œé¢ä¸‹è°ƒè¯•æ¨¡å‹åº”è¯¥æ›´åŠ æ”¾æ–¹ä¾¿. é¢„å…ˆå·²ç»å¾—åˆ°äº†æ•°æ®çš„è¯, å¯ä»¥å…ˆæŠŠæ•°æ®ä¿å­˜é—®arffæ ¼å¼, ç„¶åç”¨GUIçš„wekaè®­ç»ƒå’Œè°ƒè¯•å‚æ•°. å½“å¾—åˆ°æ»¡æ„çš„ç»“æœä»¥åå¯ä»¥åœ¨GUIç•Œé¢é‡Œé€‰æ‹©ä¿å­˜è®­ç»ƒå¥½çš„æ¨¡å‹(ä¸€ä¸ª.modelæ–‡ä»¶): ç„¶å, wekaæä¾›äº†éå¸¸æ–¹ä¾¿çš„æ–¹æ³•, ç›´æ¥ä»arffæ–‡ä»¶é‡Œå¾—åˆ° Instances å¯¹è±¡, ä»modelæ–‡ä»¶é‡Œå¾—åˆ° Classifier å¯¹è±¡: (å‚è€ƒé“¾æ¥: https://weka.wikispaces.com/Serialization ä»¥åŠ https://weka.wikispaces.com/Use+Weka+in+your+Java+code ) Classifier clf = (Classifier) weka.core.SerializationHelper.read(\"/some/where/j48.model\"); Instances testset = new Instances(new BufferedReader(new FileReader(\"/some/where/test.arff\")));`` 6. è¾“å‡ºEvaluationç»Ÿè®¡ å½“å¾—åˆ°äº†è®­ç»ƒå¥½çš„æ¨¡å‹ clf ä»¥åŠè¦ä½¿ç”¨çš„æµ‹è¯•æ•°æ® testset ä»¥å, å¯ä»¥åœ¨testsetä¸Šæµ‹è¯•æ¨¡å‹, å¹¶è¾“å‡ºç»“æœçš„ç»Ÿè®¡æ•°æ®. è¿™äº›æ˜¯é  Evaluation ç±»å®Œæˆçš„. http://weka.sourceforge.net/doc.stable-3-8/weka/classifiers/evaluation/Evaluation.html Evaluationçš„æ„é€ å‡½æ•°é‡Œæä¾›çš„Instancesåº”è¯¥ä¸ºtraining set, è¿™ä¸ªè®­ç»ƒé›†çš„ä½œç”¨æ˜¯\"to get some header information and prior class distribution information\", å¦‚æœæ„é€ æ—¶ç»™çš„æ˜¯testing setçš„è¯, åº”è¯¥è°ƒç”¨ useNoPriors() å‡½æ•°ä¸€ä¸‹. æ„é€ äº†evalationå¯¹è±¡ä»¥å, åªè¦ä½¿ç”¨ evaluateModel(Classifier classifier, Instances data) å‡½æ•°å³å¯, ç¬¬ä¸€ä¸ªå‚æ•°ä¸ºè®­ç»ƒå¥½äº†çš„æ¨¡å‹( clf ), ç¬¬äºŒä¸ªå‚æ•°ä¸ºè¦ç”¨æ¥æµ‹è¯•çš„æ•°æ®( testset ). ç„¶åå¯ä»¥è¾“å‡ºç»Ÿè®¡ä¿¡æ¯, å°±åƒåœ¨wekaGUIç•Œé¢ä¸€æ ·, ä¸»è¦é  toSummaryString() å’Œ toMatrixString() ä¸¤ä¸ªå‡½æ•°. Instances trainInstances = ... instances got from somewhere Instances testInstances = ... instances got from somewhere Classifier scheme = ... scheme got from somewhere Evaluation evaluation = new Evaluation ( trainInstances ); evaluation . evaluateModel ( scheme , testInstances ); System . out . println ( evaluation . toSummaryString ()); System . out . println ( evaluation . toMatrixString ()); 7. è¾“å‡ºé¢„æµ‹ç»“æœ å¯¹äºæ¯ä¸€ä¸ªInstance, åªéœ€è¦è°ƒç”¨Classifierçš„ classifyInstance(Instance instance) æˆ–è€… distributionForInstance(Instance instance) å‡½æ•°, å³å¯å¾—åˆ°é¢„æµ‹ç»“æœ... Voila, å¤§æ¦‚å°±æ˜¯è¿™æ ·, wekaè¿™ä¸ªå·¥å…·è¿˜æ˜¯è›®å¥½ç”¨çš„(åªè¦èƒ½å¿å—å®ƒç•Œé¢çš„ä¸‘), è€Œä¸”ä¹Ÿç®—æ²¡æœ‰å¤ªå¤šçš„å‘...","tags":"soft","title":"åœ¨javaç¨‹åºé‡Œä½¿ç”¨wekaè¿›è¡Œæœºå™¨å­¦ä¹ "},{"url":"https://x-wei.github.io/notes/algoII_week6_3_intractability.html","text":"1. Introduction to Intractability recall model of computation: DFA a univeral model of computation: turing machine â†’ no more powerful model of computation. Turing machine can compute any function that can be computed by a physically harnessable process of the natural world. bottom line: turing machine is a simple and universal model of computation. Q. which algos are useful in practice ? useful in practice = polynomial time for all inputs def. a pb is intractable if it cannot be solved in polynomial time. 2 pbs that can be proved to require exp time: Given a constant-size programme, does it halt in <=K steps ? Given a N*N chess board position, can the first player force a win ? Bad news: very few pbs can be proved to require exp time... 2. Search Problems Four fundamental problems: LSLOVE Given a system of linear equations, find a solution var: real numbers â†’ guassian elimination LP Given a system of linear inequaties, find a solution. (not necessarily find the opt) var: real numbers ILP Given a system of linear inequaties, find a 0-1 solution. var: 0 or 1 SAT Given a system of boolean equations , find a binary solution. Which ones of the 4 foundamental pbs have poly-time solutions? LSLOVE: Gaussian elimination works in O(n3) LP: Ellipsoid works in poly-time (simplex also poly-time in practice ..) ILP, SAT: No poly-time algorithm known (or believed to exist) ! All 4 pbs are examples of search problems. Search pb : given an instance I , find a solution S / report there's no solution. requirement : able to efficiently (poly-time) check that S is a solution. (that's the case for the above 4 fundamental pbs) another example: FACTOR : given a n-bit integer, find a nontrival factor. (given a solution, simply need to long-divide to check...) 3. P vs. NP def. NP is the class of all search pbs. (ie. solution be checked efficiently) NB: classical definition limits to yes-no pbs... Significance: NP pbs are what scientists and engineers aspire to compute feasibly . examples: def. P is the class of search pbs that are solvable in poly-time. (What scientists and engineers do compute feasibly .) examples: Nondeterminism Nondeterminism machine can guess the solution (donot exist in natural world..). â†’ NFA tries to simulate such a machine... Ex. int[] a = new int[N]; ãƒ» Java: initializes entries to 0 . ãƒ» Nondeterministic machine: initializes entries to the solution! NP: Search problems solvable in poly time on a nondeterministic Turing machine . Extended Church-Turing thesis: P: Search pbs solvable in poly time in natural world . do we have non-determinism in natural world? ---> natural computers ? ex. STEINER tree: set of segments connecting given N points. use soap â†’ doesn't really work... another example for P/NP: automating creativity being creative VS appreciating creativity The central question: does P=NP? (can you alway avoid brute-force searching and do better?) Millennium prize by Clay instute. (among all ways of earning 1M dollars, this might be the most complicated way... @_@...) 4. Classifying Problems classify pbs like classifying elements into perodic table. key pb: satisfiablity SAT. given a sys of boolean eq, find a solution. exhaustive search: try 2&#94;n possible solutions. conjecture: no poly-time algo for SAT (ie. intractable) Assumption : assume the intractability for SAT. Tool: reduction def. pb X reduces to pb Y: we can solve pb X with the algo for pb Y. if SAT poly-reduces to pb Y â‡’ pb Y in (probably) intractable. SAT poly-reduces to ILP (all SAT pb can be reduced to 3SAT) â‡’ can be converted to an ILP pb: for each eq, introduce a var Ci: 5. NP-Completeness def. an NP pb is NP-complete if all pbs in NP poly-reduces to it. prop. SAT id NP-complete. any pb in NP poly-reduces to SAT (reverse direction as last lecture) pf sketch: convert non-dertiministic turing machine notation to SAT notation... cor. poly time algo for SAT iff P=NP... â‡’ there pbs are equivalent ! summary: ==... 6. Coping with Intractability exploit intractability cryptography ecopoits the hardness of FACTOR pb Can factor an n-bit integer in n 3 steps on a \" quantum computer .\" Coping with intractability relax one of desired features... special cases Develop a heuristic, and hope it produces a good solution. no guarantee ex. TSP Approximation algorithm. Find solution of provably good quality. Halmiton path remark: Euler path (each edge once) easy, Halmiton path (each vertex once) NPC... dfs solution for Halmiton path: public class Halmiton { private boolean [] marked ; private int count = 0 ; // nb of Halmiton paths public Halmiton ( Graph G ) { marked = new boolean [ G.V() ] ; for ( int v = 0 ; v < G . V (); v ++ ) dfs ( G , 1 , 1 ); } private void dfs ( Graph G , int v , int depth ) { if ( depth == G . V ()) count ++ ; marked [ v ]= true ; for ( int w : G . adj ( v )) if ( marked [ w ]== false ) dfs ( G , w , depth + 1 ); marked [ v ]= flase ; // backtrack } }","tags":"notes","title":"[Algorithms II] Week 6-3 Intractability"},{"url":"https://x-wei.github.io/notes/algoII_week6_2_LP.html","text":"simplex algo: top 10 algo of the 20th century (ever?). what is linear programming: a general problem-solving model that works for: shortest-path, maxflow, MST, matching, assignment, ... 1. Brewer-'s Problem toy example: choose products to maximize profit. ... feasible region : a convex polygon. â‡’ optimum solution appears at an extreme point. standard form of LP n non-neg variables (j=1..n) m linear euqations (i=1..m) input: a_ij, c_j, b_i output: x_j to convert inequality to equality (as in the standard form above) : add slack var! def. convex set for any a and b in set â‡’ 1/2(a+b) is also in set. extreme point: def. extreme point is a point in set that cannot be written as 1/2(a+b) with a b distinct. extreme point property: if there exists an potimal solution, then there exists one that is an extreme point. nb of extreme point is finite but this nb can be exponential greedy property: extreme point is optimal iff no better adj extreme points. 2. Simplex Algorithm algo. simplex start at some point pivot from one extreme point to an adj one (never decrease the obj fcn) repeat until optimal We're using the \"basis\" and \"pivoting\" to solve LP. def. basis (åŸºå˜é‡) is a subset (size=m) of the n variables. vars in basis are always non-zero... basic feasible solution: set n-m non-basis vars to 0 solve for remaining m vars (with m constraints) if unique and feasible (matrix invertable) algo: initial basic-feasible-solution: start slack vars as basis. choose a non-basic var as pivot , add it into basis, take some basis var out ex. pick B as pivot var using constraint 2 (2nd equation): why picking var B? â†’ its obj coeff is positive why pivot on 2nd constraint (5A+15B+Sc=480)? â†’ RHS > 0 (preserves feasibility) minimum ratio rule: min(480/15, 160/4, 1190/20) stop when no obj-coeff is positive 3. Simplex Implementations encode standard LP formulation into java 2d array: public class Simplex { private double [][] a ; private int m , n ; public Simplex ( double [][] A , double [] b , double [] c ) { m = b . length ; n = c . length ; a = new double [ m+1 ][ n+m+1 ] ; for ( int i = 0 ; i < m ; i ++ ) for ( int j = 0 ; j < n ; j ++ ) a [ i ][ j ] = A [ i ][ j ] ; for ( int j = n ; j < m + n ; j ++ ) a [ j-n ][ j ] = 1 ; for ( int j = 0 ; j < m ; j ++ ) a [ j ][ n+m ] = b [ j ] ; for ( int j = 0 ; j < n ; j ++ ) a [ m ][ j ] = c [ j ] ; } } simplex algo: just transform initial 2d array into final solution. choosing pivot variable (find entering column) Bland's rule. find the first column whose obj-coeff is positive. private int bland () { for ( int q = 0 ; q < m + n ; q ++ ) if ( a [ m ][ q ]> 0 ) return q ; return - 1 ; } choosing pivot constraint (find entering row) minimum ratio rule (if a tie, choose first row). private int minRatioRule ( int q ) { int p = - 1 ; for ( int i = 0 ; i < m ; i ++ ) { if ( a [ i ][ q ]<= 0 ) continue ; else if ( p ==- 1 ) p = i ; else if ( a [ i ][ m+n ]/ a [ i ][ q ] < a [ p ][ m+n ]/ a [ p ][ q ] ) p = i ; } return p ; } do the pivot (column q, row p) like Guassian elimination: make var q disappear on each row (except for row p); on row p: make var q's coeff become 1. public void pivot ( int p , int q ) { for ( int i = 0 ; i < m ; i ++ ) for ( int j = 0 ; j < m + n ; j ++ ) if ( i != p && j != q ) a [ i ][ j ] -= a [ p ][ j ]* a [ i ][ q ]/ a [ p ][ q ] ; for ( int i = 0 ; i < m ; i ++ ) if ( i != p ) a [ i ][ q ] = 0 ; for ( int j = 0 ; j < m + n ; j ++ ) if ( j != q ) a [ p ][ j ] /= a [ p ][ q ] ; a [ p ][ q ] = 1 ; } so the simplex algo is: public void solve(){ while(true){ int q = bland(); if(q==-1) break; // optimal if -1 int p = minRatioRule(q); if(p==-1) break; // unbounded if -1 pivot(p,q); } } final solution is just in the array: remarkable property in typical applications , simplex terminates after at most 2(m+n) pivots. â€” whereas nb of extreme points is exp in n !! ie. LINEAR time in practice!! other pivot rules: degeneracy when choosing new basis, still stay in the same extreme point... â†’ might cause cycling â†’ bland's rule guarantees finite number of pivots further improvement: Best practice. Don't implement it yourself...... (AMPLæ˜¯ä¸ªå¥½ä¸œè¥¿...) ç®—æ³•çš„åŠ›é‡: 4. Linear Programming Reductions reduction to std form (equalities) Minimization problem: max -1*obj ineq constraints: add slack var unbounded var X: replace with X=X0-X1, X0>=0, X1>=0 modeling of LP identify variables define constraints define objective fcn convert to std form maxflow by LP variables: x_uv = flow on edge uv constraints: capacity, flow conservation obj: net flow to t can use LP to solve mincost maxflow easily... max cardinality bipartite matching by LP input: bipartite graph goal: max cardinatlity matching (set of vertex-disjoint edges) can be reduced to maxflow (è§algolab...) var: x_ij = indicator of person i assigned to job j (0<=x_ij<=1) constraints: vertex-disjoint obj: sum of all x_ij non-trival: cause this is an INTEGER LP... Th (Von Neumann) (and Poincare?..) if all RHS=1 â‡’ all extreme points of the polyhedron have integer coord . and many others... the profound question: Is there a universal problem-solving model ? â†’ P/NP... \"For the time being, the closest thing that we have to universal problem-solving model is LP \"","tags":"notes","title":"[Algorithms II] Week 6-2 Linear Programming"},{"url":"https://x-wei.github.io/notes/imooc_py_oop.html","text":"http://www.imooc.com/learn/317 æ¨¡å—å’ŒåŒ… åŒ… : æ–‡ä»¶å¤¹ (å¯ä»¥æœ‰å¤šçº§), ä¸”åŒ…å« __init__.py æ–‡ä»¶(æ¯å±‚éƒ½è¦æœ‰) æ¨¡å— : pyæ–‡ä»¶ ä»£ç åˆ†å¼€æ”¾åœ¨å¤šä¸ªpyæ–‡ä»¶( æ¨¡å— å=æ–‡ä»¶å). åŒåå˜é‡äº’ä¸å½±å“. æ¨¡å—åå†²çª: æŠŠåŒåæ¨¡å—æ”¾åœ¨ä¸åŒ åŒ… ä¸­. å¯¼å…¥æ¨¡å— from math import log from logging import log as logger å¼•ç”¨æ—¶: ä½¿ç”¨å®Œæ•´çš„è·¯å¾„(åŒ…+æ¨¡å—å). ex. p1.util.f() åŠ¨æ€å¯¼å…¥æ¨¡å— try : from cStringIO import StringIO except ImportError : from StringIO import StringIO ä¸Šè¿°ä»£ç å…ˆå°è¯•ä»cStringIOå¯¼å…¥ï¼Œå¦‚æœå¤±è´¥äº†ï¼ˆæ¯”å¦‚cStringIOæ²¡æœ‰è¢«å®‰è£…ï¼‰ï¼Œå†å°è¯•ä»StringIOå¯¼å…¥ã€‚è¿™æ ·ï¼Œå¦‚æœcStringIOæ¨¡å—å­˜åœ¨ï¼Œåˆ™æˆ‘ä»¬å°†è·å¾—æ›´å¿«çš„è¿è¡Œé€Ÿåº¦ï¼Œå¦‚æœcStringIOä¸å­˜åœ¨ï¼Œåˆ™é¡¶å¤šä»£ç è¿è¡Œé€Ÿåº¦ä¼šå˜æ…¢ï¼Œä½†ä¸ä¼šå½±å“ä»£ç çš„æ­£å¸¸æ‰§è¡Œã€‚ ä½¿ç”¨__future__ Pythonçš„æ–°ç‰ˆæœ¬ä¼šå¼•å…¥æ–°çš„åŠŸèƒ½ï¼Œä½†æ˜¯ï¼Œå®é™…ä¸Šè¿™äº›åŠŸèƒ½åœ¨ä¸Šä¸€ä¸ªè€ç‰ˆæœ¬ä¸­å°±å·²ç»å­˜åœ¨äº†ã€‚è¦\"è¯•ç”¨\"æŸä¸€æ–°çš„ç‰¹æ€§ï¼Œå°±å¯ä»¥é€šè¿‡å¯¼å…¥__future__æ¨¡å—çš„æŸäº›åŠŸèƒ½æ¥å®ç°ã€‚ ex. åœ¨Python 2.7ä¸­å¼•å…¥3.xçš„é™¤æ³•è§„åˆ™ï¼Œå¯¼å…¥__future__çš„divisionï¼š >>> from __future__ import division >>> print 10 / 3 3.3333333333333335 å®‰è£…ç¬¬ä¸‰æ–¹æ¨¡å— æ¨¡å—ç®¡ç†å·¥å…·: easy_install pip (æ¨è) æŸ¥æ‰¾ç¬¬ä¸‰æ–¹æ¨¡å—: https://pypi.python.org/pypi é¢å‘å¯¹è±¡ç¼–ç¨‹åŸºç¡€ OOP: æ•°æ®çš„å°è£… åˆå§‹åŒ–å®ä¾‹å±æ€§ å½“åˆ›å»ºå®ä¾‹æ—¶ï¼Œ __init__() æ–¹æ³•è¢«è‡ªåŠ¨è°ƒç”¨, ç¬¬ä¸€ä¸ªå‚æ•°å¿…é¡»æ˜¯ selfï¼ˆä¹Ÿå¯ä»¥ç”¨åˆ«çš„åå­—ï¼Œä½†å»ºè®®ä½¿ç”¨ä¹ æƒ¯ç”¨æ³•, ç¬¬ä¸€ä¸ªå‚æ•°selfè¢«Pythonè§£é‡Šå™¨ä½œä¸ºå®ä¾‹çš„å¼•ç”¨ï¼‰ï¼Œåç»­å‚æ•°åˆ™å¯ä»¥è‡ªç”±æŒ‡å®šï¼Œå’Œå®šä¹‰å‡½æ•°æ²¡æœ‰ä»»ä½•åŒºåˆ«ã€‚ ç›¸åº”åœ°ï¼Œåˆ›å»ºå®ä¾‹æ—¶ï¼Œå°±å¿…é¡»è¦æä¾›é™¤ self ä»¥å¤–çš„å‚æ•°. ç”¨ setattr è®© __init__ æ¥å—ä»»æ„çš„kwå‚æ•°: setattr(object, name, value) This is the counterpart of getattr(). The arguments are an object, a string and an arbitrary value. The string may name an existing attribute or a new attribute. The function assigns the value to the attribute, provided the object allows it. For example, setattr(x, 'foobar', 123) is equivalent to x.foobar = 123. class Person(object): def __init__(self, name, gender, birth, **kw): self.name = name self.gender = gender self.birth = birth for k, v in kw.iteritems(): setattr(self, k, v) è®¿é—®é™åˆ¶ Pythonå¯¹å±æ€§æƒé™çš„æ§åˆ¶æ˜¯é€šè¿‡ å±æ€§å æ¥å®ç°çš„. å¦‚æœä¸€ä¸ªå±æ€§ç”±åŒä¸‹åˆ’çº¿å¼€å¤´( __ )ï¼Œè¯¥å±æ€§å°±æ— æ³•è¢«å¤–éƒ¨è®¿é—®ã€‚ ä½†æ˜¯ï¼Œå¦‚æœä¸€ä¸ªå±æ€§ä»¥\" __xxx__ \"çš„å½¢å¼å®šä¹‰ï¼Œé‚£å®ƒåˆå¯ä»¥è¢«å¤–éƒ¨è®¿é—®äº†ï¼Œä»¥\" __xxx__ \"å®šä¹‰çš„å±æ€§åœ¨Pythonçš„ç±»ä¸­è¢«ç§°ä¸ºç‰¹æ®Šå±æ€§æœ‰å¾ˆå¤šé¢„å®šä¹‰çš„ç‰¹æ®Šå±æ€§å¯ä»¥ä½¿ç”¨ï¼Œé€šå¸¸æˆ‘ä»¬ä¸è¦æŠŠæ™®é€šå±æ€§ç”¨\" xxx \"å®šä¹‰ã€‚ ä»¥å•ä¸‹åˆ’çº¿å¼€å¤´çš„å±æ€§\" _xxx \"è™½ç„¶ä¹Ÿå¯ä»¥è¢«å¤–éƒ¨è®¿é—®ï¼Œä½†æ˜¯ï¼ŒæŒ‰ç…§ä¹ æƒ¯ï¼Œä»–ä»¬ä¸åº”è¯¥è¢«å¤–éƒ¨è®¿é—®ã€‚ åˆ›å»ºç±»å±æ€§ ç»‘å®šåœ¨ä¸€ä¸ªå®ä¾‹ä¸Šçš„å±æ€§ä¸ä¼šå½±å“å…¶ä»–å®ä¾‹ï¼Œä½†æ˜¯ï¼Œç±»æœ¬èº«ä¹Ÿæ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œå¦‚æœåœ¨ç±»ä¸Šç»‘å®šä¸€ä¸ªå±æ€§ï¼Œåˆ™æ‰€æœ‰å®ä¾‹éƒ½å¯ä»¥è®¿é—®ç±»çš„å±æ€§ï¼Œå¹¶ä¸”ï¼Œæ‰€æœ‰å®ä¾‹è®¿é—®çš„ç±»å±æ€§éƒ½æ˜¯åŒä¸€ä¸ªï¼ä¹Ÿå°±æ˜¯è¯´ï¼Œå®ä¾‹å±æ€§æ¯ä¸ªå®ä¾‹å„è‡ªæ‹¥æœ‰ï¼Œäº’ç›¸ç‹¬ç«‹ï¼Œè€Œ ç±»å±æ€§æœ‰ä¸”åªæœ‰ä¸€ä»½ ã€‚ å®šä¹‰ç±»å±æ€§å¯ä»¥ç›´æ¥åœ¨ class ä¸­å®šä¹‰ï¼š class Person(object): address = 'Earth' def __init__(self, name): self.name = name å› ä¸ºç±»å±æ€§æ˜¯ç›´æ¥ç»‘å®šåœ¨ç±»ä¸Šçš„ï¼Œæ‰€ä»¥ï¼Œè®¿é—®ç±»å±æ€§ä¸éœ€è¦åˆ›å»ºå®ä¾‹ï¼Œå°±å¯ä»¥ç›´æ¥è®¿é—®. å¯¹ä¸€ä¸ªå®ä¾‹è°ƒç”¨ç±»çš„å±æ€§ä¹Ÿæ˜¯å¯ä»¥è®¿é—®çš„ï¼Œæ‰€æœ‰å®ä¾‹éƒ½å¯ä»¥è®¿é—®åˆ°å®ƒæ‰€å±çš„ç±»çš„å±æ€§. print Person.address print p1.address ç±»å±æ€§å’Œå®ä¾‹å±æ€§åå­—å†²çªæ€ä¹ˆåŠ å½“å®ä¾‹å±æ€§å’Œç±»å±æ€§é‡åæ—¶ï¼Œå®ä¾‹å±æ€§ä¼˜å…ˆçº§é«˜ï¼Œå®ƒå°†å±è”½æ‰å¯¹ç±»å±æ€§çš„è®¿é—®ã€‚ å¯è§ï¼Œåƒä¸‡ ä¸è¦åœ¨å®ä¾‹ä¸Šä¿®æ”¹ç±»å±æ€§ ï¼Œå®ƒå®é™…ä¸Šå¹¶æ²¡æœ‰ä¿®æ”¹ç±»å±æ€§ï¼Œè€Œæ˜¯ç»™å®ä¾‹ç»‘å®šäº†ä¸€ä¸ªå®ä¾‹å±æ€§ã€‚ å®šä¹‰å®ä¾‹æ–¹æ³• å®ä¾‹çš„æ–¹æ³•å°±æ˜¯åœ¨ç±»ä¸­å®šä¹‰çš„å‡½æ•°ï¼Œå®ƒçš„ ç¬¬ä¸€ä¸ªå‚æ•°æ°¸è¿œæ˜¯ self ï¼ŒæŒ‡å‘è°ƒç”¨è¯¥æ–¹æ³•çš„å®ä¾‹æœ¬èº«ï¼Œå…¶ä»–å‚æ•°å’Œä¸€ä¸ªæ™®é€šå‡½æ•°æ˜¯å®Œå…¨ä¸€æ ·çš„. åœ¨å®ä¾‹æ–¹æ³•å†…éƒ¨ï¼Œå¯ä»¥è®¿é—®æ‰€æœ‰å®ä¾‹å±æ€§ï¼Œè¿™æ ·ï¼Œå¦‚æœå¤–éƒ¨éœ€è¦è®¿é—®ç§æœ‰å±æ€§ï¼Œå¯ä»¥é€šè¿‡æ–¹æ³•è°ƒç”¨è·å¾—ï¼Œè¿™ç§æ•°æ®å°è£…çš„å½¢å¼é™¤äº†èƒ½ä¿æŠ¤å†…éƒ¨æ•°æ®ä¸€è‡´æ€§å¤–ï¼Œè¿˜å¯ä»¥ç®€åŒ–å¤–éƒ¨è°ƒç”¨çš„éš¾åº¦ã€‚ æˆ‘ä»¬åœ¨ class ä¸­å®šä¹‰çš„å®ä¾‹æ–¹æ³•å…¶å®ä¹Ÿæ˜¯å±æ€§ï¼Œå®ƒå®é™…ä¸Šæ˜¯ä¸€ä¸ªå‡½æ•°å¯¹è±¡. å› ä¸ºæ–¹æ³•ä¹Ÿæ˜¯ä¸€ä¸ªå±æ€§ï¼Œæ‰€ä»¥ï¼Œå®ƒä¹Ÿå¯ä»¥åŠ¨æ€åœ°æ·»åŠ åˆ°å®ä¾‹ä¸Šï¼Œåªæ˜¯éœ€è¦ç”¨ types.MethodType() æŠŠä¸€ä¸ªå‡½æ•°å˜ä¸ºä¸€ä¸ªæ–¹æ³•... å®šä¹‰ç±»æ–¹æ³• å’Œå±æ€§ç±»ä¼¼ï¼Œæ–¹æ³•ä¹Ÿåˆ†å®ä¾‹æ–¹æ³•å’Œç±»æ–¹æ³•ã€‚ åœ¨classä¸­å®šä¹‰çš„å…¨éƒ¨æ˜¯å®ä¾‹æ–¹æ³•ï¼Œå®ä¾‹æ–¹æ³•ç¬¬ä¸€ä¸ªå‚æ•° self æ˜¯å®ä¾‹æœ¬èº«ã€‚ è¦åœ¨classä¸­å®šä¹‰ç±»æ–¹æ³•ï¼Œéœ€è¦è¿™ä¹ˆå†™ï¼š class Person(object): count = 0 @classmethod def how_many(cls): return cls.count def __init__(self, name): self.name = name Person.count = Person.count + 1 print Person.how_many() p1 = Person('Bob') print Person.how_many() é€šè¿‡æ ‡è®°ä¸€ä¸ª @classmethod ï¼Œè¯¥æ–¹æ³•å°†ç»‘å®šåˆ° Person ç±»ä¸Šï¼Œè€Œéç±»çš„å®ä¾‹ã€‚ç±»æ–¹æ³•çš„ç¬¬ä¸€ä¸ªå‚æ•°å°†ä¼ å…¥ç±»æœ¬èº«ï¼Œé€šå¸¸å°†å‚æ•°åå‘½åä¸º cls ï¼Œä¸Šé¢çš„ cls.count å®é™…ä¸Šç›¸å½“äº Person.countã€‚ ç±»çš„ç»§æ‰¿ ä»£ç å¤ç”¨ pythonçš„ç»§æ‰¿: æ€»æ˜¯ä»æŸä¸ªç±»ç»§æ‰¿(æœ€ä¸Šå±‚æ˜¯ object ) ä¸è¦å¿˜è®° super.__init__ è°ƒç”¨ super(SubCls, self)å°†è¿”å›å½“å‰ç±»ç»§æ‰¿çš„çˆ¶ç±», æ³¨æ„selfå‚æ•°å·²åœ¨super()ä¸­ä¼ å…¥ï¼Œåœ¨__init__()ä¸­å°†éšå¼ä¼ é€’ï¼Œä¸éœ€è¦å†™å‡ºï¼ˆä¹Ÿä¸èƒ½å†™ï¼‰ã€‚ def init (self, args): super(SubCls, self). init (args) pass åˆ¤æ–­ç±»å‹ å‡½æ•° isinstance() å¯ä»¥åˆ¤æ–­ä¸€ä¸ªå˜é‡çš„ç±»å‹ï¼Œæ—¢å¯ä»¥ç”¨åœ¨Pythonå†…ç½®çš„æ•°æ®ç±»å‹å¦‚strã€listã€dictï¼Œä¹Ÿå¯ä»¥ç”¨åœ¨æˆ‘ä»¬è‡ªå®šä¹‰çš„ç±»ï¼Œå®ƒä»¬æœ¬è´¨ä¸Šéƒ½æ˜¯æ•°æ®ç±»å‹ã€‚ >>> isinstance(p, Person) True # pæ˜¯Personç±»å‹ >>> isinstance(p, Student) False # pä¸æ˜¯Studentç±»å‹ >>> isinstance(p, Teacher) False # pä¸æ˜¯Teacherç±»å‹ >>> isinstance(s, Person) True # sæ˜¯Personç±»å‹ åœ¨ä¸€æ¡ç»§æ‰¿é“¾ä¸Šï¼Œä¸€ä¸ªå®ä¾‹å¯ä»¥çœ‹æˆå®ƒæœ¬èº«çš„ç±»å‹ï¼Œä¹Ÿå¯ä»¥çœ‹æˆå®ƒçˆ¶ç±»çš„ç±»å‹ã€‚ å¤šæ€ è°ƒç”¨ s.whoAmI()æ€»æ˜¯å…ˆæŸ¥æ‰¾å®ƒè‡ªèº«çš„å®šä¹‰ï¼Œå¦‚æœæ²¡æœ‰å®šä¹‰ï¼Œåˆ™é¡ºç€ç»§æ‰¿é“¾å‘ä¸ŠæŸ¥æ‰¾ï¼Œç›´åˆ°åœ¨æŸä¸ªçˆ¶ç±»ä¸­æ‰¾åˆ°ä¸ºæ­¢ã€‚ ç”±äºPythonæ˜¯åŠ¨æ€è¯­è¨€ï¼Œæ‰€ä»¥ï¼Œä¼ é€’ç»™å‡½æ•° who_am_i(x)çš„å‚æ•° x ä¸ä¸€å®šæ˜¯ Person æˆ– Person çš„å­ç±»å‹ã€‚ä»»ä½•æ•°æ®ç±»å‹çš„å®ä¾‹éƒ½å¯ä»¥ï¼Œåªè¦å®ƒæœ‰ä¸€ä¸ªwhoAmI()çš„æ–¹æ³•å³å¯ï¼š class Book(object): def whoAmI(self): return 'I am a book' è¿™æ˜¯åŠ¨æ€è¯­è¨€å’Œé™æ€è¯­è¨€ï¼ˆä¾‹å¦‚Javaï¼‰æœ€å¤§çš„å·®åˆ«ä¹‹ä¸€ã€‚åŠ¨æ€è¯­è¨€è°ƒç”¨å®ä¾‹æ–¹æ³•ï¼Œä¸æ£€æŸ¥ç±»å‹ï¼Œ åªè¦æ–¹æ³•å­˜åœ¨ï¼Œå‚æ•°æ­£ç¡®ï¼Œå°±å¯ä»¥è°ƒç”¨ ã€‚ å¤šé‡ç»§æ‰¿ é™¤äº†ä»ä¸€ä¸ªçˆ¶ç±»ç»§æ‰¿å¤–ï¼ŒPythonå…è®¸ ä»å¤šä¸ªçˆ¶ç±»ç»§æ‰¿ ï¼Œç§°ä¸ºå¤šé‡ç»§æ‰¿ã€‚ class A ( object ): def __init__ ( self , a ): print 'init A...' self . a = a class B ( A ): def __init__ ( self , a ): super ( B , self ). __init__ ( a ) print 'init B...' class C ( A ): def __init__ ( self , a ): super ( C , self ). __init__ ( a ) print 'init C...' class D ( B , C ): def __init__ ( self , a ): super ( D , self ). __init__ ( a ) print 'init D...' D åŒæ—¶ç»§æ‰¿è‡ª B å’Œ Cï¼Œä¹Ÿå°±æ˜¯ D æ‹¥æœ‰äº† Aã€Bã€C çš„å…¨éƒ¨åŠŸèƒ½ã€‚å¤šé‡ç»§æ‰¿é€šè¿‡ super()è°ƒç”¨__init__()æ–¹æ³•æ—¶ï¼ŒA è™½ç„¶è¢«ç»§æ‰¿äº†ä¸¤æ¬¡ï¼Œä½† __init__() åªè°ƒç”¨ä¸€æ¬¡ï¼š >>> d = D('d') init A... init C... init B... init D... è·å–å¯¹è±¡ä¿¡æ¯ é¦–å…ˆå¯ä»¥ç”¨ type() å‡½æ•°è·å–å˜é‡çš„ç±»å‹ï¼Œå®ƒè¿”å›ä¸€ä¸ª Type å¯¹è±¡ï¼š >>> type(123) <type 'int'> >>> s = Student('Bob', 'Male', 88) >>> type(s) <class '__main__.Student'> å…¶æ¬¡ï¼Œå¯ä»¥ç”¨ dir() å‡½æ•°è·å–å˜é‡çš„æ‰€æœ‰å±æ€§ï¼š >>> dir ( 123 ) # æ•´æ•°ä¹Ÿæœ‰å¾ˆå¤šå±æ€§ ... [ '__abs__' , '__add__' , '__and__' , '__class__' , '__cmp__' , ...] >>> dir ( s ) [ '__class__' , '__delattr__' , '__dict__' , '__doc__' , '__format__' , '__getattribute__' , '__hash__' , '__init__' , '__module__' , '__new__' , '__reduce__' , '__reduce_ex__' , '__repr__' , '__setattr__' , '__sizeof__' , '__str__' , '__subclasshook__' , '__weakref__' , 'gender' , 'name' , 'score' , 'whoAmI' ] dir() è¿”å›çš„å±æ€§æ˜¯å­—ç¬¦ä¸²åˆ—è¡¨ï¼Œå¦‚æœå·²çŸ¥ä¸€ä¸ªå±æ€§åç§°ï¼Œè¦è·å–æˆ–è€…è®¾ç½®å¯¹è±¡çš„å±æ€§ï¼Œå°±éœ€è¦ç”¨ getattr() å’Œ setattr() å‡½æ•°äº†ï¼š >>> getattr ( s , 'name' ) # è·å– name å±æ€§ 'Bob' >>> setattr ( s , 'name' , 'Adam' ) # è®¾ç½®æ–°çš„ name å±æ€§ >>> s . name 'Adam' >>> getattr ( s , 'age' ) # è·å– age å±æ€§ï¼Œä½†æ˜¯å±æ€§ä¸å­˜åœ¨ï¼ŒæŠ¥é”™ï¼š Traceback ( most recent call last ): File \"<stdin>\" , line 1 , in < module > AttributeError : 'Student' object has no attribute 'age' >>> getattr ( s , 'age' , 20 ) # è·å– age å±æ€§ï¼Œå¦‚æœå±æ€§ä¸å­˜åœ¨ï¼Œå°±è¿”å›é»˜è®¤å€¼ 20 ï¼š 20 class Person ( object ): def __init__ ( self , name , gender , ** kw ): for k , v in kw . iteritems (): setattr ( self , k , v ) p = Person ( 'Bob' , 'Male' , age = 18 , course = 'Python' ) print p . age print p . course å®šåˆ¶ç±» ç‰¹æ®Šæ–¹æ³• åˆå« \"é­”æœ¯æ–¹æ³•\" å®šä¹‰åœ¨classä¸­ ä¸éœ€è¦ç›´æ¥è°ƒç”¨: pyçš„å‡½æ•°æˆ–æ“ä½œç¬¦ä¼šè‡ªåŠ¨è°ƒç”¨ ex. ä»»ä½•æ•°æ®ç±»å‹çš„å®ä¾‹éƒ½æœ‰ __str__() ç‰¹æ®Šæ–¹æ³•. pothonçš„ç‰¹æ®Šæ–¹æ³•: __str__ : ç”¨äºprint __len__ : ç”¨äºlen __cmp__ : ç”¨äºæ¯”è¾ƒ cmp /æ’åº sorted str å’Œ repr å®ç°ç‰¹æ®Šæ–¹æ³• __str__() å¯ä»¥åœ¨printçš„æ—¶å€™æ‰“å°åˆé€‚çš„å­—ç¬¦ä¸², å¦‚æœç›´æ¥åœ¨å‘½ä»¤è¡Œæ•²å˜é‡ååˆ™ä¸ä¼š: >>> p = Person('Bob', 'male') >>> print p (Person: Bob, male) >>> p <main.Person object at 0x10c941890> å› ä¸º Python å®šä¹‰äº† __str__() å’Œ __repr__() ä¸¤ç§æ–¹æ³•ï¼Œ __str__() ç”¨äºæ˜¾ç¤ºç»™ç”¨æˆ·ï¼Œè€Œ __repr__() ç”¨äºæ˜¾ç¤ºç»™å¼€å‘äººå‘˜ã€‚ å·æ‡’å®šä¹‰ __repr__ : __repr__ = __str__ cmp __cmp__ ç”¨å®ä¾‹è‡ªèº«selfå’Œä¼ å…¥çš„å®ä¾‹ s è¿›è¡Œæ¯”è¾ƒï¼Œå¦‚æœ self åº”è¯¥æ’åœ¨å‰é¢ï¼Œå°±è¿”å› -1ï¼Œå¦‚æœ s åº”è¯¥æ’åœ¨å‰é¢ï¼Œå°±è¿”å›1ï¼Œå¦‚æœä¸¤è€…ç›¸å½“ï¼Œè¿”å› 0ã€‚ class Student(object): def __init__(self, name, score): self.name = name self.score = score def __str__(self): return '(%s: %s)' % (self.name.lower(), self.score) __repr__ = __str__ def __cmp__(self, s): if self.score!=s.score: return - (self.score - s.score) else: return cmp(self.name, s.name) len å¦‚æœä¸€ä¸ªç±»è¡¨ç°å¾—åƒä¸€ä¸ªlistï¼Œè¦è·å–æœ‰å¤šå°‘ä¸ªå…ƒç´ ï¼Œå°±å¾—ç”¨ len() å‡½æ•°ã€‚ è¦è®© len() å‡½æ•°å·¥ä½œæ­£å¸¸ï¼Œç±»å¿…é¡»æä¾›ä¸€ä¸ªç‰¹æ®Šæ–¹æ³• __len__() ï¼Œå®ƒè¿”å›å…ƒç´ çš„ä¸ªæ•°ã€‚ æ•°å­¦è¿ç®— å¦‚æœè¦è®©Rationalç±»(æœ‰ç†æ•°)è¿›è¡Œ + è¿ç®—ï¼Œéœ€è¦æ­£ç¡®å®ç° __add__ ï¼š class Rational(object): def __init__(self, p, q): self.p = p self.q = q pã€q éƒ½æ˜¯æ•´æ•°ï¼Œè¡¨ç¤ºæœ‰ç†æ•° p/qã€‚ class Rational(object): def __init__(self, p, q): self.p = p self.q = q def __add__(self, r): return Rational(self.p * r.q + self.q * r.p, self.q * r.q) def __sub__(self, r): return Rational(self.p * r.q - self.q * r.p, self.q * r.q) def __mul__(self, r): return Rational(self.p * r.p, self.q * r.q) def __div__(self, r): return Rational(self.p * r.q, self.q * r.p) def __str__(self): d = 1 for i in xrange(2,min(self.p, self.q)+1): if self.p%i==0 and self.q%i==0: d = i return '%s/%s' % (self.p/d, self.q/d) __repr__ = __str__ ç±»å‹è½¬æ¢ è¦è®© int() å‡½æ•°å¯¹äºRationalç±»æ­£å¸¸å·¥ä½œï¼Œåªéœ€è¦å®ç°ç‰¹æ®Šæ–¹æ³• __int__() : åŒç†ï¼Œè¦è®© float() å‡½æ•°æ­£å¸¸å·¥ä½œï¼Œåªéœ€è¦å®ç°ç‰¹æ®Šæ–¹æ³• __float__() ã€‚ @property class Student(object): def __init__(self, name, score): self.name = name self.__score = score def get_score(self): return self.__score def set_score(self, score): if score < 0 or score > 100: raise ValueError('invalid score') self.__score = score ä½¿ç”¨ get/set æ–¹æ³•æ¥å°è£…å¯¹ä¸€ä¸ªå±æ€§å°è£…. ä½†æ˜¯å†™ s.get_score() å’Œ s.set_score() æ²¡æœ‰ç›´æ¥å†™ s.score æ¥å¾—ç›´æ¥ã€‚ å¯ä»¥ç”¨è£…é¥°å™¨å‡½æ•°æŠŠ get/set æ–¹æ³•\"è£…é¥°\"æˆå±æ€§è°ƒç”¨ï¼š class Student(object): def __init__(self, name, score): self.name = name self.__score = score @property def score(self): return self.__score @score.setter def score(self, score): if score < 0 or score > 100: raise ValueError('invalid score') self.__score = score ç¬¬ä¸€ä¸ªscore(self)æ˜¯getæ–¹æ³•ï¼Œç”¨ @property è£…é¥°ï¼Œç¬¬äºŒä¸ªscore(self, score)æ˜¯setæ–¹æ³•ï¼Œç”¨ @score.setter è£…é¥°ï¼Œ @score.setter æ˜¯å‰ä¸€ä¸ª @property è£…é¥°åçš„å‰¯äº§å“ã€‚å¯¹ score èµ‹å€¼å®é™…è°ƒç”¨çš„æ˜¯ setæ–¹æ³•ã€‚ slots ç”±äºPythonæ˜¯åŠ¨æ€è¯­è¨€ï¼Œä»»ä½•å®ä¾‹åœ¨è¿è¡ŒæœŸéƒ½å¯ä»¥åŠ¨æ€åœ°æ·»åŠ å±æ€§ã€‚ å¦‚æœè¦é™åˆ¶æ·»åŠ çš„å±æ€§ï¼Œä¾‹å¦‚ï¼ŒStudentç±»åªå…è®¸æ·»åŠ  nameã€genderå’Œscore è¿™3ä¸ªå±æ€§ï¼Œå°±å¯ä»¥åˆ©ç”¨Pythonçš„ä¸€ä¸ªç‰¹æ®Šçš„ __slots__ æ¥å®ç°ã€‚ é¡¾åæ€ä¹‰ï¼Œ __slots__ æ˜¯æŒ‡ä¸€ä¸ªç±»å…è®¸çš„å±æ€§åˆ—è¡¨ (æ‰€ä»¥æ˜¯ç±»å±æ€§)ï¼š class Student ( object ): __slots__ = ( 'name' , 'gender' , 'score' ) def __init__ ( self , name , gender , score ): self . name = name self . gender = gender self . score = score >>> s = Student ( 'Bob' , 'male' , 59 ) >>> s . name = 'Tim' # OK >>> s . score = 99 # OK >>> s . grade = 'A' Traceback ( most recent call last ): ... AttributeError: 'Student' object has no attribute 'grade' __slots__ çš„ç›®çš„æ˜¯é™åˆ¶å½“å‰ç±»æ‰€èƒ½æ‹¥æœ‰çš„å±æ€§ï¼Œå¦‚æœä¸éœ€è¦æ·»åŠ ä»»æ„åŠ¨æ€çš„å±æ€§ï¼Œä½¿ç”¨ __slots__ ä¹Ÿèƒ½èŠ‚çœå†…å­˜ã€‚ call åœ¨Pythonä¸­ï¼Œå‡½æ•°å…¶å®æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼š >>> f = abs >>> f.__name__ 'abs' >>> f(-123) 123 ç”±äº f å¯ä»¥è¢«è°ƒç”¨ï¼Œæ‰€ä»¥ï¼Œf è¢«ç§°ä¸ºå¯è°ƒç”¨å¯¹è±¡ã€‚ æ‰€æœ‰çš„å‡½æ•°éƒ½æ˜¯å¯è°ƒç”¨å¯¹è±¡ã€‚ ä¸€ä¸ªç±»å®ä¾‹ä¹Ÿå¯ä»¥å˜æˆä¸€ä¸ªå¯è°ƒç”¨å¯¹è±¡ï¼Œåªéœ€è¦å®ç°ä¸€ä¸ªç‰¹æ®Šæ–¹æ³• __call__() ã€‚ æŠŠ Person ç±»å˜æˆä¸€ä¸ªå¯è°ƒç”¨å¯¹è±¡ï¼š class Person(object): def __init__(self, name, gender): self.name = name self.gender = gender def __call__(self, friend): print 'My name is %s...' % self.name print 'My friend is %s...' % friend ç°åœ¨å¯ä»¥å¯¹ Person å®ä¾‹ç›´æ¥è°ƒç”¨ï¼š >>> p = Person('Bob', 'male') >>> p('Tim') My name is Bob... My friend is Tim... å•çœ‹ p('Tim') ä½ æ— æ³•ç¡®å®š p æ˜¯ä¸€ä¸ªå‡½æ•°è¿˜æ˜¯ä¸€ä¸ªç±»å®ä¾‹ï¼Œæ‰€ä»¥ï¼Œ åœ¨Pythonä¸­ï¼Œå‡½æ•°ä¹Ÿæ˜¯å¯¹è±¡ï¼Œå¯¹è±¡å’Œå‡½æ•°çš„åŒºåˆ«å¹¶ä¸æ˜¾è‘— ã€‚","tags":"notes","title":"[pythonè¿›é˜¶è¯¾ç¨‹] é¢å‘å¯¹è±¡ç¼–ç¨‹"},{"url":"https://x-wei.github.io/notes/algoII_week6_1_reductions.html","text":"Goal: classify problems according to computational requirements. bad new: for huge number of pbs we don't know... 1. Introduction to Reductions shifing gears: from individual problems to problem-solving models. from linear/quard to polynomial/exponential pbs from implementation details to conceptual framwork suppose we could (not) solve pb X efficiently â‡’ what else pbs could (not) we solve efficiently ? def. reduction Pb X reduces to pb Y if you can use an algo that solves Y to solve X. for an instance of pb X â†’ transform it into an instance of pb Y â†’ translate the solution for Y to solution for X. ex1. finding median can reduce to sorting... cost = NlogN+1 ex1. element distinctness can reduce to sorting... cost = NlogN + N 2. Designing Algorithms algo design: by reduction to problems that we know how to solve (sorting/shortest path/flow/...) ex1. convex hull reduces to sorting Gram scan algo... (discussed in algo-I course) cost = NlogN + N algo. Gram scan pick a point with smallest y-coord sort all points by polar angle wrt the picked point consider points in this order, discard points that creates clockwise turn ex2. undirected shortest path (nonneg weights) reduces to directed shortest path cost: ElogV + E algo. replace each undir-edge by 2 dir-edge... 3. Establishing Lower Bounds goal: prove that a pb requires (at least) a certain nb of steps. ex. any compare-based sorting requires NlogN compares. log(N!) = NlogN Bad news: very hard to estibalish lower bounds. Good new: can spread the lower bound NlogN by reducing to sorting (if cost of reduction is small). def. linear-time reduction pb X linear-time reduces to pb Y if X can be solved with: 1. linear nb of op for reduction 2. constant nb of calles to Y ex. almost all reductions we've seen so far... ex. proof of lower bound for convex hull prop. sorting linear-time reduces to convex hull (æ³¨æ„è¿™æ¬¡æ˜¯åå‘çš„! ) pf. for an instance of sorting: x1 ... xn â‡’ convert to convex hull instance: (x1, x1&#94;2), ... , (xn, xn&#94;2) â‡’ implication: all (ccw-based) convex hull algo cannot be easier than NlgN ! (otherwise sorting would be easier..) lesson: Establishing lower bounds through reduction is an important tool in guiding algorithm design efforts. 4. Classifying Problems prove that pb X and pb Y have the same complexity: show X linear-time reduces to Y show Y linear-time reduces to X conclude that X Y have the same complexity (even if we don't know what it is) ex. sorting and convex hull... ä¸€ä¸ªå›§å›§çš„è„‘æ´: ex. integer arithmetic reductions: integer multiplication integer multiplication: of two N-bit integers. Its complexity (unknown) is denoted as M(N) brute force: N&#94;2 ops â†’ so M(N) = Omega(N2) many other integer ops can reduce to integer multiplication: what is M(N)? ex. linear-algebra reductions: matrix multiplication compute product of 2 N*N matrices. Its complexity (unknown) is denoted as MM(N) brute force: N&#94;3 operations that can reduce to matrix-multiplication: what is MM(N)? summary","tags":"notes","title":"[Algorithms II] Week 6-1 Reductions"},{"url":"https://x-wei.github.io/notes/imooc_py_functional.html","text":"http://www.imooc.com/learn/317 å‡½æ•°å¼ç¼–ç¨‹: æ›´æŠ½è±¡, æ›´è„±ç¦»æŒ‡ä»¤(è®¡ç®—æœº), æ›´è´´è¿‘è®¡ç®—(æ•°å­¦). ä¸éœ€è¦å˜é‡ (pythonå…è®¸æœ‰å˜é‡, æ‰€ä»¥pythonéçº¯å‡½æ•°å¼) é«˜é˜¶å‡½æ•° é—­åŒ…: è¿”å›å‡½æ•° åŒ¿åå‡½æ•° é«˜é˜¶å‡½æ•° å˜é‡å¯ä»¥æŒ‡å‘å‡½æ•° f=abs; f(-10) å‡½æ•°å: å°±æ˜¯æŒ‡å‘å‡½æ•°çš„å˜é‡ abs=len é«˜é˜¶å‡½æ•°: æ¥æ”¶å‡½æ•°ä½œä¸ºå‚æ•°çš„å‡½æ•° def add(x,y,f): return f(x)+f(y) add(-5, 9, abs) map() map() æ˜¯ Python å†…ç½®çš„é«˜é˜¶å‡½æ•°ï¼Œå®ƒæ¥æ”¶ä¸€ä¸ªå‡½æ•° f å’Œä¸€ä¸ª listï¼Œå¹¶é€šè¿‡æŠŠå‡½æ•° f ä¾æ¬¡ä½œç”¨åœ¨ list çš„æ¯ä¸ªå…ƒç´ ä¸Šï¼Œå¾—åˆ°ä¸€ä¸ªæ–°çš„ list å¹¶è¿”å›ã€‚map()å‡½æ•°ä¸æ”¹å˜åŸæœ‰çš„ listï¼Œè€Œæ˜¯è¿”å›ä¸€ä¸ªæ–°çš„ listã€‚ def format_name(s): return s.title() print map(format_name, ['adam', 'LISA', 'barT']) reduce() reduce() å‡½æ•°ä¹Ÿæ˜¯Pythonå†…ç½®çš„ä¸€ä¸ªé«˜é˜¶å‡½æ•°ã€‚reduce()å‡½æ•°æ¥æ”¶çš„å‚æ•°å’Œ map()ç±»ä¼¼ï¼Œä¸€ä¸ªå‡½æ•° fï¼Œä¸€ä¸ªlistï¼Œä½†è¡Œä¸ºå’Œ map()ä¸åŒï¼Œreduce()ä¼ å…¥çš„å‡½æ•° f å¿…é¡»æ¥æ”¶ä¸¤ä¸ªå‚æ•°ï¼Œreduce()å¯¹listçš„æ¯ä¸ªå…ƒç´ åå¤è°ƒç”¨å‡½æ•°fï¼Œå¹¶è¿”å›æœ€ç»ˆç»“æœå€¼ã€‚ reduce(function, iterable[, initializer]) Apply function of two arguments cumulatively to the items of iterable, from left to right, so as to reduce the iterable to a single value. If the optional initializer is present, it is placed before the items of the iterable in the calculation, and serves as a default when the iterable is empty. If initializer is not given and iterable contains only one item, the first item is returned. filter() filter()å‡½æ•°æ¥æ”¶ä¸€ä¸ªå‡½æ•° f å’Œä¸€ä¸ªlistï¼Œè¿™ä¸ªå‡½æ•° f çš„ä½œç”¨æ˜¯å¯¹æ¯ä¸ªå…ƒç´ è¿›è¡Œåˆ¤æ–­ï¼Œè¿”å› Trueæˆ– Falseï¼Œfilter()æ ¹æ®åˆ¤æ–­ç»“æœè‡ªåŠ¨è¿‡æ»¤æ‰ä¸ç¬¦åˆæ¡ä»¶çš„å…ƒç´ ï¼Œè¿”å›ç”±ç¬¦åˆæ¡ä»¶å…ƒç´ ç»„æˆçš„æ–°listã€‚ è‡ªå®šä¹‰sorted() sorted()ä¹Ÿæ˜¯ä¸€ä¸ªé«˜é˜¶å‡½æ•°ï¼Œå®ƒå¯ä»¥æ¥æ”¶ä¸€ä¸ªæ¯”è¾ƒå‡½æ•° cmp æ¥å®ç°è‡ªå®šä¹‰æ’åºï¼Œæ¯”è¾ƒå‡½æ•°çš„å®šä¹‰æ˜¯ï¼Œä¼ å…¥ä¸¤ä¸ªå¾…æ¯”è¾ƒçš„å…ƒç´  x, yï¼Œå¦‚æœ x åº”è¯¥æ’åœ¨ y çš„å‰é¢ï¼Œè¿”å› -1ï¼Œå¦‚æœ x åº”è¯¥æ’åœ¨ y çš„åé¢ï¼Œè¿”å› 1ã€‚å¦‚æœ x å’Œ y ç›¸ç­‰ï¼Œè¿”å› 0ã€‚ è¿”å›å‡½æ•° åœ¨å‡½æ•°å†…éƒ¨å®šä¹‰ä¸€ä¸ªå‡½æ•° ç„¶åè¿”å›è¿™ä¸ªå†…éƒ¨å®šä¹‰çš„å‡½æ•°. è¿”å›å‡½æ•°å¯ä»¥æŠŠä¸€äº›è®¡ç®—å»¶è¿Ÿæ‰§è¡Œ def calc_sum(lst): def lazy_sum(): return sum(lst) return lazy_sum è°ƒç”¨ calc_sum() å¹¶æ²¡æœ‰è®¡ç®—å‡ºç»“æœï¼Œè€Œæ˜¯è¿”å›å‡½æ•°: >>> f = calc_sum([1, 2, 3, 4]) >>> f <function lazy_sum at 0x1037bfaa0> å¯¹è¿”å›çš„å‡½æ•°è¿›è¡Œè°ƒç”¨æ—¶ï¼Œæ‰è®¡ç®—å‡ºç»“æœ: >>> f() 10 é—­åŒ… å‡½æ•° f å†…éƒ¨å®šä¹‰çš„å‡½æ•° g æ— æ³•è¢«å¤–éƒ¨è®¿é—® â†’ å¯ä»¥é˜²æ­¢å…¶ä»–ä»£ç è°ƒç”¨ g . def calc_sum(lst): def lazy_sum(): return sum(lst) return lazy_sum æ³¨æ„: å‘ç°æ²¡æ³•æŠŠ lazy_sum ç§»åˆ° calc_sum çš„å¤–éƒ¨ï¼Œå› ä¸ºå®ƒ å¼•ç”¨äº† calc_sum çš„å‚æ•° lst ã€‚ åƒè¿™ç§ å†…å±‚å‡½æ•°å¼•ç”¨äº†å¤–å±‚å‡½æ•°çš„å˜é‡ï¼ˆå‚æ•°ä¹Ÿç®—å˜é‡ï¼‰ï¼Œç„¶åè¿”å›å†…å±‚å‡½æ•° çš„æƒ…å†µï¼Œç§°ä¸ºé—­åŒ…ï¼ˆClosureï¼‰ã€‚ é—­åŒ…çš„ç‰¹ç‚¹æ˜¯è¿”å›çš„å‡½æ•°è¿˜å¼•ç”¨äº†å¤–å±‚å‡½æ•°çš„å±€éƒ¨å˜é‡ï¼Œæ‰€ä»¥ï¼Œè¦æ­£ç¡®ä½¿ç”¨é—­åŒ…ï¼Œå°±è¦ ç¡®ä¿å¼•ç”¨çš„å±€éƒ¨å˜é‡åœ¨å‡½æ•°è¿”å›åä¸èƒ½å˜ ã€‚ ex: # å¸Œæœ›ä¸€æ¬¡è¿”å›3ä¸ªå‡½æ•°ï¼Œåˆ†åˆ«è®¡ç®—1x1,2x2,3x3: def count(): fs = [] for i in range(1, 4): def f(): return i*i fs.append(f) return fs f1, f2, f3 = count() ä»¥ä¸ºè°ƒç”¨f1()ï¼Œf2()å’Œf3()ç»“æœåº”è¯¥æ˜¯1ï¼Œ4ï¼Œ9ï¼Œä½†å®é™…ç»“æœå…¨éƒ¨éƒ½æ˜¯ 9 ! åŸå› å°±æ˜¯å½“count()å‡½æ•°è¿”å›äº†3ä¸ªå‡½æ•°æ—¶ï¼Œè¿™3ä¸ªå‡½æ•°æ‰€å¼•ç”¨çš„å˜é‡ i çš„å€¼å·²ç»å˜æˆäº†3ã€‚ å‡½æ•°åªåœ¨æ‰§è¡Œæ—¶æ‰å»è·å–å¤–å±‚å‚æ•°i , ç”±äºf1ã€f2ã€f3å¹¶æ²¡æœ‰è¢«è°ƒç”¨ï¼Œæ‰€ä»¥ï¼Œæ­¤æ—¶ä»–ä»¬å¹¶æœªè®¡ç®— i*iï¼Œå½“ f1 è¢«è°ƒç”¨æ—¶iå·²ç»å˜ä¸º3... ä¸Šé¢çš„æ­£ç¡®å†™æ³•æ˜¯: def count(): fs = [] for i in range(1, 4): def f(j=i): return j*j fs.append(f) return fs f1, f2, f3 = count() print f1(), f2(), f3() å› æ­¤ï¼Œè¿”å›å‡½æ•°ä¸è¦å¼•ç”¨ä»»ä½•å¾ªç¯å˜é‡ï¼Œæˆ–è€…åç»­ä¼šå‘ç”Ÿå˜åŒ–çš„å˜é‡ã€‚ åŒ¿åå‡½æ•° Pythonä¸­ï¼Œå¯¹åŒ¿åå‡½æ•°æä¾›äº†æœ‰é™æ”¯æŒã€‚ å…³é”®å­— lambda è¡¨ç¤ºåŒ¿åå‡½æ•°ï¼Œå†’å·å‰é¢çš„ x è¡¨ç¤ºå‡½æ•°å‚æ•°ã€‚åŒ¿åå‡½æ•°æœ‰ä¸ªé™åˆ¶ï¼Œå°±æ˜¯åªèƒ½æœ‰ä¸€ä¸ªè¡¨è¾¾å¼ï¼Œä¸å†™returnï¼Œè¿”å›å€¼å°±æ˜¯è¯¥è¡¨è¾¾å¼çš„ç»“æœã€‚ map(lambda x: x * x, [1, 2, 3, 4, 5, 6, 7, 8, 9]) myabs = lambda x: -x if x < 0 else x >>> myabs(-1) 1 è£…é¥°å™¨ é—®é¢˜: å®šä¹‰äº†å‡½æ•°, æƒ³åœ¨è¿è¡Œæ—¶å¢åŠ å‡½æ•°åŠŸèƒ½åŒæ—¶ä¸æ”¹åŠ¨å‡½æ•°ä»£ç . ex. å¸Œæœ›å‡½æ•°è°ƒç”¨æ—¶æ‰“å°è°ƒç”¨æ—¥å¿— â‡’ æ–¹æ³•: é«˜é˜¶å‡½æ•°: æ¥æ”¶è¦ä¿®æ”¹çš„å‡½æ•°, è¿›è¡ŒåŒ…è£…åè¿”å›åŒ…è£…è¿‡çš„æ–°å‡½æ•°. def new_f(f): def fn(x): print 'call %s()' % f.__name__ return f(x) return fn å‡½æ•° new_fn å°±æ˜¯æ‰€è°“è£…é¥°å™¨å‡½æ•°. pythonçš„@è¯­æ³•å¯ä»¥ç®€åŒ–è£…é¥°å™¨è°ƒç”¨: (æ³¨æ„: å³è¾¹ä»£ç , åŸæœ¬æœªè£…é¥°çš„f1å‡½æ•°å·²ç»è¢«å½»åº•éšè—äº†. ) ä¼˜ç‚¹: æå¤§ç®€åŒ–ä»£ç . æ— å‚æ•°decorator ä¸Šé¢ä¾‹å­é‡Œé¢çš„ new_fn å‡½æ•°åªèƒ½è£…é¥°æ¥æ”¶ä¸€ä¸ªå‚æ•°xçš„å‡½æ•°, æƒ³è¦å¤„ç†æ¥æ”¶ä»»æ„å‚æ•°çš„å‡½æ•° â‡’ åˆ©ç”¨Pythonçš„ *args å’Œ **kw def log(f): def fn(*args, kw): print 'call %s() in %s'%( f. name , time.ctime() ) return f(*args, kw) return fn å¸¦å‚æ•°decorator æ¥ä¸Šé¢çš„logå‡½æ•°, å¦‚æœæœ‰çš„å‡½æ•°éå¸¸é‡è¦ï¼Œå¸Œæœ›æ‰“å°å‡º'[INFO] call xxx()...'ï¼Œæœ‰çš„å‡½æ•°ä¸å¤ªé‡è¦ï¼Œå¸Œæœ›æ‰“å°å‡º'[DEBUG] call xxx()...'ï¼Œè¿™æ—¶ï¼Œlogå‡½æ•°æœ¬èº«å°±éœ€è¦ä¼ å…¥'INFO'æˆ–'DEBUG'è¿™æ ·çš„å‚æ•°ï¼Œç±»ä¼¼è¿™æ ·ï¼š @log('DEBUG') def my_func(): pass æŠŠä¸Šé¢çš„å®šä¹‰ç¿»è¯‘æˆé«˜é˜¶å‡½æ•°çš„è°ƒç”¨ï¼Œå°±æ˜¯ï¼š my_func = log('DEBUG')(my_func) å†å±•å¼€ä¸€ä¸‹ï¼š log_decorator = log('DEBUG') my_func = log_decorator(my_func) ç›¸å½“äº: log_decorator = log('DEBUG') @log_decorator def my_func(): pass æ‰€ä»¥ï¼Œå¸¦å‚æ•°çš„logå‡½æ•° é¦–å…ˆ è¿”å›ä¸€ä¸ªdecoratorå‡½æ•° ï¼Œå†è®©è¿™ä¸ªdecoratorå‡½æ•°æ¥æ”¶my_funcå¹¶è¿”å›æ–°å‡½æ•° ï¼š def log(prefix): def log_decorator(f): def wrapper(*args, **kw): print '[%s] %s()...' % (prefix, f.__name__) return f(*args, **kw) return wrapper return log_decorator @log('DEBUG') def test(): pass print test() è¿™é‡Œç”¨åˆ°äº†é—­åŒ…: æœ€é‡Œå±‚wrapperå‡½æ•°(å³ä¿®é¥°è¿‡ä¸ªå‡½æ•°)ç”¨åˆ°äº†prefixå‚æ•°. å®Œå–„decorator ä¸Šé¢çš„decoratorä¼šä¿®æ”¹å‡½æ•°å: åœ¨æ²¡æœ‰decoratorçš„æƒ…å†µä¸‹ï¼Œæ‰“å°å‡½æ•°åï¼š def f1(x): pass print f1.__name__ â‡’ è¾“å‡ºï¼š f1 æœ‰decoratorçš„æƒ…å†µä¸‹ï¼Œå†æ‰“å°å‡½æ•°åï¼š def log(f): def wrapper(*args, **kw): print 'call...' return f(*args, **kw) return wrapper @log def f2(x): pass print f2.__name__ â‡’ è¾“å‡ºï¼š wrapper è¿™å¯¹äºé‚£äº›ä¾èµ–å‡½æ•°åçš„ä»£ç å°±ä¼šå¤±æ•ˆã€‚decoratorè¿˜æ”¹å˜äº†å‡½æ•°çš„ __doc__ ç­‰å…¶å®ƒå±æ€§ã€‚å¦‚æœè¦è®©è°ƒç”¨è€…çœ‹ä¸å‡ºä¸€ä¸ªå‡½æ•°ç»è¿‡äº†@decoratorçš„\"æ”¹é€ \"ï¼Œå°±éœ€è¦ æŠŠåŸå‡½æ•°çš„ä¸€äº›å±æ€§å¤åˆ¶åˆ°æ–°å‡½æ•°ä¸­ ï¼š def log(f): def wrapper(*args, **kw): print 'call...' return f(*args, **kw) wrapper.__name__ = f.__name__ wrapper.__doc__ = f.__doc__ return wrapper è¿™æ ·å†™å¾ˆä¸æ–¹ä¾¿, Pythonå†…ç½®çš„ functools å¯ä»¥ç”¨æ¥è‡ªåŠ¨åŒ–å®Œæˆè¿™ä¸ª\"å¤åˆ¶\"çš„ä»»åŠ¡ï¼š import functools def log ( f ): @functools.wraps ( f ) def wrapper ( * args , ** kw ): print 'call...' return f ( * args , ** kw ) return wrapper functools.wraps(f) æ˜¯ä¸€ä¸ªè£…é¥°å™¨å‡½æ•°, ç›®çš„æ˜¯ä¸ºäº†æŠŠæœ€åè¿”å›çš„å‡½æ•°å†æ¬¡è£…é¥°(å¤åˆ¶fçš„å±æ€§è¿›å»)... æ‰€ä»¥å¯¹äºå¸¦å‚æ•°çš„è£…é¥°å™¨, åº”è¯¥åœ¨æœ€é‡Œé¢è¿”å›çš„wrapperå‡½æ•°å‰åŠ ä¸Š @functools.wraps(f) import time , functools def performance ( unit ): def perf_decorator ( f ): @functools.wraps ( f ) def wrapper ( * args , ** kw ): print 'call %s () in %s %s ' % ( f . __name__ , time . time (), unit ) #closure return f ( * args , ** kw ) return wrapper return perf_decorator @performance ( 'ms' ) def factorial ( n ): return reduce ( lambda x , y : x * y , range ( 1 , n + 1 )) print factorial . __name__ åå‡½æ•° å‡è®¾è¦è½¬æ¢å¤§é‡çš„äºŒè¿›åˆ¶å­—ç¬¦ä¸²ï¼Œæ¯æ¬¡éƒ½ä¼ å…¥ int(x, base=2) éå¸¸éº»çƒ¦ï¼Œäºæ˜¯ï¼Œæˆ‘ä»¬æƒ³åˆ°ï¼Œå¯ä»¥å®šä¹‰ä¸€ä¸ªint2()çš„å‡½æ•°ï¼Œé»˜è®¤æŠŠbase=2ä¼ è¿›å»ï¼š def int2(x, base=2): return int(x, base) functools.partial å¯ä»¥æŠŠä¸€ä¸ªå‚æ•°å¤šçš„å‡½æ•°å˜æˆä¸€ä¸ªå‚æ•°å°‘çš„æ–°å‡½æ•°ï¼Œå°‘çš„å‚æ•°éœ€è¦åœ¨åˆ›å»ºæ—¶æŒ‡å®šé»˜è®¤å€¼ï¼Œè¿™æ ·ï¼Œæ–°å‡½æ•°è°ƒç”¨çš„éš¾åº¦å°±é™ä½äº†ã€‚ functools.partial(func[,*args][, **keywords]) Return a new partial object which when called will behave like func called with the positional arguments args and keyword arguments keywords. import functools int2 = functools . partial ( int , base = 2 ) >>> int2 ( '1000000' ) 64 >>> int2 ( '1010101' ) 85 sorted_ignore_case = functools . partial ( sorted , key = lambda s : s . lower ()) print sorted_ignore_case ([ 'bob' , 'about' , 'Zoo' , 'Credit' ])","tags":"notes","title":"[pythonè¿›é˜¶è¯¾ç¨‹] å‡½æ•°å¼ç¼–ç¨‹"},{"url":"https://x-wei.github.io/tech/cpp-demo-snippets.html","text":"æ€»ç»“äº†ä¸€ä¸‹C++ STLé‡Œé¢ç”¨çš„æ¯”è¾ƒé¢‘ç¹çš„ä¸€äº›ä»£ç ç‰‡æ®µ. (åœ°å€: https://github.com/X-Wei/cpp-demo-snippets/tree/master/STL ) cppæ–‡æ¡£: http://en.cppreference.com/w/cpp å¸¸ç”¨çš„libraryä¸»è¦æœ‰: <algorithm>, <vector>, <queue>, <set>, <map>, <cmath> å¦å¤–ä¸€ä¸ªå¸¸è§çš„cppæ–‡ä»¶å¼€å¤´ç‰ˆæœ¬æ˜¯: #include <iostream> #include <vector> #include <algorithm> using namespace std ; #define forloop(i,lo,hi) for(int i = (lo); i <= (hi); i++) #define rep(i,N) forloop(i,0,(int)N-1) algorithm copy() OutputIt copy( InputIt first, InputIt last, OutputIt d_first ); Copies the elements in the range, defined by [first, last) , to another range beginning at d_first . æ³¨æ„å¦‚æœè¦æ”¾å…¥çš„containerå¤§å°ä¸å¤Ÿ, æœ€åä¸€ä¸ªå‚æ•°è¦ç”¨ back_inserter . ex. int a[] = {1,2,3,4,5}; vector<int> v(5); copy(a, a+5, v.begin()); vector<int> v2; // if v2 needs to increase capacity, need to use back_inserter copy(v.begin(), v.end(), back_inserter(v2)); sort() void sort( RandomIt first, RandomIt last, [Compare comp]); Sorts the elements in the range [first, last) in ascending order. int a[] = {3,1,5,0,8,9}; vector<int> v(&a[0], &a[0]+6); sort(a, a+6); sort(v.begin(), v.end()); å¦‚æœæƒ³è¦é™åºæ’åˆ—, å¯ä»¥ç›´æ¥reverseä¸€ä¸‹: reverse(v.begin(), v.end()); å¦‚æœè‡ªå®šä¹‰æ¯”è¾ƒå‡½æ•°çš„è¯, å¯ä»¥è‡ªå·±å†™ä¸€ä¸ªcmpå‡½æ•°(å†…å®¹å’Œé‡è½½çš„å°äºè¿ç®—ç¬¦ç›¸åŒ), ç„¶åæŠŠå‡½æ•°åæ”¾åœ¨ç¬¬ä¸‰ä¸ªå‚æ•°: bool my_cmp(const pair<int, int> &lhs, const pair<int, int> &rhs) { return (lhs.first < rhs.first) || (lhs.first==rhs.first && lhs.second < rhs.second); } //... sort(vp.begin(), vp.end(), my_cmp); æˆ–è€…æŠŠå…ƒç´ å°è£…ä¸ºclass/struct, ç„¶åé‡è½½å®ƒçš„å°äºå· < è¿ç®—ç¬¦: class MyFooClass { public : int x , y ; MyFooClass ( int xx , int yy ){ x = xx ; y = yy ; } bool operator < ( const MyFooClass & other ) const { return ( x< other . x ) || ( x== other . x && y < other . y ) ; } }; struct MyFooStruct { int x , y ; MyFooStruct ( int xx , int yy ){ x = xx ; y = yy ; } bool operator < ( const MyFooStruct & other ) const { return ( x< other . x ) || ( x== other . x && y < other . y ) ; } }; vector vector ç›¸å½“äºjavaé‡Œé¢çš„ ArrayList . ä¸»è¦æ“ä½œ: push_back() , pop_back() (æ‰€ä»¥å¯ä»¥å½“ä½œstackä½¿ç”¨). å¦å¤–iteratoræ“ä½œä¹Ÿå¾ˆå¸¸ç”¨(set, mapç­‰åŒç†): for(vector<int>::iterator it=v1.begin(); it!=v1.end(); it++) cout << *it << \" \"; pair å°±æ˜¯ä¸€ä¸ªfirstä¸€ä¸ªsecond. å¦å¤–æœ‰ make_pair å‡½æ•°å¯ä»¥æ„é€ pair. pair<string, int> p1(\"pair1\", 1); pair<string, int> p2 = make_pair(\"pair2\", 2); å¦å¤–ä¸¤ä¸ªå°–æ‹¬å·å†ä¸€èµ·æ—¶ä¸€å®šè¦ä¸­é—´åŠ ç©ºæ ¼, å¦åˆ™å°±æ˜¯ä½æ“ä½œè¿ç®—ç¬¦äº†! pair<string, pair<int, double> > p3 = make_pair(\"pair3\", make_pair(3,3.33)); queue åŒ…å«æ™®é€šé˜Ÿåˆ—å’Œä¼˜å…ˆé˜Ÿåˆ—(pq) queue bool empty() const; reference front(); void push( const value_type& value ); void pop(); priority_queue (pqçš„å®ç°ä¹Ÿå¯ä»¥ç”¨ <algorithm> é‡Œçš„ make_heap , pop_heap , push_heap ç­‰æ–¹æ³•. priority_queue å…¶å®å°±æ˜¯algorithmé‡Œé¢å‡½æ•°çš„å°è£…...) å’Œqueueçš„APIåŒºåˆ«æ˜¯, pqæŸ¥çœ‹é˜Ÿé¦–çš„å‡½æ•°å« top è€Œä¸æ˜¯ front . bool empty() const; const_reference top() const; void push( const value_type& value ); void pop(); ä½¿ç”¨è‡ªå®šä¹‰çš„cmpæ–¹æ³•, å¯ä»¥æŠŠcmpçš„å†…å®¹ä½œä¸ºæ‹¬å·è¿ç®—ç¬¦ () çš„é‡è½½æ”¾å…¥ä¸€ä¸ªstructä½œä¸ºç¬¬ä¸‰ä¸ªç±»å‹å‚æ•°, ç¬¬äºŒä¸ªæ˜¯container, ä¸€èˆ¬ç”¨vectorå³å¯. struct MyCmpStruct{ bool operator()(const pair<int, int> &lhs, const pair<int, int> &rhs){ return return (lhs.first < rhs.first) || (lhs.first==rhs.first && lhs.second < rhs.second); } }; priority_queue<pair<int,int>, vector<pair<int,int> >, MyCmpStruct> ppq; å¦ä¸€ç§æ–¹æ³•æ˜¯è‡ªå®šä¹‰å…ƒç´ çš„struct/class, ç„¶åé‡è½½å°äº < è¿ç®—ç¬¦ä¸ºcmp (åŒsort). set/map C++é‡Œé¢çš„set/mapæ˜¯ç”¨çº¢é»‘æ ‘å®ç°çš„, æ‰€ä»¥keyç±»å‹éœ€è¦æ”¯æŒæ¯”è¾ƒè¿ç®—. set/mapä¹Ÿæ”¯æŒiteratoræ“ä½œ( begin() , end() ), è€Œä¸”ç”±äºæ˜¯BST, é¡ºåºè‡ªç„¶æ˜¯æ’å¥½äº†çš„. set std::pair<iterator,bool> insert( const value_type& value ); void erase( iterator pos ); size_type count( const Key& key ) const; iterator find( const Key& key ); insert å’Œ erase çš„å‚æ•°å¯ä»¥æ˜¯iteratoræˆ–è€…value. count çš„è¿”å›å€¼ä¸º1æˆ–0 find å¦‚æœæ²¡æ‰¾åˆ°åˆ™è¿”å› s.end() map mapçš„value_typeæ˜¯ä¸€ä¸ª pair<K,V> , æ‰€ä»¥éå†æ˜¯è¿™æ ·: for(map<string,int>::iterator it=m.begin(); it!=m.end(); it++) cout << it->first << \":\" << it->second << \", \"; insertion: ç”¨ [] æˆ–è€… insert å‡½æ•° map<string,int> m; m[\"aa\"] = 3; m.insert( make_pair(\"dd\", 6) ); æ³¨æ„ insert å‡½æ•°å¦‚æœkeyå·²ç»å­˜åœ¨çš„è¯valueä¸ä¼šæ”¹å˜! ä½†æ˜¯ç”¨ [] çš„è¯åˆ™å¯ä»¥. erase/find/count : åŒset.","tags":"tech","title":"C++ STLå°ç»“&ä»£ç ç‰‡æ®µ"},{"url":"https://x-wei.github.io/notes/algoII_week5_2.html","text":"1. Introduction to Data Compression pb: reduce the size of a file, to save space/time for storing/transmitting. applications: generic file compression(gzip), multimedia (mp3), communication(skype). From binary data B , â‡’ generate a compressed representation C(B) . lossless compression : get exactly B from C(B) compression ratio : |C(B)|/|B| (||means number of bits ) Tools extension to stdio libraries: read/write bits public class BinaryStdIn { boolean readBoolean (); // read 1 bit and return as a boolean char readChar (); // read 8 bits and return a char char readChar ( int r ); // read r ( <= 8 ) bits and return a char // similar method for int / long / double boolean isEmpty (); // is bitstream empty ? void close (); } public class BinaryStdOut { void write ( boolean b ); // write 1 bit void write ( char c ); // write 8 bits void write ( char c , int r ); // write r ( least - significant ) bits of c // similar method for int / long / double void close (); // might add some byte alignment bits } usage example: store a date 12/31/1999 universal date compression? prop . NO algorithm can compress every bitstring. pf. by contradiction: repeatedly compress the bitstring â‡’ bit length goes to 0. 2. Run-Length Coding one simple type of redundancy in bitstream: long runs of repeated bits. â‡’ use 4-bit counts to represent alternating 1s and 0s. question1: how many bits to represent counts ? â‡’ pick 8 bits (just tradeoff) question2: what if run length is bigger than max length(2&#94;8)? â‡’ just add length=0 of the alternating bit... application: JPEG... code: public class RunLength { private final static int R = 256 ; // max run length private final static int lgR = 8 ; public static void compress () { boolean bit , oldbit = false ; int l = 0 ; while ( ! BinaryStdIn . isEmpty ()) { bit = BinaryStdIn . readBoolean (); if ( bit != old ) { oldbit = bit ; BinaryStdOut . write ( l , lgR ); l = 0 ; } else if ( l == R - 1 ) { BinaryStdOut . write ( l , lgR ); BinaryStdOut . write ( 0 , lgR ); l = 0 ; } l ++ ; } BinaryStdOut . write ( l , lgR ); BinaryStdOut . close (); } public static void expand () { boolean bit = false ; while ( ! BinaryStdIn . isEmpty ()) { int l = BinaryStdIn . readInt ( lgR ); for ( int i = 0 ; i < l ; i ++ ) BinaryStdOut . write ( bit ); bit != bit ; } BinaryStdOut . close (); } } 3. Huffman Compression classique... idea: variable length code . ex. Morse code, more freq chars use less chars. â†’ pb: ambiguity? one code is the prefix of another... â†’ need to use prefix-free code â‡’ use a trie to represent the prefix-free code, in bitstream, use a binary trie: Huffman Trie Node define trie nodes having frequences: public static class Node implements Comparable<Node>{ private char ch; // only used for leaves, null for internal nodes private int freq; private final Node left, right; // left-->0, right-->1 public Node(char ch, int freq, Node left, Node right){//...} public boolean isLeaf(){ return left==null && right==null;} public int compareTo(Node that){ return this.freq-that.freq;} } implementation expansion in the bitstream, we first put the (serialized) trie in the head. public void expand{ Node root = getTrie(); // int N = BinaryStdIn.readInt(); // number of chars in string for(int i=0; i<N; i++){ Node x = root; while (!x.isLeaf()){ if(BinaryStdIn.readBoolean()) x = x.right; else x = x.left; } BinaryStdOut.write(x.ch); } BinaryStdOut.close(); } output trie ie. to serialize a trie. â‡’ use preorder traversal : 0 for internal nodes, and 1 for leaf (followed by the corresponding char) recursive method: private static void writeTrie(Node x){ if(x==null) return; if(x.isLeaf()){ BinaryStdOut.write(true); // leaf node BinaryStdOut.write(x.ch); // followed by the char } else { BinaryStdOut.write(false); // internal node writeTrie(x.left); writeTrie(x.right); } } read trie Reconstruct the trie from the serialized bitstring. preorder(x) = x+preorder(x.left)+preorder(x.right) â‡’ recursive method... è¿™ä¸ªé€’å½’å‡½æ•°è¿˜æ˜¯è›®æœ‰ä»£è¡¨æ€§çš„, å€¼å¾—çœ‹. private static Node readTrie(){ if(BinaryStdOut.readBoolean()) { char ch = BinaryStdOut.readChar(); return new Node(ch, 0, null, null); } else { Node left = readTrie(); Node right = readTrie(); return new Node('\\0', 0, left, right); // subtle recursion } } Huffman algorithm pb: how to find the best prefixless code? Shannon-Fano algo: partition symbols S into 2 subsets: S1, S0, with roughly equal freq code in S1 start with 1 and in S0 start with 0 recur on S1 and S0 [Huffman algo] (1950) count letter freq in input build a node for each char select the 2 tries with minimum weight(freq), merge them, and put it back repeat until we get only 1 trie application: jpeg, pdf, mp3, ... implementation private static Node buildTrie ( int [] freq ) { MinPQ < Node > pq = new MinPQ < Node > (); for ( char i = 0 ; i < R ; i ++ ) pq . insert ( new Node ( i , freq [ i ] , null , null ) ); while ( pq . size () > 1 ) { Node x = pq . pop (), y = pq . pop (); pq . insert ( new Node ( '\\0' , x . freq + y . freq , x , y ); } return pq . top (); } prop . Huffman algorithm produces the optimal prefixless code. running time: N + RlgR 4. LZW Compression idea: adaptive model: learn and update the model as you read the text. decoder will do the same thing. build a table of not only mapping chars to codes, but also mapping >=2-char combinations to codes(of fixed width). when encoding strings, look for the longest prefix that is in our table. LZW compression LZW compression algo create a symbol table mapping string keys to W-bit code, initialize as mapping only chars to codes find longest prefix s of the unscanned input write out the corresponding code add s+c into the symbol table, where c is the next char in input Use a trie for representing the code table â†’ because support longest prefix match. implementation public void compress ( String input ) { TST < Integer > st = new TST < Integer > (); // a trie symbol table for ( char i = 0 ; i < R ; i ++ ) st . put ( \"\" + ( char ) i , i ); int code = R + 1 ; // R is used as \"stop\" while ( input . length () > 0 ) { String s = st . longestPrefixOf ( input ); BinaryStdOut . write ( st . get ( s ), W ); int l = s . length (); if ( l < input . length ()) st . put ( s + input . charAt ( l ), code ++ ); input = input . substring ( l ); } BinaryStdOut . write ( R , W ); // write \"stop\" BinaryStdOut . close (); } LZW expansion no need to get the codeword table , the input is just the compressed bitstring. maintain a (reverse)table mapping int(code) to strings. as we decode the string, we add new entries to our table. to represent the table: just an array. note when add new entries: add key = s+c , where s is the last decoded string, c is the first char of the currently decoded string. example: when decoded ABR, s = BR, currently decoded string = ABR, so we add BRA. tricky case : ABABABA compression problem in expansion when reading the \"83\": â†’ need to be able to update the table when encountering a code not yet defined... Summary Huffman: fixed-length symbols, with variable-length codes. LZW: variable-length symbols, with fixed-length codes. theoretical limit: è¿˜å‰©ä¸‹ä¸€å‘¨çš„å†…å®¹, å¯èƒ½è¦ç­‰åˆ°äºŒæœˆåº•è€ƒå®Œä»¥åæœ‰æ—¶é—´å†çœ‹äº†, ç°åœ¨å…ˆå¤ä¹ å¤‡è€ƒ...","tags":"notes","title":"[Algorithms II] Week 5-2 Data Compression"},{"url":"https://x-wei.github.io/misc/2015-summary.html","text":"I. å·¥ä½œ å­¦ä¸š ä¸‰æœˆåˆç»“æŸäº†åœ¨Xçš„æœ€åå‡ é—¨è€ƒè¯•, Xçš„è¯¾ä»æ¥éƒ½ä¸ç®€å•, ä½†æˆ‘çœŸçš„å¾ˆäº«å—, å°¤å…¶æ˜¯é‚£äº›æ•°å­¦è¯¾. (ä¸è¿‡åˆšè€ƒå®Œå°±sbäº†: é™ªä¼´æˆ‘ä¸¤å¹´çš„æ¯å­ä¸¢äº†...) Polytechnique, ä»æ†§æ†¬å˜æˆå›å¿†. Xçš„å„ç§ç»å†, ä¸‰å¤©ä¸‰å¤œä¹Ÿè¯´ä¸å®Œ. ç„¶åä¹æœˆæ¥åˆ°ETH, è¯¾ç¨‹å¾ˆæœ‰æ„æ€, projectæ¯”è¾ƒå¤š. ç¬¬ä¸€ä¸ªå­¦æœŸè¯´å®è¯æœ‰ç‚¹åº”ä»˜, æ‰€ä»¥ç°åœ¨è¦å¥½å¥½å¤ä¹ å¤‡è€ƒ...orz å®ä¹  åœ¨MECå®ä¹ äº†äº”ä¸ªæœˆ, è¿™é‡Œçš„å·¥ä½œç¯å¢ƒçœŸæ˜¯å®½æ¾. ä¸€å®½æ¾æˆ‘æœ‰ç‚¹æ‹…å¿ƒæ²¡æœ‰ä»€ä¹ˆè¿›æ­¥, ä¸è¿‡åæ¥çœ‹è¿™ä¸€æ®µæ—¶é—´æˆ‘çš„è¿›æ­¥è¿˜æ˜¯å¾ˆå¤§çš„. å®ä¹ æœŸé—´åšçš„æ˜¯éŸ³ä¹åˆ†ç±»å·¥ä½œ, å®è·µäº†ä¸€äº›NLPçš„æµç¨‹, è¯•ç”¨äº†ä¸å°‘ç®—æ³•, ä»¥åŠè¯»äº†ä¸€äº›paper... æœ‰å¹¸å’Œç¥ç«¥Aranud(X11 major)ä¸€èµ·å·¥ä½œ, æ„Ÿå¹æ™ºå•†ä¸å¤Ÿ, åªèƒ½åŠªåŠ›æ¥å‡‘. ç„¶åé¡ºåˆ©é€šè¿‡äº†å®ä¹ çš„ç­”è¾©, ç®—æ˜¯ç»™Xçš„ä¸‰å¹´åˆ’ä¸Šäº†åœ†æ»¡çš„å¥å· â€” åˆ°2017å¹´remiseå†è§äº†! é¢è¯• è¿™æ˜¯æœ€åä¸‰ä¸ªæœˆçš„ä¸»æ—‹å¾‹, ä»Šå¹´ç®—èµ·æ¥ç»å†äº†å¥½å¤šé¢è¯•: AL: ä¸‰è½®ç”µé¢, æ·±æ„ŸMLæ–¹é¢çš„çŸ¥è¯†ä¸å¤Ÿæ‰å®, ä¸è¿‡å±…ç„¶è¿‡äº†, çœ‹æ¥ä»–ä»¬çœŸçš„å¾ˆç¼ºäºº... GG: åœ¨å……åˆ†çš„å‡†å¤‡ä¹‹åç»å†äº†ä¸¤è½®ç”µé¢äº”è½®ç°åœº, æ‹¿ä¸‹dream offer, æ„Ÿè§‰å¾ˆå¹¸è¿... éå¸¸æ„Ÿè°¢æˆ‘çš„recruter, Marta. JS: ä¸€åœºç”µé¢åŠ ä¸‰åœºç°åœºé¢è¯•, è¢«Xæ ¡å‹çš„é—®é¢˜éš¾å€’äº†...orz ä»–ä»¬å®¶é¢è¯•å¾ˆæœ‰éš¾åº¦, ç»§ç»­ä»°æœ›äº†. Jump: ä¸€è½®ç”µé¢å’Œä¸‰è½®ç°åœº, è¿™ä¸ªæ¯”è¾ƒå¥‡è‘©, é¢è¯•äº†ä¸€ä¸ªquantçš„èŒä½. é—®é¢˜ä¸»è¦æ˜¯probaå’Œæ•°å­¦, ç›®æµ‹åŸºæœ¬æ²¡æˆ, ä¸è¿‡å°±ç®—ä½“éªŒç”Ÿæ´»äº†, è¿˜é¡ºä¾¿å»ä¼¦æ•¦æ—…æ¸¸äº†ä¸€åœˆ... II. å­¦ä¹  è¯»ä¹¦ å®ä¹ çš„æ—¶å€™å¼€å§‹, æ¯å¤©ä¸Šä¸‹ç­åœ¨tramä¸Šå°±å¯ä»¥çœ‹ä¸å°‘ä¹¦, åæ¥ä¸Šä¸‹å­¦åœ¨å…¬äº¤è½¦ä¸Šä¹Ÿçœ‹, è¿™æ ·ç§¯æ”’ä¸‹æ¥è¿˜æ˜¯è¯»äº†ä¸å°‘: é»‘å®¢ä¸ç”»å®¶ : æ¶‰åŠäº†é»‘å®¢æ–‡åŒ–, ç¤¾ä¼šåˆ¶åº¦, åˆ›ä¸š, ç¼–ç¨‹è¯­è¨€ç­‰å„ä¸ªæ–¹é¢, å¯å‘ä¸å°. æŠŠæ—¶é—´å½“ä½œæœ‹å‹ : é¸¡æ±¤å†å“, è¯»åˆ°ä¸€å¥\" è¶Šæ˜¯æœ‰æ„ä¹‰çš„äº‹æƒ…è¶Šè¦æ…¢æ…¢åš \", äºæ˜¯è€å¿ƒæ’¸äº†å››äº”ä¸ªæœˆçš„ç®—æ³•. è§‰å¾—æœ‰è¿™ä¹ˆä¸€å¥ç‚¹é†’äººçš„è¯, è¿™æœ¬ä¹¦å°±æ²¡ç™½è¯». å•Šå“ˆç®—æ³• : é«˜ä¸­è®¡ç®—æœºç«èµ›æ°´å¹³çš„è¯»ç‰©, ä½†æ˜¯æˆ‘è¯»å¾—æ´¥æ´¥æœ‰å‘³... è¯»å®Œåå¯¹äºä¸€äº›ç»å…¸ç®—æ³•çš„ç†è§£åŠ æ·±äº†ä¸å°‘, æœŸå¾…ç»­é›†... ç¬¬ä¸€è¡Œä»£ç  (çœ‹äº†ä¸€åŠ): æ®è¯´æ˜¯å®‰å“å¼€å‘æœ€å¥½çš„å…¥é—¨ä¹¦, çœ‹äº†å‰é¢å‡ ç« æ„Ÿè§‰ä¸€äº›ä»¥å‰ä¸æ¸…æ¥šçš„æ¦‚å¿µç†è§£æ·±ä¸€ç‚¹äº†, å¯æƒœå®ä¹ åæœŸå¿™ç€å†™æŠ¥å‘Šå°±æ²¡æœ‰ç»§ç»­çœ‹ä¸‹å»... algorithms, 4th ed (çœ‹äº†ä¸€åŠä¸åˆ°): é…åˆæ™®æ—æ–¯é¡¿é‚£é—¨MOOCçœ‹çš„, è€çˆ·å­è®²çš„å¤ªå¥½äº†, éå¸¸å¤æ‚çš„ç®—æ³•åˆ°äº†ç”±ä»–æ…¢æ…¢é“æ¥å‘ç°å¹¶æ²¡æœ‰å¾ˆéš¾. ä¹¦ä¸­çš„å„ç§æ’å›¾å¤ªèµ, å¯ä»¥ä½œä¸ºå„ç§ç®—æ³•çš„å‚è€ƒæ‰‹å†Œ. æœ‰å¿…è¦å¥½å¥½è¯»ä¸€é. æˆ‘æ˜¯ä¸€åªITå°å°é¸Ÿ : åˆä¸€æœ¬é¸¡æ±¤, è¿™æœ¬ä¹¦æ˜¯09å¹´å‡ºç‰ˆçš„, åæ‚”è‡ªå·±æ²¡ææ—©å‡ å¹´è¯»åˆ°è¿™æœ¬ä¹¦... æ€ªè¯å¿ƒç†å­¦ : é‡Œé¢å¾ˆå¤šå®éªŒè®¾è®¡çš„å¾ˆæœ‰æ„æ€, æˆ‘ä»¬çš„å†³ç­–å¾ˆå¤šéƒ½ä¸æ˜¯ç†æ€§çš„, è¿™æœ¬ä¹¦è®©æˆ‘ä»æ–°å®¡è§†æ—¥å¸¸ç”Ÿæ´»ä¸­çš„ä¸€äº›å†³ç­–. ç¼–ç¨‹ç ç‘ : ç¥ä¹¦, é‡Œé¢çš„æ–‡ç« å’Œåé¢çš„ç»ƒä¹ é¢˜è®©äººè„‘æ´å¤§å¼€, å…³äºå†…å­˜å ç”¨çš„ä¸€äº›å¥‡æ€ªçš„ä¼˜åŒ–ç°åœ¨çœ‹æ¥å¯èƒ½ä¸æ˜¯å¾ˆé‡è¦. å€¼å¾—äºŒåˆ·. Cracking The Coding Interview, 6th ed : åœ¨æ”¶åˆ°Gç°åœºé¢è¯•é€šçŸ¥çš„é‚£å¤©å¾—åˆ°äº†è¿™æœ¬ä¹¦, æ„Ÿè§‰åƒæ¸¸æˆç©åˆ°ä¸€ä¸ªåœ°æ–¹æ‹¿åˆ°äº†é“å…·. è¿™æœ¬ä¹¦çš„ç¬¬å…­ç‰ˆæ¯”ä»¥å‰ä¸°å¯Œäº†ä¸å°‘å†…å®¹, é¢è¯•å‰èŠ±ä¸¤æ˜ŸæœŸåŒ†åŒ†è¿‡äº†ä¸€é æ„Ÿè§‰å¾ˆæœ‰å¸®åŠ©. æ‹–å»¶å¿ƒç†å­¦ : æ„Ÿè§‰è¿™æœ¬ä¹¦ä¸èƒ½ç®—æ˜¯é¸¡æ±¤, çœŸçš„å¾ˆæ¨è, åé¢å…³äºçˆ¶æ¯è‚²å„¿ä»¥åŠxxç»¼åˆç—‡çš„ç« èŠ‚ç•¥æ— èŠå¯ä»¥ä¸çœ‹. å…³äºå›ºå®šå¿ƒæ€å’Œæˆé•¿å¿ƒæ€çš„å†…å®¹è®©æˆ‘å¾ˆå—å¯å‘. å¾ˆæ¨èè¿™æœ¬ä¹¦, æ¯•ç«Ÿ é™¤äº†å¼ºå¥èº«ä½“ä»¥å¤– æ²¡æœ‰ä»€ä¹ˆäº‹æƒ…æ¯”ä¼˜åŒ–å¤§è„‘æ›´é‡è¦äº† . å…¬å¼€è¯¾ ä»Šå¹´æ²¡æœ‰åƒå»å¹´ä¸€æ ·çŒ›åˆ·å…¬å¼€è¯¾... Introduction to Big Data with Apache Spark edxä¸Šä¸€é—¨æ¯”è¾ƒç®€å•çš„è¯¾, åªè¦è·Ÿç€çœ‹è·Ÿç€åšå°±å¯ä»¥äº†, ç¬¬ä¸€æ¬¡æ¥è§¦spark, å’Œå®ä¹ ç”¨çš„cosmos SCOPEä¸€æ¯”æ„Ÿè§‰å¥½å¿ƒç´¯... kivy crash course ä¸¥æ ¼æ¥è¯´ä¸ç®—å…¬å¼€è¯¾, å°±æ˜¯å®ä¹ æœŸé—´å­¦ä¹ kivyçš„æ—¶å€™åœ¨youtubeä¸Šæ‰¾åˆ°çš„ä¸€ç³»åˆ—è§†é¢‘. æ¯èŠ‚åªæœ‰ååˆ†é’Ÿ, å¾ªåºæ¸è¿›, ä¸é”™çš„kivyä¸Šæ‰‹æ•™ç¨‹. å¸Œæœ›æ˜å¹´æœ‰æ—¶é—´å†æ¥é¼“æ£ä¸€ä¸‹å®ƒ.. Algorithms, part I ç›®å‰ä¸ºæ­¢CSæ–¹é¢çœ‹åˆ°è¿‡çš„æœ€å¥½çš„ä¸€é—¨è¯¾. å®ä¹ å®Œäº†ä»¥ååœ¨å®¶æ’¸çš„, è¾¹çœ‹è§†é¢‘è¾¹è®°ç¬”è®°, æ¯å‘¨è¦èŠ±ä¸ƒå…«ä¸ªå°æ—¶, æ”¶è·å®åœ¨å¤ªå¤§äº†. è®²è¯¾çš„è€çˆ·å­æ˜¯çº¢é»‘æ ‘çš„å‘æ˜äºº, åœ¨ä»–çš„è®²è§£ä¸‹, åƒçº¢é»‘æ ‘(åŒ…æ‹¬ç¬¬äºŒéƒ¨åˆ†çš„KMPå’Œregexp)ç­‰å¤æ‚ç®—æ³•å˜å¾—ç‰¹åˆ«å¥½ç†è§£äº†! è¿™é—¨è¯¾æˆ‘åªçœ‹äº†è§†é¢‘è¿˜æ²¡æœ‰åšæ¯å‘¨çš„assignment, æ‰€ä»¥æœ‰å¯èƒ½ä»¥åå†åˆ·ä¸€é... Algorithms, part II ä¸Šä¸€é—¨è¯¾çš„ç¬¬äºŒéƒ¨åˆ†, ä¹æœˆä»½å¼€å§‹çœ‹çš„, ç°åœ¨è¿˜å·®ä¸€å‘¨åŠçš„è§†é¢‘æ²¡çœ‹å®Œ. è¿™é—¨è¯¾å®åœ¨å¤ªèµäº†, (è‡ªä»¥ä¸º)åˆ·å®Œå†…åŠŸç›´æ¥ä¸Šä¸€ä¸ªæ¡£æ¬¡. blog ä»Šå¹´åœ¨å†™ä½œæ–¹é¢æ˜¯ä¸€ä¸ªçªç ´, æ•°äº†ä¸€ä¸‹, å±…ç„¶å†™äº†42ç¯‡! è€Œä¸”è¿™å››åå¤šç¯‡åŸºæœ¬æ²¡æœ‰å¤ªæ°´çš„æ–‡ç« . æˆ‘è®¤ä¸ºçŸ¥è¯†åˆ†ä¸º\"æœ¯\"å’Œ\"é“\". \"æœ¯\"æ˜¯ä¸€äº›å®ç”¨çš„æŠ€èƒ½, åªæ˜¯æ¶‰åŠä¸€ä¸ªåŠŸèƒ½æ€ä¹ˆå®ç°, æˆ–è€…ä¸€ä¸ªç‰¹å®šçš„å·¥å…·æ€ä¹ˆä½¿ç”¨è€Œå·²; \"é“\"åˆ™æ˜¯æ›´åŸºæœ¬çš„çŸ¥è¯†, ç®—æ³•çŸ¥è¯†å°±æ˜¯\"é“\", æ˜¯æ°¸è¿œä¸ä¼šè¿‡æ—¶çš„ä¸œè¥¿. 2015å¹´æˆ‘çš„å¤§éƒ¨åˆ†æ–‡ç« éƒ½æ˜¯å…³äºç®—æ³•çš„, è¿™å’Œä»¥å‰ä¸€äº›æ–‡ç« åªæ˜¯è®°å½•å®ç°xxåŠŸèƒ½éœ€è¦xxå‘½ä»¤/å·¥å…·ç›¸æ¯”, ç®—æ˜¯å¾ˆå¤§çš„è¿›æ­¥. ä»Šå¹´æ–°å¼€äº†ä¸€ä¸ªæ¿å—\"notes\", çœ‹å…¬å¼€è¯¾çš„æ—¶å€™ç”¨zimè®°ç¬”è®°, æ•´ç†äº†ä»¥åå‘åˆ°ç½‘ä¸Š. ç›¸å½“äºæ˜¯æˆ‘çš„ä¸€ä¸ªåœ¨çº¿ç‰ˆç¬”è®°äº†, è¿™äº›æ–‡ç« è®°å½•çš„æ¯”è¾ƒéšæ„, å¯èƒ½åˆ«äººçœ‹ä¸å¤ªæ˜ç™½, ä¸è¿‡å¯¹äºæˆ‘ç¡®å®å¾ˆå¥½çš„å‚è€ƒèµ„æ–™. ä»¥åçœ‹MOOCä¹Ÿå¸Œæœ›ç»§ç»­è¿™ä¸ªæ¨¡å¼. å¦å¤–æœ€åå‡ ä¸ªæœˆå†™äº†ä¸€äº›ç»å…¸ç®—æ³•çš„æ€»ç»“, è¿™ä¸ªç³»åˆ—è¿˜æ²¡æœ‰å†™å®Œ, æˆ‘çš„å¸Œæœ›æ˜¯èƒ½åšä¸€ä¸ªåŸºç¡€ç®—æ³•å’Œæ•°æ®ç»“æ„çš„ åœ°å›¾ , æŠŠå¸¸è§çš„ç®—æ³•éƒ½ç”¨è‡ªå·±çš„è¯­è¨€æè¿°&ç‚¹è¯„ä¸€ä¸‹. åˆ˜æœªé¹è¯´è¿‡\" ä¹¦å†™æ˜¯æœ€å¥½çš„æ€è€ƒ \", æ·±ä»¥ä¸ºç„¶. å¦å¤–åœ¨2015å¹´æœ€åä¸€å¤©, åšå®¢çš„è®¿é—®ipæ•°ç»ˆäºè¶…è¿‡äº†8k, æœ‰ç‚¹å°æ¿€åŠ¨. æ–°æŠ€èƒ½ LP äºŒæœˆä»½å’Œæˆ‘çš„cousin, Manu, ä¸€èµ·åšäº†INF580(programmation par contraintes)çš„ projet . è¿™ä¸ªprojetæ„Ÿè§‰æ˜¯åœ¨Xä¸‰å¹´é‡Œæœ€å¾—æ„çš„ä¸€ä¸ª. æˆ‘ä»¬å»ºç«‹äº†éå¸¸æ¼‚äº®çš„çº¿æ€§è§„åˆ’(LP)æ¨¡å‹, æè¿°äº†ä¸€ä¸ªç±»ä¼¼æ¬§æ‹‰å›è·¯çš„é—®é¢˜. ä½†æ˜¯äº‹æƒ…å¹¶æ²¡æœ‰ä¸€å¸†é£é¡º, æˆ‘ä»¬ä¸€å¼€å§‹æ²¡æœ‰è€ƒè™‘integralityçš„é—®é¢˜, ä½†æ˜¯æœ€åä¸€åˆ»å³°å›è·¯è½¬, ç¨å¾®å˜é€šä¸€ä¸‹ä»¥åå±…ç„¶å˜å¾—å¯è§£äº†! æœ€åçš„ç»“æœå®Œçˆ†å½“å¹´çš„enså† å†›. ä¸è¿‡, \"å½“ä½ æ‰‹ä¸Šæœ‰ä¸ªé”¤å­, çœ‹ä»€ä¹ˆä¸œè¥¿éƒ½åƒé’‰å­\". 2015å¹´çš„hashcodeé¢„èµ›, æˆ‘ä»¬ç¿˜æ‰cÃ©rÃ©monieå‚èµ›, è¿˜æƒ³ç”¨LP, ç»“æœè®¡ç®—è¶…æ—¶äº†å°±... åæ¥å‘ç°åªè¦ç”¨è´ªå¿ƒç®—æ³•å°±å¯ä»¥å¦¥å¦¥çš„äº†... anyway, ä»æ­¤å…µå™¨åº“é‡Œå¤šäº†LPè¿™ä¸ªé‡å‹æ­¦å™¨. ç›²æ‰“ ä»¥å‰çœ‹åˆ°Carlosåœ¨ç»ƒä¹ æ‰“å­—, åæ¥å®ä¹ çš„æ—¶å€™ä¹Ÿå°è¯•ä¸çœ‹é”®ç›˜æ‰“å­—. é¦–å…ˆæ˜¯éœ€è¦ä½¿ç”¨æ ‡å‡†æŒ‡æ³•, æˆ‘ä»¥å‰æ‰“å­—å‡ ä¹ä¸ç”¨å°æŒ‡å’Œæ— åæŒ‡, æ‰€ä»¥ä¸€å¼€å§‹æ”¹åˆ°æ ‡å‡†æŒ‡æ³•åˆ†åˆ†é’Ÿæƒ³ç ¸é”®ç›˜... åšæŒäº†ä¸¤ä¸‰å‘¨ä»¥åæ¸æ¸é€‚åº”äº†å°±. è¿™ä¸ªç½‘ç«™ç»ƒæ‰“å­—å¾ˆä¸é”™: http://www.keybr.com/ ç°åœ¨éå¸¸äº«å—åœ¨(å¤–æ¥)é”®ç›˜ä¸Šå•ªå•ªå•ªæ‰“å­—, ç®€ç›´çˆ½... ç°åœ¨æ‰“å­—æœ€å¿«èƒ½åˆ°60wpm. å¦å¤–, æŠŠé”®ç›˜capslockæ˜ å°„åˆ°ctrl, ç®€ç›´å°±æ˜¯æ‰‹æŒ‡çš„ç¦éŸ³å•Š. android dev å®ä¹ çš„æ—¶å€™, ç”±äºæ¯å¤©ä¸Šç­å¾ˆæ™š, æœ‰æ®µæ—¶é—´æˆ‘ä¸€å¤§æ—©å°±å»CTUçš„è‡ªä¹ å®¤çœ‹ä¸€ä¸ªå°æ—¶çš„\"ç¬¬ä¸€è¡Œä»£ç \", è¾¹çœ‹è¾¹å†™ä¸€ä¸‹ä¹¦é‡Œçš„å®ä¾‹. å®ä¹ çš„åæœŸå¸®ä¸€å¸®åŒ»å­¦startupçš„åŒå­¦ä»¬åšäº†ä¸ªapp, ç±»ä¼¼4*4çš„candy crush. è™½ç„¶ä»£ç å†™çš„å¾ˆdirty, ä½†æ˜¯çœ‹åˆ°ç¨‹åºè¿è¡Œè¿˜æ˜¯è›®æœ‰æˆå°±æ„Ÿ... kivy kivyæ˜¯ä¸€ä¸ªpythonçš„GUIç¨‹åºæ¡†æ¶, å®ä¹ æœŸé—´ç©äº†ä¸€ä¸‹. æ„Ÿè§‰å®ƒçš„è®¾è®¡éå¸¸å–œæ¬¢, æ¯”å®‰å“çš„è¦ä¼˜é›…ä¸å°‘. å…ˆç”¨scrapyçˆ¬äº†ç‚¹ä¸€ä¸ªçš„æ–‡ç« , ç„¶ååšäº†ä¸ªç®€å•çš„ æ–‡ç« é˜…è¯»çš„åº”ç”¨ , å¯æƒœåæ¥å°è¯•æ‰“åŒ…ä¸ºå®‰å“ç¨‹åºä¸€ç›´æ²¡æˆåŠŸ... anyway... TeXmacs è¿™ä¸ªç¥å™¨ä»Šå¹´å†™äº†ä¸¤ä¸ªæŠ¥å‘Š, å®ä¹ æŠ¥å‘Šéƒ½ä½¿ç”¨å®ƒå†™çš„(æˆ‘è§‰å¾—è¦æ˜¯ç”¨texæˆ‘å°±æ ¹æœ¬å†™ä¸å®ŒæŠ¥å‘Šäº†è¦), åŸºæœ¬æŒæ¡äº†å®ƒçš„ç”¨æ³•. ç”¨äº†TeXmacså†çœ‹texç³»çš„å·¥å…·, æœ‰ä¸€ç§ä¿¡æ¯åŒ–æ—¶ä»£çœ‹çŸ³å™¨æ—¶ä»£çš„æ„Ÿè„š. åæ¥å†™äº†ç¯‡ åšå®¢ ä¸“é—¨ä»‹ç»TeXmacsçš„ä½¿ç”¨, å¸Œæœ›æ›´å¤šäººäº†è§£è¿™ä¸ªå·¥å…·. æ’¸ç®—æ³• 2015å¹´åšçš„æœ€æœ‰æ„ä¹‰çš„ä¸€ä»¶äº‹, åŒ…æ‹¬ä¸¤ç™¾å¤šé“leetcode (ä¸€å…±æœ‰76å¤©åœ¨åšleetcode), algoå…¬å¼€è¯¾, CTCI, ç¼–ç¨‹ç ç‘ç­‰å‡ æœ¬ä¹¦. æˆæœä¸é”™. æœ‰æ„ä¹‰çš„äº‹æƒ…å°±å€¼å¾—æ…¢æ…¢åš, 16å¹´è¦ç»§ç»­æ’¸ç®—æ³•, æ…¢æ…¢æ¥ä¸ç€æ€¥. III. ç”Ÿæ´» ç­¾è¯&æˆ¿å­ å®ä¹ æœŸé—´4Açš„ç»“æœå‡ºæ¥äº†, ä¸‹å†³å®šå»ETHä»¥å, å°±å¼€å§‹å‡†å¤‡ç­¾è¯çš„å„ç§ææ–™. æˆ‘ä»¥å‰åœ¨è¿™ç§äº‹æƒ…ä¸Šä¸€ç›´æ‹–å»¶, ä½†æ˜¯ä»Šå¹´åšçš„å¾ˆå¥½. æœ‰çš„äº‹æƒ…æ˜¯ä¸èƒ½æ‹–å»¶çš„, åˆ‡è®°. åæ¥å»ä¼¦æ•¦çš„ç­¾è¯ä¹Ÿæ˜¯, åŠå¾—å¾ˆé¡ºåˆ©. å…«ä¹æœˆä»½æ‰¾æˆ¿å­ä¹Ÿæ˜¯ä¸€ä»¶å¤§äº‹, è¯·å‡ä¸“é—¨å»è‹å¯¸è·‘äº†ä¸€è¶Ÿ, è€Œä¸”å¾ˆå¹¸è¿é‡åˆ°äº†äº¤å¤§å­¦é•¿ç§Ÿç»™æˆ‘ä»¬æ€§ä»·æ¯”è¶…é«˜çš„æˆ¿å­. è¿™äº›äº‹æƒ…å…¶å®è›®æ¶ˆè€—ç²¾åŠ›, è€Œä¸”å¹¶ä¸èƒ½å¤Ÿå®Œå…¨æŒæ§. ä½†æ˜¯ä½œä¸ºæˆ‘è‡ªå·±, åªæ±‚åšæœ€å……åˆ†çš„å‡†å¤‡äº†. è¿åŠ¨ plank ä»Šå¹´æœ€å¾—æ„çš„ä¸€ä»¶äº‹æƒ…, å°±æ˜¯åšæŒå¹³æ¿æ”¯æ’‘ä¸¤ç™¾å¤šå¤©. 2015å¹´1æœˆ1æ—¥, æˆ‘ä¸‹è½½äº†appå°è¯•äº†ä¸€ä¸‹å¹³æ¿æ”¯æ’‘, æ’‘äº†3åˆ†é’Ÿæ•´. ä½†æ˜¯åšæŒæ¯å¤©éƒ½æŠ½å‡ºæ¥å‡ åˆ†é’Ÿ, ä¸€å¼€å§‹æ¯å¤©éƒ½åŠªåŠ›æ¯”æ˜¨å¤©å¤šæ’‘5åˆ°10ç§’, æ¸æ¸çš„å¯ä»¥å¬å®Œä¸€é¦–æ­Œäº†. åˆ°äº†20å¤©çš„æ—¶å€™å°±å¯ä»¥å‹‰å¼ºæ’‘10åˆ†é’Ÿ. åæ¥æˆ‘æ¯å¤©è¾¹çœ‹å¹³æ¿ä¸Šçš„åŠ¨ç”»ç‰‡è¾¹æ”¯æ’‘, æ¸æ¸å¯ä»¥æ’‘åŠé›†æ—¶é—´, åæ¥æ˜¯ä¸€æ•´é›†çš„æ—¶é—´äº†. è€Œä¸”æˆ‘è§„å®šè¦çœ‹åŠ¨ç”»ç‰‡åªèƒ½æ’‘ç€çœ‹, æ‰€ä»¥å³ä½¿æŸå¤©ç´¯äº†ä¹Ÿæœ‰åŠ¨åŠ›æ’‘ä¸€ä¸‹. å°±è¿™æ ·2015å¹´æˆ‘çœ‹å®Œäº†æ•°ç å®è´ç¬¬ä¸€å­£(54é›†)ä»¥åŠçŒç¯®é«˜æ‰‹çš„ä¸€åŠ. æ‰‹æœºé‡Œè£…äº†ä¸€ä¸ªå«\"ç§å­ä¹ æƒ¯\"çš„app, 2015å¹´æˆ‘åªæœ‰è¿™ä»¶äº‹æƒ…åšæŒçš„æœ€ä¹…. è™½ç„¶æ˜¯ä¸€ä»¶æ¯å¤©åªè¦5åˆ†é’Ÿå°±å¯ä»¥çš„äº‹æƒ…, ä½†æ˜¯åšæŒæ¯å¤©éƒ½åš, æ€»ä¼šæœ‰ç‚¹æ”¶è·å§. æ¥å¥é¸¡æ±¤: \" æ…¢æ…¢æ¥, æ—¶é—´å’ŒèŠ‚å¥å¯ä»¥æˆ˜èƒœä¸€åˆ‡\" . å…¶ä»– å®ä¹ æœŸé—´åœ¨CTUæ¯å¤©ä¸‹ç­åœ¨å±‹é‡ŒåŸºæœ¬ä¼šåšä¸€ç‚¹è¿åŠ¨, é™¤äº†plankä»¥å¤–, è¿˜ä¼šåšåšä¿¯å§æ’‘å’Œæ·±è¹². å¦å¤–ä¹°äº†å¥èº«ç¥å™¨: å¼¹åŠ›ç»³, æœ‰äº†å®ƒåŸºæœ¬ä¸Šåœ¨å±‹é‡Œå°±å¯ä»¥é”»ç‚¼æ‰€æœ‰çš„éƒ¨ä½äº†. è·‘æ­¥ä¸æ˜¯å¾ˆå¤š, å¿ƒæƒ…å¥½äº†ä¼šå»CTUæˆ–è€…parkè·‘ä¸€åœˆ, åŸºæœ¬å±äºä¸‰å¤©æ‰“é±¼ä¸¤å¤©æ™’ç½‘çš„èŠ‚å¥. åœ¨CTUè®°å¾—æœ‰ä¸€å¤©æ—©æ™¨åˆšèµ·æ¥, ä»çª—æˆ·é‡Œçœ‹åˆ°æqfåŒå­¦å·²ç»å‡ºé—¨è·‘æ­¥äº†. åƒå®Œæ—©é¥­åˆçœ‹åˆ°ä»–è·‘æ­¥å›æ¥: å¤§çº¦è·‘äº†å››ååˆ†é’Ÿ. æåŒå­¦æåˆ°ä»–ä¸€èˆ¬å…­ç‚¹å¤šèµ·æ¥, å‡ºå»è·‘ä¸€åœˆå›æ¥æ´—ä¸ªæ¾¡ç„¶ååƒä¸ªé¥­å»ä¸Šç­. ä¸ç¦å¯¹æåŒå­¦è‚ƒç„¶èµ·æ•¬, å­¦ä¹ çš„æ¦œæ ·... åæ¥åˆ°äº†è‹æ‘, ç©ºæ°”ç¯å¢ƒå¾ˆå¥½, ä½†æ˜¯è·‘æ­¥ä¹Ÿä¸æ˜¯å¾ˆå‹¤, åŸºæœ¬ä¸€å‘¨ä¹Ÿå°±è·‘ä¸ªä¸¤ä¸‰æ¬¡, è€Œä¸”æ¯æ¬¡åªè·‘ååˆ†é’Ÿ... è¿™æ—¶çš„è·‘æ­¥æ›´å¤šæ˜¯ä½œä¸ºä¸€ç§å¿ƒä¹±çš„æ—¶å€™çš„è°ƒèŠ‚æ–¹å¼. è·‘æ­¥æ—¶ä»€ä¹ˆä¹Ÿä¸æƒ³, åªå…³å¿ƒè„šä¸‹çš„è·¯ä»¥åŠå‘¼å¸çš„èŠ‚å¥, è·‘å®Œå‡ºä¸€èº«æ±—, æ´—ä¸ªæ¾¡, æ„Ÿè§‰åˆç²¾åŠ›æ»¡æ»¡äº†... è®°å½• æ¯å¤©æ™šä¸Šéƒ½ä¼šå†™ä¸€ä¸ªexcelæ–‡ä»¶, è®°å½•ä¸€å¤©çš„å¾—å¤±ä»¥åŠæ¯å¤©çš„äº‹ä»¶, è¿™ä»¶äº‹æƒ…ä»Šå¹´åšæŒçš„ç‰¹åˆ«å¥½, å‡ ä¹æ²¡æœ‰è¿ç»­å¥½å‡ å¤©ä¸è®°å½•çš„æƒ…å†µ. è¿™æ ·æˆ‘å¯ä»¥çŸ¥é“è¿‡å»çš„ä¸€å¹´çš„æ¯ä¸€å¤©æˆ‘éƒ½åšäº†ä»€ä¹ˆ. è‡ªä»¥ä¸ºæˆ‘åšçš„è¡¨æ ¼æŒºä¸é”™çš„, ç»§ç»­åšæŒè®°å½•, å¦å¤–å¸Œæœ›æœ‰æœä¸€æ—¥æŠŠå®ƒåšæˆä¸ªapp. IV. å¨±ä¹ éŸ³ä¹ ç”±äºå®ä¹ æœŸé—´çš„å·¥ä½œå°±æ˜¯å’ŒéŸ³ä¹ç›¸å…³, è¿‘æ°´æ¥¼å°å¾—åˆ°äº†xboxéŸ³ä¹ä¸€å¹´çš„å…è´¹, äºæ˜¯å¤§é‡çš„å¬è€é¹°... åŒäº‹éƒ½åæ§½æˆ‘äº†... è¿™ä¸€å¹´å‘ç°(&å†å‘ç°)æ¯”è¾ƒå–œæ¬¢çš„æ­Œå¤§æ¦‚æœ‰: Bitter Creek (Eagles): ç»“å°¾çš„æ–‘é¸ ç´ç®€ç›´è¦ä¸Šç˜¾ King of Hollywood (Eagles): åªæ˜¯è§‰å¾—å¥½å¬ Ol'55 (Eagles): as always Train Leaves Here This Morning (Eagles): as always Center of The Universe (Eagles) Closer (Travis) Rocky Mountain Way (Eagles): è¿™é¦–æ­Œçš„ç°åœºç‰ˆå•æ›²å¾ªç¯... æ­Œè¯æ˜¯nonsense, ä½†æ˜¯Joe Walshçš„å‰ä»–ç‡ƒçˆ†äº†, ä»¥å‰è§‰å¾—ä»–ç”¨é‚£ä¸ªtalboxå°±æƒ³è·³è¿‡, ç°åœ¨åªè§‰å¾—çˆ½... butterfly (æ•°ç å®è´ä¸»é¢˜æ›²) ç›´åˆ°ä¸–ç•Œå°½å¤´ Hotel California (Eagles): as always, ä½†æ˜¯ä»Šå¹´åœ¨youtubeä¸Šå‘ç°ä¸€ä¸ªåæ¥Don Felderçš„ç‹¬å¥ç‰ˆæœ¬, åˆè¦å•æ›²å¾ªç¯äº†: çºªå½•ç‰‡ History of the Eagles è€é¹°ä¹é˜Ÿå®˜æ–¹çºªå½•ç‰‡, æ¯æ¬¡åä¸‰ä¸ªå°æ—¶ä»¥ä¸Šçš„ç«è½¦å°±ä¼šæ‹¿å‡ºæ¥çœ‹. åˆ·è¿‡ä¸‰å››éäº†å·²ç». é‡Œé¢æœ‰å‡ å¥è¯å°è±¡å¾ˆæ·±: \"Shit don't float\" \"Perfection is not an accendent\" \"Time passes, and things change\" Cosmos A SpaceTime Odyssey ä¸€å¼€å§‹æ˜¯é£æœºä¸Šçœ‹åˆ°çš„, æ„Ÿè§‰å¾ˆéœ‡æ’¼, åæ¥ä¸‹è½½äº†å…¨é›†. äººä¸è¿‡æ˜¯å®‡å®™ä¸­ä¸€ç²’å°˜åŸƒä¸Šçš„ç»†èŒ... Tous sur Orbite æ³•è¯­çš„å¤©æ–‡ç§‘æ™®ç‰‡, 52é›†å¯¹åº”ä¸€å¹´çš„52å‘¨. åŠ¨ç”»åšçš„å¤ªèµäº†. åœ°çƒå°±æ˜¯æˆ‘ä»¬çš„å®‡å®™é£èˆ¹, æ¯æ¬¡ä»°æœ›å¤©ç©ºçš„æ—¶å€™æˆ‘å°±æƒ³åˆ°è¿™å¥è¯. åŠ¨ç”»ç‰‡ è¿™äº›éƒ½æ˜¯å¹³æ¿æ”¯æ’‘çš„æ—¶å€™çœ‹çš„... æ•°ç å®è´(ä¸€) æ„Ÿè§‰è¿™éƒ¨åŠ¨ç”», æ— è®ºæ˜¯æ•…äº‹æ€§, æ€æƒ³æ€§, ç¾æœ¯, é…ä¹, ç”šè‡³æ˜¯æ­Œè¯, éƒ½å®åœ¨æ˜¯å¤ªå®Œç¾äº†... å…«ä¸ªå­©å­æˆ‘éƒ½éå¸¸å–œæ¬¢(ä¸€èˆ¬æˆ‘ä¸å–œæ¬¢ä¸»è§’çš„å…‰ç¯, ä½†æ˜¯å…«ç¥å¤ªä¸€ä¾‹å¤–). è¿™éƒ¨åŠ¨ç”», å³ä½¿åä¸‰å¹´ä»¥åå†çœ‹è¿˜æ˜¯é‚£ä¹ˆå¥½çœ‹. å¤ªå¤šçš„ç»å…¸çš„é•œå¤´äº†, æœ€éš¾å¿˜çš„å°±æ˜¯æœ€åä¸€é›†çš„é£å¸½æ€, å¸½å­é£èµ·æ¥åœ¨å¤©ä¸Šçš„æ—¶å€™ä¸€ä¸‹å­æˆ³äº†æ³ªç‚¹. çŒç¯®é«˜æ‰‹ æ­£åœ¨çœ‹, çœ‹äº†ä¸€åŠ. æœ‰äº›æ¡¥æ®µç¬‘æ­»äº†... ä¸è¿‡, å¥½åƒæ¨±æœ¨èŠ±é“ä½œä¸ºä¸»è§’ä¸€å¼€åœºå°±æœ‰é«˜å‡ºåˆ«äººä¸€æˆªçš„ä½“èƒ½, è¿™ä¸€ç‚¹æ˜¯æˆ‘éå¸¸ä¸å–œæ¬¢çš„. ç°åœ¨æˆ‘æœ‰ä¸€ç§ä¿¡å¿µ, å°±æ˜¯åœ¨ä»»ä½•æ–¹é¢çš„å‡ºç±»æ‹”èƒèƒŒåéƒ½æ˜¯æœ‰ç€è¶…è¿‡å¸¸äººçš„ä»˜å‡º. åº“é‡Œä¹‹æ‰€ä»¥å˜æ€å‡†, éš¾é“ä¸æ˜¯ä»–åœ¨ä¸æ–­è”ç³»å„ç§é«˜éš¾åº¦åŠ¨ä½œä¸‹çš„æŠ•ç¯®ä¹ˆ? é¸¡æ±¤ä¸€å¥: ä»¥å¤§å¤šæ•°äººçš„åŠªåŠ›ç¨‹åº¦, æ ¹æœ¬ç”¨ä¸ç€æ‹¼å¤©èµ‹. ç”µå½± ç”±äºå‘¨æœ«æ¯”è¾ƒé—², çœ‹äº†ä¸å°‘ç”µå½±, è€Œä¸”è¿˜ä¸ºäº†è‘¡è„è´¦æˆ·ä¸“é—¨æ³¨å†Œäº†ä¸ªäº¤å¤§æ ¡å‹é‚®ç®±... çœ‹çš„å‡ éƒ¨å°è±¡æ·±åˆ»çš„ç”µå½±æœ‰: é»‘å®¢å¸å›½ äº²çˆ±çš„ ExMachina å¥‡å¦™ä¸–çºª: å…¶å®æ˜¯ä¸€ç³»åˆ—å¾®ç”µå½± æ»šè›‹å§è‚¿ç˜¤å›: æ»¡åˆ†&æ”¶è— è°å½±é‡é‡ä¸‰éƒ¨æ›²: ä¼¯æ©å¸…çˆ†äº† å¤´è„‘ç‰¹å·¥é˜Ÿ: è„‘æ´NB å¿ƒè¿·å®«: å‰§æƒ…NB å°è±¡ä¸æ·±åˆ»çš„æœ‰: å‰ç›®çš„åœ° æ‰å¦–è®° ç»ˆç»“è€…5 ç¢Ÿä¸­è°5 ç…é¥¼ä¾  ä¾ç½—çºªä¸–çºª åäºŒå…¬æ°‘ æ˜æ—¥ä¸–ç•Œ é»‘çŒ«è­¦é•¿ä¹‹ç¿¡ç¿ ä¹‹æ˜Ÿ è¿˜æœ‰å„ç§ç½‘å‰§/ç»¼è‰º: ä¸‡ä¸‡æ²¡æƒ³åˆ°, æŠ¥å‘Šè€æ¿, æš´èµ°å¤§äº‹ä»¶, è„‘æ®‹å¸ˆå…„, è·‘ç”·... (å‘¨æœ«çœŸæ˜¯é—²çš„è›‹ç–¼...) æ—…æ¸¸ å¹´åˆ, ç©äº†è·æ¯”å¢å¾·å››å›½äº”æ—¥æ¸¸ å¤å¤©å‚è§‚äº†å·´é»ä¸€ä¸ªCERNçš„å±•è§ˆ è·Ÿæ–°æ¬§æ´²çš„15æ¬§å›¢å»Dieppeæµ·è¾¹å¹äº†ä¸€å¤©é£ å¹´æœ«åœ¨å­¦å¼Ÿå¸¦é¢†ä¸‹å»æ„å¤§åˆ©æµªäº†å…«å¤©... ä½œä¸ºä¸€ä¸ªæ¯”è¾ƒå®…çš„äººæ—…æ¸¸äº†è¿™ä¹ˆå¤šåœ°æ–¹å·²ç»ä¸å®¹æ˜“äº†... 2016 Cannot expect more from 2015, å¯¹æˆ‘æ¥è¯´è¿™ä¸€å¹´å‡ ä¹æ²¡ä»€ä¹ˆé—æ†¾çš„. æ–°çš„ä¸€å¹´, å¸Œæœ›å®¶äººå¥åº·å¹³å®‰. è‡³äºæˆ‘è‡ªå·±, å¸Œæœ›èƒ½åœ¨ä½“åŠ›, è„‘åŠ›å’Œæ„å¿—åŠ›ä¸Šèƒ½æ›´è¿›ä¸€æ­¥. ç»§ç»­é”»ç‚¼ç»§ç»­å­¦ä¹ , ç»§ç»­è¯»ä¹¦ç»§ç»­å†™ä½œç»§ç»­è®°å½•. Bonne annÃ©e !","tags":"misc","title":"2015å¹´ç»ˆæ€»ç»“"},{"url":"https://x-wei.github.io/notes/algoII_week5_1.html","text":"1. Regular Expressions pb: pattern matching. regular expression Is a notation to specify a set of strings. basic operations: concatenation or closure: \"0 or more appearances of chars\" parentheses additional operations ( added for convinence ): ex. [A-C]+ is equivalent to (A|B|C)(A|B|C)* . åæ§½åå¥: 2. REs and NFAs duality between RE and DFA: RE: to decribe a set of strings. DFA: machine to ecognize whether a string is in a given set. [Kleene's therom] For any DFA, there exists a RE that describes the same set of strings; For any RE, there exists a DFA that recognizes the same set of strings. first attempt of pattern matching (Ken Tompson) same as KMP â€” no backup. basic plan: construct the DFA simulate the DFA with text bad news: DFA may have exponential nb of states. â‡’ change to NFA (nondeterministic finite automaton). NFA put RE into parentheses every char as a state (start=0, success=M) â€” è¿™é‡Œå’Œä¹‹å‰çš„DFAå¾ˆä¸ä¸€æ ·: ä¹‹å‰æ˜¯æ¯ä¸ªtransition(edge)å…³è”ä¸€ä¸ªchar, è¿™é‡Œæ˜¯æ¯ä¸ªçŠ¶æ€(node)å…³è”ä¸€ä¸ªchar. epsilon-transition (red links below): change of machine state without scanning text match-transition (black links below): change state, but also have to scan next char in text, match transition is added after each alphabetic char success (accept) if any sequence of transitions (after scanning all text) end at state-M. äº¦å¯ç†è§£ä¸º, DFAæ˜¯æ¯ä¸€æ¡è¾¹å¯¹åº”ä¸€ä¸ªå¯èƒ½çš„(å­—æ¯è¡¨å†…çš„)char, è€ŒNFAåªæœ‰match-transitionå¯¹åº”äºpatterné‡Œçš„(alphabetic) char, å…¶ä»–epsilon transitionçš„è¾¹å¯¹åº”ç©ºå­—ç¬¦ä¸²(ä¹Ÿå°±æ˜¯epsilon string). example: is \"AAAABD\" a match ? â†’ yes. (å’Œä¸Šä¸€èŠ‚substringçš„æ’å›¾è¿›è¡Œä¸€ä¸‹æ¯”å¯¹, è¿˜æ˜¯æœ‰å¾ˆå¤§ä¸åŒ) pb: non-determinism How to determine whether a string is a match of a NFA (ie. how to select the right sequence of transition) ? â‡’ sysematically consider all possible transition sequences. 3. NFA Simulation state names: 0 to M. (M+1 states in total, M=length of RE string). match-transitions: store in array re[] (the match transitions are naturally in order of the array). epsilon -transitions: store in a digraph G idea: maintain a set of all state that NFA could be in after reading first i chars in text. at each iteration: check all reachable state wrt the transitions, then update reachable states. algorithm (for the NFA above, æ³¨æ„ä¸ºäº†æ–¹ä¾¿å·²ç»åŠ äº† å¿…è¦çš„æ‹¬å·) [Algo] initial: rs (reachable state)=reachable state from state 0 (left parenthese) using epsilon trantisions consume a char in text : nrs ( new-reachable-states ) = empty set from all reachable state of this character: add next state using the match-transition to nrs add all reachable states (using epsilon transition) form the nrs set to nrs set rs = nrs , and consume the next char in text accept if at the end the state M is in rs concrete example init: when matching A from text: state 2 or 6 using match transition of A, we can get to state 3 or 7 if we add epsilon transitions: so reachable states after reading 1st A are: 2, 3, 4, 7 matching 2nd A from text: state 2 using match transition we can only get to state 3. using epsilon transitions from state 3: ( the only state after matching A is state 2 3 4 ) etc... æˆ–è€…ç›´æ¥çœ‹è¿™å¼ å›¾: reachability All reachable vertices from a set of source vertices â†’ just DFS. â‡’ directly use the API from the digraph section: running time linear to E+V Java implementation API: public class NFA{ private int M; private char[] re; private Digraph G;// digraph of the epsilon-transitions public NFA(String regexp){ M = regexp.length(); re = regexp.toCharArray(); G = buildEpsilonTransitionGraph();// helper function to build the graph G } public boolean matches(String text);// does text match the regexp? private Digraph buildEpsilonTransitionGraph();// private helper function } The function buildEpsilonTransitionGraph() will be attacked in next session, for now we focus on the NFA simulation code â€” that is, the mathes() method. For simplicity let's assume we have a function reachableVertices(Digraph G, Bag<Integer> sourceSet) and reachableVertices(Digraph G, int source) that gives the reachable states from (a set of) source vertices, including the sources. Or we can directly use the DirectedDFS api as listed above. public boolean matches ( String text ) { // does text match the regexp ? Bag < Integer > rechableStates = reachableVertices ( G , 0 ); // init reachable for ( char c : text ) { Bag < Integer > newRechableStatesBymatch = new Bag < Integer > (); for ( int i : rechableStates ) if ( re [ i ]== c || re [ i ]== '.' ) newRechableStatesBymatch . add ( i + 1 ); // match transition rechableStates = reachableVertices ( G , newRechableStates ); // epsilon transition } return reachableStates . contains ( M ); } (ä»£ç è™½ç„¶çŸ­ä½†æ˜¯è¿™ä¸ªè¿‡ç¨‹æˆ‘ç†è§£äº†å¥½ä¹….. å¦å¤–ä¸Šé¢çš„ä»£ç æœ‰ç‚¹ä¼ª). Analysis prop . the matches() method takes O(MN) time in worst case. pf. N chars in text, each char can go through <= M states (DFS), and in the digraph, no node has >3 degree â‡’ number of edges <= 3M , so the time for each dfs is O(M), in total we have O(MN). 4. NFA Construction â†’ construct the epsilon transition digraph. buiding a NFA from a re (parsing) states in a NFA: one state per char, plus an accept state (state M) alphabet state: chars in alphabet ( A, B, C, D ) â†’ (implicitly) put a match transition to next state metacharacters: ( ) . * | , 5 metacharacters in total â‡’ to deal with the metacharacters: paretheses ( ) simply put a epsilon-transition to the next state closure * æ˜Ÿå·å‰é¢åªå¯èƒ½æ˜¯å­—æ¯(åŒ…æ‹¬ . )æˆ–è€…å³æ‹¬å· ) , æ‰€ä»¥åˆ†ä¸¤ç§æƒ…å†µè®¨è®ºä¸€ä¸‹, éœ€è¦å‘å‰çœ‹ä¸€ä½, è¿™é‡Œå°±æ¯”è¾ƒsubtle for each * state, add 3 transitions as below: or | orç¬¦å·è‚¯å®šåœ¨ä¸€ä¸ªæ‹¬å·é‡Œé¢ add 2 epsilon transitions wrt parethese: ä»¥ä¸Šå°±æ˜¯NFAå»ºç«‹Gçš„æ—¶å€™è¦å¤„ç†çš„ä¸‰ç§æƒ…å½¢, è¿™ä¸‰ç§æƒ…å½¢éƒ½è¦çŸ¥é“ä¸€ä¸ªå·¦æ‹¬å·( lp )çš„ä½ç½® â‡’ use a stack ! implementation for alphabetic chars: do one-char lookahead â†’ if next is * , add transitions. for left parenthese ( : add transition to next state, and push to stack for or | : add transition to next state, and push to stack for right parenthese ) : pop the stack to deal with or and lp; and also do lookahead. code is not trival... look carefully: private Digraph buildEpsilonTransitionGraph () { // private helper function Digraph G = new Digraph ( M + 1 ); Stack < Integer > stk = new Stack < Integer > (); int lp ; for ( int i = 0 ; i < M ; i ++ ) { if ( re [ i ]== '|' || re [ i ]== '(' ) stk . push ( i ); if ( re [ i ]== '(' || re [ i ]== ')' || re [ i ]== '*' ) G . addEdge ( i , i + 1 ); else if ( re [ i ]== ')' ) { // need to pop until get a lp int j = stk . pop (); if ( re [ j ]== '|' ) { lp = stk . pop (); int or = j ; G . addEdge ( lp , or + 1 ); // add edge for the ` or ` case G . addEdge ( or , i ); } else lp = j ; } // do the lookahead : if ( re [ i+1 ]== '*' ) { if ( re [ i ]== ')' ) { // case 1 of closure : a rp before ` * ` G . addEdge ( lp , i + 1 ); G . addEdge ( i + 1 , lp ); } else { // case 2 of closure : an alphabetic char before ` * ` G . addEdge ( i , i + 1 ); G . addEdge ( i + 1 , i ); } } } // go through each char in re return G ; } Analysis prop . building an NFA takes linear time and space in M. pf. for each char, the nb of operations is const. çœŸä¸æ„§æ˜¯most ingenius algorithm we met in this course...... 5. Regular Expression Applications grep \" G eneralized R egular E xpression P rint\" print out all lines (from stdin) having a substring of an RE. â‡’ equal to adding a .* to the beginning and end of the RE to make a match. public class GREP{ public void main(String[] args){ String re = \".*\"+args[0]+\".*\"; NFA nfa = new NFA(re); while(StdIn.hasNextLine){ String line = StdIn.readLine(); if(nfa.matches(line)) StdOut.println(line); } } } the grep has NM worst case running time â€” same as brute force substring search â€” amazing... grep application: crossword puzzles regexp in other languages unix: grep, awk script: python, perl java: String.matches(regexp) Harvesting information goal: print all substrings of input that match an RE. use Pattern and Matcher class in java.util.regexp . first compile the regexp, then build the matcher â†’ so that we can iterate through all matches of the input using find() and group() of the matcher Caveat : performance NOT guaranteed ! â†’ exponential time growth! Not-so-regular expressions \"not rugular\" means Kleene's Th doesn't hold â†’ efficient performance not tractable...... back-reference \\1 matches subexpressions that was matched earliser limitations of regular languages: Summary the substring and regexp are examples of compilers ! (from string to a NFA/DFA/bytecode)","tags":"notes","title":"[Algorithms II] Week 5-1 Regular Expressions"},{"url":"https://x-wei.github.io/tech/heap-summary.html","text":"ä»Šå¤©ç®€å•ä»‹ç»ä¸€ä¸‹ä¼˜å…ˆé˜Ÿåˆ—(priority queue, ä»¥ä¸‹ç®€ç§°PQ)è¿™ä¸ªæ•°æ®ç»“æ„çš„å®ç°. PQåˆå«\"å †\"(heap), ä½†æ˜¯å¯èƒ½ä¼˜å…ˆé˜Ÿåˆ—è¿™ä¸ªåå­—æ›´å®¹æ˜“è®°å¿†å®ƒçš„ç”¨é€”: pqæ˜¯ä¸€ç§é˜Ÿåˆ—, ä¸è¿‡ä¸æ˜¯å…ˆè¿›å…ˆå‡º(FIFO), è€Œæ˜¯æ¯æ¬¡å‡ºé˜Ÿçš„å…ƒç´ æ°¸è¿œæ˜¯ä¼˜å…ˆçº§æœ€é«˜çš„. logical structure of PQ ä¸ªäººæ„Ÿè§‰\"å †\"è¿™ä¸ªåå­—å¤§æ¦‚æºäºPQçš„(é€»è¾‘ä¸Šçš„)å½¢çŠ¶å§: PQæ˜¯ä¸€ç§æ ‘(tree), å‡†ç¡®çš„è¯´, æ˜¯ä¸€ç§äºŒå‰æ ‘(binary tree), è¯´å¾—å†å‡†ç¡®ä¸€ç‚¹, å®ƒæ˜¯ä¸€ç§ å®Œå…¨äºŒå‰æ ‘(complete binary tree) : æ²¡é”™, PQæ˜¯ä¸€ç§æ»¡è¶³æŸäº›æ¡ä»¶çš„å®Œå…¨äºŒå‰æ ‘. æ‰€è°“çš„\"å®Œå…¨äºŒå‰æ ‘\", è¦æ»¡è¶³: é™¤äº†æœ€åä¸€å±‚, æ‰€æœ‰å±‚éƒ½æ’æ»¡(æ²¡æœ‰éç©ºèŠ‚ç‚¹) æœ€åä¸€å±‚çš„æ‰€æœ‰éç©ºèŠ‚ç‚¹éƒ½æ’åœ¨å·¦è¾¹ ä¸€å¼ å›¾å¯ä»¥ç›´è§‚è¯´æ˜, å®Œå…¨äºŒå‰æ ‘å…¶å®å°±æ˜¯é•¿å¾—åƒè¿™æ ·: ä¸€ä¸ªå®Œå…¨äºŒå‰æ ‘èƒ½è¢«æˆä¸ºPQçš„è¯, è¦æ»¡è¶³çš„æ¡ä»¶å°±æ˜¯: å¯¹äºä»»ä½•ä¸€ä¸ªèŠ‚ç‚¹, å®ƒçš„ä¼˜å…ˆçº§éƒ½å¤§äºå·¦å³å­èŠ‚ç‚¹çš„ä¼˜å…ˆçº§. æ¯”å¦‚ä¸‹å›¾(åœ†åœˆé‡Œæ•°å­—ä»£è¡¨ä¼˜å…ˆçº§): è¿™æ ·çœ‹ä¸Šå»çš„è¯, ç¡®å®åƒæ˜¯\"ä¸€å †\"ä¸œè¥¿çš„å½¢çŠ¶(ç çš„è¿˜æŒºæ•´é½çš„), è€Œä¸”æˆ‘ä»¬çŸ¥é“åœ¨è¿™ä¸€å †èŠ‚ç‚¹é‡Œ, ä¼˜å…ˆçº§æœ€é«˜çš„å°±æ˜¯æœ€é¡¶ä¸Šçš„é‚£ä¸ªèŠ‚ç‚¹äº†. æˆ‘å¾ˆå–œæ¬¢è¿™ä¸ªæ¯”å–»: ä¸€ä¸ªheapå°±åƒæ˜¯ä¸€ä¸ª å…¬å¸çš„hirachyç»“æ„: å­èŠ‚ç‚¹å°±æ˜¯ä¸‹å±, çˆ¶èŠ‚ç‚¹å°±æ˜¯ä¸Šå¸, æ¯ä¸€ä¸ªä¸Šå¸çš„èƒ½åŠ›éƒ½æ¯”ä»–çš„ä¸‹å±å¼º(ä¼˜å…ˆçº§æ¯”å­èŠ‚ç‚¹æ). èƒ½åŠ›æœ€å¼º(ä¼˜å…ˆçº§æœ€é«˜)çš„äººåœ¨æœ€ä¸Šé¢. array representation of PQ å¯¹äºä¸€ä¸ªå®Œå…¨äºŒå‰æ ‘, æ²¡æœ‰å¿…è¦ç”¨å¸¸è§„çš„æ ‘ç»“æ„(ä½¿ç”¨æŒ‡é’ˆ)æ¥è¡¨ç¤º, å› ä¸ºå¦‚æœä»ä¸Šåˆ°ä¸‹èµ°è¿‡æ¯å±‚(æ¯å±‚å†…ä»å·¦åˆ°å³)ç»™æ‰€æœ‰èŠ‚ç‚¹ç¼–å·(æ ¹èŠ‚ç‚¹çš„ç¼–å·ä¸º1)çš„è¯, å®Œå…¨äºŒå‰æ ‘æœ‰ä»¥ä¸‹æ€§è´¨: father(i) = i/2 å…¶ä¸­father(i)è¡¨ç¤ºç¼–å·ä¸ºiçš„èŠ‚ç‚¹çš„çˆ¶èŠ‚ç‚¹çš„ä¸‹æ ‡ leftchild(i) = i*2, rightchild(i) = i*2+1 æ—¢ç„¶ç”¨æ•°ç»„è¡¨ç¤ºçš„æ—¶å€™, ä»»ä½•èŠ‚ç‚¹çš„çˆ¶äº²èŠ‚ç‚¹å’Œå·¦å³å­èŠ‚ç‚¹éƒ½å¯ä»¥è½»æ¾å¾—åˆ°, å°±æ²¡æœ‰å¿…è¦ä½¿ç”¨æŒ‡é’ˆäº†. æ‰€ä»¥åªéœ€è¦ä¸€ä¸ªæ•°ç»„å³å¯è¡¨ç¤ºPQ ! æ¯”å¦‚ä¸€ä¸ªintçš„PQåœ¨å†…éƒ¨åªè¦è¡¨ç¤ºä¸º: int pq[] . å¦å¤–æ³¨æ„, ä¸Šé¢çš„å…¬å¼æˆç«‹çš„å‰ææ˜¯æ•°ç»„ä¸‹æ ‡ä»1å¼€å§‹, å®ç°çš„æ—¶å€™æˆ‘ä»¬æŠŠæ•°ç»„çš„ç¬¬0ä¸ªå…ƒç´ ç©ºå‡ºæ¥å³å¯. ä¸éš¾çœ‹å‡ºä¸€ä¸ªPQæœ‰ä»¥ä¸‹æ€§è´¨: é«˜åº¦ä¸ºlgN ç¬¬kå±‚æœ‰ 2&#94;k ä¸ªèŠ‚ç‚¹ (rootæ˜¯ç¬¬0å±‚) æœ€åä¸€å±‚çš„èŠ‚ç‚¹å¯¹åº”çš„ä¸‹æ ‡>=N/2 PQ implementation å…ˆå†™ä¸€ä¸‹ä»£ç æ¡†æ¶: public class PQ { // maxPQ of integers int pq [] ; int MAX_CAPACITY = 1000 ; // if we use ArrayList we do not need MAX_CAPACITY int size ; // pq [ size ] is the index of last element ( rightmost node in last level ) public PQ () { pq = new int [ MAX_CAPACITY+1 ] ; size = 0 ; } public boolean isEmpty () { return size == 0 ; } public int top () { // get top element assert ! isEmpty (); return pq [ 1 ] ; } public void add ( int n ); // insert element to PQ --> stay tuned public int poll (); // get and remove top element --> stay tuned } æœ€å…³é”®çš„ä¸¤ä¸ªå‡½æ•°æ˜¯ add å’Œ poll , å®ç°è¿™ä¸¤ä¸ªæ“ä½œçš„å…³é”®åœ¨äºä¸¤ä¸ªåŸºæœ¬æ“ä½œ: siftup() å’Œ siftdown() . åœ¨PQçš„æ€§è´¨è¢«æ‰°ä¹±çš„æ—¶å€™, ä½¿ç”¨è¿™ä¸¤ä¸ªæ“ä½œå¯ä»¥ä½¿PQæ¢å¤æ€§è´¨(æ‰€è°“çš„\"è°ƒæ•´\"). siftup å¦‚æœä¸€ä¸ªæ–°å…ƒç´ åˆ°æ¥, é¦–å…ˆå°†å…¶æ”¾åœ¨æœ€å(æœ€åº•å±‚æœ€å³è¾¹çš„èŠ‚ç‚¹), å¦‚æœæ–°æ¥èŠ‚ç‚¹çš„ä¼˜å…ˆçº§æ¯”è¾ƒé«˜, å¯ä»¥ç”¨siftupå°†å…¶æå‡åˆ°ä¸€ä¸ªåˆé€‚çš„å±‚æ¬¡. ç”¨å…¬å¸ç»“æ„æ¥ç±»æ¯”å°±æ˜¯æ–°å…¥èŒçš„å‘˜å·¥ç”±äºèƒ½åŠ›å¼ºè¢«æé«˜åˆ°äº†é«˜å±‚, è€Œæå‡çš„åŠæ³•å°±æ˜¯: å’Œä¸Šå¸äº¤æ¢å²—ä½(ä¹Ÿå°±æ˜¯å’Œçˆ¶èŠ‚ç‚¹äº¤æ¢ä½ç½®). æ‰€ä»¥è¿™ä¸ªæ“ä½œåªè¦ä¸æ–­æŠŠè¯¥å…ƒç´ ä¸çˆ¶èŠ‚ç‚¹äº¤æ¢, ç›´åˆ°é‡åˆ°ä¸€ä¸ªä¼˜å…ˆçº§å¤§äºè¯¥èŠ‚ç‚¹çš„çˆ¶èŠ‚ç‚¹æˆ–è€…å·²ç»åˆ°äº†æœ€é«˜å¤„åœæ­¢. ä»£ç å¾ˆçŸ­: private void siftup () { int i = size ; // i is the index of the newly added element for (; i > 1 && pq [ i/2 ]< pq [ i ] ; i /= 2 ) swap ( pq , i / 2 , i ); } siftdown siftdownçš„åŠŸèƒ½å’Œsiftupç›¸å: å¦‚æœåœ¨æœ€é«˜å¤„æ˜¯ä¸€ä¸ªä¼˜å…ˆçº§å¾ˆä½çš„å…ƒç´ , éœ€è¦å°†å…¶\"ä¸‹æ”¾\". æ–¹æ³•å°±æ˜¯æŠŠå®ƒå’Œå­èŠ‚ç‚¹é‡Œé¢ä¼˜å…ˆçº§è¾ƒé«˜çš„è¿›è¡Œäº¤æ¢. ä»£ç ä¹Ÿä¸é•¿, ä¸è¿‡ç¬¬ä¸€æ¬¡å†™å¯èƒ½ä¸å¤ªç®€æ´: private void siftdown () { if ( isEmpty ()) return ; // nothing to sift when empty int i = 1 ; // siftdown root node while ( i * 2 <= size ) { // while the node is not in last level int max = pq [ i ] , j = i ; // j is the element to swap if ( pq [ i*2 ]> max ) // left child { j = i * 2 ; max = pq [ i*2 ] ; } if ( i * 2 + 1 <= size && pq [ i*2+1 ]> max ) // right node { j = i * 2 + 1 ; max = pq [ i*2+1 ] ; } if ( j == i ) return ; // stop when node is bigger than both child swap ( pq , i , j ); i = j ; } } implementation of add and poll æœ‰äº†è¿™ä¸¤ä¸ªsiftçš„åŸºæœ¬æ“ä½œ, addå’Œpollçš„æ“ä½œå°±ç®€å•äº†. add åŠ å…¥æ–°å…ƒç´ çš„æ—¶å€™, åªè¦å…ˆæŠŠå®ƒæ”¾åœ¨æœ€åé¢, ç„¶åè°ƒç”¨siftup()å‡½æ•°è°ƒæ•´ä¸€ä¸‹pqå³å¯: public void add(int n){ // insert element to PQ assert size+1<MAX_CAPACITY; pq[++size] = n; siftup(); } poll å †é¡¶å…ƒç´ è¢«æ‹¿èµ°ä»¥å, æˆ‘ä»¬å¯ä»¥å…ˆæŠŠæœ€åä¸€ä¸ªå…ƒç´ æ”¾åœ¨é¡¶éƒ¨, ç„¶åè°ƒç”¨siftdownè¿›è¡Œè°ƒæ•´: public int poll(){ // get and remove top element assert !isEmpty(); int top = pq[1]; pq[1] = pq[size--];// put last element on the top siftdown(); return top; } PQ application æ¥ä¸‹æ¥è®²ä¸€ä¸‹PQçš„åº”ç”¨. heapsort ç”±äºæ¯æ¬¡å‡ºé˜Ÿçš„éƒ½æ˜¯åœ¨å‰©ä¸‹å…ƒç´ é‡Œé¢æœ€å¤§(å°)çš„, æ‰€ä»¥åªè¦æŠŠæ•°ç»„çš„å…ƒç´ æ”¾åˆ°ä¸€ä¸ªpqé‡Œ, ç„¶åä¾æ¬¡pollå‡ºæ¥, å¾—åˆ°çš„åºåˆ—å°±æ˜¯æ’åºå¥½äº†çš„. ä¸ç®¡æ˜¯æ’å…¥è¿˜æ˜¯åˆ é™¤æ“ä½œ, æ¯æ¬¡è°ƒæ•´çš„å¤æ‚åº¦ä¸ºlog(n) (å †çš„é«˜åº¦), æ‰€ä»¥ç®—æ³•å¤æ‚åº¦ä¸º O(NlgN). å®é™…ä½¿ç”¨çš„æ—¶å€™æ•ˆç‡æ¯”å¿«é€Ÿæ’åº/åˆå¹¶æ’åºç•¥å·®, ä»¥åä¸“é—¨å†™ä¸€ç¯‡å…³äºæ’åºç®—æ³•çš„æ–‡ç« æ—¶å†èŠ. heapify é¦–å…ˆå‰é¢çš„siftdownå‡½æ•°å¾ˆæ˜æ˜¾å¯ä»¥ä¿®æ”¹ä¸€ä¸‹åŠ ä¸Šä¸€ä¸ªå‚æ•°å˜ä¸º siftdown(int i) (iä»£è¡¨è¦å‘ä¸‹è°ƒæ•´çš„å…ƒç´ çš„ä¸‹æ ‡). åœ¨heapsorté‡Œç¬¬ä¸€æ­¥æ˜¯è¦å»ºç«‹ä¸€ä¸ªPQ. æœ€naiveçš„å»ºå †æ“ä½œå°±æ˜¯æ–°å»ºä¸€ä¸ªç©ºçš„heapç„¶åä¸æ–­å‘é‡Œé¢åŠ å…¥æ•°ç»„ a é‡Œçš„å…ƒç´ (ç©ºé—´å¤æ‚åº¦N, æ—¶é—´å¤æ‚åº¦NlgN). å…¶å®è¿™ä¸ªæ“ä½œå¯ä»¥åšçš„æ›´å¥½: æˆ‘ä»¬ å…ˆç›´æ¥æŠŠæ•°ç»„aå½“ä½œpq[]æ•°ç»„ , ç°åœ¨æ˜¾ç„¶å®ƒä¸æ»¡è¶³PQæ€§è´¨, åªéœ€è¦ å¤šæ¬¡ä½¿ç”¨siftdown è¿›è¡Œè°ƒæ•´å³å¯. å‡è®¾ä¸€å…±æœ‰h(=lgN)å±‚, ç”±äºæœ€åä¸€å±‚çš„èŠ‚ç‚¹ä¸å¿…è°ƒç”¨siftdown, æˆ‘ä»¬åªè¦ä»å€’æ•°ç¬¬äºŒå±‚å¼€å§‹è°ƒç”¨siftdownå³å¯, ç»“åˆå‰é¢æåˆ°çš„pqçš„æ€§è´¨(N/2ä»¥åçš„èŠ‚ç‚¹éƒ½åœ¨æœ€åä¸€å±‚), å†™æ³•å¾ˆç®€å•(ç®€å•èµ·è§è®¤ä¸ºaä¹Ÿæ˜¯æŠŠç¬¬0ä¸ªå…ƒç´ ç©ºå‡ºæ¥å¥½äº†): public static void heapify(int[] a){ int N = a.length; for(int i=N/2;i<=1;i--){ siftdown(a, i); } } è¿™ä¸ªæ“ä½œçš„æ—¶é—´å¤æ‚åº¦æ˜¯O(N)çš„ ! ä¸ºä»€ä¹ˆå‘¢? â†’ ç¬¬kå±‚èŠ‚ç‚¹æœ‰2&#94;kä¸ªèŠ‚ç‚¹, è¿™ä¸€å±‚çš„èŠ‚ç‚¹å‘ä¸‹è°ƒæ•´æœ€å¤šä¼šè¿›è¡Œh-kæ­¥, æ‰€ä»¥è®¡ç®—é‡æ˜¯ä¸€ä¸ªæ±‚å’Œè¡¨è¾¾å¼: Sigma( 2&#94;k * (h-k) ) for k=0,...,h-1 (å…·ä½“è§ http://algs4.cs.princeton.edu/24pq/ é‡Œé¢Q20çš„ç­”æ¡ˆ) top K elements of a stream é—®é¢˜æè¿°: ä¸€ç³»åˆ—æ•°å­—ä¸€ä¸ªä¸€ä¸ªåˆ°è¾¾, å½“æ‰€æœ‰æ•°(å‡è®¾æœ‰Nä¸ª)éƒ½åˆ°è¾¾ä»¥å, æ±‚æœ€å¤§çš„Kä¸ªæ•°å­—. è¿™æ˜¯ä¸€ä¸ªç»å…¸çš„PQåº”ç”¨ â‡’ ä½¿ç”¨ä¸€ä¸ªæœ€å°å †(minPQ)å³å¯è¾¾åˆ°è¿™ä¸ªæ•ˆæœ: æ–°å»ºä¸€ä¸ªminPQ(æœ€å°çš„æ•°å­—åœ¨æœ€ä¸Šé¢, æ¯æ¬¡å½“ä¸€ä¸ªæ•°å­—nåˆ°è¾¾æ—¶: if minPQ.size<K â†’ minPQ.add(n) if minPQ.size==K â†’ æ¯”è¾ƒnå’ŒminPQ.top(): if n>minPQ.top(): minPQ.poll(); minPQ.add(n) else pass... median of a stream é—®é¢˜æè¿°: ä¸€ç³»åˆ—æ•°å­—ä¸€ä¸ªä¸€ä¸ªåˆ°è¾¾, æ±‚ä»–ä»¬çš„ä¸­ä½æ•°(median)? è¿™ä¸ªçš„è§£æ³•æ˜¯ä½¿ç”¨ ä¸¤ä¸ªPQ , ä¸€ä¸ªæœ€å¤§å † maxpq ä¸€ä¸ªæœ€å°å † minpq , ç„¶å maxpqé‡Œå­˜æ”¾è¾ƒ å° çš„ä¸€åŠæ•°å­—, minpqé‡Œå­˜æ”¾è¾ƒ å¤§ çš„ä¸€åŠæ•°å­—: maxpq.top()<=minpq.top() . å¹¶ä¸”æˆ‘ä»¬è¦æ±‚: minpq.size <= maxpq.size <= minpq.size+1 â‡’ è¿™æ ·ä¸­ä½æ•°æˆ–è€…æ˜¯maxpq.top(), æˆ–è€…æ˜¯ä¸¤ä¸ªtopçš„å¹³å‡å€¼äº†~ åˆå§‹æ—¶ä¸¤ä¸ªpqéƒ½æ˜¯ç©ºçš„, æ¯æ¬¡æ•°å­—nåˆ°æ¥æ—¶: å…ˆæŠŠnæ”¾è¿›maxpqé‡Œ å¦‚æœ maxpq.size>minpq.size+1 çš„è¯: minpq.add(maxpq.poll()) more about heap k-way heap è¿™é‡Œä»‹ç»çš„PQå…¶å®æ˜¯binary heap, å³è¿™æ£µæ ‘æ˜¯ä¸€ä¸ªå®Œå…¨ äºŒ å‰æ ‘, ä½†æ˜¯æˆ‘ä»¬å®Œå…¨å¯ä»¥åšæˆå®Œå…¨ K å‰æ ‘, å°±æ˜¯æ‰€è°“çš„K-way heapäº†. è¿™æ ·çš„å¥½å¤„æ˜¯heapçš„é«˜åº¦ä¼šå˜å¾—æ›´å°(ä»log2(N)å˜ä¸ºlogK(N)), ä¸è¿‡ç”±äºæ¯ä¸ªåˆ†å‰å˜æˆäº†Kä¸ª, æ‰€ä»¥siftdownæ¯æ¬¡å¾ªç¯çš„æ“ä½œå¤æ‚åº¦ä¹Ÿä¼šå¢åŠ (ä»2å˜ä¸ºK). more \"flexible\" heap åœ¨æŸäº›åº”ç”¨ä¸­(æ¯”å¦‚Dijkstraç®—æ³•), æˆ‘ä»¬å¸Œæœ›åœ¨æ’å…¥åä¿®æ”¹æŸä¸ªå…ƒç´ çš„ä¼˜å…ˆçº§, è¿™æ—¶å€™éœ€è¦å¯¹è¿™ä¸ªæ ‡å‡†çš„heapåšä¸€äº›ä¿®æ”¹, éœ€è¦ç”¨ä¸€ä¸ªæ•°ç»„æŠŠå…ƒç´ çš„\"é€»è¾‘ç¼–å·\"å’Œåœ¨pqæ•°ç»„é‡Œçš„\"å®é™…ç¼–å·\"ç›¸äº’è½¬æ¢. ä¸è¿‡è¿™ä¸ªä¼šæ¯”è¾ƒsubtle(å…¶å®æˆ‘å·²ç»è®°ä¸èµ·æ¥äº†...), è§: http://x-wei.github.io/algoII_week2_2.html (IndexedPQéƒ¨åˆ†)","tags":"tech","title":"Priority Queue/Heap (ä¼˜å…ˆé˜Ÿåˆ—/å †)å°ç»“"},{"url":"https://x-wei.github.io/notes/algoII_week4_2.html","text":"1. Introduction to substring search \"most ingenious algorithm we've seen so far\" pb. having two strings, pattern and text , len(pattern)=M << len(text)=N, try to find pattern in text. ex. indexOf method of String in java. 2. Brute-Force Substring Search function signature: public static int search(String pat, String txt); brute-force algo: look for pattern at every position of text . public static int search(String pat, String txt){ int N=txt.length(), M=pat.length(); for(int i=0; i<=N-M; i++){ int j; for(j=0; j<M && pat.charAt(j)==txt.charAt(i+j); j++); if(j==M) return i; } return N;// not found } worst case: when txt/pat are repetitive â†’ MN compares. problem with brute-force: always backup when mismatch. brute-force alternative j := number of matched chars in pattern i := index of the end of matched char in text â‡’ do explicite backup when mismatch by i -= j public static int search(String pat, String txt){ int N=txt.length(), M=pat.length(), i=0, j=0; while(i<N && j<M){ if(pat.charAt(j)==txt.charAt(i)) {j=i++; j++;} else {i=i-j+1; j=0}// <==backup } return j==M ? i-M : N; } challenge: want linear-time guarantee, and want to avoid backup. 3. Knuth-Morris-Pratt \"one of the coolest/trickiest algorithm covered in this course\" intuition suppose pattern = \"BAAAAA\", if we matched 5 chars in pattern and get mismatch on 6th char â‡’ we know the previous 5 chars are \"BAAAA\" â†’ no need to backup the i pointer. KMP algorithm: clever method that always avoid backup ! Deterministic finite state automaton (DFA) finite states ,including start and halt state, indexed by j in the subtring pb for each state: exactly one transition for each char in alphabet ex. states are 0~6, pat=\"ABABAC\", transitions are indexed by chars in alphabet = {A,B,C}, finish if we reach state-6. dfa[c][i] = the next state if we are currently in state-i and encoutered char-c. interpretation of DFA for KMP algo in the DFA after reading txt[i] , the index of state is the number of matched chars in pattern, or length of *longest prefix of pat that is a suffix of txt[0:i]. * need to precompute the dfa[][] array from pattern the pointer i never decrements (thus we can do it in a streaming manner) â†’ if dfa[][] is precomputed , java code is very very simple: public static int search ( String pat , String txt , int [][] dfa ) { int N = txt . length (), M = pat . length (), i , j = 0 ; for ( i = 0 ; i < N && j < M ; i ++ ) j = dfa [ txt.charAt(i) ][ j ] ; return j == M ? i - M : N ; } running time: linear. â†’ key pb: how to build dfa efficiently ? DFA construction match transition (easy part) when at state j, for the char c0==pat.charAt(j+1) , just go on matching: dfa[c0][j] = j+1 ex. ( pat=\"ABABAC\" ) mismatch transition (hard part) (for j==0, things are simple: dfa[c][0]=0 for all c!=pat[0] ) at state j (ie. j chars in pattern are matched) , and for c!=pat.charAt(j+1) â‡’ we are in state j: we know the last j chars in input are pat[0...j-1] , and followed by char = c , so the last j+1 chars of input string is: pat[0...j-1]+c â‡’ to compute dfa[c][j]: we can simulate as if we backup , ie. i=i-j+1, j=0 . if we go back to set j=0, and set i = i-j+1, then i is pointing at pat[1] , the text become pat[1...j-1]+c . We then let this string go through our dfa, the state that it achieves is the value of dfa[c][j] . here is a concrete example: pattern = \"ABABAC\" , state j=5 , char c='B ' we know the last 6 chars of the input = pat[0...j-1]+c=\"ABABA\"+\"B\"=\"ABABAB\" if we backup, i will point to pat[1], the string is just pat[1...j-1]+c=\"BABAB\" we use the string \"BABAB\" as input and go through the partially constructed dfa, and see that we will reach state 4 so we know dfa['B'][5]=4 similarly we can get dfa['A'][5]=1 , as indicated below: ( pat=\"ABABAC\" ) one concern: seems this simulation needs j steps ? â‡’ can be changed to be constant time if we maintain a state X := the state of simulating of input=pat[1...j-1] we maintain this state X , then for each mismatched char c, we just need to look at dfa[c][X] . ( pat=\"ABABAC\" ) [Algo] set all matched transitions dfa[c0][j] = j+1 for all c0==pat[j] fill first column (j==0): dfa[c][0]=0 for all c!=pat[0] initialize X=0 (state for empty input string) for j=1 to M: for all c!=pat[0] : set dfa[c][j] = dfa[c][X] (DP here...) update X=dfa[c0][X] â‡’ æ³¨æ„, æ­¤æ—¶Xå¹¶ ä¸ç­‰äº X+1(æœ€å¼€å§‹ dfa[c0][j]=j+1 ä¸é€‚ç”¨äºæ­¤), ä¸ºä»€ä¹ˆ? å› ä¸º c0==pat[j] è€Œä¸ æ˜¯pat[X] !! æ¯”å¦‚è¯´æœ€å¼€å§‹, j=1çš„æ—¶å€™Xæ˜¯ç­‰äº0çš„!!! (è¿™ä¸ªå¼¯æˆ‘é¥¶äº†å¥½å‡ åˆ†é’Ÿ...) java code (can be written to be more compate): public int [][] constructDFA ( String pat ) { int R = 256 ; // ASCII code int M = pat . length (); int [][] dfa = new int [ R ][ M ] ; // 1. fill matched transitions : dfa [ pat.charAt(j) ][ j ] = j + 1 for ( int j = 0 ; j < M ; j ++ ) dfa [ pat.charAt(j) ][ j ] = j + 1 ; // 2. fill 1 st column --> can be ignored as java int default val=0 // 3. fill mismatched transitions int X = 0 ; for ( int j = 1 ; j < M ; j ++ ) { for ( int c = 0 ; c < R ; c ++ ) if ( c != pat . charAt ( j )) dfa [ c ][ j ] = dfa [ c ][ X ] ; X = dfa [ pat.charAt(j) ][ X ] ; } return dfa ; } running time and space: O(M*R) . prop. KMP algorithm runs in O(M+N) time, and constructs the dfa in O(M*R) time/space. è¿™ä¸ªKMPç®—æ³•, æˆ‘æ›¾ç»æƒ³è¿‡å¥½å‡ ä¸ªå°æ—¶, ç„¶åæœ€åå†™å‡ºäº†ç‰¹åˆ«å¤æ‚çš„ä»£ç , è™½ç„¶å¯ä»¥ç”¨ä½†æ˜¯åŸºæœ¬å†™äº†å°±å¿˜æ‰äº†. ä½†æ˜¯ç»è¿‡è€çˆ·å­è¿™ä¹ˆä¸€è®², æ„Ÿè§‰è¿™æ¬¡å°è±¡æ·±åˆ»äº†å¥½å¤š. è€çˆ·å­NB... å…«å¦æ—¶é—´: 4. Boyer-Moore Heuristic in practice. i does not necessarily go through all txt chars â‡’ i may skip some chars. intuition for matching: scan chars from right to left (j will decrease when checking) when encoutered a mismatch: we can skip <= M chars (if the char is not in pattern) ex. (pat=\"NEEDLE\") â†’ pb: how to skip? mismatch character heuristic note : the i always points to the beginning of the substring ( txt[i,...,i+M-1] ) to be checked for match. case 1. mismatched char not in pattern easy case â†’ just move i to the right of this char. case 2. mismatched char in pattern heuristic: line up i with the rightmost char in pattern . i += skip where skip length = j - index of rightmost char in pattern note: this does not always help, in the example below, i even backups : to avoid backup, in this case we just increment i by 1 (heuristic doesn't help in this case). implementation use an array right[] as skip table , right[c] is the index of rightmost occurrence of char c (-1 if c not in pat). int [] right = new int [ M ] ; for ( int i = 0 ; i < R ; i ++ ) right [ i ] = - 1 ; // value for chars not in pattern for ( int j = 0 ; j < M ; j ++ ) { right [ pat.charAt(j) ]= j ; } using this table we can implemente the heuristic algorithm: public static int search(String pat, String txt, int[] right){ int N=txt.length(), M=pat.length(); int skip; for(int i=0;i<N-M;i+=skip){ skip = 0; for(int j=M-1;j>=0;j++) if(pat.charAt(j)!=txt.charAt(i+j)){// when mismatch happens skip = Math.max(1,j - right[txt.charAt(i+j)]);// skip if we can, else just increment i by 1 break; } if(skip==0)// if the above for loop finishes without changing skip --> we are done. return i; } return N;// pattern not found } analysis property . the Boyer-Moore heuristic (in practice) takes about N/M (sublinear!) compares to search. å¥½ç¥å¥‡, æ¯”KMPè¿˜è¦ç®€å•çš„ç®—æ³•, å®é™…æ•ˆç‡è¿™ä¹ˆé«˜... worst-case performance: N*M ... è¿™ä¸€ç‚¹ä¸å¦‚KMP. â†’ can be improved... 5. Rabin-Karp ä¸¤ä¸ªå›¾çµå¥–çš„å¤§ç¥å‘æ˜çš„ç®—æ³•.. intuition basic idea: modular hashing ex. for strings of numbers compute hash fcn (for number strings is easy: take the string and treat it as a number, then %Q where Q is a big prime number). for a pointer i â†’corresponds to the substring txt[i, ..., i+M-1] â†’ check hash for match (below: text=3141592653589793, pattern=26535) computing the hash function efficiently let ti be the ith char in txt, the hashcode for substring txt[i,...,i+M-1] is: â‡’ just an M-digit base-R integer modulo Q ! poly(M, R) % Q *. * Honor's method linear time algorithm for evaluating polynomial. recursive equation: poly(i, R) = poly(i-1, R)*R+ti ex. (R=10, M=5) private long hash(String key, int M){ long h=0; for(int i=0;i<M;i++) h = ( h*R + key.charAt(i) ) % Q return h; } if we know x_i, the x_i+1 can be infered: â‡’ x_i+1 can be computed in constant time: â‡’ we precompute R&#94;(M-1) and maintain the hash number, and check for match ! public static int search(String txt, String pat){ int N=txt.length(), M=pat.length(); long pathash = hash(pat, M); int RM = R&#94;(M-1);// <-- pseudo code, store value of R&#94;(M-1) long txthash = hash(txt, M);// txthash will be maintained for(int i=0;i<N-M;i++){ if(txthash==pathash && checkMatch(i,txt,pat)) return i; txthash = ( (txthash - txt.charAt(i)*RM)*R + txt.charAt(i+M) ) % Q; } } æ›´æ–°txthashçš„åœ°æ–¹å¯èƒ½ä¼šæœ‰moduloé€ æˆçš„é—®é¢˜... ä¸è¿‡å…ˆè¿™æ ·å†™å§.. for collisions: Monte Carlo vs. Las Vegas analysis Theory : if Q is sufficiently large (~M*N&#94;2), the probability of collision is ~1/N. Practice : choose Q to be sufficiently large, and collision probability is ~1/Q. Summery","tags":"notes","title":"[Algorithms II] Week 4-2 Substring Search"},{"url":"https://x-wei.github.io/tech/quick-sort-and-more.html","text":"ä»Šå¤©æ€»ç»“ä¸€ä¸‹éå¸¸æœ‰ç”¨çš„å¿«é€Ÿæ’åº(qsort)ç®—æ³•, ä»¥åŠç”±æ­¤è¡ç”Ÿçš„ä¸€äº›å…¶ä»–ç›¸å…³ç®—æ³•(Knuth shuffle, quick select, 3-way partition). å¿«é€Ÿæ’åºçš„ç®—æ³•å¯ä»¥ç”¨ä¸‰å¥è¯æè¿°: [Algo] é€‰æ‹©åŸºå‡†é¡¹(pivot element, ä¸€èˆ¬å–ç¬¬ä¸€ä¸ªå…ƒç´ ä¸ºpivot) æŠŠæ•°ç»„é‡Œæ‰€æœ‰å°äºpivotçš„ç§»åŠ¨åˆ°pivotå·¦è¾¹, å¤§äºpivotçš„ç§»åŠ¨åˆ°å³è¾¹ â‡’ æ­¤æ—¶pivotå·²ç»ä½äºæœ€ç»ˆæ’åºæ—¶çš„æ­£ç¡®ä½ç½® å¯¹pivotå·¦å³ä¸¤ä¸ªæ•°ç»„åˆ†åˆ«é€’å½’è¿›è¡Œå¿«é€Ÿæ’åº ç”±ä»¥ä¸Šæè¿°å¯è§, qsortæ˜¯ä¸€ä¸ªé€’å½’ç®—æ³•, æˆ‘ä»¬å¯ä»¥æŠŠå®ƒçš„å‡½æ•°å£°æ˜å†™æˆ: void qsort(int[] a, int lo, int hi) , è¡¨ç¤ºæ’åºa[lo, hi]ä¹‹é—´(é—­åŒºé—´)çš„æ‰€æœ‰å…ƒç´ . quick partition ç”±ä¸Šé¢æè¿°å¯ä»¥è§, qsortæœ€å…³é”®çš„æ˜¯ç¬¬äºŒæ­¥: æŠŠæ•°ç»„å…ƒç´ ä»¥pivotåˆ†ä¸ºä¸¤éƒ¨åˆ†. è¿™ä¸ªæ“ä½œå°±æ˜¯quick partition. å‡½æ•°å£°æ˜ä¸º: int partition(int[] a, int lo, int hi) , è¯¥å‡½æ•°è¿”å›pivot(å³subarrayçš„ç¬¬ä¸€ä¸ªå…ƒç´  a[lo] )æ‰€åœ¨çš„ä½ç½®. å¦‚æœå…è®¸æ–°å»ºä¸€ä¸ªä¸´æ—¶æ•°ç»„çš„è¯, é‚£ä¹ˆè¿™ä¸ªå°±ä¸æ˜¯ä»€ä¹ˆé—®é¢˜, ä½†æ˜¯ä¸ºäº†èŠ‚çº¦ç©ºé—´å ç”¨, ç°åœ¨éœ€è¦ç›´æ¥ä¿®æ”¹(in-place)ä½¿å¾—a[lo] åˆ°, è€Œä¸”å¸Œæœ›å¯ä»¥ç”¨å°½é‡å°‘çš„äº¤æ¢( swap(int[]a, int i, int j) )æ“ä½œ, å°±ä¸æ˜¯å¾ˆevidentäº†. è¿™ä¸ªå‡½æ•°çš„å†™æ³•æ˜¯ç”¨ä¸¤ä¸ªæŒ‡é’ˆiå’Œjåˆ†åˆ«ä»ä¸¤ç«¯å‘ä¸­é—´èµ°, å¦‚æœä¸¤ä¸ªæŒ‡é’ˆæŒ‡å‘çš„å…ƒç´ ä¸€ä¸ªå°äºpivotä¸€ä¸ªå¤§äºpivoté‚£ä¹ˆå°±è¿›è¡Œäº¤æ¢, å½“ä¸¤ä¸ªæŒ‡é’ˆç¢°é¢çš„æ—¶å€™ç»“æŸ(æœ€åæŠŠpivotå’ŒæŒ‡é’ˆå…ƒç´ äº¤æ¢). è¯·çœ‹ä¸‹é¢è¿™ä¸ªèŒèŒçš„å›¾(å›¾ç‰‡æ¥è‡ª<<å•Šå“ˆ!ç®—æ³•>>): é€‰å–ç¬¬ä¸€ä¸ªå…ƒç´ (6)ä¸ºpivot, ç„¶åjå‘å·¦èµ°ç›´åˆ°é‡åˆ°ä¸€ä¸ªå°äºpivot(6)çš„æ•°åœæ­¢, iå‘å³èµ°ç›´åˆ°é‡åˆ°ä¸€ä¸ªå¤§äºpivotçš„æ•°åœæ­¢( æ³¨æ„è¦è®©jå…ˆç§»åŠ¨ ), æ­¤æ—¶äºŒè€…äº¤æ¢: åªè¦é‡å¤è¿™ä¸ªè¿‡ç¨‹, ç›´åˆ°i>=jä¸ºæ­¢, æ­¤æ—¶åªè¦æœ€åæŠŠpivotå’Œj( æ³¨æ„æ˜¯jè€Œä¸æ˜¯i )æŒ‡å‘çš„å…ƒç´ äº¤æ¢å³å¯: æ‰€ä»¥pivotçš„ä½ç½®å°±æ˜¯j, å‡½æ•°è¿”å›jå³å¯. javaå®ç°: int partition ( int [] a , int lo , int hi ) { int pivot = a [ lo ] , i = lo , j = hi ; while ( true ) { for (; j >= lo && a [ j ]>= pivot ; j --);// move j to a point where a[j]<pivot for (; i <= hi && a [ i ]<= pivot ; i ++ ); // move i to a point where a [ i ]> pivot if ( i >= j ) break ; // break if i and j meets swap ( a , i ++ , j --); } swap ( a , lo , j ); // swap pivot with a [ j ] return j ; } è¿™é‡Œæœ‰å‡ ç‚¹è¦æ³¨æ„çš„: è®©jå…ˆç§»åŠ¨ æœ€åpivotè¦å’Œjäº¤æ¢è€Œä¸æ˜¯å’Œiäº¤æ¢: å› ä¸ºæœ€åæ”¾åœ¨æœ€å·¦è¾¹çš„åº”è¯¥æ˜¯ä¸€ä¸ªå°äºpivotçš„æ•°å˜› ç§»åŠ¨çš„æ—¶å€™åˆ«å¿˜äº†éœ€è¦åŠ æ•°ç»„ä¸‹æ ‡çš„è¾¹ç•Œæ£€æŸ¥( i<=hi , j>=lo ) partition()çš„å¤æ‚åº¦æ˜¯çº¿æ€§çš„ O(n) Knuth shuffle qsortä¹‹æ‰€ä»¥å¿«, æ˜¯å› ä¸ºæ¯æ¬¡éƒ½èƒ½å¤ŸæŒ‰ç…§pivotåˆ†ä¸ºå¤§è‡´åŒæ ·é•¿åº¦çš„ä¸¤ä¸ªå­æ•°ç»„(æ‰€ä»¥æ¯æ¬¡å­é—®é¢˜çš„è§„æ¨¡é™¤ä»¥äºŒ), æ‰€ä»¥å¤æ‚åº¦ä¸º O(NlogN) . æœ€åæƒ…å†µä¸‹, å¦‚æœæ¯æ¬¡ä¸¤ä¸ªå­æ•°ç»„ä¸­å¯èƒ½æœ‰ä¸€ä¸ªé•¿åº¦ä¸º0, é‚£ä¹ˆæ¯æ¬¡å­é—®é¢˜çš„è§„æ¨¡åªå‡å°‘äº†1, æ‰€ä»¥å¤æ‚åº¦å˜æˆäº†quadratic O(N2) . ä¸ºäº†é˜²æ­¢è¿™ç§æœ€åæƒ…å†µçš„å‡ºç°, å¯ä»¥åœ¨ä¸€åˆ‡å¼€å§‹ä¹‹å‰æŠŠæ•°ç»„æ‰“ä¹±é¡ºåº, æ‰€ä»¥è¿™ä¸€èŠ‚è®¨è®ºå¿«é€Ÿshuffleçš„ç®—æ³•. æœ€ç»å…¸çš„å°±æ˜¯Knuthçš„shuffleç®—æ³•äº†, ç®—æ³•å¾ˆç®€ç­”, æè¿°ä¸º: for(k=1 to n): æ¯æ¬¡æŠŠç¬¬kä¸ªå…ƒç´ å’Œå‰kä¸ªå…ƒç´ ä¸­çš„éšæœºä¸€ä¸ªå…ƒç´ äº¤æ¢. ä»£ç åªæœ‰ä¸¤è¡Œ: void shuffle(int[] a){ for(int K=0; K<a.length; K++) swap(K, Random.nextInt(K+1)); } å…³äºç®—æ³•çš„æ­£ç¡®æ€§, å…¶å®åªè¦è¯æ˜\"å…ƒç´ iåœ¨shuffleåæœ€ç»ˆä½äºä½ç½®i\"çš„æ¦‚ç‡ä¸º1/Nå³å¯, ä¸éš¾è¯æ˜. quick sort å¥½äº† æœ‰äº†ä»¥ä¸Šä¸¤ä¸ªè¾…åŠ©å‡½æ•°å°±å¯ä»¥å†™qsortå‡½æ•°äº†: void qsort(int[] a, int lo, int hi){//recursive helper function if(lo>=hi) return; int p = partition(a, lo, hi); qsort(a, lo, p-1); qsort(a, hi, p+1); } void qsort(int[] a){ shuffle(a); qsort(a, 0, a.length-1); } å…¶å®qsortçš„ä¸»ä½“å°±æ˜¯é‚£ä¸ªpartitionå‡½æ•°, å•ç‹¬æŠŠpartitionåˆ—å‡ºæ¥æ˜¯å› ä¸ºå®ƒä¸æ­¢å¯ä»¥ç”¨åœ¨æ’åº, è¿˜å¯ä»¥ç”¨æ¥åšquick select, è§quick selectèŠ‚. quick select å¯¹äºä¸€ä¸ªæ²¡æœ‰æ’åºçš„æ•°ç»„, å¦‚ä½•å¿«é€Ÿæ‰¾åˆ°å®ƒçš„ä¸­å€¼(median)? ä»¥ä¸Šè¿™ä¸ªé—®é¢˜çš„ç­”æ¡ˆå°±åœ¨ partition() å‡½æ•°. ä¹‹å‰è¯´è¿‡, partition() å‡½æ•°çš„è¿”å›å€¼è¡¨ç¤ºpivotåœ¨æ’åºå¥½çš„æ•°ç»„ä¸­çš„ä½ç½®(rank), è¿™ä¸ªæ¶ˆæ¯éå¸¸æœ‰ç”¨: ä¸­å€¼åªä¸è¿‡æ˜¯rankç­‰äºé•¿åº¦é™¤ä»¥2çš„å…ƒç´ è€Œå·². ä¸ºäº†å¯»æ‰¾rankç­‰äºkçš„å…ƒç´ , æˆ‘ä»¬ç”¨partitionå‡½æ•°å¯ä»¥æ¯æ¬¡æŠŠé—®é¢˜è§„æ¨¡ç¼©å°: å¦‚æœpartition()=p ké‚£ä¹ˆå³è¾¹subarrayä¸ç”¨è€ƒè™‘, å¦‚æœæ•°ç»„äº‹å…ˆshuffleè¿‡äº†çš„è¯, é—®é¢˜è§„æ¨¡æ¯æ¬¡ç¼©å°ä¸€åŠ. å®šä¹‰ä¸€ä¸ªå‡½æ•°, å¯»æ‰¾rankç­‰äºkçš„å…ƒç´ , ä»£ç ç±»ä¼¼äºäºŒåˆ†æŸ¥æ‰¾: int findKth ( int [] a , int k ) { shuffle ( a ); int lo = 0 , hi = a . length - 1 ; while ( lo < hi ) { int p = partition ( a , lo , hi ); if ( p == k ) return a [ k ] ; else if ( p < k ) lo = p + 1 ; else hi = p - 1 ; } return a [ k ] ; } è¯¥ç®—æ³•å†…å±‚å¾ªç¯ä¸ºO(hi-lo), æ¯æ¬¡é—®é¢˜è§„æ¨¡å‡å°‘ä¸€åŠ, æ‰€ä»¥å¤æ‚åº¦ä¸ºN+N/2+N/4+...+1 = 2N, å¤æ‚åº¦ä¸ºçº¿æ€§æ—¶é—´! 3-way qsort qsortä¹‹å‰æœ‰ä¸ªbug: åœ¨æ•°ç»„é‡Œå¾ˆå¤šé‡å¤å…ƒç´ çš„æ—¶å€™, æ•ˆç‡ä¼šä¸‹é™ä¸ºO(N2). åŸå› æ˜¯qsortæ²¡æœ‰å¥½å¥½å¤„ç†é‡å¤å…ƒç´ çš„é—®é¢˜. äºæ˜¯Dijkstraæå‡ºäº†ä¸€ä¸ª 3-way partition çš„ç®—æ³•: æŠŠæ•°ç»„åˆ†ä¸ºä¸‰éƒ¨åˆ†: å·¦è¾¹ [lo, lt) ä¸¥æ ¼å°äºpivot, ä¸­é—´ [lt, gt] ç­‰äºpivot, å³è¾¹ (gt, hi] ä¸¥æ ¼å¤§äºpivot. ç®—æ³•åˆå§‹åŒ– lt=lo, gt=hi, i=lo , ç”¨æŒ‡é’ˆiå‘å³æ‰«æ, [i,gt]ä¸ºæœªå¤„ç†åˆ°çš„éƒ¨åˆ†. ç®—æ³•å¾ˆsubtle, invariantæ˜¯è¿™æ ·çš„: a[lo,lt-1] < pivot a[lt, i-1] = pivot a[i,gt] = unseen a[gt+1, hi] > pivot è¿™ä¸ªå›¾å¾ˆæœ‰åŠ©äºå†™ä»£ç : void qsort3way ( int [] a , int lo , int hi ) { if ( hi <= lo ) return ; int lt = lo , i = lo , gt = hi , pivot = a [ lo ] ; while ( i <= gt ) { // [ i,gt ] is unseen elements if ( a [ i ]== pivot ) // a [ lt,i-1 ] are elements == pivot i ++ ; else if ( a [ i ]> pivot ) // a [ gt+1, hi ] are elements > pivot swap ( a , gt --, i); else // a [ lo, lt-1 ] are elements < pivot swap ( a , lt ++ , i ++ ); } qsort3way ( a , lo , lt - 1 ); qsort3way ( a , gt + 1 , hi ); } è¯´å®ƒå¾ˆsubtle, é™¤äº†å› ä¸ºæ²¡æœ‰é‚£ä¸ªå›¾æˆ‘å†™ä¸å‡ºæ¥ä»¥å¤–, è¿˜æœ‰å°±æ˜¯, åœ¨æŠŠiå’Œltäº¤æ¢æ—¶, iå¯ä»¥increment (å› ä¸ºæˆ‘ä»¬çŸ¥é“ a[lt]==pivot ), ä½†æ˜¯iå’Œgtäº¤æ¢æ—¶, i ä¸èƒ½ increment: å› ä¸ºa[gt]ä¸çŸ¥é“å¤šå¤§, æ‰€ä»¥iä½ç½®è¦ç»§ç»­æ£€æŸ¥. å¦å¤–è¯´ä¸€å¥, quicksortçš„æ€æƒ³åœ¨radix sortå’Œtrieé‡Œé¢ä¹Ÿæœ‰é—ªç°, è§æˆ‘å…³äºè¿™ä¸¤ä¸ªä¸»é¢˜çš„MOOCç¬”è®°...","tags":"tech","title":"quick sort and more: å¿«é€Ÿæ’åºç®—æ³•æ€»ç»“"},{"url":"https://x-wei.github.io/notes/algoII_week4_1.html","text":"More efficient version of symbol-table where the keys are strings. 1. R-way Tries Two implementations of symbol tables that we've seen: when keys are strings: ( L =string length, N =number of strings, R =radix) for string keys â‡’ do better by avoiding examing the entire key. goal: faster than hashtable, more flexible than BST ! String Symbol Table API public class StringST<V>{// implements ST<String, V> public void put(String key, V val); public V get(String key); public void delete(String key); } R-way tries A trie is a tree where: except the root, each node store characters (instead of string keys) â€” in fact the chars are stored in links each node has R children store value in node if the node corresponds to the last char in key. example: ( a trie ) search in a trie get() hit if when search ends the node has a non-null value miss if reach a null link or have null value when search ends. insertion in a trie put() follow the links as the chars indicate in the key â†’ if meet null links: create new node â†’ when reach last char in key: set the value of the node Java implementation trie node class: in each node use an array of size R to store links... private static class Node { private Object val ; // because cannot create arries of generic type ( array of Node ) private Node [] next = new Node [ R ] ; // chars are implicitly defined by link index } å¦å¤–å…³äºä¸ºä»€ä¹ˆå†…éƒ¨ç±»Nodeå£°æ˜ä¸ºstatic, å‚è€ƒè¿™é‡Œ: http://www.geeksforgeeks.org/static-class-in-java/ implementation: use private recursive methods, å’ŒBSTçš„å®ç°ç±»ä¼¼, å®šä¹‰ä¸€ä¸ªé€’å½’çš„privateå‡½æ•°, è¿”å›æ’å…¥åçš„Node, å¾ˆæœ‰ç”¨. public class TrieST < Value > { pirvate final int R = 256 ; // ASCII chars private Node root = new Node (); private static class Node { private Object val ; // because cannot create arries of generic type ( array of Node ) private Node [] next = new Node [ R ] ; // chars are implicitly defined by link index } public void put ( String key , Value val ) { this . put ( root , key , val , 0 ); // use private recursive helper method } private Node put ( Node x , String key , Value val , int d ) { // ` d ` is the index of char to put // returns the inserted node if ( x == null ) x = new Node (); if ( key . length () == d ) x . val = val ; else { char c = key . charAt ( d ); x . next [ c ] = put ( x . next [ c ] , key , val , d + 1 ); } return x ; } public boolean contains ( String key ) { return get ( key ) != null ; } public Value get ( String key ) { Node nd = this . get ( root , key , 0 ); if ( nd == null ) return null ; return ( Value ) x . val ; // cast back } private Node get ( Node x , String key , int d ) { // returns the node that contains val for key if ( x == null ) return null ; if ( d == key . length ()) return x ; char c = key . charAt ( d ); else return get ( x . next [ c ] , key , d + 1 ); } } delete node in trie: find the node and set the val to null if a node has 0 links(leaf) and val==null: delete it and recursivly go up. analysis time: search hit â€” L nodes examined. serach miss â€” sublinear in L space: each node has R links (possibly null) â€” too much memory for large R ! Application interview question: data structure for spell checking. 2. Ternary Search Tries Solution to the memory issue of R-way tries â€” much fewer null links. ternery=tuple of 3... TST: store chars (and vals) explicitly in nodes each node has 3 children: smaller, larger: TST that starts with char smaller/bigger than its char c. equal: the TST with keys that starts with this char c (æ‰€ä»¥é™¤äº†ç”¨smaller/largerè¿æ¥çš„èŠ‚ç‚¹åœ¨Rway trieé‡Œå±äºåŒä¸€å±‚ ç±»ä¼¼äº3-way radix sort(åŒä¸€ç¯‡paperé‡Œæå‡ºçš„), æœ‰æœ‰ç‚¹RBTreeçš„æ„æ€... searching in TST: quite similar to BST search, will go down (\"equal\" or \"middle\") when the current node matchs current char... Implementation Node class: private class Node{ private Value val; private char c;// store char explicitly private Node left, mid, right; } TST class (again use recursive helper functions) æœ‰ä¸€ç§å†™BSTä»£ç çš„æ„Ÿè§‰, å¦å¤–ç”±äºè¿™æ¬¡charæ˜¯æ˜¾å¼å­˜åœ¨nodeé‡Œ, ä»£ç åè€Œæ›´å¥½ç†è§£äº†... public class TST<Value>{ private class Node{...}; private Node root; public void put(String key, Value val){ this.put(root, key, val, 0); } private Node put(Node x, String key, Value val, int d){ char c = key.charAt(d);// char to process if(x==null) x = new Node(c); if(c==x.c) { if(d==key.length()-1) x.val = val; else x.mid = put(x.mid, key, val, d+1);// d+1 means we go down one level } else if (c<x.c) x.left = put(x.left, key, val, d);// do not increment if the current char is not matchd else x.right = put(x.right, key, val, d); return x; } public Value get(String key){ Node nd = this.get(root, key, 0); if(nd==null) return null; return nd.val; } private Node get(Node x, String key, int d){ if(x==null) return null; char c = key.charAt(d); if(x.c==c) { if(d==key.length()-1) return x; else return get(x.mid, key, d+1); } else if(c<x.c) return get(x.left, key, d); else return get(x.right, d); } } Hybrid of TST and Rway trie at root: do R&#94;2 branching other nodes are TSTs analysis space cost: linear in N. time: if keys arrive in rand order... (can use rotation to get worst-case guarantee..) Hashing vs. TST Hashing: need to check entire key no matter hit or miss performance relies on hash functions donot support ordered operations TST: examines just enough chars support ordered operations 3. Character-Based Operations some very useful char-based operations: prefix match wildcard match : use a dot to represent any char longest prefix : find the key that is the longest prefix of a string API public class TrieST<Value>{ // functions decalred before.. Iterable<String> keys; Iterable<String> keysWithPrefix(String s); Iterable<String> keysThatMatch(String s); Iterable<String> longestPrefixOf(String s); } keys(): ordered iteration keys() : just an inorder-traversal of the Rway trie â†’dfs, + maintain the chars in the path (root to current node). public Iterable < String > keys () { Queue < String > q = new Queue < String > (); collect ( root , \"\" , q ); // helper fcn return q ; } private void collect ( Node x , String pathstr , Queue q ) { if ( x == null ) return ; if ( x . val != null ) // if this is a key q . enqueue ( pathstr ); // pathstr is the string of chars from root to x for ( char c = 0 ; c < R ; c ++ ) // dfs collect ( x . next [ c ] , pathstr + c , q ); } prefix match very useful: ex. autocomplete, search bar, ... implementationâ‡’ just find the end of that prefix, then call keys() on the subtrie . ä¹‹å‰å†™çš„ä¿©helper functionè¿™é‡Œå‘æŒ¥ä½œç”¨äº†: public Iterable<String> keysWithPrefix(String prefix){ Node subtrieRoot = get(root, prefix, 0); Queue<String> q = new Queue<String>(); collect(subtrieRoot, prefix, q); return q; } longest prefix â‡’ just do a search and keep track of the longest key that we encounterd. public String longestPrefixOf ( String s ) { int len = search ( root , s , 0 , 0 ); return s . substring ( 0 , len ); } private int search ( Node x , String s , int d , int len ) { if ( x == null ) return len ; if ( x . val != null ) len = d ; // this is the current longest prefix if ( d == s . length ()) return length ; char c = s . charAt ( d ); return search ( x . next [ c ] , s , d + 1 , len ); } application: T9 texting classique... Gé¢è¯•ä»¥åŠXçš„TPé‡Œéƒ½æœ‰æ¶‰åŠè¿‡... first: generate all string combinations second: call get() on the trie of dictionaries. Other Variants Patricia trie improvement: remove the one-eay branching (put >1 chars in a node). suffix tree patricia tree of the suffix linear time construction ongest repeated substring, longest common substring, longest palindromic substring, substring search, tandem repeats... å¥½æœ‰ç”¨!!... Summery","tags":"notes","title":"[Algorithms II] Week 4-1 Tries"},{"url":"https://x-wei.github.io/notes/algoII_week3_2.html","text":"This week: string sort. 1. Strings in Java char data type char in C 8-bit integer, 256 characters, 7-bit ASCII code char in Java 16-bit Unicode String data type String : immutable sequence of characters operations: lengthe, ith char, substring, concatenate implementation: using a char[] , maintain a length and an offset. â‡’ substring methode is O(1) time. StringBuilder data type StringBuilder : mutable data type. implementation: using a resizing char[] array (ArrayList). â‡’ contat in (amortized) constant time, substring in linear time ! ex. reverse a string: linear using StringBuilder, quad using String. form an array of suffixes: quad (time&space) using StringBuilder, linear (time&space) using String. Longest Common Prefix: runs in linear/subinear time â‡’ compareTo() for strings takes (sub)linear time! Alphabet alphabet different for different type of string (ex. binary numbers, DNA, ...) def. Radix R is number of digits in alphabet. 2. Key-Indexed Counting review of compare-based sorting algorithms: lower-bound for compare-based algorithms: ~ NlgN (=Lg(N!)) â‡’ goal: do better by avoiding using compares. Key-indexed counting is an algorithm to sort by character(ex. sort array of string by their 1st character). Assumption: keys are integers between 0 and R-1 (<<N, small integer). â‡’ use keys as array index, to sort an array of N integers between 0 and R-1 . [algo] count freq of each key index (of size R+1 ) using count array, compute a cumulated freq (cumsum of count[] ) the cumsum[] array stores the index range of each key index: index range of key-i in sorted array is [cumsum[i], cumsum[i+1]] then get the sorted array by going through the array and using cumsum[] array â‡’ public void keyIndexCounting ( int [] a , int R ) { // entries in a [] are in range [ 0,R-1 ] int N = a . length ; int [] count = new int [ R+1 ] ; // count [ i ] = freq of key i - 1 , count [ 0 ] = 0 for ( int ai : a ) count [ ai+1 ]++ ; int [] cumsum = count ; // cumsum = cumulated freq for ( int i = 0 ; i < R ; i ++ ) cumsum [ i+1 ] += cumsum [ i ] ; // the ranges of key i in sorted array should be [ cumsum[i ] , cumsum [ i+1 ] ] int [] aux = new int [ N ] ; for ( int ai : a ) aux [ cumsum[ai ]++ ] = ai ; a = aux ; } analysis running time: linear in time and in space. stable sorting: that's why we need the cumsum and aux array... 3. LSD Radix Sort LSD = least significant digit (for string sorting) (assume strings all of same length) idea: consider chars from right to left sort using dth character as key (using key-indexed counting) important: the key-indexed counting should be stable. analysis time: W * N (W=length of string) correctness: prop . LSD sorting works pf. by induction on i prove that: after pass i, strings are sorted by last i characters. implementation public static LSDsort ( String [] a , int W ) { // W = fixed width int R = 256 ; // for ASCII chars int N = a . length ; String [] aux = new String [ N ] ; for ( int d = W - 1 ; d >= 0 ; d --){//W passes // key - indexed counting at digit d int count = new int [ R+1 ] ; for ( String s : a ) count [ s.charAt[d ]+ 1 ] ++ ; for ( int i = 0 ; i < N ; i ++ ) count [ i+1 ] += count [ i ] ; // count = cumsum ( count ), range of each key for ( String s : a ) aux [ s.charAt[d ]++ ] = s ; // put each key in right place for ( int i = 0 ; i < n ; i ++ ) a [ i ]= aux [ i ] ; } } if keys are binary numbers â†’ break into bit characters then apply LSD. if not fixed length â†’ some fix.. sort 1 million 32-bit integers? (Google/Obama interview) â‡’ LSD string sort~ 4. MSD Radix Sort most-significant-digit first (from left to right) Idea. partition array into R pieces according to first character (the count[] array is the partition) recursively sort each subarrays variable length: end-of-string are treated as before any char implementation private static void sort ( String [] a , String [] aux , int lo , int hi , int d ) { if ( hi <= lo ) return ; // sort by dth character int count = new int [ R+2 ] ; // R + 2 as we are taking account into the end - of - strings !! for ( int i = lo ; i <= hi ; i ++ ) count [ a[i ] . charAt ( d ) + 2 ] ++ ; // charAt ( end - of - string ) =- 1 for ( int i = 0 ; i < R ; i ++ ) count [ i+1 ] += count [ i ] ; // cumsum for ( int i = lo ; i <= hi ; i ++ ) aux [ count[a[i ] . charAt ( d ) + 1 ] ++ ] = a [ i ] ; for ( int i = lo ; i <= hi ; i ++ ) a [ i ] = aux [ i-lo ] ; // attention : aux is filled from index 0 instead of lo // recursively sort each subarray ( R subarrays in total , ranges stored in count [] ) for ( int r = 0 ; r < R ; r ++ ) sort ( a , aux , lo + count [ r ] , lo + count [ r+1 ]- 1 , d + 1 ); } analysis can recycle aux[] , but not count[] . too slow for small subarrays (if len(subarray)<<R) huge nb of subarrays because of recursion improvement â‡’ cutoff to insertion sort... characteristics of MSD sort: examines just enough chars to sort. â†’ can be sublinear in N. MSD vs. quicksort disadvantages for MSD: random access of memory (cache inefficient) too many instructions in inner loop extra space for count[] extra space for aux[] disadvantages for qsort: NlgN nb of string compares has to rescan many chars for keys with long prefix matches 5. 3-way Radix Quicksort â‡’ combine benefits of qsort and MSD. idea: do 3-way partition by the dth character . less overhead than R-way partitioning for MSD do not re-examine chars equal to the partitioning char Implementation modification of the 3-way qsort. private static sort ( String [] a , int lo , int hi , int d ) { if ( hi <= lo ) return ; int lt = lo , gt = hi , i = lo + 1 ; // use 3 pointers : lt , i , gt char pivot = a [ lo ] . charAt ( d ); while ( i <= gt ) { // invariant : a [ lo,lt)<pivot, a(gt,hi ]> pivot , a [ lt,i ]= pivot char c = a [ i ] . charAt [ d ] ; if ( c < pivot ) exch ( a , lt ++ , i ++ ); else if ( c > pivot ) exch ( a , i , gt --); else : i ++ ; } // 3 - way partition sort ( a , lo , lt - 1 , d ); if ( pivot >= 0 ) sort ( a , lt , gt , d + 1 ); // pivot < 0 means end - of - string sort ( a , gt + 1 , hi , d ); } analysis wrt. qsort: from NlgN string compares to NlgN char compares. avoids re-comparing long common prefixes. wrt. MSD: short inner loop cache friendly in-place 6. Suffix Arrays ( some applications of suffix array) keyword-in-context search given N chars (N huge), preprocess it to enable fast substring search. â‡’ suffix sort generate suffix array (linear time & space ) sort on the suffix â‡’ brings repeated suffixes together longest repeated substring brute force algorithm try all i, j as starts of indices, then compute longest common prefix (LCP) â†’ O(D*N2) where D is length of longest repeated substring. â‡’ use suffix array sorting suffix array will bring repeated substrings together java code: // int lcp ( String s1 , String s2 ) defined public static lrs ( String s ) { int N = s . length ; String [] suffix = new String [ N ] ; for ( int i = 0 ; i < N ; i ++ ) suffix [ i ] = s . substring ( i ); // construct suffix array Arrays . sort ( suffix ); // sort suffix array ==> using 3 - way radix sort // one pass to get longest repeated substring ( bigest lcp ) String lrs = \"\" ; for ( int i = 0 ; i < N - 1 ; i ++ ) { int lcp = lcp ( suffix [ i ] , suffix [ i+1 ] ); if ( lcp > lrs . length ) lrs = suffix [ i ] . substring ( 0 , lcp ); } return lrs ; } lrs worst-case input : lrs very long (say N/2). â‡’ quadratic for lrs and for sorting. â†’ improvement of lrs for worst-case performance: Manber-Myers algo sketch: phase 0: sort suffix[] on 1st char phase i: given suffix[] is sorted based on first 2&#94;(i-1) chars â†’ create suffix[] sorted on first 2&#94;i chars. each phase: double the nb of chars sorted on. maintain an inverse[] array, to make comparisons constant time. performance: NlgN String sorting summery can have linear sort: use chars as array index sublinear sort: not all date need to be examined 3-way radix qsort is asymptotically optimal","tags":"notes","title":"[Algorithms II] Week 3-2 Radix Sorts"},{"url":"https://x-wei.github.io/soft/TeXmacs_intro.html","text":"ä»Šå¤©ä»‹ç»ä¸€ä¸ªè®ºæ–‡å†™ä½œçš„ç¥å™¨: TeXmacs ! 0. Why TeXmacs? ä¸€è¯´åˆ°\"è®ºæ–‡å†™ä½œç¥å™¨\"ä¸€èˆ¬å¤§å®¶é¦–å…ˆæƒ³åˆ°çš„å°±æ˜¯LaTeX, ç¡®å®LaTeXå†™å‡ºæ¥çš„æ•°å­¦å…¬å¼å’Œæ–‡ç« çš„æ’ç‰ˆéå¸¸æ¼‚äº®. ä½†æ˜¯ä½œä¸ºä¸€ä¸ªå‡ å¹´æ¥ç”¨è¿‡LaTeXå†™è¿‡å‡ æ¬¡æŠ¥å‘Šçš„å°ç™½ç”¨æˆ·, è¯´å¥å®è¯æˆ‘ä»æ¥éƒ½æ²¡æœ‰å–œæ¬¢ä¸Šè¿‡LaTeX. æ ¹æœ¬çš„åŸå› å¤§æ¦‚æ˜¯: LaTeXçš„è¯­æ³•æ˜¯ä¸€ç§æ ‡è®°è¯­è¨€(markup language), æœ¬è´¨ä¸Šæ˜¯ç»™æœºå™¨çœ‹è€Œä¸æ˜¯ç»™äººçœ‹çš„â€”å°±åƒhtmlæºä»£ç æ˜¯ä¸ºäº†ç»™æµè§ˆå™¨çœ‹è€Œä¸æ˜¯ç›´æ¥ç»™äººçœ‹çš„. 0.0 LaTeXå¼ºè¿«ç—‡è‡ªæµ‹ çŸ©é˜µAçš„è½¬ç½®, ä½ ç”¨texä¼šæ€ä¹ˆå†™? â‡’ å¦‚æœä½ ä¸èƒ½å®¹å¿ç›´æ¥å†™æˆ $A&#94;T$ , è€Œä¸€å®šè¦å†™æˆç±»ä¼¼ $\\textbf{A}&#94;\\intercal$ çš„è¯... è¯·ç›´æ¥å¿½ç•¥æœ¬æ–‡ & ç»§ç»­ç”¨LaTeX, å¥½èµ°ä¸é€...... (å¦: å¼ºè¿«ç—‡å¯ä»¥å»è¿™é‡Œçœ‹åˆ°åº•æ€ä¹ˆæ‰“è½¬ç½®: http://tex.stackexchange.com/questions/30619/what-is-the-best-symbol-for-vector-matrix-transpose ) å¦‚æœä½ è®¤ä¸ºè¿™æ ·çš„ç»†èŠ‚ä¸é‡è¦, å¥½å¥½æè¿°æ•°å­¦é—®é¢˜æœ¬èº«æ‰æœ€é‡è¦çš„è¯, è¯·ç»§ç»­é˜…è¯». 0.1 TeXmacsæ˜¯ä»€ä¹ˆ ç®€è¨€ä¹‹, TeXmacsæ˜¯ä¸€ä¸ªæ‰€è§å³æ‰€å¾—çš„ç¼–è¾‘å™¨. ä½ ä¹Ÿè®¸æƒ³åˆ°äº†LyX, TeXworksä¹‹ç±»çš„å·¥å…·, ä½†æ˜¯TeXmacså’Œå®ƒä»¬ä¸ä¸€æ ·â€”å®ƒå¹¶ä¸ä¾èµ–LaTeX. ä»–å¸æ”¶äº†LaTeXçš„ä¼˜ç‚¹, å³æ–‡ç« çš„æ’ç‰ˆéå¸¸ç¾è§‚. åŒæ—¶å®ƒåˆä¸åŒäºLaTeX, æ¯”å¦‚, åœ¨TeXmacsé‡Œæ˜¯ æ²¡æœ‰ \"æºæ–‡ä»¶\"è¿™ä¸ªæ¦‚å¿µçš„. å¦å¤–å®ƒè¿˜æœ‰ä¸€äº›éå¸¸å®ç”¨çš„ç‰¹æ€§(å°¤å…¶æ˜¯å¯¹äºæ•°å­¦å…¬å¼çš„æ”¯æŒ), å¯ä»¥æå¤§çš„æé«˜ç¼–è¾‘æ•ˆç‡. ä½œè€…: Joris van der Hoeven ( http://www.TeXmacs.org/joris/main/joris.html , prof@X ) å®˜ç½‘: http://TeXmacs.org/tmweb/home/welcome.en.html åœ¨å®˜ç½‘ä¸Šæœ‰ä¸¤ä¸ªçŸ­è§†é¢‘, ä»‹ç»äº†TeXmacsçš„ç®€å•ç”¨æ³•: http://TeXmacs.org/tmweb/home/videos.en.html æˆ‘è‡ªå·±æ„Ÿè§‰å†™åŒæ ·çš„å†…å®¹, æ¯”å¦‚å†™åŒæ ·ä¸€é¡µçº¸çš„æ•°å­¦æ¨å¯¼, ç”¨TeXmacså¤§æ¦‚æ¯”LaTeXå¿«10å€... å¦å¤–å¦‚æœä½ å‘ç°è¿™ä¸€é¡µçº¸çš„æ¨å¯¼ä¸­é—´æœ‰ä¸€æ­¥æœ‰é”™è¯¯è¦ä¿®æ”¹çš„è¯...é‚£ä¹ˆTeXmacså¤§æ¦‚è¦å¿«100å€å§... æœ€æ—©å¬åˆ°TeXmacsçš„åå­—æ˜¯çœ‹åˆ°è¿‡ç‹å çš„ä¸€ç¯‡ åšå®¢ , åæ¥æˆ‘æƒŠå¥‡åœ°å‘ç°TeXmacsçš„ä½œè€…å±…ç„¶æ˜¯Xçš„ä¸€ä½è€å¸ˆ!! æ‰€ä»¥æ›´è¦é«˜ä¸¾å®‰åˆ©TeXmacsçš„å¤§æ——äº†. btw, åœ¨Xä¸‰å¹´æ—¶é—´, é™¤äº†æˆ‘è‡ªå·±å’Œè¢«æˆ‘å®‰åˆ©çš„ManuåŒå­¦, å¹¶æ²¡æœ‰è§æœ‰åˆ«äººç”¨TeXmacs...å”‰. 0.2 LaTeXåæ§½ æ­£å¼å®‰åˆ©TeXmacsä¹‹å‰, å…ˆè¿™é‡Œä¸¾ä¸€äº›æˆ‘ä¸è®¤ä¸ºLaTeXå¯ä»¥è®©äººé«˜æ•ˆç¼–è¾‘æ–‡ç« çš„åŸå› , å¦‚æœä½ è®¤åŒå¤§éƒ¨åˆ†ä¸‹é¢çš„åæ§½, æ¬¢è¿ç»§ç»­é˜…è¯»æœ¬æ–‡. é‡ç”³ä¸€é, markupçš„è¯­æ³•ä¸æ˜¯è®©äººçœ‹çš„ : è¦æ˜¯å¿˜è®°ä¸€ä¸ªå¤§æ‹¬å·æˆ–è€…å°‘äº†ä¸ªåæ–œæ å°±ç¼–è¯‘å‡ºé”™æ‰¾åŠå¤© è¯·é—®æ¯ä¸ªtexæ–‡ä»¶å¼€å¤´é‚£åæ¥è¡Œusepackageä»€ä¹ˆçš„è°èƒ½è®°ä½?... æˆ‘æ¯æ¬¡è¦ä¹ˆä¸Šç½‘æœè¦ä¹ˆä»ä»¥å‰çš„texæ–‡ä»¶é‡ŒæŠ„è¿‡æ¥... å…¬å¼æ˜¯æœ€ç—›è‹¦çš„: å¥½å‡ è¡Œçš„æ•°å­¦æ¨å¯¼, ç„¶åæ¯è¡Œçš„å†…å®¹åˆå·®ä¸å¤šçš„è¯, ç¼–è¾‘èµ·æ¥çœ¼å¿«çäº† æƒ³è¦æ’å…¥ä¸ªæˆªå›¾è¿˜å¾—å…ˆä¿å­˜ä¸ºå›¾ç‰‡æ–‡ä»¶(&è¿˜å¾—è´¹æ—¶é—´èµ·ä¸ªæ–‡ä»¶å): å°±ä¸èƒ½åƒwordé‚£æ ·ç›´æ¥ç²˜è´´è¿›å»ä¹ˆ? å¦å¤–å›¾ç‰‡çš„å¤§å°å’Œä½ç½®ä¹Ÿè¦è¯•å¥½å‡ æ¬¡æ‰çŸ¥é“æ€ä¹ˆåˆé€‚ ä¸€ç¼–è¯‘ç”Ÿæˆä¸€äº›ä¹±ä¸ƒå…«ç³Ÿçš„ä¸œè¥¿: xx.auxä»€ä¹ˆçš„, å†™ç¯‡å°æ–‡ç« ä¹Ÿå¾—ä¸“é—¨å»ºç«‹ä¸ªæ–‡ä»¶å¤¹æ”¾è¿™äº›ä¹±ä¸ƒå…«ç³Ÿçš„ä¸œè¥¿ LaTeXå·ç§°å¯ä»¥è®©äººä¸“å¿ƒæ–‡ç« å†…å®¹ä¸å…³å¿ƒæ’ç‰ˆ, å¯å®é™…æƒ…å†µå´æ˜¯æˆ‘æ¯å†™ä¸€å°æ®µå°±ä¼šé‡æ–°ç¼–è¯‘ç”Ÿæˆpdfçœ‹çœ‹, å› ä¸ºæˆ‘ç”Ÿæ€•å°‘å†™ä¸€ä¸ªèŠ±æ‹¬å·å¯¼è‡´åˆç¼–è¯‘ä¸æˆäº† æœ‰æ—¶ä¸ºäº†ç”¨ä¸€ä¸ªåŒ…åªå¥½å®‰è£…æ•´ä¸ªtexlive-full, ç”µè„‘ç©ºé—´ç¬é—´å°‘äº†1G... è¿˜æœ‰ä»€ä¹ˆæ¬¢è¿è¡¥å……... 0.3 TeXmacsä¼˜ç‚¹ä¸€è§ˆ TeXmacsçš„ä¼˜ç‚¹å¤§æ¦‚æ˜¯ä»¥ä¸‹å‡ ç‚¹: æ•°å­¦ç¼–è¾‘åŠŸèƒ½éå¸¸å¼ºå¤§, ç”¨äº†å†ä¹Ÿä¸æƒ³ç”¨LaTeXæºç å†™æ•°å­¦å…¬å¼ æ‰€è§å³æ‰€å¾—, ä¸å¿…è®°å¿†LaTeXå„ç§tag, æœ‰äº†å®ƒå®Œå…¨å¯ä»¥ä¸ç”¨å­¦LaTeX æ’å…¥å›¾ç‰‡å¯ä»¥ç›´æ¥åµŒå…¥tmæ–‡ä»¶(å…¶å®æ˜¯æŠŠå›¾ç‰‡åºåˆ—åŒ–ä¸ºä¸€ä¸ªå¾ˆé•¿çš„å­—ç¬¦ä¸²), ä¸å†éœ€è¦ä¸ºäº†æ’å›¾ä¸“é—¨å»ºç«‹æ–‡ä»¶å¤¹ TeXmacsä½“ç§¯å¾ˆå°: æˆ‘ç”¨çš„ç‰ˆæœ¬è§£å‹ååªæœ‰66MB å¯ä»¥ä»texæ–‡ä»¶å¯¼å…¥æˆ–å¯¼å‡ºåˆ°texæ–‡ä»¶ 0.4 TeXmacsé€‚åˆä»€ä¹ˆæ ·çš„ä»»åŠ¡? ç›®å‰ä¸ºæ­¢æˆ‘ä¸ªäººä½¿ç”¨TeXmacså†™è¿‡ä¸¤ç¯‡æ¯”è¾ƒæ­£å¼çš„æŠ¥å‘Š(å…¶ä¸­ä¸€ç¯‡è§ è¿™é‡Œ ), å¦å¤–ç”¨å®ƒå†™è¿‡ä¸€äº›è¯¾ç¨‹çš„ç®€å•æŠ¥å‘Šå’Œä½œä¸š, è¿˜ç”¨å®ƒè¿›è¡Œè¿‡ä¸€äº›æ•°å­¦çš„æ¨å¯¼æˆ–è€…è®°ç¬”è®°. ä¸ªäººæ„Ÿè§‰ä»¥ä¸‹ä»»åŠ¡éƒ½å¯ä»¥ç”¨TeXmacsé«˜æ•ˆå®Œæˆ: å„ç§æ­£å¼çš„å­¦æœ¯æŠ¥å‘Š å¸¸è§çš„è®ºæ–‡(TeXmacsé‡Œé¢å†…å»ºäº†å¾ˆå¤šconfçš„æ–‡ç« styleå¯ä»¥é€‰æ‹©) è¯¾å ‚è®°æ•°å­¦ç¬”è®°(å‰ææ˜¯æ‰“å­—é€Ÿåº¦å¿«, æœ€å¥½èƒ½ç›²æ‰“) ç®€å•å…¬å¼æ¨å¯¼, æ–°å»ºä¸ªtmæ–‡ä»¶å°±å¯ä»¥å¼€å§‹äº†, ä¸ç”¨å…´å¸ˆåŠ¨ä¼—æ–°å»ºä¸ªæ–‡ä»¶å¤¹... å¥½åƒä¹Ÿå¯ä»¥ç”¨æ¥åšppt (beamer), ä¸ªäººæ²¡æœ‰å°è¯•è¿‡ 0.5 TeXmacsä¸é€‚åˆä»€ä¹ˆæ ·çš„ä»»åŠ¡? æˆ‘è§‰å¾—TeXmacsä¸é€‚åˆçš„å°±æ˜¯LaTeXå¼ºè¿«ç—‡ç”¨æˆ·çš„ä»»åŠ¡... 1. åŸºæœ¬æ“ä½œ 1.1 ç•Œé¢ æ‰“å¼€TeXmacså¯ä»¥çœ‹åˆ°å¦‚ä¸‹çš„ç”¨æˆ·ç•Œé¢: æ­£æ–‡ä¸Šæ–¹æœ‰å››è¡Œèœå•æ : ç¬¬ä¸€è¡Œæ˜¯å¸¸è§çš„èœå•, æä¾›äº†æ‰€æœ‰åŠŸèƒ½ ç¬¬äºŒè¡Œæ˜¯ä¸€äº›å¸¸ç”¨æ“ä½œ: æ‰“å¼€/ä¿å­˜/å¤åˆ¶ç²˜è´´/å‰è¿›åé€€ç­‰ ç¬¬ä¸‰è¡Œæ˜¯æ’å…¥ä¸€äº›å¸¸è§\" ç¯å¢ƒ \"çš„å¿«æ·æŒ‰é’®, åé¢ä¼šçœ‹åˆ°. ç¬¬å››è¡Œéå¸¸æœ‰ç”¨, å®ƒå«åš\" ä¸Šä¸‹æ–‡èœå• \", å®ƒçš„å†…å®¹ä¼šéšç€å…‰æ ‡æ‰€åœ¨\" ç¯å¢ƒ \"è€Œå˜åŒ–. ç”±äºç°åœ¨å…‰æ ‡å¤„åœ¨æœ€å¼€å§‹ä½ç½®, æ­¤æ—¶ä¸Šä¸‹æ–‡èœå•æ˜¯å„ç§æ–‡ç« æ˜¾ç¤ºçš„é€‰é¡¹, å¯ä»¥é€‰æ‹©ä¸€ä¸ªstyleæ¨¡æ¿, è°ƒæ•´å­—ä½“, é¡µé¢è®¾ç½®ä»¥åŠæ–‡ç« è¯­è¨€ç­‰. åœ¨æ­£æ–‡ä¸‹é¢, çª—å£æœ€åº•ä¸‹è¿˜æœ‰ä¸€è¡Œ: å³ä¸‹è§’æŒ‡ç¤ºå½“å‰å…‰æ ‡æ‰€åœ¨å¤„çš„\" ç¯å¢ƒ \", å¯ä»¥ç†è§£ä¸ºå½“å‰å…‰æ ‡å¤„åœ¨ä»€ä¹ˆtexçš„tagé‡Œé¢, ä¾‹å¦‚å…¬å¼ç¯å¢ƒ/è¡¨æ ¼ç¯å¢ƒ/æ–œä½“å­—ç¯å¢ƒç­‰, åœ¨ç¼–è¾‘çš„æ—¶å€™å¯ä»¥æ³¨æ„ä¸€ä¸‹å³ä¸‹è§’çš„æ˜¾ç¤º. å¦å¤–ä¸€èˆ¬å¤„åœ¨æŸç§ç¯å¢ƒä¸‹é¢çš„è¯, è¯¥ç¯å¢ƒä¼šç”±çŸ©å½¢è¾¹æ¡†æ ‡å‡º. 1.2 æ’å…¥æ ‡é¢˜ ç‚¹å‡» ä¸Šä¸‹æ–‡èœå• å³è¾¹çš„\"Title\"æŒ‰é’®å¯ä»¥åŠ å…¥æ–‡ç« æ ‡é¢˜, æ•²å›è½¦å¯ä»¥è¾“å…¥ä½œè€…å: æ³¨æ„æ­¤æ—¶å…‰æ ‡å¤„äº\"æ ‡é¢˜\"ç¯å¢ƒä¸‹, æ‰€ä»¥ ä¸Šä¸‹æ–‡èœå• æ˜¯å…³äºæ ‡é¢˜çš„åŠŸèƒ½æŒ‰é’®, ç‚¹å‡»\"Title\"å³è¾¹çš„åŠ å·å¯ä»¥åŠ å…¥å…¶ä»–ä¿¡æ¯: texmacä¹Ÿæ”¯æŒç®€å•çš„texæ ‡è®°, æ¯”å¦‚è¦åŠ å…¥æ—¥æœŸçš„è¯ é™¤äº†ç”¨ä¸Šé¢çš„èœå•, ä¹Ÿå¯ä»¥è¾“å…¥ \\date ç„¶åæ•²ä¸¤æ¬¡å›è½¦å³å¯: 1.3 æ’å…¥æ¦‚è¿° ä»\"æ ‡é¢˜\"ç¯å¢ƒå‡ºæ¥ åˆå›åˆ°äº†æ•´ä¸ªæ–‡ç« çš„ç¯å¢ƒ, ä¸Šä¸‹æ–‡èœå• ä¹Ÿæ”¹å˜äº† æ­¤æ—¶ ä¸Šä¸‹æ–‡èœå• å³è¾¹æ˜¯ä¸€ä¸ªabstractæŒ‰é’®, å› ä¸ºTeXmacsçŒœæµ‹æˆ‘ä»¬åœ¨è¾“å…¥æ ‡é¢˜ä»¥åä¼šè¾“å…¥æ¦‚è¿°, ç‚¹å‡»è¿™ä¸ªæŒ‰é’®å³å¯è¿›å…¥æ¦‚è¿°ç¯å¢ƒ(è§å³ä¸‹è§’). 1.4 æ’å…¥ç« èŠ‚ ä»abstractç¯å¢ƒå‡ºæ¥, æ’å…¥ä¸€ä¸ªç« èŠ‚(texé‡Œçš„ \\section æ ‡è®°)æœ‰ä¸‰ç§åŠæ³•: åŠæ³•ä¸€: ä½¿ç”¨ç¬¬ä¸€è¡Œçš„èœå• åŠæ³•äºŒ: ä½¿ç”¨ç¬¬äºŒè¡Œçš„\"æ’å…¥ç« èŠ‚\"å›¾æ ‡ åŠæ³•ä¸‰: ç›´æ¥ç”¨texæ ‡è®°, è¾“å…¥ \\section ç„¶åå›è½¦å³å¯ 1.5 é€‰æ‹©æ ·å¼ åœ¨æœ€å¤–å±‚ç¯å¢ƒä¸‹çš„ä¸Šä¸‹æ–‡èœå•é‡Œå¯ä»¥é€‰æ‹©æ–‡ç« æ ·å¼. 1.6 æ’å…¥åˆ—è¡¨ åœ¨ç¬¬äºŒè¡Œæœ‰ä¸ªæŒ‰é’®å¯ä»¥ç›´æ¥æ’å…¥åˆ—è¡¨, æˆ–è€…ä¹Ÿå¯ä»¥è¾“å…¥ \\itemize ç„¶åå›è½¦. å…‰æ ‡åœ¨åˆ—è¡¨ç¯å¢ƒæ—¶å¯ä»¥çœ‹åˆ°ä¸Šä¸‹æ–‡èœå•çš„å†…å®¹ä¹Ÿå˜åŒ–äº†: è¿™é‡Œå†ä»‹ç»ä¸€ä¸ªéå¸¸å®ç”¨çš„å¿«æ·é”®: ctrl-tab , ä½œç”¨æ˜¯æ”¹å˜å½“å‰ç¯å¢ƒçš„æ˜¾ç¤ºæ ·å¼, æ¯”å¦‚åœ¨åˆ—è¡¨ç¯å¢ƒé‡ŒæŒ‰ä¸‹ ctrl-tab ä»¥åå¯ä»¥å˜æˆå…¶ä»–æ ·å¼(åœ†ç‚¹å˜ä¸ºäº†æ¨ªçº¿). è¿™ä¸ªå¿«æ·é”®åœ¨å…¬å¼æˆ–è€…è¡¨æ ¼ç¯å¢ƒé‡Œä¹Ÿå¾ˆå¸¸ç”¨. æŒ‰ä¸‹å¤šæ¬¡ ctrl-tab å¯ä»¥åœ¨å„ç§æ ·å¼ä¸­å¾ªç¯. 1.7 å¸¸è§æ–‡å­—æ ¼å¼: ç²—ä½“/æ–œä½“/ç­‰å®½/ä¸‹åˆ’çº¿/è¶…é“¾æ¥ ç²—ä½“å’Œæ–œä½“å¯ä»¥åƒwordä¸€æ ·ä½¿ç”¨ ctrl-b/ctrl-i åšåˆ° ç­‰å®½å¯ä»¥ç”¨ç¬¬ä¸‰è¡Œçš„å·¥å…·æ æŒ‰é’®, æˆ–è€…è¾“å…¥ \\texttt åŠ å›è½¦. ä¸‹åˆ’çº¿æˆ‘æ²¡æœ‰æ‰¾åˆ°æŒ‰é’®, ä¸è¿‡ç›´æ¥ç”¨ \\underline åŠ å›è½¦å³å¯æå®š. è¶…é“¾æ¥ä½¿ç”¨ç¬¬ä¸‰è¡ŒæŒ‰é’®å³å¯ åœ¨hyperlinkç¯å¢ƒä¸‹(æ³¨æ„ä¸Šä¸‹æ–‡èœå•åˆå˜åŒ–äº†)è¾“å…¥ä¸¤ä¸ªå‚æ•°: é“¾æ¥æ–‡æœ¬å’Œé“¾æ¥åœ°å€, ç„¶åå›è½¦å³å¯ 1.8 å®šç†/ç®—æ³•ç­‰ æ’å…¥ä¸€ä¸ªå®šç†æˆ–è€…ç®—æ³•, å¯ä»¥ç›´æ¥ç”¨ç¬¬ä¸‰è¡Œçš„æŒ‰é’®, çœ‹å›¾: 1.9 æ‰“å¼€å¤šä¸ªæ–‡ä»¶/é€€å‡ºTeXmacs å¦‚æœæ‰“å¼€äº†å¤šä¸ªtmæ–‡ä»¶, ä½¿ç”¨ä¸»èœå•çš„GoæŒ‰é’®åœ¨æ–‡ä»¶ä¹‹é—´åˆ‡æ¢: å½“å‰æ”¹åŠ¨æ²¡æœ‰ä¿å­˜çš„æ—¶å€™, æ ‡é¢˜æ çš„æ–‡ä»¶ååé¢ä¼šæœ‰ä¸€ä¸ªæ˜Ÿå·æŒ‡ç¤º. æ­¤æ—¶ç›´æ¥ç‚¹å‡»å…³é—­çš„è¯, ä¼šåœ¨æœ€ä¸‹æ–¹æœ‰ä¸ªæç¤ºæ¡†: 2. æ•°å­¦å…¬å¼ è¿™æ˜¯TeXmacsæœ€æ¿€åŠ¨äººå¿ƒçš„åŠŸèƒ½, ç”¨å®ƒç¼–è¾‘æ•°å­¦å…¬å¼éå¸¸ç•…å¿«~ 2.1 å…¬å¼ç¯å¢ƒ é¦–å…ˆä¸ºäº†è¿›å…¥æ•°å­¦å…¬å¼ç¯å¢ƒ, å¯ä»¥ç›´æ¥è¾“å…¥ $ æˆ–è€… alt-$ , alt-& (å¯¹åº”è¡Œå†…å…¬å¼/å•è¡Œå…¬å¼/å¤šè¡Œå…¬å¼). è¿™é‡Œè¯´ä¸€ä¸‹, ä¸ªäººæ„Ÿè§‰è‹±æ–‡ç•Œé¢çš„ä¸€äº›è¯æ±‡æ¯”å¦‚formula/equation, table/tabular, å‚»å‚»åˆ†ä¸æ¸…æ¥š, formulaå’Œequationçš„åŒºåˆ«åœ¨äº, equationæ˜¯å¤šè¡Œå…¬å¼... æŠŠtmæ¢æˆä¸­æ–‡ç•Œé¢çš„è¯è¿™äº›åå­—å¥½ç†è§£å¤šäº†: å¦å¤–, åˆ‡æ¢è¡Œå†…/å•è¡Œå…¬å¼ä¹Ÿå¯ä»¥ç”¨ ctrl-tab å¿«æ·é”®. åœ¨è¿›å…¥å…¬å¼ç¯å¢ƒä»¥å, æ³¨æ„ä¸æ­¢ç¬¬å››è¡Œçš„ä¸Šä¸‹æ–‡èœå•å˜æˆäº†å…¬å¼çš„æŒ‰é’®, ç¬¬ä¸‰è¡Œçš„æ’å…¥èœå•ä¹Ÿå˜ä¸ºäº†æ’å…¥ç¬¦å·çš„æŒ‰é’®: 2.2 è¾“å…¥æ•°å­¦ç¬¦å· è¿™æ˜¯æˆ‘è§‰å¾—TeXmacsæœ€çˆ½çš„åœ°æ–¹: å…¬å¼ç¯å¢ƒä¸‹(æ³¨æ„æ˜¯ åœ¨å…¬å¼ç¯å¢ƒä¸‹ ), å½¢çŠ¶ç›¸ä¼¼çš„ç¬¦å·é€šè¿‡tabè½®è½¬ . ä¾‹å­: å­—æ¯Î±å’Œå­—æ¯aå½¢çŠ¶å¾ˆåƒ, è¾“å…¥å­—æ¯ a ä»¥åç›´æ¥tabå³å¯å˜ä¸ºÎ±. âŠ—æ€ä¹ˆè¾“å…¥å‘¢? å®ƒç­‰äº @-x , åŒç†âŠ•ç­‰äº @-+ , âˆç­‰äº @@ âˆˆåƒä»€ä¹ˆ? åªè¦è¾“å…¥ < ç„¶åå¤štabå‡ æ¬¡å°±çœ‹åˆ°äº† ä¸ç­‰å·â‰ æ€ä¹ˆè¾“å…¥? ç›´æ¥è¿ç»­æ‰“ = / å³å¯ é‡åˆ°åˆ«çš„ä¸ä¼šæ‰“çš„å­—ç¬¦, å¯ä»¥ç”¨ç¬¬ä¸‰è¡Œçš„æŒ‰é’®, é¼ æ ‡æ‚¬åœå¯ä»¥æ˜¾ç¤ºç›¸åº”å¿«æ·é”®: 2.3 å…¶ä»–æ•°å­¦ç¬¦å·: ä¸Šä¸‹æ ‡/æ ¹å·/åˆ†æ•°/ç§¯åˆ†/æ±‚å’Œ/... è¾“å…¥ä¸Šæ ‡ç›´æ¥æ‰“ä¸€ä¸ª &#94; å³å¯, ä¸‹æ ‡æ˜¯ _ , å’ŒLaTeXé‡Œé¢ä¸€æ · â€” åªä¸è¿‡ä¸ç”¨çœ‹è®©äººçœ¼æ™•çš„æºç . ç¬¦å·ä¸Šæ ‡ä¸‹æ ‡(ä¸æ˜¯å³ä¸Šè§’è€Œæ˜¯æ­£ä¸Šæ­£ä¸‹): ç”¨ alt-a/alt-b (above/below) è¾“å…¥æ ¹å·å¿«æ·é”®æ˜¯ alt-s è¾“å…¥åˆ†æ•°å¿«æ·é”®æ˜¯ alt-f (å† ctrl-tab å¯ä»¥åˆ‡æ¢åˆ†æ•°çº¿çš„å¤§å°) ç§¯åˆ†å·å¯ä»¥ç”¨æŒ‰é’®æ’å…¥, æˆ–è€…ç›´æ¥ \\int å›è½¦ æ±‚å’Œå·åŒç†, å¯ä»¥ç›´æ¥è¾“å…¥ \\sum å›è½¦ ...LaTeXå’Œè¿™æ¯”èµ·æ¥ç®€ç›´å°±æ˜¯çŸ³å™¨æ—¶ä»£! æ€»ç»“ä¸€ä¸‹: 2.4 å…¬å¼ç¼–å·/å¼•ç”¨å…¬å¼ å…¬å¼åŠ å…¥ç¼–å·éå¸¸ç®€å•, ç”¨ä¸Šä¸‹æ–‡èœå•é‡Œçš„ä¸€ä¸ª\"IV\"æŒ‰é’®. å¦‚æœå¯¹ä¸€ä¸ªå…¬å¼è¿›è¡Œç´¢å¼•çš„è¯, å¯ä»¥ç›´æ¥ç”¨texé‡Œçš„ label/ref æ ‡ç­¾å®Œæˆ. é¦–å…ˆç»™è¿™ä¸ªå…¬å¼åŠ ä¸€ä¸ªlabel, åªéœ€è¦è¾“å…¥ \\label , å›è½¦åè¾“å…¥å‚æ•°(labelåå­—)å†å›è½¦å³å¯. ç„¶åè¦å¼•ç”¨è¿™ä¸ªå…¬å¼æ—¶, åªéœ€è¦è¾“å…¥ \\ref åŠ åˆšæ‰æŒ‡å®šçš„labelå³å¯: ä»¥åå¯¹äºå›¾ç‰‡/è¡¨æ ¼çš„å¼•ç”¨ä¹Ÿæ˜¯åŒæ ·é“ç†. å…³äºå¤šè¡Œå…¬å¼, å…ˆè¦ä»‹ç»è¡¨æ ¼çš„ä½¿ç”¨, è¯·çœ‹ä¸‹èŠ‚. 3. è¡¨æ ¼ åƒä¸Šé¢è¿™ä¸ªå…¬å¼çš„è¾“å…¥æ–¹æ³•, å°±æ˜¯åœ¨å¤§æ‹¬å·å³è¾¹ä½¿ç”¨ä¸€ä¸ªä¸¤è¡Œä¸€åˆ—çš„è¡¨æ ¼. 3.1 è¡¨æ ¼ç¯å¢ƒ æ’å…¥è¡¨æ ¼åªéœ€ç‚¹å‡»ç¬¬ä¸‰è¡Œçš„è¡¨æ ¼æŒ‰é’®: é‚£äº›è¯æ±‡ä¹Ÿå‚»å‚»åˆ†ä¸æ¸…æ¥š, å€’æ˜¯ä¸­æ–‡ç•Œé¢è¯´çš„å¾ˆæ¸…æ¥š: ä¸è¿‡è¿™äº›è¡¨æ ¼æ ·å¼ä¹Ÿæ˜¯å¯ä»¥é€šè¿‡ ctrl-tab å¿«æ·é”®è½®è½¬åˆ‡æ¢çš„. ç‚¹å‡»ä»¥åè¿›å…¥è¡¨æ ¼ç¯å¢ƒ, æ³¨æ„ä¸Šä¸‹æ–‡èœå•çš„æŒ‰é’®åˆå˜äº†: 3.2 å¢åŠ /åˆ é™¤è¡Œå’Œåˆ— åœ¨è¡¨æ ¼ç¯å¢ƒçš„ä¸Šä¸‹æ–‡èœå•é‡Œ, é‚£å…«ä¸ªä¸­é—´æ˜¯åŠ å·æˆ–å‰å·çš„æ–¹å‘æŒ‰é’®å°±æ˜¯å‘å„ä¸ªæ–¹å‘æ–°å»º/åˆ é™¤ä¸€è¡Œ/ä¸€åˆ—çš„. æˆ–è€…ä½¿ç”¨å¿«æ·é”®: win-æ–¹å‘é”® å¯ä»¥åœ¨å½“å‰æ ¼å­çš„å„ä¸ªæ–¹å‘æ–°å»ºè¡Œ/åˆ—, win-backspace åˆ™æ˜¯åˆ é™¤. 3.3 å¯¹é½æ¨¡å¼ æ”¹å˜è¡¨æ ¼çš„å¯¹é½æ¨¡å¼åªè¦é€‰ä¸­ç›¸åº”çš„æ ¼å­ç„¶åç”¨ä¸Šä¸‹æ–‡èœå•çš„æŒ‰é’®ç‚¹é€‰å³å¯: 3.4 çŸ©é˜µ è¾“å…¥çŸ©é˜µçš„è¯, å¯ä»¥ åœ¨å…¬å¼ç¯å¢ƒä¸‹ åµŒå¥— ä¸€ä¸ªè¡¨æ ¼ç¯å¢ƒ . é¦–å…ˆè¾“å…¥ alt-$ è¿›å…¥å…¬å¼ç¯å¢ƒ, æ­¤æ—¶å†çœ‹è¡¨æ ¼æŒ‰é’®çš„æ—¶å€™å‡ºç°äº†çŸ©é˜µé€‰é¡¹: ç„¶ååªéœ€è¦åƒä¹‹å‰è¡¨æ ¼ä¸€æ ·æ“ä½œå³å¯äº†, å…³äºå¦‚ä½•è¾“å…¥å„ä¸ªæ–¹å‘çš„çœç•¥å·, åªè¦å¤štabå‡ æ¬¡å°±å¯ä»¥äº†: ä»¥ä¸Šæˆ‘è§‰å¾—åŸºæœ¬å¤Ÿç”¨äº†, å…³äºè¡¨æ ¼çš„å…¶ä»–çš„åŠŸèƒ½å¯ä»¥å‚è€ƒtmçš„æ–‡æ¡£... 4. æ’å›¾ å…³äºæ’å›¾æˆ‘ä½¿ç”¨æœ€å¤šçš„åªæ˜¯æˆªå›¾ç„¶åç›´æ¥ä»å‰ªåˆ‡æ¿é‡Œç²˜è´´è€Œå·², è¿™é‡Œåªä»‹ç»è¿™ç§æœ€ç®€å•æœ€å¸¸ç”¨æ“ä½œ. TeXmacså®é™…ä¸Šè¿œæ¯”æˆ‘è¿™é‡Œä»‹ç»çš„å¼ºå¤§, è§è¿™é‡Œ: http://www.TeXmacs.org/tmweb/documents/tutorials/TeXmacs-graphical-plugins.pdf 4.1 å›¾ç‰‡ç¯å¢ƒ ç‚¹å‡»æŒ‰é’®æ’å…¥å›¾ç‰‡ 4.2 æ’å…¥æˆªå›¾ æˆªå›¾åœ¨clipboardçš„æ—¶å€™, åªéœ€è¦åœ¨TeXmacsé‡Œé¢ç²˜è´´å°±å¯ä»¥äº†: æˆ‘æƒ³è¦å¼ºè°ƒçš„ä¸€ç‚¹æ˜¯, ç”¨è¿™ç§æ–¹æ³•ç”»å›¾, å¯ä»¥ç›´æ¥æŠŠå›¾ç‰‡åµŒå…¥tmæ–‡ä»¶é‡Œé¢, è€Œä¸ç”¨åƒLaTeXä¸€æ ·åœ¨æ–‡ä»¶å¤¹é‡Œæ”¾ä¸€å †å›¾ç‰‡. 4.3 ç”»å›¾ TeXmacsä¹Ÿæä¾›äº†ç›´æ¥ç”»å›¾çš„åŠŸèƒ½, ä¸è¿‡æˆ‘åŸºæœ¬æ²¡è¯•è¿‡, ä¸‹å›¾æ˜¯ä¹±ç”»çš„: å¦å¤–, å…³äºå¦‚ä½•å¼•ç”¨å›¾ç‰‡/è¡¨æ ¼, åªè¦ç”¨ \\label å’Œ \\ref æ ‡ç­¾å³å¯, å‰é¢å…¬å¼ç¯å¢ƒé‡Œå·²ç»ä»‹ç»è¿‡äº†. 5. æ’å…¥ç›®å½•/å‚è€ƒæ–‡çŒ® 5.1 æ’å…¥ç›®å½• é¦–å…ˆç‚¹å‡»ç¬¬ä¸‰è¡Œçš„æŒ‰é’®æ’å…¥ç›®å½•: ä½†æ˜¯è¿™æ˜¯çš„ç›®å½•æ˜¯ç©ºçš„, è¿˜éœ€è¦æ›´æ–°ç›®å½•, æ–¹æ³•æ˜¯ç¬¬ä¸€è¡Œçš„èœå•: document â†’ update â†’ table of content ç„¶åå°±çœ‹åˆ°äº†ç›®å½•: 5.2 å‚è€ƒæ–‡çŒ® bibtexæ–‡ä»¶ é¦–å…ˆ, ä¸ºäº†å¼•å…¥å‚è€ƒæ–‡çŒ®, éœ€è¦å»ºç«‹ä¸€ä¸ª demo.bib æ–‡ä»¶, é‡Œé¢æ”¾çš„å°±æ˜¯å‚è€ƒæ–‡çŒ®çš„bibtexä»£ç , æ¯”å¦‚: @ARTICLE{lda, author = {David M. Blei and Andrew Y. Ng and Michael I. Jordan and John Lafferty}, title = {Latent Dirichlet Allocation}, journal = {The Journal of Machine Learning Research}, year = {2003} } @article{nmf, author = \"Yehuda Koren and Robert Bell and Chris Volinsky\", title = \"Matrix Faoctorization Techniques for Recommender Systems\", journal = \"IEEE Computer\", pages = \"42--49\", year = \"2009\", } @book{pci, title = \"Programming Collective Intelligence: Building Smart Web 2.0 Applications\", author = \"Toby Segaran\", year = \"2007\", } æ³¨æ„æ¯ä¸€ä¸ªentryçš„åˆ«å( lda, nmfCF, pci )æ˜¯æˆ‘è‡ªå·±å–çš„. æ’å…¥å‚è€ƒæ–‡çŒ® ç‚¹å‡»æŒ‰é’®æ’å…¥å‚è€ƒæ–‡çŒ®: ç„¶ååœ¨æœ€ä¸‹æ–¹çš„æç¤ºæ¡†è¾“å…¥æ ·å¼å(ä¸€èˆ¬å°±ç”¨é»˜è®¤tm-plain)ä»¥åŠbibæ–‡ä»¶å(å’Œtmæ–‡ä»¶åŒä¸€ç›®å½•ä¸‹): åœ¨å¼•ç”¨æ–‡çŒ®æ—¶å¯ä»¥ç”¨texæ ‡ç­¾ \\cite å¼•ç”¨æ–‡çŒ®: TeXmacsä¸ä¼šåœ¨æœ€åå‚è€ƒæ–‡çŒ®é‡Œæ˜¾ç¤ºæ²¡æœ‰è¢«å¼•ç”¨è¿‡çš„æ–‡çŒ®, é‚£äº›æ²¡æœ‰æ˜¾å¼æåˆ°çš„æ–‡ç« å¯ä»¥ç”¨æ’å…¥invisible citationçš„æ–¹å¼åŠ å…¥: æ³¨æ„, æ­¤æ—¶éœ€è¦update ä¸¤æ¬¡ æ‰å¯ä»¥çœ‹åˆ°æ•ˆæœ. 6. æ›´å¤š è¿™é‡Œåªæ˜¯ä»‹ç»äº†æœ€åŸºç¡€æœ€ç®€å•çš„ä½¿ç”¨, å…³äºæ›´å¤šçš„é«˜çº§TeXmacsä½¿ç”¨æ–¹æ³•, è¿™é‡Œæœ‰å‡ ä¸ªé“¾æ¥: tmå®˜æ–¹çš„tutorial: http://TeXmacs.org/tmweb/help/manual.en.html ä¸€äº›å…¶ä»–äººåšçš„æ–‡ç« : http://TeXmacs.org/tmweb/help/tutorial.en.html ç‹å å¤§ç¥åšçš„æ€ç»´å¯¼å›¾: https://www.mindomo.com/mindmap/b207992c90c046bdbe4053cbdf88b5d5 tmå®˜ç½‘æœ‰ä¸ªworkshopçš„è§†é¢‘ é‡Œé¢å±•ç¤ºäº†texmacä¸€äº›äº®ççœ¼çš„åŠŸèƒ½: http://magix.lix.polytechnique.fr/magix/workshop/workshop-videos.en.html å¦å¤–, è¿™ç¯‡æ–‡ç« æ‰€åšçš„ç¤ºä¾‹æ–‡ä»¶å¯ä»¥åœ¨è¿™é‡Œä¸‹è½½: https://github.com/X-Wei/texmacs-demo æ¬¢è¿æŠ›å¼ƒLaTeX & æ‹¥æŠ±TeXmacs!","tags":"soft","title":"å­¦æœ¯æ–‡ç« å†™ä½œåˆ©å™¨: TeXmacsä»‹ç»"},{"url":"https://x-wei.github.io/notes/algoII_week3_1.html","text":"1. Introduction to Maxflow Min-cut pb input: edge-weighted digraph G, each edge e has weight( \"capacity\" ) c[e] >=0, a source vertex s , a target vertex t . def . an st-cut (A,B) is a partition of vertices into 2 disjoint sets A and B, with s in set A and t in set B . def . the capacity of a cut (A,B) is sum of capacities of edges going from A to B (not considering B to A) . â‡’ min-cut pb: find the cut (A,B) with min-capacity. Max-flow pb same input: graph G, source s, target t def. an st-flow is an assignment of values to edges f: eâ†’f[e] such that: capacity constraint: 0<=f[e]<=c[e] for any e; local equilibrium: for any vertex v (other than s or t), inflow=outflow ; def. the value of a flow f is the inflow at t . (assume no ingoing edge to s or outgoing edge to t) â‡’ max-flow pb: find f with max value. remark: max-flow and min-cut are dual problems. 2. Ford-Fulkerson Algorithm def. given a flow f for a graph, an \"augment path\" is an undirected path form s to t , if there exist df>0 ( \"bottleneck capacity\" ) such that: for forward edges e: can augment flow by df (not full: f[e]+df<=c[e] ) for backward edges: can decrease flow by df (not empty: f[e]-df>=0 ) def. residual capacity for forward edge e, residual-cap = c[e]-f[e] for backward edge e, residual-cap = f[e] â‡’ an aug-path is a path where each edge has residual capacity >0 . blocking edges : full forward edge or empty backward edge. â†’ idea: increase flow along augment paths. [algo] start: 0 flow: f[e]=0 for all e. find an augment path (and the corresponding df ) in graph, and change the flows along the path by +/-df . loop until no augment path exists. (ie. all path sâ†’t are blocked either by a full forward edge or an empty backward edge, ie. by an edge with 0 residual capacity) FF is a gernel algorithm: 3. Maxflow-Mincut Theorem def . for a cut (A,B), the net flow across the cut ( netflow(A,B) ) is the sum of flows from A to B minus flows from B to A. [flow-value Lemma] For any flow f and any cut (A,B) â‡’ netflow(A,B) = value(f). pf. induction on the size of set B. base case, when B={t}, by def we have netflow(A,B) = value(f) when moving any vertex v from A to B: * netflow(A, B) augment by flow(Aâ†’v)+flow(Bâ†’v)=inflow(v) , * netflow(A, B) decrease by flow(vâ†’A)+flow(vâ†’B)=outflow(v) , * by equilibrium of flow, netflow(A',B')=netflow(A,B)=value(f) ex. (A: gray vertices, B: white vertices) [cor] outflow(s)=inflow(t)=value(f) [weak duality] For any flow f and any cut (A,B) , â‡’ value(f) <= capacity(A,B). [Augmenting path Th] A flow f is maxflow iff there is no augment path. [maxflow-mincut Th] value(maxflow) = capacity(mincut). pf. for any flow f , prove the equivalence of the 3 following statements: i. there exists a cut st: capacity(cut) = value(f). ii. f is a maxflow. iii. there is no augmenting path wrt f . [iâ‡’ii] suppose cut(A,B) st: capacity(A,B)=value(f) â‡’ by weak duality, for any other flow f', vlaue(f')<=capacity(A,B)=value(f) [iiâ‡’iii] (eqv to prove ~iiiâ‡’~ii) suppose there is an aug-path from s to t, of bottleneck capacity=df, â‡’ by improving f with df, we get a f' > f [iiiâ‡’i] suppose there is no aug-path, ie, all path from s to t are blocked by some full-forward edge or empty backward edge. â‡’ let A:=vertices connected with s by a path with no blocking edges, and B := the rest ( so once we get a maxflow, we can compute the mincut in this way ) â†’ for all edges across A and B, all forward edges are full, all backward edges are empty â‡’ capacity(A,B) = netflow(A,B) = value(f) by flow-value lemma CQFD... è¿‡ç˜¾... 4. Running Time Analysis getting a mincut form maxflow? â†’ easy (as discussed in the pf above) computing an aug-path? â†’ BFS does FF algo always terminate? how many augmentations? â†’ ... integer capacity graphs special case of FF algo : edge capacities are integers between 1 and U. invariant: flow is always integer all along FF algo. [prop] nb of augmentations <= value of maxflow. pf. each augmentation will add flow by >=1. [integrality Th] There exist an integer-valued maxflow. Bad case for FF nb of augmentation == value of maxflow (each time, the path through the middle edge is chosen as aug-path) can be easily avoided â‡’ by using shortest(nb of edges)/fastest(biggest df) path Performance of FF depends on the algo for choosing aug-path: 5. Java Implementation representation of flow graph flow edge: each e= vâ†’w, have flow f[e] and capacity c[e]. flow graph: put e in both v and w's adj-list. flow augmentation (by delta) for forward edge e, f[e] += delta for backward edge e, f[e] -= delta Residual graph Gr def . For a flow f and a graph G , the residual graph Gr is obtained by: for each edge e=vâ†’w , (with c[e] and f[e] ) in G , put in Gr : e1=vâ†’w , with weight= c[e]-f[e] e2=wâ†’v , with weight= f[e] (å³ä¸¤ä¸ªæ–¹å‘ä¸Šçš„weightéƒ½ä¸ºresidual capacity) (rmq: Gr is just a weighted digraph, not a flow graph) [prop] Augment path in G is equivalent to a path in Gr ( df of aug-path in G = min edge weight in Gr ) . (ä½†æ˜¯å®ç°çš„æ—¶å€™å…¶å®ä¸ç”¨æ˜¾å¼æ„é€ Gr, åªéœ€BFSçš„æ—¶å€™ä¿®æ”¹ä¸€ä¸‹å³å¯) APIs è¿™é‡Œçš„APIè®¾è®¡çš„éå¸¸åˆç†... å¯¼è‡´æ¯ä¸€éƒ¨åˆ†çš„ä»£ç é‡éƒ½ä¸å¤§... NB flow-edge: rmq. both calculate residual-cap and augmentation need to specify a direction , so we need a index v as parameter for these 2 functions. public class FlowEdge{ private final int v, w; private final double capacity; private double flow=0.0; FlowEdge(int v, int w, double cap); int from(); int to(); int other(int v); double capacity(); double flow(); double residualCapTo(int v);// residual capacity void addFlowTo(int v, double delta);// augment residual flow } flow graph: public class FlowNetwork{ private Bag<FlowEdge>[] adj;//use adj-list representation for flow graph FlowNetwork(int V); void addEdge(FlowEdge e); Iterable<FlowEdge> adj(int v);// both incoming and outgoing edges ... } FF algo: use a function hasAugPath() to test termination use a function bottleNeck() to get delta if a augpath is found, use two arrays reached[] and edgeTo[] to get the augpath (find the path backwards ). code: public class FordFulkerson { private boolean [] reached ; // reached [ v ] indicates if a path s -->v exists in Gr, used in DFS private FlowEdge [] edgeTo ; // edgeTo [ v ] = last edge on the path s -->v private double value = 0.0 ; // value of flow public FordFulkerson ( FlowNetwork G , int s , int t ) { while ( this . hasAugPath ( G , s , t )) { double delta = this . bottleNeck (); for ( int v = t ; v != s ; v = edgeTo [ v ] . other ( v )) edgeTo [ v ] . addFlowTo ( v , delta ); this . value += delta ; // each time the flow value augments by delta } } private double bottleNeck () { // bottleneck - cap = min residual flow on the aut - path double bottleneck = 9999999 ; assert ( reached [ t ] ); // the aug - path should exsit for ( int v = t ; v != s ; v = edgeTo [ v ] . other ( v )) bottleneck = Math . min ( bottleneck , edgeTo [ v ] .); return bottleneck ; } private boolean hasAugPath ( FlowNetwork G , int s , int t ) { // perform a BFS Queue < Integer > q = new LinkedList < Integer > (); this . reached = new boolean [ G.V() ] ; this . edgeTo = new FlowEdge [ G.V() ] ; q . add ( s ); while ( ! q . isEmpty ()) { int v = q . deque (); for ( FlowEdge e : G . adj ( v )) { int w = e . other ( v ); if ( ! reached [ w ] && e . residualCapTo ( w ) > 0 ) { // modified BFS : valid edges are those with residualCap > 0 edgeTo [ w ] = e ; reached [ w ] = true ; if ( w == t ) return true ; // t is reached by BFS q . enqueue ( w ); } } } // BFS while loop return false ; } } // class FF 6. Maxflow Applications å…³é”®æ˜¯å»ºæ¨¡å¾ˆå·§å¦™... ex1. bipartite matching pb äºŒåˆ†å›¾çš„æœ€å¤§åŒ¹é…é—®é¢˜. (æœ‰ç‚¹åƒmarriage stableé—®é¢˜...ä½†æ˜¯ä¸ä¸€æ · å› ä¸ºæ²¡æœ‰preference order) â‡’ is there a way to match all students to a job? ie. given a bipartite graph, find a perfect matching. modeling add source s and target t all edges from s to students: capacity=1 all edges from companies to t : capacity=1 all edges from student to company: capacity=INF â‡’ find maxflow in the graph when no perfect matching: mincut can explain why in the above case, student 2,4,5 can only be matched to 7,10 â‡’ mincut can help us find such cases! recall: how to get mincut from maxflow mincut = (A,B), where: A:=vertices connected with s by a path with non blocking edges, B := the rest ( blocking edges: full forward edge or empty backward edge on path ) ex. let S=students on s side of mincut (in above case, S={2,4,5} ) let T=companies on s side of mincut (in above case, T ={7,10} ) |S|>|T|, that's why no perfect matching! ex2. baseball elimination (å‰ä¸‰åˆ—æ˜¯ç›®å‰æˆç»©, åé¢å››åˆ—æ˜¯æ¥ä¸‹æ¥èµ›ç¨‹çŸ©é˜µ) Montreal is mathematically eliminated â†’ easy to see â†’ Philly is mathematically eliminated also ! another case: Detroit is mathematically eliminated ! whether team-4 still has a chance to win? modelling remaining games flow from s to t. use team-pairs ans teams as vertices carefully chosen capacities (see below) â‡’ team 4 could win iff all flow from s are full (ie. all match points can be repartitioned over other teams without depassing team 4's maximum wins ). æ€»ä¹‹å¾ˆå·§å¦™....","tags":"notes","title":"[Algorithms II] Week 3-1 Maximum Flow"},{"url":"https://x-wei.github.io/notes/algoII_week2_2.html","text":"1. Shortest Paths APIs context: directe, weighted graphs . shortest path variants in terms of vertices: source-sink: form one vertex to another single source : from one vertex to all others (considered in this lecture) all pairs constraints on edge weights: nonnegative weights arbitary weights eculidean cycles: no directed cycles no negative cycles APIs for weighted directed edge: public class DirectedEdge{ DirectedEdge(int v, int w, double weight); int from(); int to(); double weight(); } for edge-weighted digraph: public class EdgeWeightedDigraph{ private final Bag<DirectedEdge>[] adj; EdgeWeightedDigraph(int V); void addEdge(DirectedEdge e); Iterable<DirectedEdge> adj(int v); int V(); } for single source shortest-path: public class SP{ SP(EdgeWeightedDigraph G, int s);//s is the source node double distTo(int v);//dist from s to v Iterable<DirectedEdge> pathTo(int v);// shortest path from s to v } 2. Shortest path properties goal: single-source shortest path prop . a shortest-path-tree (SPT) exists. è¿™ä¸ªç»“è®ºä»¥å‰æ²¡è§è¿‡... ä¸å¤ªevidentå§... æ²¡æœ‰å¤ªæƒ³æ˜ç™½ â‡’ consequence: can represent this SPT by 2 vertex-indexted arrays: double distTo[v] = shortest path length s â†’ v DirectedEdge edgeTo[v] = last edge to v in shortest path, edgeTo[s] = null private int distTo [] = new int [ V ] ; private DirectedEdge edgeTo [] = new DirectedEdge [ V ] ; public double distTo ( int v ) { return this . distTo [ v ] ; } public Iterable < DirectedEdge > pathTo ( int v ) { Stack < DirectedEdge > path = new Stack < DirectedEdge > (); for ( DirectedEdge e = this . edgeTo [ v ] ; e != null ; e = edgeTo [ e.from ] ) path . push ( e ); return path ; } Edge relaxation dynamic prog: distTo[v] = length of known shortest path from s to v distTo[w] = length of known shortest path from s to w edgeTo[w] = last edge in the known shortest path form s to w (consider edges one by one) def . edge e = v-->w relaxes if e.weight+distTo[v] < distTo[w]. â†’ update distTo[w] and edgeTo[w]. private void relax ( DirectedEdge e ) { int v = e . from (), w = e . to (); if ( distTo [ w ]> distTo [ v ]+ e . weight ()) { distTo [ w ] = distTo [ v ]+ e . weight (); edgeTo [ w ] = e ; } } optimality conditions prop . optimality conditions distTo[] is the solution iff : distTo[s] = 0 distTo[v] is the weight of some path from s to v for any edge e = v â†’ w, distTo[w] <= distTo[v]+e.weight() Generic algo just relax all edges... prop . the above generic algo gives the SPT from s. implementations of the algo: Dijkstra (nonnegative edge) Topological sort (!) (no directed cycles) Bellman-Ford (no negative directed cycles) 3. Dijkstra's Algorithm (non-negative edges) consider vertices in increasing distance from s.* add vertex to the SPT, relax all edges from that vertex. each time: take the closest vertex to s that is not in the SPT (ie. whose dist is not determined yet), add the vertex, and relax all its outgoing edges. prop . Dijkstra works. pf. each edge e = v â†’ w is considered exactly once (when vertex v is added to SPT). distTo[w] <= distTo[v]+e.weight() after relaxing e ineq holds until algo terminates * distTo[w] decrease monotonely, * distTo[v] will not change because each time we choose distTo[v] smallest, and all edges non-negative. * CQFD by optimality condition. implementation Use an IndexMinPQ to store vertices. public class DijkstraSP { private int dist [] ; private DirectedEdge edgeTo [] ; private IndexMinPQ < Integer , Double > pq ; DijkstraSP ( EdgeWeightedDigraph G , int s ) { this . dist [] = new int [ G.V() ] ; this . edgeTo [] = new DirectedEdge [ G.V() ] ; this . pq = new IndexMinPQ < Integer , Double > ( G . V ()); for ( int v = 0 ; v < G . V (); v ++ ) dist [ v ] = 999999 ; dist [ s ] = 0 ; pq . insert ( s , 0.0 ); while ( ! pq . isEmpty ()) { int v = pq . delMin (); for ( DirectedEdge e : G . adj ( v )) relax ( e ); // decrease key or insert vertices to pq } } // constructor () private relax ( DirectedEdge e ) { int v = e . from (), w = e . to (); if ( dist [ w ]< dist [ v ]+ e . weight ()) { dist [ w ] = dist [ v ]+ e . weight (); edgeTo [ w ] = e ; if ( pq . contains ( w )) pq . decreaseKey ( w , dist [ w ] ); else pq . insert ( w , dist [ w ] ); } } // relax () } // class Dijkstra is in fact a Prim algorithm ! Both are algos that compute a spanning tree. in Prim: each time takes the vertex closest to the tree (and is for undirected graph). in Dijkstra: each time takes the vertex closest to source s (and is for directed graph). DFS BFS are also computing spanning tree! ...NB!! complexity V insertions to PQ (each vertex is added to the SPT) V delMin from PQ E decrease key â†’ depends on the PQ implementation. in our implementation, O(ElogV) 4. Edge-Weighted DAGs in a DAG, it's easier to find the shortest path ? â‡’ yes! simple algo: consider vertices in topological order relax outgoing edges form this vertex. correctness prop . topo-sort algo computes SPT in any DAG ( even with negative weights ) in time O(E+V) (linear time!) . pf. each edge is relaxed exactely once. distTo[w] <= distTo[v]+e.weight() after relaxing e ineq holds until the algo terminates because: * distTo[w] decrease monotonely, * distTo[v] will not change because of topo-order, no edge pointing to v after v is relaxed. * CQFD implementation public class AsyclicSP{ AsyclicSP(EdgeWeightedDigraph G, int s){ // init dist[] and edgeTo[]... Topological topo = new Topological(G); for(int v: topo.order()) for(DirectedEdge e:G.adj(v)) relax(e); } } application seam-carving Resizing images non-uniformly without distortion. å¥½ç¥å¥‡! Grid DAG of pixels, edges are pointed to 3 downward neighbors. æ¨ªå‘ç¼©å°: åˆ æ‰ä¸€ä¸ª\"seam\" longest path in DAG â†’ just negate all edge weights , as this algo is OK for negative edges. parallel job scheduling æ„Ÿè§‰æœ‰ç‚¹è¿ç­¹çš„æ„æ€, å…³é”®æ˜¯å»ºç«‹ä¸€ä¸ªDAG, æ¯”è¾ƒæœ‰æŠ€å·§æ€§: add source and sink split each job to 2 vertices (begin and end) â‡’ use longest path to schedule jobs 5. Negative Weights åªæ˜¯ç»™æ‰€æœ‰è¾¹å¢åŠ weightå¹¶ ä¸èƒ½ è§£å†³è´Ÿæƒè¾¹é—®é¢˜. â‡’ need a different algo. prop. SPT exists iff there is no negative cycles. Bellman-Ford ä¸€å¥è¯æ€»ç»“Bellmanç®—æ³•: æ¯æ¬¡relaxæ‰€æœ‰çš„è¾¹, è¿›è¡ŒVæ¬¡. ( å› ä¸ºrelax kæ¬¡ä»¥å, såˆ°vçš„æœ€çŸ­è·¯å¾„çš„é•¿åº¦å°äºç­‰äºk. ) prop . Bellman-Ford works, complexity is O(EV) . pf. after i passes, found shortest path contain at most i edges. code: public class BellmanFordSP { BellmanFordSP ( EdgeWeightedDigraph G , int s ) { // init dist [] and edgeTo []... for ( int i = 0 ; i < G . V (); i ++ ) for ( DirectedEdge e : G . edges ()) relax ( e ); } } improvement if dist[v] is not changed during one pasee â†’ no need to relax incoming edges any more. â†’ much faster in practice. FIFO implementation: maintain a queue of vertices whoses dist is changed. Finding negative cycle add two method to SP: boolean hasNegCycle(); Iterable<DirectedEdge> negCycle(); prop . if a vertex u is updated in phase V, there exists a negative cycle, and can track edgeTo[u] to find the cycle. åŸå› æ˜¯æœ€çŸ­è·¯å¾„çš„é•¿åº¦å°äºV, å¦‚æœå¤§äºVåˆ™è¯´æ˜å­˜åœ¨negative cycle. negative cycle application arbitrage detection å»ºæ¨¡: graph of currencies, edge weight = exchange weight (complete graph). â‡’ find a cycle whose product of edge is >1. â‡’ take logs to make a shortest-path pb. â‡’ take minus log, then try to find a negative cycle. NB!! Summery","tags":"notes","title":"[Algorithms II] Week 2-2 Shortest Paths"},{"url":"https://x-wei.github.io/notes/algoII_week2_1.html","text":"1. Introduction to MSTs Given: undirected connecte graph G with positive edge weights. def. Spanning tree T is a subgraph of G , that is both tree ( connected, acyclic ) and spanning( all vertices are included ). â‡’ Goal: find a spanning tree with minimum weight sum. 2. Greedy Algorithm assumptions for simplification: edge weights are distinct graph is connected â†’ MST uniquely exists. cut property def. a cut of a graph is a partition of its vertices into 2 non-empty sets. def. a crossing-edge (wrt a cut) is an edge connecting vertex from one set to another. prop. Given any cut, the crossing edges with minimum weight is in the MST . proof. Given a cut. {S1,S2} are the two set of vertices, let e be the min-weighted edge among all crossing-edges. If e is not in the MST â†’ exist another crossing-edge, f , in the MST (otherwise not connected) â†’ adding e to the MST will create a cycle (tree property) â†’ the edge f will be in this cycle â†’ removing f and adding e will give us another spanning tree (!) â†’ this new spanning tree has smaller weight sum â‡’ contradiction, CQFD. Greedy MST algo [ algo ] Greedy MST initialize: all edges not selected (colored gray) find any cut with all crossing-edge gray use this cut and select the min-weighted crossing edge (color the edge as black) repeat V-1 times. prop. the greedy algorithm gets the MST. pf. any selected (black) edges are in the MST (according to the cut property) If we haven't selected V-1 edges â†’ there is always a cut with all crossing-edges gray. (è¯æ˜algoä¸ä¼šå¡æ­») ( if edge weight not distinct, the proof fails, but can be fixed) efficient implementations : how to choose the cut each time? how to find min-weighted crossing-edge? â‡’ Kruskal & Prim 3. Edge-Weighted Graph API Edge API â†’ Edge abstraction : make Edge comparable. public class Edge implements Comparable<Edge>{ Edge(int v, int w, double weight); int either();// get one of the endpoint of edge (as we are in undirected graph contex here) int other(int v);// get the other endpoint int compareTo(Edge that);// compare by edge weight double weight(); } Edge-weighted Graph API adj-list implementation: Bag<Edge>[] adj; (for undirected graph, each edge appears twice in adj) public class EdgeWeightedGraph { private final int V ; private final Bag < Edge > [] adj ; EdgeWeightedGraph ( int V ) { this . V = V ; this . adj = ( Bag < Edge > ) new Bag [ V ] ; for ( int v = 0 ; v < V ; v ++ ) adj [ v ] = new Bag < Edge > (); } void addEdge ( Edge e ) { // use the Edge class instead of directly v and w int v = e . either (), w = e . other (); adj [ v ] . add ( e ); adj [ w ] . add ( e ); } Iterable < Edge > adj ( int v ) { // get Edges incident to v return adj [ v ] ; } Iterable < Edge > edges (); // get all Edges } (allow self-loops and parallel edges) MST API public class MST{ MST(EdgeWeightedGraph G);//compute the MST Iterable<Edge> edges();// selected edges in the MST double weight();// sum of all edge weights in MST } 4. Kruskal's Algorithm [algo] consider edges in ascending order of weight, add the edge to MST unless it creates a cycle . In the running of Kruskal: we have several small connect components and they merge with each other until we get MST. correctness prop. Kruskal's algo works. pf (idea: proove that Kruskal is a special case of the greedy algorithm, ie. how to select the specific cut) suppose Kruskal's algo selects(colored black) an edge e=v-w â†’ select a cut = vertices connected to v in the (constructing) MST; and the rest vertices. â†’ for this cut, there is no black crossing edges â†’ moreover among all crossing edges of the cut the edge e has the smallest weight!! (by def of Kruskal) CQFD implementation how to test if adding an edge will create a cycle ? DFS from v to w? â†’ O(V) â‡’ Union-Find ! O(lg*V) â˜º (almost constant time) if find(v)==find(w) , then we know adding e will create a cycle. considering edges in order? â†’ use a prority queue. public class KruskalMST extends MST{ private Bag<Edge> mst = new Bag<Edge>(); public KruskalMST(EdgeWeightedGraph G){ MinPQ<Edge> pq = new MinPQ<Edge>(); // build pq --> can be optimized to O(n) if build bottom-up for(Edge e: G.edges()) pq.insert(e); UF uf = new UF(G.V());// build a UF of V elements while(!pq.isEmpty() && mst.size()<G.V()-1){ Edge e = pq.delMin(); int v = e.either(),w=e.other(v); if( uf.connecte(v,w) ) continue; uf.union(v,w); this.mst.add(e); } } public Iterable<Edge> edges(){ return this.mst; } } complexity running time: O(ElogE) 5. Prim's Algorithm since 1930... Idea: start from a vertex and grows the tree T to MST. [algo] Add to the tree T the edge that have exactely one endpoint in T and with minimum weight, repeat V-1 times. In the running of Prim: there is always ONE connnected component . Correctness prop . Prim's algo works. pf. suppose edge e is the min-weighted edge connect a vertex in T with a vertex out of T. â†’ select the cut = vertices in the tree T; vertices out of T â†’ by def, there is no black crossing edge â†’ e is the min-weighed edge by def of Prim. CQFD implementation challenge: how to find such an edge (connect T and other vertex, with min weight) ? â‡’ priority queue \"lazy\" implementation [algo] Maintain a PQ of edges that connect T and the rest vertices. e = pq.delMin(), e = v-w , if v and w are both in T (as edges in pq might become obsolete as T grows) â‡’ just disregard it to maintain the pq: add all incident edges(with other endpoint not in T) of the newly added vertex to pq public class LazyPrimMST { private Bag < Edge > mst ; LazyPrimMST ( EdgeWeightedGraph G ) { boolean [] marked = new boolean [ G.V() ] ; // vertices in T MinPQ < Edge > pq = new MinPQ < Edge > (); this . mst = new Bag < Edge > (); marked [ 0 ] = 0 ; // add vertex 0 to T for ( Edge e : G . adj ( 0 )) pq . insert ( e ); // add edges to pq while ( ! pq . isEmpty () && this . mst . size () < G . V () - 1 ) { e = pq . delMin (); int v = e . either (), w = e . other ( v ); if ( marked [ v ] && marked [ w ] ) continue ; // ignore obsolete edges v = marked [ v ] ? w : v ; // v is the newly added vertex marked [ v ] = true ; for ( Edge e : G . adj ( v )) { if ( ! marked [ e.other(v) ] ) pq . insert ( e ); } } } } Running time: O(ElgE) space: O(E) in worst time. \"eager\" implementation Idea: use a PQ of vertices , priority of vertex v := min-weight of edge that connects v to T. [algo] Get from pq the vertex v that is closest to T, add it to T. Update pq -- consider v 's incident edge e=v-w: if w in T â†’ ignore else: if w in pq â†’ add w to pq else â†’ if v-w has smaller weight than the current priority, update w 's priority. repeat till get V-1 edges. key implementation component: a MinPQ that supports priority(key) update. class IndexMinPQ<Key extends Comparable<Key>>{ IndexMinPQ(int N);// indices of elements: 0...N-1 void insert(int i, Key key); void decreaseKey(int i, Key key);// update the key(priority) of element-i int delMin(); int size(); } implementation of such a PQ: Use same code as standart PQ (maintain a heap[] array). Elements are always accessed by \"index\", in range 0...N-1. maintain 3 parallel arrays: keys[], pq[], qp[] : keys[i] : is the priority of element i (the element with index=i) pq[i] : is the index of the element in the heap position i (ie. in heap[i] is pq[i]th element ) qp[i] : is heap position of element i ( â‡” the ith element is in heap[qp[i]] ) to decreaseKey(i,key) : change keys[i] , then call siftup(qp[i]) summery of pq implementations: 6. MST Context unsolved pb: does a linear MST algo exists? (recap: for UF, tarjan has prooved that linear algo doesn't exist â€” although Nlg*N is fast enough...) @_@... (è¿™ä¸ªYaoæ˜¯æ¸…åé‚£ä¸ªYaoå§?) Euclidean MST Given N points in plane, edge weight := Euclidean distance. ( dense graph, E = V2 ) â†’ exploit geomerty, O(NlgN) clustering k-clustering (~ dist-fcn) single-link clustering (def. dist of clusters = dist of 2 closest elements in each cluster) â†’ Kruskal...","tags":"notes","title":"[Algorithms II] Week 2-1 Minimum Spanning Trees"},{"url":"https://x-wei.github.io/notes/algoII_week1_2.html","text":"1. Intro to digraphs Has profound differences wrt undirected graphs. def: digraph edges: have directions vertex: distinguish indeg and outdeg digraph pbs: path/shortest path topological sort: Can you draw a digraph so that all edges point upwards? strong connectivity: Is there a directed path between all pairs of vertices? transit closure PageRank 2. Digraph API public class Digraph{ Digraph(int V); void addEdge(int v, int w);// edge is directed Iterable<Interger> adj(int v);// vertices reached by outgoing edges int V(); Digraph reverse();// <--new methode wrt undirected graph } representation: adj-list, ie. an array of bags. Bag<Integer>[] adj;// prec vertices 3. Digraph Search BFS and DFS can be applied to digraphs. reachability find all vertices reachable from vertex-s. use the same DFS as for undirected graphs. â†’ application: programme control-flow analyse, garbage collection. DFS is the basis for a lot of digraph pbs : 2-satisfiability, Euler path, strongly connected component. multiple source shortest path: â‡’ use DFS but enque all vertices in the set . â†’ application: web crawler(DFS not suitable for crawling) 4. Topological Sort application. precedence schedule, java compiler (cycled inheritance), ... def. topo-order is a permutation of vertices, where for each vertice vâ†’w, w is behind v in the permutation. def. DAG directed acyclic graph. prop. for a digraph, topological order exists iff graph is a DAG. algo: â‡’ use DFS~ reverse DFS postorder def. postorder is the order of the vertices that we have finished (ie. we have visited all reachable vertices from this vertex). implementation è¿™ä¸ªä»¥å‰çš„blogå†™è¿‡... private boolean [] visited ; private Stack < Integer > revPostorder ; // stores the vertices in reverse post order private void dfs ( Digraph G , int v ) { visited [ v ] = true ; for ( int w : G . adj ( v )) if ( ! visited [ w ] ) dfs ( G , w ); / /** now we know the vertex v is \"finished\" ** revPostorder.push(v); } public Iterable<Integer> topoOrder(Digraph G){ for(int v=0;v<G.V();v++) if(!visited(v)) dfs(G,v);// visit all cc return revPostorder; } proof prop. reverse post-order of a DAG is in topological order. (è¿™ä¸ªè¯æ˜è›®ç²¾å½©) pf. for any edge vâ†’w , when dfs(v) is called: case 1: dfs(w) is called and returned, so w is done before v in post-order; case 2: dfs(w) is not called, it will be (in)directly get called by dfs(v) , so dfs(w) finishes before dfs(v) ; case 3: dfs(w) is called but NOT returned (ie, w not finished ) â†’ exist path from w to v â‡’ graph is not a DAG! (cycle detection) 5. Strong Components For undirected graphs: connected components can be solved with dfs or UF. def. Strongly-connected v and w are strongly-connected if exist path from v to w and w to v. â†’ is an equivalent relation. def. Strong Component subset of V where each pair are strongly-connected. Goal: compute all strong components( scc ) in a digraph. linear time DFS solution: Tarjan (1972) (developed version: a two-pass linear-time algorithm) Intuition: scc for G is the same for G.reverse(). Kernel DAG : contract each scc into a single vertex. Idea: compute topological-order in the kernel DAG. run DFS, consider vertices in reverse-topo-order [Algo] 1. compute topo-order in G.reverse (just a DFS in the reversed graph) 2. run DFS in original G , visit unmarked vertices in topo-order of G.reverse . (instead of visiting vertices by their index) â‡’ each time we finish a dfs from a vertex, we get a scc! å¤ªç²¾å½©äº†!!! proof: tricky, cf book...(è²Œä¼¼Wernerè¯¾ä¸Šè®²è¿‡..) implementation private int [] scc = new int [ V ] ; // scc [ v ] is the index of the SCC that v belongs to private int sccCount = 0 ; private boolean [] visited = new boolean [ V ] ; public getSCC ( Digraph G ) { // 1. get topo - order in reverse graph Iterable < Integer > topoOrderGR = topoOrder ( G . reverse ()); // 2. run dfs in original graph , run on vertices using the above topo - order for ( int v : topoOrderGR ) // < -- only difference from the standard topo-order algo if ( ! visited [ v ] ) dfs ( G , v , sccCount ++ ); // increment sccCount everytime we done a component } private dfs ( Digraph G , int v ) { // run dfs from v , and all touched vertices are marked in sccId ' s SCC visited [ v ] = true ; scc [ v ] = sccCount ; for ( int w : G . adj ( v )) if ( ! visited [ w ] ) { scc [ w ] = sccCount ; dfs ( G , w ); } }","tags":"notes","title":"[Algorithms II] Week 1-2 Directed Graphs"},{"url":"https://x-wei.github.io/notes/algoII_week1_1.html","text":"1. Intro to graphs Graph: vertices connected by edges. terminology: path : sequence of vertices connected by edges cycle : path with same starting and ending vertex two vertices are connected : if there is a path between ex of graph problems: path: or connectivity shortest path cycle Euler tour (ouii..) Hamilton tour MST bi-connectivity: is there a vertex whose removal disconnects the graph? planarity isomorphism 2. Graph API graph representation vertex representation: use integers between 0 and V-1 anormalies: self-loop and multiple edges are possible public class Graph{ Graph(int V); void addEdge(int v, int w); Iterable<Integer> adj(int v); int V();// nb of vertices int E();// nb of edges } print all edges: basic functions: static int degree(Graph g, int v){ int deg = 0; for(int w:G.adj(v)) deg++; return deg; } static int nbOfSelfloops(Graph g){ int cnt = 0; for(int v=0; v<G.V(); v++) for(int w:G.adj(v)) if (w==v) cnt++; return cnt/2; } edge representation set-of-edge implementation: a list of all edges â‡’ can lead to inefficient implementation adj-matrix implementation: maintain a 2d (V*V) boolean array â‡’ space complexity too heavy adj-list implementation: vertex-indexed array, each array entry is a Bag (ç±»ä¼¼æ¡¶bucket) â‡’ sutable for sparse graphs adj-list implementation: private final int V ; private Bag < Integer > [] adj ; public Graph ( int V ) { this . V = V ; this . adj = ( Bag < Integer > [] ) new Bag [ V ] ; // java cannot create generic array for ( int v = 0 ; v < V ; v ++ ) adj [ v ] = new Bag < Integer > (); } public addEdge ( int v , int w ) { adj [ v ] . add ( w ); adj [ w ] . add ( v ); // if undirected graph } 3. Depth-First Search Tremaux maze exploration: trace back when no unvisited vertices availiable. åŠ¨ç”»å¥½çœ‹... DFS goal: systematically search through a graph. design pattern : decouple graph data and graph processing. public class Paths{ Path(Graph G, int s);// graph G and source s boolean hasPathTo(int v); Iterable<Integer> pathTo(int v); } algo: æ³¨æ„æ¯æ¬¡è®¿é—®èŠ‚ç‚¹ä»¥å‰å°±å°†å…¶mark. implementation ç”¨ä¸€ä¸ªbooleanæ•°ç»„ visited[] ä½œä¸ºæ ‡è®° ä¸ºäº†æ‰¾åˆ°ä¸€æ¡å…·ä½“çš„è·¯å¾„(ie, ä¸€ç³»åˆ—èŠ‚ç‚¹), ç»´æŠ¤ä¸€ä¸ª prev[] æ•°ç»„, å­˜æ”¾å½“å‰èŠ‚ç‚¹æ˜¯ä»å“ªä¸ªèŠ‚ç‚¹èµ°è¿‡æ¥çš„. // public class DFSpaths extends Paths ... boolean [] visited = new boolean [ V ] ; int [] prev = new int [ V ] ; public void dfs ( int v ) { visited [ v ] = true ; for ( int w : G . adj ()) if ( ! visited [ w ] ) { prev [ w ]= v ; dfs ( w ); } } public Iterable < Integer > pathTo ( int v ) { Stack < Integer > s = new Stack < Integer > (); for ( int x = v ; x != s ; x = prev [ x ] ) s . push ( x ); return s ; } properties prop . DFS visite all edges in time propotional to the sum of their degrees(ie. nb of edges). 4. Breadth-First Search not recursive algo. maintain a queue, add to queue for all vertices not-marked. implementation use visited[] to mark vertices use a prev[] array to get explicit path use a dist[] array to record the shortest dist from v to source (can use dist to replace visited ) public void bfs ( Graph G , int s ) { boolean visited [] = new boolean [ G.V() ] ; int prev [] = new int [ G.V() ] ; int dist [] = new int [ G.V() ] ; Queue < Integer > q = new Queue < Integer > (); visited [ s ] = true ; q . push ( s ); while ( ! q . isEmpty ()) { int v = q . dequeue (); for ( int w : G . adj ( v )) if ( ! visited [ w ] ) { prev [ w ] = v ; visited [ w ] = true ; q . enqueue ( w ); } } } property prop. BFS computes the shortest path from s to all vertices using time propotional to E+V. intuition: BFS examines nodes by increasing distance 5. Connected Components dealing with connectivity(equivalence) queries â‡’ answer in constant time (with preprocessing ). public class CC{ boolean connected(int v, int w); int count();// nb of CCs int id(int v);//id for a CC } â‡’ Union-Find ? â‡’ Use DFS!! def. connected component is a maximal set of connected vertices. algo: for each unmarked vertex, run dfs(with increasing cc id)... after the preprocessing, we can get the array id[] and cc count cnt ... 6. Graph Challenges some typical pbs pb1. bipartite graph Can we divide vertices into 2 subsets, where all edge go from one subset to other. â‡’ can be done with dfs. cf. booksite pb2. cycle detection â‡’ simple using dfs. pb3. Euler cycle Find a cycle that uses all edges exactely once. [Euler] a graph is Eulerian iff all vertices have even degree. â‡’ typical diligent algo students can do. cf. booksite pb4. Hamilton cycle Find cycle that visits each vertex exactly once. â‡’ intractable (typical NP-complete pb) pb5. isomorphism of graphs Are two graphs identical except for vertex names? â‡’ no one knows... pb6. planary graph Lay out a graph in the plane without crossing edges? â‡’ expert level. exists linear time algo based on DFS by Tarjan, but too complicated.","tags":"notes","title":"[Algorithms II] Week 1-1 Undirected Graphs"},{"url":"https://x-wei.github.io/tech/shortest-path-summary.html","text":"weighted graphçš„æœ€çŸ­è·¯å¾„é—®é¢˜æœ‰ä¸‰ä¸ªéå¸¸æœ‰åçš„ç®—æ³•, åˆ†åˆ«ä»¥ä¸‰ä¸ªå¤§ç‰›çš„åå­—å‘½å, ä»Šå¤©ç”¨å°½é‡ç®€æ´çš„ç¯‡å¹…ä¸€ä¸€ä»‹ç». ç®€å•èµ·è§(è¿™å›åªå†™ä¼ªä»£ç å¥½äº†), å¯¹äºå›¾çš„å®šä¹‰å¦‚ä¸‹: node index = {1,2,...,n} e[u,v] = distance of edge(u,v); if (u,v) is not an edge, e[u,v]=INF ä»¤N=ç‚¹çš„æ•°é‡, M=è¾¹çš„æ•°é‡ ä»»æ„ä¸¤ç‚¹æœ€çŸ­è·¯å¾„: Floyd-Warshall Floydç®—æ³•è§£å†³çš„é—®é¢˜æ˜¯: å¯¹äº ä»»æ„ ä¸¤ä¸ªèŠ‚ç‚¹ s (source)å’Œ t (target), æ±‚såˆ°è¾¾tçš„æœ€çŸ­è·¯å¾„. Floydç®—æ³•çš„æ€æƒ³æ˜¯åŠ¨æ€è§„åˆ’: å®šä¹‰ d(i,j,k) ä¸ºç‚¹iåˆ°ç‚¹jä¹‹é—´, åªå…è®¸å€Ÿé“èŠ‚ç‚¹1...kçš„æœ€çŸ­è·¯å¾„ åˆå§‹åŒ–: d(i,j,0)=e[i,j] (å³iåˆ°jä¹‹é—´ä¸ç»ç”±å…¶ä»–ä»»ä½•ä¸­è½¬èŠ‚ç‚¹çš„æœ€çŸ­è·¯å¾„) æ›´æ–°dijçš„å…¬å¼å°±æ˜¯: d(i,j,k)=min( d(i,j,k-1), d(i,k-1,k-1)+e[k,j]) æ›´æ–°næ¬¡ æ¯æ¬¡æ›´æ–°dijçš„æ„æ€å°±æ˜¯: ç°åœ¨ä»iåˆ°jå¯ä»¥ç»è¿‡èŠ‚ç‚¹käº†, é‚£ä¹ˆçœ‹ä¸€ä¸‹ijä¹‹é—´ä»kè¿™ä¸ªç‚¹ç»è¿‡çš„è¯(i â†’ k â†’ j è¿™æ¡è·¯)èƒ½ä¸èƒ½ç¼©çŸ­dij. iåˆ°jæœ€çŸ­è·¯å¾„æœ€ç»ˆå°±æ˜¯: d(i,j,n) å³iåˆ°jçš„è·¯ç¨‹å¯ä»¥ç»è¿‡1~nä¸­çš„ä»»ä½•ä¸­è½¬èŠ‚ç‚¹. ä¼ªä»£ç ç‰¹åˆ«çŸ­(å…¶å®çœŸä»£ç ä¹Ÿä¸€æ ·çŸ­....): for all [i,j]: // initialize d[i,j] = e[i,j] for k = 1 ~ n: // relax for k times: for all [i,j]: d[i,j] = min(d[i,j], d[i,k] + e[k,j]) æ ¸å¿ƒä»£ç åªæœ‰æœ€åä¸‰è¡Œ... è¿è¡Œç»“æŸå d[i,j] å°±ä¿å­˜ç€ä»»æ„iå’Œjä¹‹é—´çš„æœ€çŸ­è·¯å¾„é•¿åº¦. ç¨‹åºä¸»å¾ªç¯næ¬¡, æ¯æ¬¡è¦å¤„ç†éå†æ‰€æœ‰çš„ijç»„åˆ, æ‰€ä»¥å¤æ‚åº¦æ˜¯ O(N&#94;3) . å•æºæœ€çŸ­è·¯å¾„: Dijkstra Dijkstraç®—æ³•è§£å†³çš„é—®é¢˜æ˜¯: æ²¡æœ‰è´Ÿæƒè¾¹çš„æƒ…å†µä¸‹, ä» æºèŠ‚ç‚¹ s åˆ°å…¶ä»–ä»»æ„èŠ‚ç‚¹ t çš„è·¯å¾„é•¿åº¦. ç»´æŠ¤ä¸€ä¸ªdistæ•°ç»„, dist[i]å°±è¡¨ç¤º(ç›®å‰ä¸ºæ­¢)såˆ°içš„æœ€çŸ­è·ç¦». å¯¹äºæ¯ä¸ªå…ƒç´ , æ ‡è®° æ˜¯å¦å…¶distæ˜¯å¦å·²ç»ç¡®å®šä¸å†æ›´æ”¹(æˆ–è€…è¯´ç»´æŠ¤ä¸¤ä¸ªé›†åˆ: ä¸€ä¸ªé›†åˆçš„distç¡®å®š, å¦ä¸€ä¸ªæœªç¡®å®š). Dijkstraç®—æ³•æ˜¯ä¸€ç§è´ªå¿ƒç­–ç•¥: æ¯æ¬¡åœ¨æœªç¡®å®šæœ€çŸ­è·¯å¾„çš„èŠ‚ç‚¹é‡ŒæŒ‘é€‰è·ç¦»sæœ€è¿‘çš„é‚£ä¸ªç‚¹, æŠŠè¿™ä¸ªç‚¹æ ‡è®°ä¸ºå·²ç»ç¡®å®šdist, ç„¶åå¯¹ä»è¿™ä¸ªç‚¹å‡ºå‘çš„è¾¹è¿›è¡Œæ¾å¼›. ä¸ºäº†æ ‡è®°æ¯ä¸ªç‚¹, è¿™é‡Œç”¨ä¸€ä¸ªboolæ•°ç»„è¡¨ç¤º: determined[i] ä¸ºtrueè¡¨ç¤ºiçš„distå·²ç»æ˜¯æœ€çŸ­è·¯ç¨‹, ä¸ºfalseè¡¨ç¤ºè¿˜ä¸ç¡®å®š. ç®—æ³•å¦‚ä¸‹: åˆå§‹åŒ– dist[i] = e[s,i] , determined[i] å…¨ä¸ºfalse åœ¨distæœªç¡®å®šçš„å…ƒç´ é‡Œ( determined[i]==false )å¯»æ‰¾ä¸€ä¸ªdistæœ€å°çš„èŠ‚ç‚¹ u: æ ‡è®° u çš„distå·²ç»ç¡®å®š determined[i]=true ç”¨uçš„æ‰€æœ‰å‡ºè¾¹è¿›è¡Œæ¾å¼›: såˆ°iå¦‚æœç»è¿‡(u,i)è¿™æ¡è¾¹ä¼šä¸ä¼šå˜è¿‘? dist[i] = min(dist[i], dist[u]+e[u,i]) é‡å¤å¾ªç¯ç›´åˆ°æ‰€æœ‰çš„ç‚¹éƒ½ç¡®å®šdist(or é‡å¤Néå³å¯: æ¯æ¬¡åªä¼šç¡®å®šä¸€ä¸ªæ–°çš„èŠ‚ç‚¹çš„è·ç¦» ) ä¼ªä»£ç : for i in 1 ~ n : dist [ i ] = e [ s,i ] determined [ i ] = false loop N times : u = argmin ( dist [ i ] ) among all i that determined [ i ]== false determined [ u ] = true // determine one node at each loop for v such that e [ u,v ]< INF : dist [ v ] = min ( dist [ v ] , dist [ u ]+ e [ u,v ] ) ä»¥ä¸Šä»£ç çš„å¤æ‚åº¦ä¸ºO(N&#94;2), ä¸è¿‡å¦‚æœç”¨å †æ¥ä¼˜åŒ–å¯»æ‰¾æœ€è¿‘çš„uçš„è·ç¦», å¤æ‚åº¦å¯ä»¥å˜å¾—æ›´ä½. æœ‰è´Ÿæƒè¾¹çš„å•æºæœ€çŸ­è·¯å¾„: Bellman-Ford Dijkstraç®—æ³•çš„ç¼ºç‚¹åœ¨äºä¸èƒ½å¤„ç†è¾¹é•¿ä¸ºè´Ÿæ•°çš„æƒ…å†µ, è€Œè¿™å°±æ˜¯Bellman-Fordç®—æ³•è§£å†³çš„. Bellmanç®—æ³•ä¹Ÿæ˜¯ä¸€ç§åŠ¨æ€è§„åˆ’(åŠ¨æ€è§„åˆ’è¿™ä¸ªä¸œè¥¿å°±æ˜¯Bellmanæå‡ºæ¥çš„): å®šä¹‰ d(i,k) ä¸ºæºç‚¹såˆ°i æœ€å¤šç»è¿‡kæ¡è¾¹çš„ æœ€çŸ­è·ç¦» åˆå§‹åŒ–: d(i,1)=e[s,i] æ¯æ¬¡æ›´æ–°diçš„å…¬å¼: for all (u,v): d(v,k)=min( d(v,k-1), d(u,k-1)+e[u,v] ) æ›´æ–°n-1æ¬¡ ä¸ºä»€ä¹ˆæ˜¯æ›´æ–°n-1æ¬¡? å› ä¸ºsåˆ°içš„æœ€çŸ­è·¯å¾„è‡³å¤šåªæœ‰n-1æ¡è¾¹(å³såˆ°içš„è·¯å¾„ç»è¿‡äº†æ‰€æœ‰nä¸ªç‚¹). æ³¨æ„æ¯æ¬¡æ›´æ–°, éœ€è¦æŠŠ æ‰€æœ‰çš„è¾¹ è¯•ä¸€é: çœ‹çœ‹ç”¨æ¯æ¡è¾¹(u,v)èƒ½ä¸èƒ½æ¾å¼›dv. ä¼ªä»£ç : for i in 1 ~ n : dist [ i ] = e [ s,i ] loop n - 1 times : for all ( u , v ) such that e [ u,v ]< INF : dist [ v ] = min ( dist [ v ] , dist [ u ]+ e [ u,v ] ) æ ¸å¿ƒä»£ç ä¹Ÿæ˜¯æœ€åä¸‰è¡Œ... å¤ªtmç²¾å¦™äº†!! å¤–å±‚å¾ªç¯N-1æ¬¡, å†…å±‚å¾ªç¯Mæ¬¡, æ‰€ä»¥ä»£ç çš„å¤æ‚åº¦æ˜¯O(NM). More ä»¥ä¸‹é—®é¢˜æœ‰ç©ºå†å†™... negative cycle A*","tags":"tech","title":"æœ€çŸ­è·¯å¾„ä¸‰å‰‘å®¢: Floyd, Dijkstra, Bellman"},{"url":"https://x-wei.github.io/tech/dfs-summary.html","text":"ä»Šå¤©æ€»ç»“ä¸€ä¸‹ä¹Ÿè®¸æ˜¯æœç´¢é—®é¢˜é‡Œæœ€é‡è¦çš„ç®—æ³•: DFS ! ç”±äºæ ‘å¯ä»¥çœ‹æˆæ˜¯ä¸€ä¸ªgraph, è¿™é‡Œè¿˜æ˜¯åªå†™å¯¹äºgraphçš„DFSç®—æ³•. Graphç±»çš„å®šä¹‰è¿˜æ˜¯ç”¨æ¯ä¸€ä¸ªèŠ‚ç‚¹ä¿å­˜é‚»å±…ä¿¡æ¯: public class GraphNode{ int val; List<GraphNode> neighbors; } ä¸ºäº†é˜²æ­¢é‡å¤, ä»ç„¶ç”¨ä¸€ä¸ªHaseSetè®°å½•èµ°è¿‡çš„èŠ‚ç‚¹: HasheSet<GraphNode> visited = new HasheSet<GraphNode>(); Recursive DFS é¦–å…ˆå†™é€’å½’ç‰ˆæœ¬çš„DFS, DFSå°±æ˜¯ä¸€æ¡è·¯èµ°åˆ°åº•, ä¸æ’å—å¢™ä¸å›å¤´, æ‰€ä»¥é€’å½’å†™èµ·æ¥å¾ˆè‡ªç„¶: æ¯åˆ°ä¸€ä¸ªèŠ‚ç‚¹, æ ‡è®°å…¶å·²ç»è®¿é—®è¿‡äº†, ç„¶åå¯¹äºé‚»å±…é‡Œé¢æ²¡æœ‰è®¿é—®çš„èŠ‚ç‚¹ç»§ç»­é€’å½’è¿›è¡ŒDFS. é€’å½’çš„DFSä»£ç éå¸¸ç®€æ´: public void DFS(GraphNode nd){ System.out.println(nd.val); visited.add(nd); for(GraphNode next: nd.neighbors){ if( !visited.contains(next) ) DFS(next); } } è™½ç„¶è¿™ä¸ªç®—æ³•å¾ˆçŸ­, ä½†æ˜¯å®ƒéå¸¸é‡è¦, å›æº¯ç®—æ³•(backtracking)å…¶å®å°±ç›¸å½“äºåœ¨é—®é¢˜çš„æ±‚è§£åŸŸåšä¸€ä¸ªdfs. å¦å¤–æ‹“æ‰‘æ’åºä¹Ÿæ˜¯åŸºäºé€’å½’dfsè¿›è¡Œä¸€ç‚¹ç‚¹ä¿®æ”¹. Non-recursive DFS éé€’å½’ç‰ˆæœ¬çš„dfsåŒæ ·å¾ˆé‡è¦, å› ä¸ºæ¯•ç«Ÿéé€’å½’çš„ç‰ˆæœ¬æ•ˆç‡é«˜ä¸€äº›, å¦å¤–è¿™ä¸ªç®—æ³•å’Œbfséå¸¸ç›¸ä¼¼, åªä¸è¿‡æŠŠé˜Ÿåˆ—queueæ¢æˆäº†æ ˆstackè€Œå·²: public void DFS(GraphNode start){ Stack<GraphNode> s = new Stack<GraphNode>(); q.push(start); visited.add(start); while(!s.empty()){ GraphNode cur = s.pop(); System.out.println(cur.val); for(GraphNode next: cur.children){ if(!visited.contains(next)){ s.push(next); visited.add(next); // mark node as visited when adding to stack! } } }//while } åŒæ ·è¦æ³¨æ„çš„ä¸€ç‚¹å°±æ˜¯åœ¨æŠŠä¸€ä¸ªèŠ‚ç‚¹å…¥æ ˆçš„æ—¶åˆ»å°±å°†å…¶æ ‡è®°ä¸ºå·²è®¿é—®. (for Trees) DFS with depth å’Œä¸Šæ¬¡ bfs ä¸€æ ·, å¯¹äºæ ‘è€Œè¨€ , åœ¨dfsæœç´¢çš„è¿‡ç¨‹ä¸­ä¹Ÿå¯ä»¥è®°å½•è¯¥èŠ‚ç‚¹æ‰€åœ¨çš„depth. éé€’å½’ç‰ˆæœ¬çš„ç¨‹åºå°±æ˜¯ç”¨ä¸€ä¸ªå’Œä¸Šé¢ s å¹³è¡Œçš„æ ˆè®°å½•æ·±åº¦, ç¨‹åºå’Œ\"BFS with distance\"å¾ˆåƒ. é€’å½’ç‰ˆæœ¬åªè¦åœ¨å‡½æ•°ç­¾åé‡ŒåŠ ä¸Šä¸€ä¸ªdepthçš„å‚æ•°å³å¯. è¿™ä¸¤ä¸ªå®ç°éƒ½å¾ˆç®€å•, å°±ä¸å†™äº†. æ³¨æ„è¿™ä¸ªåªå¯¹äºæ ‘æœ‰æ„ä¹‰, å¯¹ä¸€ä¸ªå›¾è€Œè¨€æ²¡æœ‰depthä¸€è¯´... DFS for binary tree: Preorder traversal dfså¦ä¸€ä¸ªæœ‰ç”¨çš„æ€§è´¨æ˜¯: å¯¹äº äºŒå‰æ ‘ è€Œè¨€, dfså¾—åˆ°çš„èŠ‚ç‚¹é¡ºåºæ­£æ˜¯å…¶å‰åºéå†(preorder traversal)çš„é¡ºåº. å…¶å®å‰åºéå†çš„å®šä¹‰å°±ç›¸å½“äºæ˜¯ä¸€ä¸ªé€’å½’ç‰ˆæœ¬çš„dfsäº†: [preorder(node)] = node.val + [preorder(node.left)] + [preorder(node.right)] DFS with path å¦‚æœåœ¨è®¿é—®åˆ°æŸä¸€ä¸ªèŠ‚ç‚¹çš„æ—¶å€™æƒ³åŒæ—¶è·å¾—åˆ°è¯¥ç‚¹çš„è·¯å¾„, å…¶å®ä¹Ÿä¸éº»çƒ¦. å¯¹äºé€’å½’ç‰ˆæœ¬çš„dfsè€Œè¨€, å¯ä»¥åœ¨å‚æ•°é‡Œé¢ç”¨ä¸€ä¸ªListè®°å½•åˆ°å½“å‰èŠ‚ç‚¹çš„è·¯å¾„. éé€’å½’çš„ç‰ˆæœ¬çš„è¯... è²Œä¼¼ä¸æ˜¯å¾ˆtrival, éœ€è¦å¯¹stackåšå¥½ç»´æŠ¤, å¯èƒ½éœ€è¦ä¸€ä¸ªhashmapä»€ä¹ˆçš„... ä»¥åæœ‰ç©ºäº†å†å†™å†™. Cycle Detection åˆ¤æ–­ä¸€ä¸ªæœ‰å‘å›¾æ˜¯å¦å­˜åœ¨å›è·¯æ˜¯ä¸€ä¸ªéå¸¸é‡è¦çš„é—®é¢˜, ç®€å•ä¿®æ”¹dfså°±å¯ä»¥åšåˆ°äº†. åœ¨é€’å½’ç‰ˆæœ¬çš„dfsé‡Œ, æˆ‘ä»¬å¯¹æ¯ä¸€ä¸ªç‚¹æ”¹ä¸º ä¸‰ç§æ ‡è®° : æœªè®¿é—®è¿‡(0), æ­£åœ¨è®¿é—®å…¶é‚»å±…èŠ‚ç‚¹(1), å·²ç»è®¿é—®å®Œè¯¥èŠ‚ç‚¹ä»¥åŠæ‰€æœ‰è¯¥èŠ‚ç‚¹å¯ä»¥åˆ°è¾¾çš„èŠ‚ç‚¹(2) . ä»€ä¹ˆæ—¶å€™ä¼šå‡ºç°å›è·¯å‘¢? å°±æ˜¯å½“å‰èŠ‚ç‚¹vçš„ä¸€ä¸ªé‚»å±…uçš„çŠ¶æ€ä¸º1çš„æ—¶å€™ . å› ä¸ºè¯¥èŠ‚ç‚¹çŠ¶æ€ä¸º1, å³è¿˜æ²¡æœ‰æŠŠå®ƒä»¥åçš„èŠ‚ç‚¹å…¨éƒ¨éå†, æ‰€ä»¥å½“å‰èŠ‚ç‚¹vè‚¯å®šå¯ä»¥ä»uåˆ°è¾¾, è€Œç°åœ¨åˆå¯ä»¥ä»våˆ°è¾¾u, æ‰€ä»¥æ„æˆä¸€ä¸ªå›è·¯. ä¸ºäº†è¡¨ç¤ºä¸€ä¸ªèŠ‚ç‚¹çš„ä¸‰ç§çŠ¶æ€, æˆ‘ä»¬æŠŠvisitedçš„å®šä¹‰æ”¹ä¸€ä¸‹, å®šä¹‰ä¸ºä¸€ä¸ªhashmap: HasheMap<GraphNode, Boolean> visited = new HasheMap<GraphNode, Boolean>(); èŠ‚ç‚¹ä¸åœ¨visitedè¡¨ç¤ºè¿˜æœªè®¿é—®è¿‡, èŠ‚ç‚¹å¯¹åº”ä¸ºfalseè¡¨ç¤ºæ­£åœ¨è®¿é—®, èŠ‚ç‚¹å¯¹åº”ä¸ºtrueè¡¨ç¤ºå·²ç»è®¿é—®è¯¥èŠ‚ç‚¹ä»¥åŠæ‰€æœ‰å¯ä»¥ä»å®ƒåˆ°è¾¾çš„èŠ‚ç‚¹. å†™ä¸€ä¸‹ä»£ç : public void DFS(GraphNode nd){ visited.put(nd, false); // mark as status-1 for(GraphNode next: nd.neighbors){ if( !visited.contains(next) ) DFS(next); else if(visited.get(next)==false) // found cycle System.out.println(\"Cycle detected!!!\"); }// now all touchable nodes from nd are visited visited.put(nd, true); // mark as status-2 } éé€’å½’ç‰ˆæœ¬çš„è¯è²Œä¼¼ä¹Ÿä¸å¾ˆå®¹æ˜“, æš‚æ—¶ä¸å†™äº†, ä»¥åæœ‰ç©ºäº†è€ƒè™‘ä¸€ä¸‹... Topology Sort è¿™ä¸€èŠ‚(ä»¥åŠä¸Šä¸€èŠ‚)å‚è€ƒè¿™ä¸ªéå¸¸æ£’çš„è§†é¢‘: https://class.coursera.org/algo-003/lecture/52 æ‹“æ‰‘æ’åºæ˜¯ä¸€ä¸ªdfsçš„åº”ç”¨, æ‰€è°“æ‹“æ‰‘æ’åºæ˜¯æŒ‡åœ¨ä¸€ä¸ªDAG(æœ‰å‘æ— å›è·¯å›¾)é‡Œç»™æ¯ä¸ªèŠ‚ç‚¹å®šä¹‰ä¸€ä¸ªé¡ºåº(v1...vn), ä½¿å¾—æŒ‰ç…§è¿™ä¸ªé¡ºåºéå†çš„èŠ‚ç‚¹, æ¯ä¸€ä¸ªèŠ‚ç‚¹viéƒ½æ˜¯ä¹‹å‰éå†è¿‡çš„çš„èŠ‚ç‚¹(v1 ~ vi-1)æ‰€æŒ‡å‘çš„(æˆ–æ²¡æœ‰ä»»ä½•å…¶ä»–èŠ‚ç‚¹æŒ‡å‘çš„). å¥½åƒè¿˜æ²¡è¯´æ¸…æ¥š... æ‹“æ‰‘æ’åºçš„ä¸€ä¸ªåº”ç”¨å°±æ˜¯å¯¹äºå„ç§ä¾èµ–æ€§(æ¯”å¦‚å­¦ä¹ è¯¾ç¨‹Aéœ€è¦å…ˆå­¦ä¹ è¿‡è¯¾ç¨‹B)ç»„æˆçš„å›¾å¯»æ‰¾ä¸€ä¸ªèŠ‚ç‚¹éå†çš„é¡ºåºä½¿å…¶å¯è¡Œ. propositions : æ‹“æ‰‘æ’åºçš„ç»“æœä¸å”¯ä¸€. æœ‰å›è·¯çš„å›¾ä¸å­˜åœ¨æ‹“æ‰‘é¡ºåº. å¦‚æœä¸€ä¸ªèŠ‚ç‚¹æ²¡æœ‰å‡ºè¾¹, é‚£ä¹ˆå®ƒå¯ä»¥æ”¾åœ¨æ‹“æ‰‘æ’åºçš„æœ€åé¢(æ²¡æœ‰èŠ‚ç‚¹ä»¥æ¥å®ƒ). å¦‚æœä¸€ä¸ªèŠ‚ç‚¹æ²¡æœ‰å…¥è¾¹, é‚£ä¹ˆå®ƒå¯ä»¥æ”¾åœ¨æ‹“æ‰‘æ’åºçš„æœ€åé¢. ç®€å•ä¿®æ”¹ä¸€ä¸‹é€’å½’çš„dfså°±å¯ä»¥å¤„ç†æ‹“æ‰‘æ’åº: ç»´æŠ¤ä¸€ä¸ªè®¡æ•°å™¨ K (åˆå§‹åŒ–ä¸ºn=æ‰€æœ‰èŠ‚ç‚¹æ•°), æ¯å½“ä¸€ä¸ªç‚¹å·²ç»éå†å®Œæ¯•(æ‰€æœ‰é€šè¿‡è¿™ä¸ªç‚¹å¯ä»¥åˆ°è¾¾çš„ç‚¹éƒ½å·²ç»è¢«èµ°è¿‡)ä»¥å, å°±æŠŠè¿™ä¸ªç‚¹çš„é¡ºåºè®¾ä¸ºK, åŒæ—¶å‡å°‘K. å°±ç”¨ä¸€ä¸ªHashMapæ¥ä¸ºæ¯ä¸ªèŠ‚ç‚¹å…³è”ä¸€ä¸ªåºå·å¥½äº†: HasheMap<GraphNode, Integer> order = new HasheMap<GraphNode, Integer>(); public void DFS(GraphNode nd){ for(GraphNode next: nd.neighbors){ if( !visited.contains(next) ) DFS(next); }// all touchable nodes from nd are visited order.put(nd, K--); } æ˜¯ä¸æ˜¯ç‰¹åˆ«ç®€å•, å¤ªç¥å¥‡äº†! ä¸Šé¢åªæ˜¯å¯¹äºä¸€ä¸ªç‚¹è¿›è¡Œçš„, ä¸ºäº†ç»™æ‰€æœ‰ç‚¹æ‹“æ‰‘æ’åº, åªè¦ä»ä¸€ä¸ªæ²¡æœ‰å‡ºè¾¹çš„èŠ‚ç‚¹å‡ºå‘è¿›è¡Œéå†, ä¸€ç›´è¿è¡Œåˆ°æ‰€æœ‰çš„èŠ‚ç‚¹éƒ½å·²ç»è®¿é—®è¿‡ä¸ºæ­¢.","tags":"tech","title":"æ·±åº¦ä¼˜å…ˆæœç´¢(DFS)å°ç»“"},{"url":"https://x-wei.github.io/notes/simhash.html","text":"é™¤äº†ä¸Šæ¬¡ä»‹ç»çš„ minhash æ–¹æ³•ä»¥å¤–, è¿˜æœ‰ä¸€ç§å¸¸è§çš„hashæ–¹æ³•, å«åšsimHash. è¿™é‡Œåšç®€è¦ä»‹ç». è¿™ä¸ªhashå‡½æ•°çš„èƒŒæ™¯å’Œä¸Šæ¬¡ä¸€æ ·, è¿˜æ˜¯è€ƒè™‘æŠŠæ–‡æœ¬æŠ½è±¡ä¸ºngramçš„é›†åˆ: ç„¶åç›¸ä¼¼åº¦ä¾æ—§æ˜¯Jaccard similarity: simHash simHashçš„æ–¹æ³•å¬ä¸Šå»æ¯”minHashè¿˜è¦ç®€å•: å¯¹ä¸€ä¸ªæ–‡æ¡£ d ä¸­çš„æ¯ä¸€ä¸ªterm(ngram, shingle) t , è®¡ç®—å…¶hashcode(æ¯”å¦‚ç”¨javaå†…å»ºçš„ Object.hashCode() å‡½æ•°) hash(t) . æŠŠdä¸­æ‰€æœ‰termçš„ hash(t) åˆæˆä¸ºä¸€ä¸ªhashcodeä½œä¸ºdçš„hashcode simHash(d) : simHash(d) çš„é•¿åº¦ä¸ hash(t) ç›¸åŒ, simHash(d) çš„ç¬¬kä¸ªbitçš„å–å€¼ä¸ºæ‰€æœ‰ hash(t) ç¬¬kä¸ªbitçš„ ä¼—æ•° . å†™æˆæ•°å­¦è¡¨è¾¾å¼å¾ˆå“äºº, å…¶å®åªä¸è¿‡ä¸æ–­åœ¨{0,1}å’Œ{-1,+1}ä¹‹é—´å˜è€Œå·², æ€»ä¹‹å°±æ˜¯å¯¹æ‰€æœ‰hash(t)çš„æ¯ä¸€ä½è¿›è¡Œç»Ÿè®¡, å¦‚æœ1å¤šå°±æ”¾1, å¦åˆ™å°±æ”¾0... å…³äºä¸ºä»€ä¹ˆsimHashå¯ä»¥æ»¡è¶³è¿‘é‚»hashçš„æ¡ä»¶(å³ä¸¤ä¸ªæ–‡æ¡£jacccard simè¶Šå¤§, å…¶simhashç›¸ç­‰çš„å¯èƒ½æ€§è¶Šå¤§), ä¸çŸ¥é“... ä¸è¿‡å¯ä»¥å‚è€ƒè¿™ä¸ªé“¾æ¥: http://matpalm.com/resemblance/simhash/ simHash VS minHash ä¸‹é¢æ¥æ¯”è¾ƒä¸€ä¸‹äºŒè€…çš„å·®åˆ«. é¦–å…ˆæ˜¯è¡¨ç¤ºæ–¹å¼: simHashåªéœ€è¦ç›´æ¥æ‹¿termçš„é›†åˆå³å¯ä½¿ç”¨ minHashéœ€è¦é¦–å…ˆå»ºç«‹å­—å…¸, ç„¶åç”¨ä¸€ä¸ªbinaryçš„å‘é‡(é•¿åº¦ä¸ºå­—å…¸é•¿åº¦)è¡¨ç¤ºä¸€ä¸ªæ–‡æ¡£ å…¶æ¬¡æ˜¯å–å€¼èŒƒå›´: simHashå¾—åˆ°çš„hashèŒƒå›´å–å†³äºåº”ç”¨åˆ°æ¯ä¸ªtermä¸Šçš„hashå‡½æ•°çš„èŒƒå›´, simHashä¸æ‰€æœ‰termçš„hashä½æ•°ç›¸åŒ. minHashçš„èŒƒå›´ç­‰äºå­—å…¸çš„é•¿åº¦, å¦‚æœå­—å…¸é‡Œæœ‰Mä¸ªtermé‚£ä¹ˆminHashå–å€¼åœ¨1åˆ°Mä¹‹é—´. ä½†æ˜¯minHashä¹Ÿæœ‰ä¼˜ç‚¹: è¦ç”Ÿæˆä¸åŒçš„simHashæ¯”è¾ƒå›°éš¾, å–å†³äºåº”ç”¨åœ¨æ¯ä¸ªtermä¸Šçš„hashå‡½æ•°æœ‰å¤šå°‘ç§. ç”Ÿæˆä¸åŒçš„minHashéå¸¸å®¹æ˜“: æ¯æ¬¡shuffleå°±å¯ä»¥å¯¹ä¸€ç¯‡æ–‡ç« ç”Ÿæˆä¸åŒçš„minHash. æ‰€ä»¥å¦‚æœæˆ‘ä»¬æƒ³è¦ç”¨å¤šä¸ªhashæ¥ç´¢å¼•ä¸€ä¸ªæ–‡ç« çš„æ—¶å€™, minHashå¯ä»¥å¾ˆå®¹æ˜“å®ç°.","tags":"notes","title":"Approximate Retrieval(2): simHash"},{"url":"https://x-wei.github.io/tech/bfs-summary.html","text":"ä»Šå¤©æ€»ç»“ä¸€ä¸‹å¹¿åº¦ä¼˜å…ˆæœç´¢(BFS). BFSæ˜¯æ ‘/å›¾çš„éå†çš„å¸¸ç”¨ç®—æ³•ä¹‹ä¸€, å¯¹äºæ²¡æœ‰è¾¹æƒé‡çš„å›¾æ¥è¯´å¯ä»¥è®¡ç®—æœ€çŸ­è·¯å¾„. ç”±äºæ ‘çš„BFSåªæ˜¯å›¾çš„BFSçš„ä¸€ç§ç‰¹æ®Šæƒ…å†µ, è€Œä¸”æ¯”è¾ƒç®€å•ä¸éœ€è¦visitedæ ‡è®°, è¿™é‡Œåªå†™ä¸€ä¸‹å›¾çš„BFSå¥½äº†. å…ˆå®šä¹‰ä¸€ä¸ªGraphç±», è¿™é‡Œåœ¨æ¯ä¸€ä¸ªèŠ‚ç‚¹ä¿å­˜é‚»å±…ä¿¡æ¯: public class GraphNode{ int val; List<GraphNode> neighbors; } BFS for trees/graphs å›¾çš„éå†éœ€è¦æ³¨æ„ä¸èµ°é‡å¤èŠ‚ç‚¹, æ‰€ä»¥éœ€è¦ä¸€ä¸ªHashSet(åå­—å«visited)æ¥ä¿å­˜å“ªäº›èŠ‚ç‚¹å·²ç»è®¿é—®è¿‡äº†. éœ€è¦æ³¨æ„çš„æ˜¯, åœ¨æŠŠä¸€ä¸ªèŠ‚ç‚¹æ”¾è¿›é˜Ÿåˆ—queueçš„æ—¶åˆ»å°±è¦æŠŠå®ƒæ”¾è¿›visited , è€Œä¸æ˜¯åœ¨é˜Ÿåˆ—é‡Œå–å‡ºæ¥çš„æ—¶åˆ»å†æ”¾. public void BFS(GraphNode start){ LinkedList<GraphNode> q = new LinkedList<GraphNode>(); HasheSet<GraphNode> visited = new HasheSet<GraphNode>(); q.push(start); visited.add(start); while(!q.empty()){ GraphNode cur = q.poll(); System.out.println(cur.val); for(GraphNode next: cur.children){ if(!visited.contains(next)){ q.push(next); visited.add(next); // mark node as visited when adding to queue! } } }//while } BFS with distance åœ¨BFSçš„åŒæ—¶æˆ‘ä»¬å¯ä»¥è®°å½•ä»startèŠ‚ç‚¹åˆ°å½“å‰nodeçš„è·ç¦», æ–¹æ³•æ˜¯æŠŠä¸€ä¸ªè·ç¦»ä¿¡æ¯åŒæ—¶å…¥é˜Ÿ(å°è£…ä¸€ä¸ª Pair<GraphNode, Integer> ), æˆ–è€…ä½¿ç”¨ä¸€ä¸ªä¸queue å¹³è¡Œ çš„é˜Ÿåˆ—ä¿å­˜è·ç¦»ä¿¡æ¯. åœ¨ä¸Šé¢çš„ä»£ç ä¸­, åŠ å…¥: //... LinkedList<Integer> distq = new LinkedList<Integer>(); distq.push(0);// distance from start to start //... // in the while(!q.empty()) loop: int d = distq.poll();//get distance from start to current node for(GraphNode next: node.children){ distq.push(d+1);// distance from start to next node //... å¯¹äºTreeçš„æƒ…å†µæ¥è¯´, è¿™é‡Œçš„distå…¶å®å°±æ˜¯å½“å‰èŠ‚ç‚¹çš„æ·±åº¦depth. properties æ€§è´¨1: æ¯ä¸ªèŠ‚ç‚¹nodeçš„distanceéƒ½æ˜¯nodeè·ç¦»èµ·å§‹ç‚¹startçš„æœ€çŸ­è·ç¦». æ€§è´¨2: è·ç¦»startè¿‘çš„èŠ‚ç‚¹(depthæµ…çš„èŠ‚ç‚¹)ä¸€å®šæ¯”è·ç¦»startè¿œçš„èŠ‚ç‚¹æ—©è¢«è®¿é—®åˆ°. è¿™æ˜¯å¯¹ä¸€ä¸ªæ ‘BFSçš„æ—¶å€™èŠ‚ç‚¹çš„è®¿é—®é¡ºåº: BFS \"by layer\" å‚è€ƒä¸Šé¢çš„æ€§è´¨, å¯ä»¥ä¸€æ¬¡å¤„ç†\"ä¸€å±‚\"çš„èŠ‚ç‚¹, \"ä¸€å±‚\"çš„æ„æ€æ˜¯æŒ‡æ‰€æœ‰èŠ‚ç‚¹è·ç¦»startçš„è·ç¦»ç›¸åŒ. ä»£ç åœ¨whileå¾ªç¯é‡Œä¸æ˜¯ä¸€æ¬¡pollä¸€ä¸ªèŠ‚ç‚¹, è€Œæ˜¯ä¸€æ¬¡æŠŠqueueçš„å†…å®¹å¤„ç†å®Œ, ç„¶åæ¢æ–°çš„queueè¿›å…¥ä¸‹ä¸€æ¬¡whileå¾ªç¯. ä»£ç é‡æ–°å†™ä¸€ä¸‹: public void BFS(GraphNode start){ ArrayList<GraphNode> q = new ArrayList<Tree>(); HasheSet<GraphNode> visited = new HasheSet<GraphNode>(); q.push(start); visited.add(start); while(!q.empty()){ ArrayList<GraphNode> newq = new ArrayList<Tree>();// create a new queue for(GraphNode cur: q){// deal with all nodes in the queue System.out.print(cur.val+\", \");// all nodes in q are of the same distance/depth for(GraphNode next: cur.children) if(!visited.contains(next)) { newq.push(next);visited.add(next); } } System.out.println(); q = newq;//replace q with newq }//while } ä»¥ä¸Šç¨‹åºæ¯æ¬¡æ‰“å°ä¸€è¡Œ, ç¬¬iè¡ŒåŒ…æ‹¬äº†è·startè·ç¦»ä¸ºiçš„æ‰€æœ‰èŠ‚ç‚¹. ç”±äºè¿™æ ·çš„è¯æ¯æ¬¡ä¸å¿…åœ¨é˜Ÿé¦–pollå‡ºå…ƒç´ (è€Œæ˜¯ä¾æ¬¡å¤„ç†æ‰€æœ‰queueçš„å…ƒç´ ), æ‰€ä»¥å¯ä»¥æ”¹ç”¨ArrayList. æ­¤æ—¶whileå¾ªç¯é‡Œçš„ä¸å˜é‡æ˜¯: æ‰€æœ‰qé‡Œé¢çš„èŠ‚ç‚¹è·ç¦»startçš„è·ç¦»éƒ½ç›¸åŒ. complexity å‡è®¾ä¸€ä¸ªå›¾æœ‰Nä¸ªèŠ‚ç‚¹å’ŒMæ¡è¾¹, BFSä¼šèµ°éæ‰€æœ‰èŠ‚ç‚¹, æ—¶é—´æ˜¯O(N), ç„¶åç”±äºæ¯ä¸ªèŠ‚ç‚¹ä¼šæ£€æŸ¥æ‰€æœ‰çš„å‡ºè¾¹, æœ€ç»ˆæ‰€æœ‰çš„è¾¹éƒ½ä¼šè¢«æ£€æŸ¥è¿‡, æ—¶é—´æ˜¯O(M), æ‰€ä»¥BFSçš„æ—¶é—´å¤æ‚åº¦æ˜¯ O(N+M) . é˜Ÿåˆ—é‡Œé¢æœ€å¤šå¯èƒ½å­˜æ”¾æ‰€æœ‰èŠ‚ç‚¹, ç©ºé—´å¤æ‚åº¦ä¸º O(N) .","tags":"tech","title":"å¹¿åº¦ä¼˜å…ˆæœç´¢(BFS)å°ç»“"},{"url":"https://x-wei.github.io/tech/algo-ds-mindmap.html","text":"Here is a mindmap of the common algorithms and data structures, it can give an overview of the algorithmic terms. I shall update its content later on. And maybe write some blog entries on some of the items. This mindmap is drawn using xmind .","tags":"tech","title":"Mindmap of algorithms & data structures"},{"url":"https://x-wei.github.io/notes/minhash.html","text":"approximate retrieval (ç›¸ä¼¼æœç´¢)è¿™ä¸ªé—®é¢˜ä¹‹å‰å®ä¹ çš„æ—¶å€™å°±ç»å¸¸é‡åˆ°: å¦‚ä½•å¿«é€Ÿåœ¨å¤§é‡æ•°æ®ä¸­å¦‚ä½•æ‰¾å‡ºç›¸è¿‘çš„æ•°æ®. é—®é¢˜æè¿°: å‡è®¾æœ‰Nä¸ªæ•°æ®, å¹¶ä¸”å¯¹äºä»–ä»¬æœ‰ä¸€ä¸ªç›¸ä¼¼åº¦(æˆ–è·ç¦»)çš„åº¦é‡å‡½æ•° sim(i,j) , æˆ‘ä»¬çš„é—®é¢˜å°±æ˜¯å¦‚ä½•å¿«é€Ÿæ‰¾å‡ºæ‰€æœ‰Nä¸ªç‚¹ä¸­ç›¸ä¼¼åº¦è¾ƒå¤§çš„iå’Œjç»„åˆ. ä¹ä¸€çœ‹è¿™ä¸ªé—®é¢˜å¿…é¡»è¦å¯¹æ‰€æœ‰çš„(i,j)è®¡ç®—ç›¸ä¼¼åº¦, ä½†æ˜¯N&#94;2çš„å¤æ‚åº¦åœ¨Nå¤ªå¤§çš„æƒ…å†µä¸‹æ˜¯ä¸èƒ½å¤Ÿå¿å—çš„. kdtree ä¹‹å‰åœ¨algo-noteé‡Œé¢é‡åˆ°è¿‡ kdtree , ç”¨å®ƒå¯ä»¥ä½¿å¾—å¯»æ‰¾nearest neighborçš„å¤æ‚åº¦å‡å°‘åˆ°logN. ä½†æ˜¯è¿™ç§æƒ…å†µå¯¹äºç»´åº¦ä½ä¸€ç‚¹(æ¯”å¦‚äºŒä¸‰ç»´)çš„æƒ…å†µåˆé€‚, ç»´åº¦åˆ°äº†æˆåƒä¸Šä¸‡çš„æ—¶å€™å¹¶ä¸æ˜¯å¾ˆå¥½çš„é€‰æ‹©, æ‰€ä»¥è¿™é‡Œä¸å¤šè®¨è®º. simhash å¦ä¸€ä¸ªæ€è·¯æ˜¯, ä½¿ç”¨æŸä¸ªhashå‡½æ•°, å¯¹äºæ¯ä¸€ä¸ªæ•°æ®è®¡ç®—ä¸€ä¸ªå“ˆå¸Œå€¼. è¿™ä¸ªhashå‡½æ•°è¦æ»¡è¶³: å½“iå’Œjçš„ç›¸ä¼¼åº¦å¾ˆé«˜çš„æ—¶å€™, hash(i)å’Œhash(j)çš„å€¼(å¾ˆå¯èƒ½)ç›¸åŒ. è¿™æ¬¡ä»‹ç»çš„minHashå°±æ˜¯è¿™æ ·çš„ä¸€ç§æ–¹æ³•. Jaccard similarity æ˜ç¡®é—®é¢˜å«ä¹‰, é¦–å…ˆéœ€è¦å®šä¹‰ç›¸ä¼¼åº¦. è¿™é‡Œä¸»è¦è€ƒè™‘æ–‡æœ¬ç›¸ä¼¼åº¦çš„é—®é¢˜, å‡è®¾å­—å…¸Dæœ‰Mä¸ªterm(termå¯ä»¥æ˜¯å•è¯, ä¹Ÿå¯ä»¥æ˜¯n-gramæˆ–å«shingle): ä¸€æ®µæ–‡æœ¬(document i)å¯ä»¥ç”¨binary vectorizationå˜ä¸ºä¸€ä¸ªbinaryçš„å‘é‡: (è¿™é‡Œæ²¡æœ‰ç”¨TFæˆ–è€…TFIDF, åªç”¨ä¸€ä¸ªç®€å•çš„binaryå‘é‡åŒ–, å› ä¸ºåªæœ‰binaryçš„æ—¶å€™æ‰é€‚åˆæˆ‘ä»¬æ¥ä¸‹æ¥çš„æ¨å¯¼...) æ¯ä¸ªdocumentå¯ä»¥çœ‹ä½œä¸€äº›termçš„ é›†åˆ , é›†åˆä¹‹é—´çš„ç›¸ä¼¼åº¦æœ‰ä¸€ä¸ªç»å…¸çš„åº¦é‡: jaccard similarity. å¯¹é›†åˆS1å’ŒS2, ä»–ä»¬çš„ç›¸ä¼¼åº¦å®šä¹‰ä¸º: ä¹Ÿå¾ˆå¥½ç†è§£, é‡åˆéƒ¨åˆ†æ¯”ä¾‹è¶Šé«˜ç›¸ä¼¼åº¦å°±è¶Šé«˜, å¦å¤–jaccard-simå–å€¼åœ¨0åˆ°1ä¹‹é—´. å¯¹äºdocument iå’Œj, ä»–ä»¬çš„å‘é‡å½¢å¼åˆ†åˆ«æ˜¯diå’Œdj. ç°åœ¨æˆ‘ä»¬å¸Œæœ›è®¡ç®—hash(di)å’Œhash(dj), ä½¿å¾—: minHash min hashçš„æ€è·¯æ˜¯è¿™æ ·çš„, é¦–å…ˆç”Ÿæˆä¸€ä¸ªéšæœºçš„(1...M)çš„æ’åº(permutation)Ï€: ç„¶å, å¯¹äºæ¯ä¸ªdocument d, éƒ½æŒ‰ç…§è¿™ä¸ªpermutation, æŠŠdçš„åˆ†é‡ä»æ–°æ’åˆ—: ç„¶åå®šä¹‰ minHash(di) ä¸ºpermutationä»¥åçš„dié‡Œçš„ç¬¬ä¸€ä¸ªä¸ä¸º0çš„ä½ç½®: (ä¸Šé¢ä¸ªå…¬å¼é‡Œdçš„ä¸‹æ ‡åªæ˜¯ä»£è¡¨ç¬¬iä¸ªæ–‡æœ¬, å¹¶ä¸ä»£è¡¨åˆ†é‡... æˆ‘åº”è¯¥å†™ä¸Šæ ‡çš„..) æ‰€ä»¥ minHash() è¿”å›1åˆ°Mä¹‹é—´çš„ä¸€ä¸ªæ•°. proof ç°åœ¨è¯æ˜ä¸€ä¸‹ä¸ºä»€ä¹ˆè¿™æ ·é€‰æ‹©minHashå‡½æ•°å¯ä»¥ä¿è¯ä¸¤ä¸ªæ–‡æœ¬çš„å“ˆå¸Œå€¼ç›¸ç­‰çš„æ¦‚ç‡ä¸ºä»–ä»¬çš„jaccard similarity. å¯¹äºd2å’Œd2, æˆ‘ä»¬åˆ†åˆ«æŸ¥çœ‹Ï€(d1)å’ŒÏ€(d2)çš„æ¯ä¸ªåˆ†é‡, è¿™ä¸¤ä¸ªæ•°æœ‰(11), (10), (01), (00)è¿™å››ç§å¯èƒ½, åˆ†åˆ«è®°æ¯ç§å¯èƒ½æ€§çš„å‡ºç°æ¬¡æ•°ä¸ºa,b,c,d: é‚£ä¹ˆjaccard similarityå¯ä»¥è¡¨ç¤ºä¸º: å†çœ‹ minHash() æ˜¯å¦‚ä½•è®¡ç®—çš„, å½“Ï€(d1)_kå’ŒÏ€(d2)_kéƒ½ä¸º0çš„æ—¶å€™ä¼šç»§ç»­å¢åŠ k, ä¸€ç›´åˆ°Ï€(d1)_kå’ŒÏ€(d2)_kä¸­æŸä¸€ä¸ªä¸º1. é‚£ä¹ˆ minHash(d1)==minHash(d2) çš„æƒ…å†µå°±æ˜¯äºŒè€…éƒ½ä¸º1çš„æƒ…å†µ, è¿™ç§æƒ…å†µçš„å¯èƒ½æ€§ä¸º: è¿™ä¸ªæ¦‚ç‡æ°å¥½å°±æ˜¯jaccard similarity.","tags":"notes","title":"minHash: ä¸€ç§å¿«é€Ÿapproximate retrievalæ–¹æ³•"},{"url":"https://x-wei.github.io/soft/linux-swap.html","text":"å½“å¹´è£…mint 17.1çš„æ—¶å€™å¿ƒæƒ³æˆ‘çš„ç”µè„‘æœ‰4GBå†…å­˜æ€ä¹ˆå¯èƒ½ä¸å¤Ÿç”¨, äºæ˜¯æœæ–­æ²¡æœ‰åˆ†ä¸€ä¸ªswapåˆ†åŒº, å‘µå‘µ... ç„¶åå°±çœ‹åˆ°chromeè¿™å‡ å¹´æ¥åƒå†…å­˜è¶Šæ¥è¶Šä¸¥é‡, å¯¼è‡´æˆ‘å¼€å¤šå‡ ä¸ªæ ‡ç­¾é¡µå†å¼€eclipseçš„è¯ç”µè„‘å°±å¾ˆæœ‰å¯èƒ½ç›´æ¥å¡æ­»... éƒé—·å•Š ! äºæ˜¯å†³å®šç»™ç³»ç»Ÿå¢åŠ ä¸€ä¸ªswapåˆ†åŒº. ä¹‹å‰ç»™ thealternative å†™é‚®ä»¶è¯¢é—®è¿™ä»¶äº‹, Sandro KalbermatteråŒå­¦çƒ­æƒ…å›å¤äº†æˆ‘å‘Šè¯‰æˆ‘æ€ä¹ˆåš, æŒ‰ç…§ä»–è¯´çš„æœç„¶æˆåŠŸäº†, ç‰¹æ­¤ä¸€è®°. step1. å»ºç«‹swapåˆ†åŒº é¦–å…ˆ, ç”¨gpartedè°ƒæ•´ç£ç›˜åˆ†åŒº, ç¼©å°ä¸€ä¸ªç£ç›˜çš„å¤§å°, ç„¶åç”¨ç©ºå‡ºæ¥çš„ç©ºé—´æ–°å»ºä¸€ä¸ªswapåˆ†åŒº. å…³äºswapåˆ†åŒºåº”è¯¥å¤šå¤§, æ ¹æ® è¿™ä¸ªå¸–å­ , å¤§çº¦æ˜¯å†…å­˜çš„2-3å€, ä¸è¿‡æˆ‘åªæ˜¯åˆ†äº†å’Œå†…å­˜ä¸€æ ·å¤§çš„4Gç©ºé—´, æ„Ÿè§‰è¿™æ ·åº”è¯¥å¤Ÿç”¨äº†(å§). æˆ‘æ˜¯æŠŠå­˜æ”¾æ–‡ä»¶çš„500Gåˆ†åŒºç¼©å°, è¿™ä¸ªè¿‡ç¨‹ä¼šæ¯”è¾ƒæ…¢, å¤§æ¦‚äºŒåå¤šåˆ†é’Ÿä»¥åæ‰ç»“æŸ: step2. ç¼–è¾‘fstab å»ºç«‹å¥½äº†swapåˆ†åŒºä»¥å, æ‰“å¼€ç»ˆç«¯, è¾“å…¥ sudo blkid æŸ¥çœ‹æ‰€æœ‰çš„ç£ç›˜åˆ†åŒº. $ sudo blkid /dev/sda1: LABEL = \"FILES\" UUID = \"ddefc0a7-30a1-42fb-a71a-0aebb55cb0b3\" TYPE = \"ext2\" /dev/sda2: UUID = \"952b70b9-c7ee-4adf-9ceb-ac631ed8d7eb\" TYPE = \"swap\" /dev/sdb1: LABEL = \"WIN7\" UUID = \"D268862068860407\" TYPE = \"ntfs\" /dev/sdb5: UUID = \"0ee51625-2fe3-49c8-b388-53076bce7955\" TYPE = \"ext4\" ç„¶åçœ‹åˆ°äº†swapåˆ†åŒºçš„UUIDä»¥å, å°†å…¶å¤åˆ¶, ç„¶åç¼–è¾‘fstabæ–‡ä»¶: sudo leafpad /etc/fstab : UUID=put-the-uud-here none swap defaults 0 0 ç„¶åé‡å¯, å°±å¯ä»¥çœ‹åˆ°swapåˆ†åŒºäº†! step3. è°ƒæ•´swapness swapness æ˜¯ä¸€ä¸ªåœ¨0åˆ°100ä¹‹é—´çš„æ•°, å½“ç³»ç»Ÿçš„å†…å­˜å‰©ä½™ä¸åˆ°ç™¾åˆ†ä¹‹swapnessçš„æ—¶å€™, å¼€å§‹ä½¿ç”¨swapåˆ†åŒº. é»˜è®¤çš„ç³»ç»Ÿswapnessæ˜¯60, å°±æ˜¯å†…å­˜å ç”¨è¶…è¿‡40%çš„æ—¶å€™å°±å¼€å§‹ä½¿ç”¨swapåˆ†åŒºäº†. ä½¿ç”¨ cat /proc/sys/vm/swappiness å¯ä»¥æŸ¥çœ‹å½“å‰çš„swapness. ç”±äºå†…å­˜è¯»å†™è¦æ¯”swapåˆ†åŒºå¿«å¾ˆå¤š, åœ¨å†…å­˜è¶³å¤Ÿçš„æƒ…å†µä¸‹å®Œå…¨æ²¡æœ‰å¿…è¦ä½¿ç”¨swap, äºæ˜¯ä¿®æ”¹swapnessä¸º20: sudo leafpaf /etc/sysctl.conf åœ¨æ–‡ä»¶é‡ŒåŠ å…¥ä¸€è¡Œ: vm.swappiness = 10 é‡å¯å³å¯...","tags":"soft","title":"linuxç³»ç»Ÿæ·»åŠ swapåˆ†åŒº&è°ƒæ•´swapness"},{"url":"https://x-wei.github.io/notes/linreg-bayes.html","text":"å‡ ä¹æ‰€æœ‰çš„mlè¯¾éƒ½æ˜¯ä»çº¿æ€§å›å½’è®²èµ·, ETHçš„è¯¾ä¹Ÿä¸ä¾‹å¤–. ä¸è¿‡è¿™æ¬¡è€å¸ˆç”¨äº†è´å¶æ–¯çš„è§†è§’è®²è¿™ä¸ªé—®é¢˜, è‡ªä»é«˜ä¸­æ¥è§¦ä¸è€å¸ˆè®²çš„çº¿æ€§å›å½’ä»¥æ¥ ç¬¬ä¸€æ¬¡å¬åˆ°ä¸€ä¸ªä¸åŒäºæœ€å°äºŒä¹˜çš„è§£è¯», æ„Ÿè§‰å¾ˆæœ‰æ„æ€. åˆæƒ³èµ·æ¥åˆ˜æœªé¹é‚£ç¯‡éå¸¸æ£’çš„ åšå®¢ , äºæ˜¯æƒ³è®°å½•ä¸€ä¸‹. notation é¦–å…ˆæœ‰nä¸ªæ•°æ®ç‚¹: å…¶ä¸­yæ˜¯å®æ•°, æ¯ä¸ªxæœ‰dä¸ªç»´åº¦, ä¸ºäº†æ–¹ä¾¿è¡¨ç¤ºæˆªè·, å†ç»™xåŠ å…¥ä¸€ä¸ªå§‹ç»ˆç­‰äº1çš„ç»´åº¦: ä¾‹å­: yä»£è¡¨æˆ¿ä»·, xä»£è¡¨äº†æˆ¿å­çš„é¢ç§¯, ä½¿ç”¨æ—¶é—´, è·ç¦»å¸‚ä¸­å¿ƒçš„è·ç¦»ç­‰å› ç´ . least square viewpoint åœ¨æœ€å°äºŒä¹˜çš„è§†è§’é‡Œ, çº¿æ€§å›å½’æ˜¯ç”¨ä¸€ä¸ªxçš„çº¿æ€§å‡½æ•°æ‹Ÿåˆy: ä½¿å¾—æ‹Ÿåˆç»“æœå’Œè§‚æµ‹ç»“æœçš„è¯¯å·®å°½é‡å°. ä¸è¿‡è¿™æ¬¡ä¸è¯´æœ€å°äºŒä¹˜, æ‰€ä»¥æ¥ä¸‹æ¥ä¸è®¨è®ºè¿™ä¸ªæ€è·¯... assumptions in Bayes viewpoint åœ¨è´å¶æ–¯è§†è§’é‡Œ, æˆ‘ä»¬å‡è®¾: å‡è®¾1. y = æŸä¸ªxçš„çº¿æ€§å‡½æ•° + è§‚æµ‹å™ªéŸ³ å³: å…¶ä¸­Îµiæ˜¯ä¸€ä¸ª éšæœºå˜é‡ , æ‰€ä»¥yä¹Ÿæ˜¯ä¸€ä¸ªéšæœºå˜é‡. å¦å¤–å†æœ‰ä¸€ä¸ªæ¯”è¾ƒå¼ºçš„å‡è®¾: å‡è®¾2. Îµæœä»centeredé«˜æ–¯åˆ†å¸ƒ, iid. (btw, å¯¹ä¸€ä¸ªéšæœºå˜é‡å»ºæ¨¡, ä¸€èˆ¬æ¥è¯´, è¿ç»­éšæœºå˜é‡å°±ç”¨é«˜æ–¯, ç¦»æ•£éšæœºå˜é‡ç”¨æ³Šæ¾) Bayes formula è´å¶æ–¯å…¬å¼é•¿è¿™ä¸ªæ ·å­: åªçœ‹æœ€å·¦è¾¹å’Œæœ€å³è¾¹çš„å†…å®¹, è¡¨è¾¾ä¸º: posterior = likelihood * prior åéªŒæ¦‚ç‡ = å¯èƒ½æ€§ * å…ˆéªŒæ¦‚ç‡ (ä¸Šé¢å…¶å®åº”è¯¥æ˜¯\"æ­£æ¯”äº\"è€Œä¸æ˜¯ç­‰å·, ç”±äºP(Y)æˆ‘ä»¬å¹¶ä¸å…³å¿ƒ, æ‰€ä»¥å¯ä»¥ç›´æ¥å¿½ç•¥ä¹‹) å…¬å¼é‡ŒYä»£è¡¨å¯ä»¥è§‚å¯Ÿåˆ°ç»“æœ, Xä»£è¡¨ç»“æœèƒŒåä¸èƒ½ç›´æ¥è§‚å¯Ÿçš„é‡( ä¸è¦å’Œæ•°æ®é‡Œçš„XYæ··æ·†... ). è´å¶æ–¯å…¬å¼çš„æ„ä¹‰åœ¨äº, è®©æˆ‘ä»¬ä»å¯è§‚æµ‹çš„Yåæ¨ä¸å¯è§‚æµ‹çš„Xçš„æ¦‚ç‡. æ—¢ç„¶æˆ‘ä»¬å·²ç»å¾—åˆ°äº†è§‚æµ‹ç»“æœY, é‚£ä¹ˆæ‰¾åˆ°ä½¿å¾—åéªŒæ¦‚ç‡æœ€å¤§çš„Xå°±è¯´æ˜æˆ‘ä»¬åœ¨è§‚æµ‹åŸºç¡€ä¸Šå¾—åˆ°äº†æœ€å¯ä¿¡çš„Xçš„ä¼°è®¡. é‚£ä¹ˆåœ¨æˆ‘ä»¬è¿™ä¸ªé—®é¢˜é‡Œ, Xä»£è¡¨æ¨¡å‹, å³æŸä¸€ä¸ªÎ²çš„å–å€¼; Yä»£è¡¨è§‚æµ‹ç»“æœ, å³æˆ‘ä»¬çœ‹åˆ°çš„nä¸ªæ•°æ®ç‚¹. æ‰€ä»¥æˆ‘ä»¬çš„é—®é¢˜å°±æ˜¯: åœ¨å·²ç»æœ‰äº†è¿™äº›è§‚æµ‹ç‚¹çš„åŸºç¡€ä¹‹ä¸Š, åº”è¯¥é€‰é‚£ä¸ªÎ²çš„å–å€¼, ä½¿å¾—åéªŒæ¦‚ç‡æœ€å¤§? lin-reg = max-likelihood çº¿æ€§å›å½’è®¤ä¸º, å¯¹äºä»»æ„çš„Î²çš„å–å€¼, å…¶å…ˆéªŒæ¦‚ç‡éƒ½æ˜¯ä¸€æ ·çš„, æ‰€ä»¥åœ¨è´å¶æ–¯å…¬å¼é‡Œå¯ä»¥å¿½ç•¥â„™(X), åªéœ€è¦è€ƒè™‘æœ€å¤§åŒ–likelihood â„™(Y|â€‹X)å³å¯ â€” å†ä¸€æ¬¡, ä¸è¦æŠŠè´å¶æ–¯çš„XYå’Œæ•°æ®çš„Xå’ŒYæ··æ·†... å³é€‰æ‹©Î²: ç”±äºéšæœºå˜é‡yåªæ˜¯éšæœºå˜é‡Îµçš„ä¸€ä¸ªå‡½æ•°(ä¸”ç»™å®šÎ², Îµå’Œyä¸€ä¸€å¯¹åº”): æ‰€ä»¥å¯ä»¥æœ€å¤§åŒ–Îµçš„likelihood: ç”±äºä¹‹å‰å¯¹Îµæœ‰å‡è®¾: é‚£ä¹ˆ: (ä¸è¦ä»¥ä¸ºÎµç‹¬ç«‹äºÎ²: Îµ=y - Î²t x, æ‰€ä»¥ä¸Šé¢è¡¨è¾¾å¼é‡Œå…¶å®è¿˜æ˜¯æœ‰Î²çš„. ) â‡’ ä¸¤è¾¹å–logå¹¶åŠ ä¸Šè´Ÿå·: Voila, æ‰€ä»¥æå¤§ä¼¼ç„¶=æœ€å°äºŒä¹˜! å¯¹, é¥¶äº†ä¸€åœˆè¿˜æ˜¯æœ€å°äºŒä¹˜, ä½†æ˜¯è¿™æ ·çš„æ„ä¹‰å˜äº†, æ˜ç™½äº†ä¸ºä»€ä¹ˆè¦æœ€å°åŒ–å¹³æ–¹è¯¯å·®è¿™ä¸ªå€¼. precise solution to linreg (notationæœ‰ç‚¹æ··ä¹±äº†, ä¹‹å‰è´å¶æ–¯é‡Œé¢åº”è¯¥ç”¨ABè€Œä¸æ˜¯ç”¨XYçš„orz...) æ¯ä¸ªxæ˜¯ä¸€ä¸ªåˆ—å‘é‡, è¿™é‡Œ, æŠŠæ‰€æœ‰æ•°æ®ç”¨çŸ©é˜µå½¢å¼è¡¨ç¤º: çŸ©é˜µè¡¨ç¤ºçš„å¥½å¤„æ˜¯å¹³æ–¹è¯¯å·®å¯ä»¥ç”¨çŸ©é˜µè¡¨ç¤º: å¯¹çŸ©é˜µè¿ç®—æ±‚åå¯¼, åå¯¼ä¸º0çš„æ—¶å€™å³å¯å¾—åˆ°æœ€ä¼˜çš„Î²:","tags":"notes","title":"lin-reg = max-likelihood: è´å¶æ–¯è§†è§’çœ‹çº¿æ€§å›å½’"},{"url":"https://x-wei.github.io/tech/list_array_matrix.html","text":"pythonç§‘å­¦è®¡ç®—åŒ…çš„åŸºç¡€æ˜¯numpy, é‡Œé¢çš„arrayç±»å‹ç»å¸¸é‡åˆ°. ä¸€å¼€å§‹å¯èƒ½æŠŠè¿™ä¸ªarrayå’Œpythonå†…å»ºçš„åˆ—è¡¨(list)æ··æ·†, è¿™é‡Œç®€å•æ€»ç»“ä¸€ä¸‹åˆ—è¡¨(list), å¤šç»´æ•°ç»„(np.ndarray)å’ŒçŸ©é˜µ(np.matrix)çš„åŒºåˆ«. liståˆ—è¡¨ åˆ—è¡¨å±äºpythonçš„ä¸‰ç§åŸºæœ¬é›†åˆç±»å‹ä¹‹ä¸€, å…¶ä»–ä¸¤ç§æ˜¯å…ƒç»„(tuple)å’Œå­—å…¸(dict). tupleå’ŒliståŒºåˆ«ä¸»è¦åœ¨äºæ˜¯ä¸æ˜¯mutableçš„. listå’Œjavaé‡Œçš„æ•°ç»„ä¸åŒä¹‹å¤„åœ¨äº, pythonçš„listå¯ä»¥åŒ…å«ä»»æ„ç±»å‹çš„å¯¹è±¡, ä¸€ä¸ªlisté‡Œå¯ä»¥åŒ…å«int, stringæˆ–è€…å…¶ä»–ä»»ä½•å¯¹è±¡, å¦å¤–listæ˜¯å¯å˜é•¿åº¦çš„(listæœ‰ append , extend å’Œ pop ç­‰æ–¹æ³•). æ‰€ä»¥, pythonå†…å»ºçš„æ‰€è°“\"åˆ—è¡¨\"å…¶å®æ˜¯åŠŸèƒ½å¾ˆå¼ºå¤§çš„æ•°ç»„, ç±»æ¯”ä¸€ä¸‹å¯ä»¥è¯´å®ƒå¯¹åº”äºjavaé‡Œé¢çš„ ArrayList<Object> . ndarrayå¤šç»´æ•°ç»„ ndarrayæ˜¯numpyçš„åŸºçŸ³, å…¶å®å®ƒæ›´åƒä¸€ä¸ªjavaé‡Œé¢çš„æ ‡å‡†æ•°ç»„: æ‰€æœ‰å…ƒç´ æœ‰ä¸€ä¸ªç›¸åŒæ•°æ®ç±»å‹(dtype), ä¸è¿‡å¤§å°ä¸æ˜¯å›ºå®šçš„. ndarrayå¯¹äºå¤§è®¡ç®—é‡çš„æ€§èƒ½éå¸¸å¥½, æ‰€ä»¥listè¦åšè¿ç®—çš„æ—¶å€™ä¸€å®šè¦å…ˆè½¬ä¸ºarray( np.array(_a_list_) ). ndarrayå¸¦æœ‰ä¸€äº›éå¸¸å®ç”¨çš„ å‡½æ•° , åˆ—ä¸¾å‡ ä¸ªå¸¸ç”¨çš„: sum, cumsum, argmax, reshape, T, ... ndarrayæœ‰ fancy indexing , éå¸¸å®ç”¨, æ¯”å¦‚: a[a>3] è¿”å›æ•°ç»„é‡Œå¤§äº3çš„å…ƒç´  ndarrayä¹‹é—´çš„ä¹˜æ³•: å¦‚æœç”¨ä¹˜æ³•è¿ç®—ç¬¦ * çš„è¯, è¿”å›çš„æ˜¯æ¯ä¸ªä½ç½®å…ƒç´ ç›¸ä¹˜(ç±»ä¼¼matlabé‡Œé¢çš„ .* ), æƒ³è¦çŸ©é˜µç›¸ä¹˜éœ€è¦ç”¨ dot() . å¸¸è§çŸ©é˜µçš„ç”Ÿæˆ: ones, zeros, eye, diag, ... matrixçŸ©é˜µ matrixæ˜¯ndarrayçš„å­ç±» , æ‰€ä»¥å‰é¢ndarrayé‚£äº›ä¼˜ç‚¹éƒ½ä¿ç•™äº†. åŒæ—¶, matrixå…¨éƒ¨éƒ½æ˜¯äºŒç»´çš„, å¹¶ä¸”åŠ å…¥äº†ä¸€äº›æ›´ç¬¦åˆç›´è§‰çš„å‡½æ•°, æ¯”å¦‚å¯¹äºmatrixå¯¹è±¡è€Œè¨€, ä¹˜å·è¿ç®—ç¬¦å¾—åˆ°çš„æ˜¯çŸ©é˜µä¹˜æ³•çš„ç»“æœ. å¦å¤– mat.I å°±æ˜¯é€†çŸ©é˜µ... ä¸è¿‡åº”ç”¨æœ€å¤šçš„è¿˜æ˜¯ndarrayç±»å‹. å‚è€ƒèµ„æ–™: http://docs.scipy.org/doc/numpy/reference/index.html http://math.mad.free.fr/depot/numpy/base.html http://stackoverflow.com/questions/4151128/what-are-the-differences-between-numpy-arrays-and-matrices-which-one-should-i-u","tags":"tech","title":"numpy: list, array, matrixå°ç»“"},{"url":"https://x-wei.github.io/notes/algoI_week6.html","text":"Can we do better than BST if we do not need ordered operations ? (No compare methods, use equals method) Idea: save items in an array. Hash function : method for calclulating the array index of a key. Issues: computing hash function equality tests collision resolution Classic space-time tradeoff. 1. Hash Functions Goal: scramble the keys uniformly to produce a table index. effcient to compute all indices are equally likely for any key challenge: need different approach for different key types. Java's hashing All java object has a methode int hashCode() requirement: if x.equals(y) â‡’ x.hashCode()==y.hashCode() (hopefully) if x.equals(y)==false â‡’ x.hashCode!=y.hashCode() Default implementation: memory address for x. Custom implementations for standard types: Integer, Double, String, File, URL, Date... Strings: Horner's method â€” compute a polynome. recipe for user-defined types: Modeular hasing (hash code VS hash function) Hash code : 32-bit integer between -2&#94;31 and 2&#94;31-1 (can be negative!!) Hash function : integer between 0 and M-1 (used directly as array index, should >=0) BUG code: private int hash(Key k){ return k.hashCode()%M; } â†’ bug: number returned can be negative ! 1-in-billion bug code: return Math.abs(k.hashCode()) % M; â†’ bug: Math.abs() returns negative numbers for -2&#94;31 correct code: just take the first 31 bits: x&0x7fffffff return k.hashCode()&0x7fffffff % M; å¦ä¸€ä¸ªhashçš„æ€è·¯æ˜¯ç”¨random(ç”¨hashcodeä½œä¸ºéšæœºç§å­) uniform hasing assumption each key is equally likely to hash to an integer between 0 and M-1 ä¸€äº›æ•°å­¦ç»“è®º: 2. Separate Chaining one strategy for collision resolution. idea : Using a table of size M < N, build a list for each of the table positions. implementation public class SeparateChainingHashST < Key , Value > { private int M = 97 ; private Node [] st = new Node [ 97 ] ; private static class Node { Object key , val ; // no generic array creation ! Node next ; public Node ( Key k , Value v , Node nxt ) { ... } } int hash ( Key k ) { return ( k . hashCode () & 0x7fffffff ) % M ; } public Value get ( Key k ) { int h = hash ( k ); for ( Node x = st [ h ] ; x != null ; x = x . next ) if ( k . equals ( x . val )) return ( Value ) x . val ; // cast return null ; } public void put ( Key k , Value v ) { int h = hash ( k ); for ( Node x = st [ h ] ; x != null ; x = x . next ) if ( k . equals ( x . val )) { x . val = v ; return ; } st [ h ] = new Node ( k , v , st [ h ] ); } } æ³¨æ„å†…éƒ¨ç±»Nodeé‡Œç”¨çš„æ˜¯Object â€” å› ä¸ºä¸èƒ½å£°æ˜generic array. analysis proposition Under the assumption of uniform hashing, the number of keys in a list is within a constant factor to N/M. proof. binominal distribution. M times faster than sequential search â†’ typical choice: M ~ N/5 3. Linear Probing Another approch for collision resolution. idea: open addressing Use an array of size M>N , when a key collides, find next open slot . insert: when occupied, move pointer until got open slot search: when not found, move pointer until find or reach open slot delete : set key to null, then for all items behind this key: set to null, then insert this key...... array M must be larger than N â‡’ array resizing is necessary. implementation public class LinearProbingHashST < Key , Value > { private int M , N ; private Object [] keys ; // cannot use generic array private Object [] vals ; public void put ( Key k , Value v ) { int i = hash ( k ); for (; keys [ i ]!= null ; i = ( i + 1 ) % M ) if ( keys [ i ] . equals ( k )) { vals [ i ]= v ; return ; } keys [ i ]= k ; vals [ i ]= v ; } public Value get ( Key k ) { int h = hash ( k ); for (; keys [ h ]!= null ; h = ( h + 1 ) % M ) if ( k . equals ( keys [ h ] )) return ( Value ) vals [ h ] ; // ugly cast return null ; } } cluster def. cluster A contiguous block of items. New keys are more likely to hash into a cluster. Knuth parking pb: (å½“å¹´Knuthå°±æ˜¯åœ¨è¯æ˜äº†è¿™ä¸ªä»¥åå†³å®šå†™é‚£å¥—ä¹¦) Typical choice: N/M ~ 1/2 (3/2 for search hit and 5/2 for search miss) 4. Hash Table Context widely used in applicataions. cost for computing hash VS cost for searching: hashCode() for strings in java 1.1: exemain only 8-9 evenly spaced characters to save time. uniform hashing assumption: performance not guaranteed... one-way hash functions Hard to find a key that hash to a desired value, or 2 keys having the same hash value. used for fingurprints or store passwords, but too expensive for ST implementations. Seperate chaining VS linear probing variations ST choice: hash tables VS balanced search trees","tags":"notes","title":"[Algorithms I] Week 6 Hash Tables"},{"url":"https://x-wei.github.io/notes/algoI_week5_2.html","text":"1. 1d Range Search Goal: intersections of geometric objects. Solution: BST 1d range search operations required: insert search delete range search : all keys between k1 and k2 range count : how many keys are between k1 and k2 â†’ find points on an interval implementation by BST range count using the rank() function for the BST (or use the size of a tree) æ³¨æ„ä»€ä¹ˆæ—¶å€™è¦åŠ 1... public int size(Key hi, Key lo){ if(contains(hi)) return rank(hi)-rank(lo)+1; else return rank(hi) - rank(lo); } range search ç±»ä¼¼inorder traversalçš„æ–¹å¼: find in left subtree (if could fall into range) check current node find in right subtree running time: R+lgN (R=nb of nodes in range) 2. Line Segment Intersection Orthognal line segment intersection search : find all intersections given N horizontal/vertical lines Non-degeneracy assumption: all x-coord and y-coord are distinct. naive algo: check all pairs... Sweep-line algorithm sweep a vertical line from left to right. when hit the left end of horizontal-segment (h-seg) â†’ insert into a BST when hit the right end of a h-seg â†’ delete from BST when hit a vertical-seg: â‡’ 1d range search ! å…³äºæ€ä¹ˆsweepçš„: æ²¡æœ‰ä»”ç»†è®², ä¸è¿‡æˆ‘è§‰å¾—å°±æ˜¯æŠŠæ‰€æœ‰çš„xåæ ‡æ’å¥½åº, æœ‰ä¸ª skylineé—®é¢˜ ä¹Ÿæ˜¯æ¶‰åŠå¦‚ä½•sweepçš„. proposition running time is NlgN+R (R=nb of intersections). proof. Sort by x-coord (or use PQ) â†’ NlgN insert/delete y-coord to BST â†’ NlgN range search â†’ NlgN + R 3. Kd-trees An extension of BST: 2d-keys . insert: insert 2d points search range search: find all keys lying in a 2d rectangle (h-v rectangle) range count gird implementation divide space into a M-by-M grid (uniform squares). space: N + M&#94;2 time: 1 + N/M&#94;2 â†’ choose square to balance space and time. problem: points are not uniformly distributed. 2d tree Use a tree to represent the subdivision of the space. 2d tree : recursively divide the space into 2 halfplanes construct the 2d tree by adding points: alternating between horizontal and vertical partitioning for each level of tree . Data structure: BST alternating x and y-coords as key. Range search for 2d tree find all points lying in a rectangle. ä¾ç„¶ç±»ä¼¼tree traversalç®—æ³•: check point in node find in left subtree (if could be in range â€” the rectangle intersects the splitting line) find in right subtree analysis Typical case: R + lgN worst case: R+ sqrt(N) (even if tree is balanced) (proof is hard) Nearest Neighbour seach find closest point to a query point. check dist from query point to node check in left tree ( if could contain a closer point â€” å’Œä¸¤ç‚¹è¿çº¿ä¸splitting lineçš„è§’åº¦æœ‰å…³ç³» ) check in right tree analysis typical case: lgN worst case: N Flocking boids 3 simple rules to get a simulation of flocking. Kd tree partition the k-dim space into 2 halfspaces. cycle through k dimensions. (å±…ç„¶æ—¶ä¸€ä¸ªæœ¬ç§‘ç”Ÿå‘ç°çš„!) Nbody simulation: treat clusters as an aggregated node 4. Interval search tree 1d interval search: data are intervals insert interval search interval delete interval intersection query: find all intervals that intersects (lo,hi) Nondegeneracy assumption: all left endpoint of intervals are distinct. API: put(Key lo, Key hi, Value val) get(Key lo, Key hi) delete(Key lo, Key hi) Iterable<Key> intersects(Key lo, Key hi) Interval search tree: BST using left endpoint as key in each node: store the max right endpoint of the subtree insert ç±»ä¼¼BST, åŠ ä¸Šç»´æŠ¤ä¸€ä¸‹maxendpointå³å¯. search search any one interval that intersects (lo,hi) if node intersects, return if left.maxendpoint < lo: go right else: go left *proof. * ä¸»è¦è¯æ˜ä¸€ç‚¹: if no intersection to left â‡’ then no intersection to the right 5. Rectangle intersection Goal: find all intersection among N rectangles. (non degeneracy assumption: all x and y are distinct) bottom line: linearithmic algo. sweep-line algorithm: sweep vertical line from left to right. when hit left part of a rect â‡’ put into an interval search tree when hit right part of a rect â‡’ remove interval every time befor adding â‡’ check intersection reduces the 2d rect intersection pb to 1d interval search pb. complexity: NlgN+RlgN summery:","tags":"notes","title":"[Algorithms I] Week 5-2 Geometric Applications of BSTs"},{"url":"https://x-wei.github.io/notes/algoI_week5_1.html","text":"goal: lgN for insert/search/delete operations (not necessarily binary trees..) 3 algo: 2-3 tree, (left leaning) red-black tree, B-tree 1. 2-3 Search Trees def. 2-3 tree allow 1 or 2 keys per node, & 2 or 3 children per node: 2-node: one key, 2 children (ordinary BST node) 3-node: 2 keys, 3 children (3 children: less, between, more ) perfect balance : every path from root to null link has the same length (2-3 treeçš„ä¸€ä¸ªè¶…å¥½çš„æ€§è´¨, ç±»ä¼¼äºä¸€ä¸ªæ»¡äºŒå‰æ ‘ !) symmetric order: inorder traversal gives ascending order (å’ŒBSTç±»ä¼¼) search Just follow the correct link... Natural generalization of search in BST... insert case 1: insert into a 2-node at bottom just convert a 2-node into a 3-node case 2: insert into a 3-node at bottom create a temporary 4-node (three keys) move middle key in 4-node into parent, split the rest two keys into two 2-nodes if parent becom a 3-node â†’ continue the process if arrived at the root (root is a 4-node with three keys): split it into three 2-nodes splitting a 4-node : can be done in constant time ( local transformation ). Analysis Invariant: maintains symmetric order and perfect balance. proof. each transformation maintains the order and the balance, all possible transformations: è¿™ä¸ªå›¾å¾ˆå¥½, 3-nodeçš„æ’å…¥ä¸€å…±æœ‰ä¸‰ç§æƒ…å†µ: è‡ªèº«æ˜¯root/çˆ¶äº²æ˜¯2-node/çˆ¶äº²æ˜¯3-node performance every path from root to null link has the same length. Implementation direct implementation is complicated: bottom line: Could do it, but there's a better way. 2. Red-Black BST LLRB tree: left-leaning red-black tree. BST representation of the 2-3 trees use internal left-leaning links for 3 nodes çº¢è‰²linkå³ä¸ºinternal left leaning link (çº¢é»‘æ ‘å°±æ˜¯è¿™ä¹ˆæ¥çš„), ç”¨çº¢è‰²linkè¿æ¥èµ·æ¥çš„ç»„æˆä¸€ä¸ª(è™šæ‹Ÿçš„)3-node æˆ–4-node. 3-nodeç”¨ä¸€ä¸ªred linkè¡¨ç¤º: 4-nodeç”¨ä¸¤ä¸ªred linkè¡¨ç¤º: â‡’ or or example: properties no node has two red links (ä¸å¯ä»¥ä¸€ä¸ªèŠ‚ç‚¹è¿ä¸¤ä¸ªred link) every path from path to null link has the same number of black links (æƒ³è±¡æ‰€æœ‰red linkéƒ½å˜ä¸ºhorizontal) all red links lean left representation Each node has only one link from parent â‡’ add a boolean to encode color of links (the color of the link from parent ). private class Node{ private Key key; private Value val; Node left, right; boolean color;//true means red } private boolean isRed(Node nd){ if (nd==null) return false; return nd.color; } insert to parent æ“ä½œ: åªéœ€æŠŠcolorå˜ä¸ºREDå³è¡¨ç¤ºè¯¥èŠ‚ç‚¹ è¢«å˜æˆäº†å’Œçˆ¶èŠ‚ç‚¹ä¸€èµ·çš„ä¸€ä¸ª(è™šæ‹Ÿ)èŠ‚ç‚¹. elementary operations left-rotation (def: convert a right-learning red link to left. ) (symmetric ordering and perfect black balance are maintained) private Node rotateLeft(Node h){ Node s = h.right; h.right = s.left; s.left = h; s.color = h.color; // not = BLACK h.color = RED; return s; } right-rotation (temporarily turn a left-leaning red link to right) private Node rotateRight(Node h){...} right rotation æ˜¯ä¸ºäº†åº”å¯¹è¿™ç§æƒ…å†µ: rotateRight(c) â‡’ color-flip (split a 4-node, with three kyes â€” two red links) private void filpColor(Node h){ h.color = RED; h.left.color = BLACK; h.right.color = BLACK; } Implementation Basic strategy Maintain one-to-one correspondence with 2-3 tree by applying elementary operations. search Exactly the same as elementary BST. ( â‡’ The same code for floor and ceiling) insert Each insert will generate a red link (then should rotate to make it legal) æ’å…¥çš„æ—¶å€™æœ‰ä¸¤ç§å¯èƒ½: insert into a 2-node at the bottom standart BST insert if have red right link: rotateLeft ex: insert into a 3-node æœ‰ä¸‰ç§å¯èƒ½: insert into left/middle/right, rightæœ€ç®€å•, leftæå¤æ‚, middleæœ€å¤æ‚, è§ä¸‹å›¾: standard BST insert and color nodes if necessary, rotate to balance 4-node, æ¯”å¦‚: flip colors to pass red link to upper level if necessary, rotate to make all links left-leaning ex: ex2: è§†é¢‘æœ€åä¸€æ®µçš„demoå¤ªå¸…äº†! å¹ä¸ºè§‚æ­¢!! Code åŸæ¥ åªæœ‰4ç§(å…¶å®æ˜¯3ç§)æƒ…å†µè¦è°ƒæ•´ : left = black, right = red â‡’ rotateLeft(a) left =red, left.right = red [è¿™ä¸ªä¸ä¼šå‡ºç°, å› ä¸ºè¿™å¯¹äºä¸‹ä¸€å±‚æ¥è¯´æ˜¯case 1..] â‡’ rotateLeft(e) â‡’ å˜ä¸ºcase 3 left = red, left.left = red â‡’ rotateRight(s) â‡’ å˜ä¸ºcase 4 left = red. right = red â‡’ flipColor(r) å‡ ä¸ªçŠ¶æ€ä¹‹é—´çš„è½¬åŒ–: åªè¦ä¸‰è¡Œä»£ç å³å¯å¤„ç†LLRB tree !! è€çˆ·å­ç‰›é€¼...... (è¿™ä¸ªä¹Ÿæ˜¯åœ¨2007å¹´algoç¬¬å››ç‰ˆçš„æ—¶å€™æ‰åˆšåˆšå¼„å‡ºæ¥çš„, ä»¥å‰çš„ä»£ç è¦å¤æ‚) private Node put(Node nd, Key k, Value v){ if(nd==null) return new Node(k,v,RED); int cmp = k.compareTo(nd.key); if(cmp==0) nd.val = v; // è¿™é‡Œä¸æ€¥ç€è¿”å› -- same trick as for BSTs.. else if(cmp<0) nd.left = put(nd.left, k, v); else nd.right = put(nd.right, k, v); // modifications to maintain LLRB tree property: if( isRed(nd.right) && !isRed(nd.left) ) nd = rotateLeft(nd);//case 1 //if( isRed(nd.left) && isRed(nd.left.right) ) nd.left = rotateLeft(nd.left);// case 2 -- never happen... if( isRed(nd.left) && isRed(nd.left.right) ) nd = rotateRight(nd);// case 3 if( isRed(nd.left) && isRed(nd.right) ) flipColor(nd);//case 4 return nd; } è¿™ä¸‰è¡Œä»£ç è¶Šçœ‹è¶Šç²¾å¦™...... Analysis worst case : the left path is alternating red and black . â‡’ longest path <= 2 * shortest path (height<= 2lgN) practical applications: height ~ 1.0 lgN summery: 3. B-trees setting: data access in file system. Probe is much expensive than accessing data within a page. Goal: access data using a minimum number of probes. B-tree def. external nodes: contain just keys, not links internal nodes: contain key-link pairs def. B-tree Generalize 2-3 trees by allowing up to M-1 keys per node: = 2 keys in root = M/2 keys in other nodes external nodes contain client keys internal nodes contain copies of keys to guide search Searching similar to BST/2-3tree ex. (Choose M as large as possible so that M links fit into a page) Insertion similar to 2-3 tree Analysis System implementations system implementations of RBtree. java: java.util.TreeMap , java.util.TreeSet . å…«å¦1: å…«å¦2: Sedgewick çš„æœ‹å‹, Philippe Flajolet , æ˜¯ä¸€ä¸ªX!","tags":"notes","title":"[Algorithms I] Week 5-1 Balanced Search Trees"},{"url":"https://x-wei.github.io/notes/algoI_week4_2b.html","text":"(BSTæ˜¯é”»ç‚¼é€’å½’ä»£ç çš„å¥½é¢˜ç›®) 1. Binary Search Trees def. BST A binary tree where each node has a key: for every node, the key is larger than all nodes in left subtree, smaller than all nodes in right subtree. Fields: key, val, left, right Implementation An inner class of BST nodes: private class Node{ private Key key; private Value val; private Node left, right; public Node(Key k, Value v){...} } skeleton implementation of BST: public class BST<Key implements Comparable<Key>, Value>{ private Node root; private class Node{...} public Value get(Key k){...} public void put(Key k, Value v){} public void delete(Key k){} public Iterable<Key> iterator(){} } search recursive version: (æˆ–è€…æŠŠè¿™ä¸ªå‡½æ•°å†™åˆ°Nodeç±»é‡Œé¢ä¹Ÿå¯ä»¥. ) private Value get(Node nd, Key k){ if(nd==null) return null; // search miss int cmp = k.compareTo(nd.key); if(cmp==0) return nd.val; // search hit else if (cmp>0) return get(nd.right, k); else return get(nd.left, k); } non-recursive version: public Value get(Key k){ Node nd=root; while(root!=null){ int cmp = k.compareTo(nd.key); if (cmp==0) return nd.val; else if(cmp>0) nd = nd.right; else nd = nd.left; } return null; } insert recursive version: (æ³¨æ„è¿™ä¸ªrecursiveå‡½æ•°çš„è¿”å›å€¼ä¸æ˜¯void! è¿™é‡Œæ˜¯ä¸€ä¸ªtrick: è¿”å›çš„æ˜¯åœ¨åˆ†å‰ä»¥å‰çš„é‚£ä¸ªèŠ‚ç‚¹) private Node put(Node nd, Key k, Value v){ if(nd==null) return new Node(k, v); int cmp = k.compareTo(nd.key); if(cmp==0) nd.val = v; else if(cmp>0) nd.right = put(nd.right, k, v); else nd.left = put(nd.left, k, v); return nd; } non-recursive version: ä¸å¦‚é€’å½’ç‰ˆæœ¬ä¼˜ç¾... public void put(Key k, Value v){ Node nd = root; while(true){ int cmp = k.compareTo(nd.key); if(cmp==0) { nd.val = v; break; } else if(cmp>0){ if(nd.right!=null) nd = nd.right; else {nd.right = new Node(k,v); break;} } else if (nd.left!=null) { if(nd.left!=null) nd = nd.left; else {nd.left = new Node(k,v); break;} } } } Analysis complexity: depth of the BST. shape of BST: depends on how the keys come in (order of insertion). if keys come in random order: could be pretty well balanced. BST and quick-sort partitionning The root of BST is just the pivot in quick sort partitioning * if all keys are distinct â‡’ one-to-one correspondence between quick sort and BST. â‡’ proposition if all keys are distinct and come in randome order, the average number of compares for a search/insert is ~2lnN (or 1.39lgN). proof.* è¯æ˜è§quicksorté‚£é‡Œçš„æ•°å­¦æ¨å¯¼... proposition (Reed, 2003) N distinct keys come in random order, average tree height = 4.300lnN Worst-case: The tree becomes just like a linked list: ~N for insertion and search 2. Oredered Operations in BST task: ordered opeartions min()/max() : min/max key deleteMin()/deleteMax() floor(Key k)/ceiling(Key k) : largest key <=k / smallest key >=k rank(Key k) : nb of keys < key select(int i) : key with rank=i Iterator<Key> keys(lo, hi) : iterates through [lo, hi] min/max easy min: left-most max: right-most floor/ceiling a little more complexed... floor (ceiling is similar) if k==nd.key return nd.val if k<nd.key the floor must be in the left subtree if k>nd.key å¦‚æœmin(nd.right) > k: è¿”å›nd.val å¦‚æœmin(nd.right) <= k: go to right public Value floor(Node nd, Key k){// largest element with key <= k int cmp = k.compareTo(nd.key); if(cmp==0) return nd.val;//case 1 else if(cmp<0) return floor(nd.left, k);//case 2 if (nd.right==null || min(nd.right).compareTo(k)>0) //case 3 return nd.val; else return floor(nd.right); } ä»–æä¾›çš„ç‰ˆæœ¬å’Œæˆ‘å†™çš„ä¸ä¸€æ ·: é€’å½’å‡½æ•°floorè¿”å›çš„ä¹Ÿæ˜¯ä¸€ä¸ªNode: rank/select In each node, store the number of nodes in the subtree: add an extra field . size private class Node{ private int count; //... } public int size(){ return size(root); } public int size(Node nd){ if(nd==null) return 0;// this is why we do not put size() inside the class Node! return nd.count; } public void put(Node nd, Key k, Value v){ //..... nd.count = size(nd.left)+size(nd.right)+1;//maintain count for each node return nd; } rank (return nb of keys < k) if nd.key==k return size(nd.left) if nd.key>k return rank(nd.left, k) if nd.key<k return size(nd.left)+1+rank(nd,right, k) private int rank(Node nd, Key k){ if(nd==null) return 0;//remember null case int cmp = k.compareTo(nd.key); if(cmp==0) return size(nd.left) else if (cmp<0) return rank(nd.left, k); else return size(nd.left)+1+rank(nd.right,k); } select() similar... iteration Inorder traversal ä¸­åºéå† public Iterable<Key> keys(){ Queue<Key> q = new Queue<Key>(); inorder(root, q); return q; } private void inorder(Node nd, Queue<Key> q){ if(nd==null) return; inorder(nd.left); q.enqueue(nd.key); inorder(nd.right); } property inorder-traversal gives the keys in ascending order . (proof by induction) 3. Deletions in BST one final function to implement: delete(Key k), deleteMin(), deleteMax() â†’ and remember to update the count field... (æ„Ÿè§‰è¿™ç¯‡æ–‡ç« å…¶å®å°±è®²çš„å¾ˆæ¸…æ¥šäº†: http://www.algolist.net/Data_structures/Binary_search_tree/Removal è¿™ä¸ªåœ¨é€’å½’å‡½æ•°é‡Œä½¿ç”¨äº†parentè¿™ä¸ªå‚æ•°) lazy approch put(k, null) , and leave the key in the tree (tombstone) â†’ not good if have large number of tombstons... deleteMin/Max go the the left-most node â†’ replace it with its right node. Recusive function with the returning-node trick : private Node deleteMin(Node nd){ if(nd==null) return null; // this might not happen if(nd.left==null) return nd.right; else nd.left = deleteMin(nd.left); nd.count = size(nd.left)+1+size(right);//remember to maintain the count field return nd; } è¿™ä¸ªé€’å½’çš„æŠ€å·§åˆä¸€æ¬¡ä½¿ç”¨äº†. Hibbard deletion first find node with the key to delete, 3 cases: 0 children: simply set parent link to null 1 child: replace parent link with the child 2 children (most subtle) first replace node key with smallest key in right subtree remove the smallest key in right subtree code of Hibbard deletion Again (for the 3rd time) use the return-nd trick ... private Node delete(Node nd, Key k){ if(nd==null) return null;// search miss int cmp = k.compareTo(nd.key); if(cmp>0) nd.right = delete(nd.right, k); else if(cmp<0) nd.left = delete(nd.left,k); else{ //if nd is the node to delete if(nd.left==null) return nd.right; if(nd.right==null) return nd.left; Key k2 = min(nd.right); nd.key = k2; nd.right = delete(nd.right, k2); } nd.count = size(nd.left)+1+size(nd.right); return nd; } public void delete(Key k){ root = delete(root, k); } æ„Ÿè§‰ç”¨äº†recursive return-nd è¿™ä¸ªtrickçš„å®ç°å¾ˆæ¼‚äº®.... æ¯”é‚£ç¯‡åšå®¢é‡Œæ”¾ä¸€ä¸ªå‚æ•°è¿›é€’å½’å‡½æ•°ä»¥åŠç”¨auxrootçš„åŠæ³•è¦å¥½ä¸å°‘... Analysis problem: not symmetric If random insert and delete for a while â‡’ tree become much less balanced ! Tree height tend to be sqrt(N). summery BST is much better in average case, but not guaranteed for worst case.","tags":"notes","title":"[Algorithms I] Week 4-2b Binary Search Trees"},{"url":"https://x-wei.github.io/notes/algoI_week4_2a.html","text":"1. Symbol Table API key-value pair abstraction insert a value with a key given a key, search for its value Association array abstraction Associate a value to a key â€” generalized array: a[key]=val . public class ST<Key, Value>{ void put(Key k, Value v);//remove key if value=null Value get(Key k);//return null if key is absent void delete(Key k); boolean contains(Key k); boolean isEmpty(); int size(); Iterable<Key> keys();//better to return an ordered sequence of keys } conventions: values are not null get() returns null if key not present put() can overwrite older value â†’ some one-line implementations: contains: return get(k)!=null; delete: put(k, null); Assume keys to be comparable: class ST<Key implements Comparable<Key>, Value> â€” can thus use compareTo() method. Else â†’ we can only use the equals() method... Be careful when implementing the equals method: å‘ä¸å°‘... 2. Elementary implementations naive implementations using unordered linked list ListNode{key, value, next} search: scan through all keys ~N insert: scan through, if not found, add to front ~N using ordered array using 2 arrays: keys[] (sorted), vals[] â‡’ can improve performance by binary search search operation write a function rank() that returns the number of keys < k searched. æ‰¾ä¸åˆ°çš„æ—¶å€™: æ¯”kå°çš„å…ƒç´ ä¸ªæ•°=lo (lo>hi, å¯ä»¥æƒ³æƒ³å½“hi=loä»¥åæ˜¯æ€ä¹ˆç§»åŠ¨çš„) private int rank ( Key k ) { int lo = 0 , hi = keys . length - 1 ; while ( hi >= lo ) { int mid = lo + ( hi - lo ) / 2 ; int cmp = keys [ mid ] . compareTo ( keys [ k ] ); if ( cmp == 0 ) return mid ; else if ( cmp > 0 ) hi = mid - 1 ; else lo = mid + 1 ; } return lo ; } Using rank() to implement the get() method: public Value get ( Key k ) { int rk = rank ( k ); if ( rk < N && keys [ rk ] . compareTo ( k ) == 0 ) return vals [ rk ] ; return null ; } insert operation Like insertion sort, time complexity is ~N for each insert. summery: 3. Ordered Opeartions When keys are comparable â‡’ provide more functionalities in the API. for example: min()/max() : min/max key deleteMin()/deleteMax() floor(Key k)/ceiling(Key k) : largest key <=k / smallest key >=k rank(Key k) : nb of keys < key select(int i) : key with rank=i Iterator<Key> keys(lo, hi) : iterates through [lo, hi]","tags":"notes","title":"[Algorithms I] Week 4-2a Elementry Symbol Tables"},{"url":"https://x-wei.github.io/notes/algoI_week4_1.html","text":"1. API and elementary implementations Collection: data struct for inserting and deleting items (ex. stack and queue). Priority queue: a special kind of collection â€” remove largest/smallest element. API: public class Max < Kye implements Comparable < Key >> { public MaxPQ (); public void insert ( Key k ); public Key delMax (); public boolean isEmpty (); public Key max (); int size (); } PQ client example find M largest elements from N items. (N is too huge to store) â‡’ æ€è·¯: ç”¨ Min PQ , å½“size>Mæ—¶åˆ æ‰æœ€å°å…ƒç´  â€” æœ€åå‰©ä¸‹çš„å°±æ˜¯æœ€å¤§çš„Mä¸ªå…ƒç´ äº†. elementary(naive) implementations unordered array implementation insert ~1, remove ~N ordered array implementation insert ~N â€” ~ insertion sort, remove ~1 goal : insert O(lgN) & remove max O(lgN) 2. Binary Heaps binary heap: a special kind of complete binary tree . def. \" complete binary tree\" All level except the last level are full, all nodes in the last level are as far left as possible. å®Œå…¨äºŒå‰æ ‘å¤§æ¦‚é•¿è¿™ä¸ªæ ·å­: property: a complete binary tree with N items has height = lgN. def. binary heap Binary heap is a complete binary tree that satisfies: each node >= any of its 2 children (\"heap ordering\"). property of binary heap: max element is root height is lgN each node still makes a heap (use this property to construct heap from bottom up) Array representation of binary heap Use an array a[] to represent a complete binary tree: very easy to get children and parent. index starting from 1 (root = a[1], do not use a[0]) for node at index i , its children are: i*2 and i*2+1 for node at index i (i>1), its parent is: i/2 Implementation ç®€è¨€ä¹‹å°±æ˜¯: å†…éƒ¨æˆå‘˜å˜é‡: public class MaxPQ<Key implements Comparable<Key>>{ private Key[] a; private int N; } siftup (swim) if a node is larger than its parent: exchange with parent until heap ordering is restored. private void swim ( int k ) { while ( k > 1 && less ( a [ k/2 ] , a [ k ] ) { exch ( a , k , k / 2 ); k /= 2 ; } } â‡’ use siftup for inserting elements when inserting an element, first append it to the end of the array, then siftup the element to its right position. public void insert(Key k){ a[N++]=x; swim(N); } siftdown (sink) if a node is smaller than its children: exchange it with the bigger child. ç”¨å…¬å¸é«˜å±‚å˜åŠ¨æ¥ç±»æ¯”å¾ˆå½¢è±¡... private void sink ( int k ) { while ( k * 2 <= N ) { int maxIndex = less ( a [ k ] , a [ k*2 ] ) ? k * 2 : k ; if ( k * 2 + 1 <= N && less ( a [ maxIndex ] , a [ k*2+1 ] ) maxIndex = 2 * k + 1 ; if ( maxIndex == k ) break ; exch ( a , k , maxIndex ); k = maxIndex ; } } â‡’ use siftdown for deleting max operation First put a[N] to the position of root, then sink. (æ³¨æ„è¦é˜²æ­¢loitering) public Key delMax () { Key ret = a [ 1 ] ; a [ 1 ] = a [ N ] ; a [ N-- ] = null ; // avoid loitering sink ( 1 ); return ret ; } Analysis insert: ~lgN remove max: ~lgN improvements: use a d-way heap instead of a 2-way heap (for ex. 3-way heap, the children of i are i 3, i 3+1, i*3+2, the parent of i is i/3) Fibonacci heap: insert is ~1 , remove max still ~lgN, (but too complicated to use in practice). considerations: use immutable keys to avoid client from changing the keys ( final keyword in java) underflow/overflow: throw exceptions for delMax() when empty, use resizing array for implementation. expand the API with other operations: remove an arbitrary item, change the prority of an item (like handling an array)... 3. Heapsort Basic idea: create a max heap with all N entries (\"heap-construction\") then repeatedly remove all N items (\"sortdown\") Implementation heap construction Construct the heap using a bottom-up method: build the heaps with small size first. one-node heaps (jus leaf node of heap): need not consider larger heaps: children(subtrees) are already heap-order â†’ just perform sink operation for root â‡’ sink elements at indices from N/2 to 1 for(int k=N/2; k>=1; k++) sink(k); â†’ complexity is linear , see analysis below. heap destruction now that we have a max-heap, to get the sorted array in-place, simply do: while(N>1){ exch(a,1, N--); sink(1); } Analysis proposition Heap construction uses <2N compares and exchanges. proof ä¸€ä¸ªæœ‰hå±‚çš„heap, é«˜åº¦ä¸ºkçš„subtreeæœ‰ 2&#94;(h-k)ä¸ª, æ¯ä¸ªsubtreeæœ€å¤šå¯ä»¥äº¤æ¢kæ¬¡(ä»rootäº¤æ¢åˆ°æœ€åº•å±‚) â†’ æ¯ä¸€å±‚æœ€å¤šæœ‰ k*2&#94;(h-k) æ¬¡äº¤æ¢ (ç¬¬ä¸€ä¸ªç­‰å¼å¯ä»¥ç”¨æ•°å­¦å½’çº³æ³•è¯...) è¯¦ç»†è¯æ˜è§http://algs4.cs.princeton.edu/24pq/ (Q20ç­”æ¡ˆ) proposition Heapsort use < 2NlgN compares and exchanges. Heapsort is the first in-place sorting algorithm with NlgN worst-case performance. â‡’ heapsort is optimal for time and space , but: inner loop is longer than quicksort poor use of cache memory (too many references to cache â€” look far away from the array entry when going down through the tree) not stable: because it does long-distance exchanges Summary: 4. Event-driven simulation Goal: simulating the motion of N particles in elastic collision (using a priority queue). model bouncing balls (without collision) Ball class: challenge: which objects to check? How to do it efficently ? Time driven simulation upate the position of balls every dt seconds if overlap detected: figure how the velocity change and continue the simulation. problem with time-driven simulation: 1/2*N&#94;2 overlap check per time unit if dt small: too much calculation if dt too large: might miss collisions Event driven simulation change state only when something happens particles move in straight line before collision â†’ collision time can be predicted maintain PQ for collisions, key=collision time collision prediction input: each particle has radius s , position (rx, ry) , velocity (vx, vy) . (ç¾å›½é«˜ä¸­ç‰©ç†è¿™ä¹ˆå‡¶æ®‹?...) Implementation anyway, è¿™ä¸ªæ˜¯å°è£…å¥½çš„ç±»: æ³¨æ„, ä½¿ç”¨äº†countè®°å½•ä¸€ä¸ªparticleåˆ°ç›®å‰ä¸ºæ­¢çš„ç¢°æ’æ¬¡æ•°. initialization: quadratic Fill PQ with all potential particle-particle collisions Fill (the same) PQ with all potential particle-wall collisions Main loop get next event from PQ, event time = t ignore if the event is invalidated advance all particles to time t update velocities predict future collisions and insert to PQ åˆ¤æ–­invalidate: ä¸€ä¸ªeventæ„é€ (predict)æ—¶è®°å½•ç²’å­æ„é€ æ—¶åˆ»çš„ç¢°æ’æ¬¡æ•°(countA, countB), ç„¶ååœ¨è°ƒç”¨invalidateçš„æ—¶å€™, å¦‚æœç²’å­çš„ç¢°æ’æ¬¡æ•°å‘ç”Ÿäº†æ”¹å˜, åˆ™è¿”å›false. (è¯¦è§ä»–ä»¬çš„ä»£ç : http://algs4.cs.princeton.edu/61event/CollisionSystem.java.html ) Event class:","tags":"notes","title":"[Algorithms I] Week 4-1 Priority Queue"},{"url":"https://x-wei.github.io/notes/algoI_week3_2.html","text":"(maybe best algorithm for sorting.) 1. Quicksort Idea: shuffle the array Partition the array into two subarrays to left and right of pivot (*now pivot is *in its final position ) no larger entry to the left of pivot no smaller entry to the right of pivot sort each subarray recursively Implemetation The partition process: è¿™ä¸ªæ–¹æ³•ä¹Ÿæ¯”è¾ƒå·§å¦™. Use 2 pointers i and j (ä¸ªäººè§‰å¾—ç”¨hi, lo, pivotæ›´å¥½...) : â†’ a[i]>=a[lo], a[j]< = a[lo] (æ³¨æ„æ˜¯å¤§äº ç­‰äº /å°äº ç­‰äº ) â‡’ exchange i and j â†’ Scan until i and j cross (ie. j<=i) â‡’ finally exchange lo with j å‡½æ•°çš„ç­¾åå®šä¹‰çš„å¥½: æŠŠloåˆ°hiéƒ¨åˆ†çš„æ•°ç»„åˆ†æˆä¸¤éƒ¨åˆ†, å¹¶è¿”å›åˆ†å‰²ç‚¹çš„index. private static int partition ( Comparable [] a , int lo , int hi ) { int i = lo + 1 , j = hi ; while ( i < j ) { while ( i <= hi && less ( a [ i ] , a [ lo ] ) ) i ++ ; // a [ i ]>= a [ lo ] while ( j >= lo && less ( a [ lo ] , a [ j ] ) ) j --; //a[j]<=a[lo] if ( i < j ) exch ( a , i ++ , j --); } exch ( a , lo , j ); // exchange pivot with j return j ; // j in its final position } è¿™ä¸ªå‡½æ•°å…¶å®å¹¶ä¸å¥½å†™å¯¹: test for cross pointers is not trival (ex. edge case: the pivot is the smallest/largest entry in the range) i<=hi is necessary ! for keys equal to a[lo]: better to stop at them invariance: Quicksort: ä½¿ç”¨partitionå‡½æ•°å’Œè¾…åŠ©sortå‡½æ•°(recursive). æ³¨æ„åœ¨æ•´ä¸ªæµç¨‹å¼€å§‹ä»¥å‰å…ˆshuffleä¸€ä¸‹. private static void sort(Comparable[] a, int lo, int hi){ if(hi<=lo) return; int pivot = partition(a, lo, hi); sort(a,lo,pivot-1); sort(a,pivot+1,hi); return; } public static void sort(Comparable[] a){ StdRandom.shuffle(a); // don't forget to shuffle the array sort(a,0,a.length-1); } The randomness is preserved: the subarrays after partitionning is still randomly ordered. Analysis Performance: ~40% faster than mergesort. Best case compares = NlgN (each partition will divide the array in half) Worst case compares = 1/2*N&#94;2 N+(N-1)+...+1 if the array is already in order, each partition will have one subarray of length=0 Average case proposition On average, for array with N distinct keys, the #compares = ~2NlnN, #exchanges = ~1/2 NlnN. Proof.* C(N) := # compares for N entries pivot åœ¨Nä¸ªæ•°ç¦»çš„æ’åæ˜¯uniformçš„ æ¥ä¸‹æ¥çš„æ•°å­¦æ¨åˆ°å¾ˆæ¼‚äº®(ä¸è¿‡å¯èƒ½æ²¡å•¥ç”¨..) (ä¸Šé¢æœ€åä¸€è¡Œå†™é”™äº†... æ˜¯2NlnN...orz) random shuffle: probalistic guarantee against worst case. Pitfalls implementations will get quadratic performance if array: is sorted or reverse sorted has many duplicates (even if randomized) Staility Quicksort is NOT stable. partitionning can make long range exchanges Practical improvements cutoff to insertion sort for <10 items â†’ ~20% improvement Or we can leave the small subarrays unsorted and sort them at last using insertion sort estimate median by sampling 3 items â†’ 10% improvement 2. Selection Goal: given un array, find the kth largest item. Upper bound for this problem: NlgN (just sort the array) for small k (ex k=1,2,3), the upper bound is N (one-pass/two-pass) Lower bound is N: at least have to look at everything Quick select Algo proposed also by Hoare: partition the array into two arrays left of pivot and right of pivot. if pivot==k: return continue the partition for just one of the subarrays ç±»ä¼¼äºäºŒåˆ†æŸ¥æ‰¾çš„è¿‡ç¨‹.... æ³¨æ„è¿™é‡Œ æ˜¯ä¸ç”¨é€’å½’çš„ ! å› ä¸ºpartitionå‡½æ•°è¿”å›çš„ç›´æ¥å°±æ˜¯pivot åœ¨æ•´ä¸ªæ•°ç»„é‡Œçš„ ä½ç½®! Implementation privater static int partition ( Comparable [] a , int lo , int hi ) { ... } public static Comparable select ( Comparable [] a , int k ) { StdRandom . shuffle ( a ); int lo = 0 , hi = a . length - 1 ; while ( true ) { int j = partition ( a , lo , hi ); if ( j < k ) lo = j + 1 ; if ( j == k ) return a [ j ] ; else hi = j - 1 ; if ( hi <= lo ) break ; } return a [ k ] ; // è¿™é‡Œä¸å¤ªç†è§£ä¸ºä»€ä¹ˆä¼šåœ¨hi < loçš„æ—¶å€™ç›´æ¥è¿”å›a [ k ] } Analysis Proposition Quick selection takes linear time on average. *proof * intuitively, each partition will ct the subarray size in half: N+N/2+N/4+... = 2N formal analysis ç•¥... worst case : quadratic (but very rare to happen) Theoretical results 3. Duplicate keys if array contains many duplicate keys. huge array small number of distinct keys for mergesort insensitive... always ~NlgN compares. for quicksort Will get quadratic time if not stop on equal keys. (found in 1990s) mistake: put all items equal to pivot *to just one side * â†’ N&#94;2 compares if all keys are equal from lo to hi. correct: put all items equal to pivot in their final place. 3-way partitionning (by Dijkstra) partition the array into 3 parts: Dijkstra's 3-way partition algo: ä½¿ç”¨3ä¸ªæŒ‡é’ˆ: ltæŒ‡å‘ä¸­é—´éƒ¨åˆ†çš„å·¦è¾¹ç•Œ, gtæŒ‡å‘å³è¾¹ç•Œ; iæŒ‡é’ˆä»å·¦å‘å³æ‰«æ, ç®—æ³•å¾ˆsubtle: lt=lo, gt=hi, i=lo if a[i]==v : i++ if a[i]<v: exch(i,lt), i++, lt++ if a[i]>v: exch(i,gt), gt-- repeat until i and gt cross (i>gt) invariance : [lo, lt) all < v [lt, i) all == v (gt, hi] all >v Implementation: 3-way quick sort ä¸å¿…å†å†™partitionå‡½æ•°, ç›´æ¥åœ¨sorté€’å½’å‡½æ•°é‡Œé¢. private static void sort ( Comparable [] a , int lo , int hi ) { if ( hi <= lo ) return ; // é€’å½’å‡½æ•°åˆ«å¿˜äº†å…ˆå†™ç»ˆæ­¢æ¡ä»¶ ... int lt = lo , gt = hi ; Comparable v = a [ lo ] ; for ( int i = lo ; i <= gt ;) { // ä¸èƒ½å†™ i ++ if ( less ( a [ i ] , v ) ) exch ( a , i ++ , lt ++ ); else if ( less ( v , a [ i ] ) ) exch ( a , i , gt --); else // v == a [ i ] i ++ ; } sort ( a , lo , lt - 1 ); sort ( a , gt + 1 , hi ); } å½“Nä¸ªæ•°æœ‰å¾ˆå¤šé‡å¤çš„æ—¶å€™, lower boundå¯ä»¥å˜å°äºNlgN: And Sedgewick proved that the 3-wy partition is propotional to the lower bound.... 4. System Sorts Arrays.sort() in java: import java.util.Arrays; quicksort for primitive arrays, mergesort for objects: javaè®¾è®¡è€…è®¤ä¸ºå¦‚æœç”¨obj arrayè¡¨ç¤ºç©ºé—´ä¸æ˜¯é—®é¢˜... Pb in java's system sort: killer input exsit (havn't shuffle)... æ€»ç»“ä¸€ä¸‹å­¦è¿‡çš„5/6ç§æ’åº:","tags":"notes","title":"[Algorithms I] Week 3-2 Quicksort"},{"url":"https://x-wei.github.io/notes/algoI_week3_1.html","text":"Two classical sorting algorithms: mergesort, quicksort. 1. Mergesort Divide and conquer: top 10 algorithms of the 20th century, invented by von Neumann. Idea : divide array into 2 halves recursively sort each half merge two sorted halves Implementation Merge : Goal: a[lo] to a[mid] and a[mid+1] to a[hi] are sorted â‡’ get a[lo] to a[hi] sorted. â†’ use an auxiliary array to copy data : using 3 indices i,j,k. private static void merge ( Comparable [] a , Comparable [] aux , int hi , int mid , int lo ) { for ( int k = lo ; k <= hi ; k ++ ) aux [ k ]= a [ k ] ; int i = lo , j = mid + 1 , k = lo ; while ( i <= mid && j <= hi ) { if ( less ( aux [ j ] , aux [ i ] )) a [ k++ ] = aux [ j++ ] ; else a [ k++ ] = aux [ i++ ] ; } while ( i <= mid ) a [ k++ ] = aux [ i++ ] ; while ( j <= hi ) a [ k++ ] = aux [ j++ ] ; } note: we use if(less(aux[j],aux[i])) instead of if(less(aux[j],aux[i])) , because less(a,b) == true iff a<b (strict), and we want to make mergesort stable . See section (5) below. Assertion We can also add assertions : assert isSorted(a, lo, mid); assert isSorted(a,mid+1, hi); Enable/disable assertion at runtime: java -ea MyProgram //enable assertion java -da MyProgram //disable assertion: default Best practice: use assertions to check interval invariants; do NOT use assert for external argument checking ! Mergesort ä¸ºäº†mergesortéœ€è¦å†™ä¸¤ä¸ªè¾…åŠ©å‡½æ•°: mergeå’Œsort(recursive): public class MergeSort extends AbstractSort { public static void sort ( Comparable [] a ) { Comparable [] aux = new Comparable [ a . length ]; sort ( a , aux , 0 , a . length - 1 ); } private static void sort ( Comparable [] a , Comparable [] aux , int lo , int hi ) { if ( hi <= lo ) return ; int mid = ( hi + lo ) / 2 ; sort ( a , aux , mid + 1 , hi ); sort ( a , aux , lo , mid ); merge ( a , aux , hi , mid , lo ); } private static void merge ( Comparable [] a , Comparable [] aux , int hi , int mid , int lo ) { // as before ... } } æœ‰å‡ ç‚¹æ³¨æ„çš„: æ³¨æ„é€’å½’ç»ˆæ­¢æ¡ä»¶æ˜¯ hi<=lo , ä¸æ˜¯ == . å®ç°çš„ä»£ç ä¸éš¾, ä½†æ˜¯å®šä¹‰å¥½è¾…åŠ©å‡½æ•°çš„å‚æ•°å¹¶ä¸ç®€å•... æ¯”å¦‚åœ¨mergeé‡Œä½¿ç”¨äº†midä½œä¸ºå‚æ•°. auxçš„æ•°ç»„ç›´æ¥å†™åœ¨äº†å‡½æ•°å‚æ•°é‡Œé¢, å¥½å¤„æ˜¯å¯ä»¥é˜²æ­¢åå¤å£°æ˜æ•°ç»„å¸¦æ¥çš„å¼€é”€. å‘ç°ä»–ä»¬å†™çš„æ—¶å€™midéƒ½æ˜¯å†™æˆ: mid = lo+(hi-lo)/2 , æŸ¥äº†ä¸€ä¸‹ å‘ç°è¿™æ ·çš„åŸå› æ˜¯ä¸ºäº†é˜²æ­¢hi+loæ•´æ•°æº¢å‡º...å—¯æœ‰é“ç†. Analysis proposition (time) Mergesort takes at most NlgN compares and 6NlgN array access. Proof. def: C(N)=#compares for N elements, A(N)=#array access for N elements, the recurrence eq: C(N) <= 2 C(N/2) + N; C(1) = 0 (æœ€å¤šNæ¬¡æ¯”è¾ƒ: æ¯ä¸ªa[]çš„æ•°éƒ½ç”±æ¯”è¾ƒå¾—åˆ°) A(N) <= 2 A(N/2) + 6N; A(1) = 0 (~~è¿™é‡Œä¸å¤ªç†è§£ä¸ºä»€ä¹ˆæ˜¯6N, æ€ä¹ˆæ•°éƒ½æ˜¯4Næˆ–è€…5Nå•Š?......~~2Nå¤åˆ¶åˆ°aux, 2Nå¤åˆ¶å›å», 2Næ¯”è¾ƒ) (ä¸Šå›¾è“è‰²çš„ä¸€åˆ—æ˜¯extra cost) æˆ–è€…ç”¨é€’æ¨å…¬å¼, å‘ç°D(N)/Nçš„é€’æ¨å…³ç³»: æˆ–è€…ç”¨æ•°å­¦å½’çº³æ³•: Proposition(memory) Mergesort takes N extra memory. â‡’ mergesort is NOT in-place sorting method. def . \"in-place\" A sorting algo is in-place if it uses <C*lgN extra memory. ex. insertion sort, shellsort, selection sort... Practical improvements use insertion sort for small arrays: cutoff to insertion sort for <7 items. â‡’ lead to 20% improvement! stop if alread sorted: *a[mid]<a[mid+1]! * switch the role of a[] and aux[] 2. Bottom-up Mergesort bottom-up version of mergesort without recursion . Idea: pass and merge subarrays of size 1 in pairs repeat for subarrays of size 2,4,8,.... implementation çœ‹ç€ä¸Šé¢é‚£ä¸ªå›¾å¥½å†™ä¸€ç‚¹... å°±æ˜¯æ¯æ¬¡ç”¨æ›´å¤§çš„sizeæ¥ä¸¤ä¸¤mergeä¸€éæ•°ç»„ public static void sort(Comparable[] a){ Comparable[] aux = new Comparable[a.length]; for(int sz=1;sz<a.length;sz*=2){ for(int i=0;i<a.length-sz;i+=sz*2) merge( a,aux,i,i+sz-1,Math.min(i+sz*2-1) );//<-æ³¨æ„midå’Œhiçš„è®¡ç®—æ–¹æ³• } } 3. Sorting Complexity some items: computational model: allowed operations, (ex. decision tree for compare based sorting ). cost model: operation counts. upper bound: cost guarantee (ex. NlgN for mergesort). . lower bound: limit on cost guarantee for all algorithms (no algorithm can do better). Optimal algorithm: algo with best cost guarantee. (upper bound=lower bound) è¯æ˜lower bound çš„æ–¹æ³•å¾ˆæœ‰æ„æ€: lower bound for sorting (binary) decision tree for the case of 3 distinct items: each possible ordering is a leaf of the decision tree â†’ there are N! possible orderings â†’ tree height should be lg(N!) = NlgN (cf. https://en.wikipedia.org/wiki/Stirling%27s_approximation ) proposition. Any compare-based sorting algorithm must have at least lg(N!)~NlgN compares in the worst case. (for N distinct keys) proof. binary tree of height h has at most 2&#94;h leaves N! possible orderings â†’ at least N! leaves So, lower bound for sorting = ~NlgN â‡’ mergesort is an asymptotical optimal algorithm . (In terms of time complexity, the shortcoming of mergesort is always the extra space usage) ä½†æ˜¯å¹¶ä¸æ˜¯è¯´NlgNæ˜¯ æ‰€æœ‰ æ’åºé—®é¢˜çš„ä¸‹ç•Œ: 4. Comparators Java mechenism for comparing same data on different ways. Comparable interface â†’Sorting using natural order for a data type. public class Data implements Comparable { public int compareTo(Date that){ //...} } Comparator interface â†’Sorting using an alternative order . (total order property is required...) public interface Comparator<Key>{ int compare(Key v, Key w); } Comparator can be passed as arguments in java system sort: Using Comparators in our sorting algos Use another signature: change Comparable to Object add Comparator in arguments public static void sort(Object[] a, Comparator comparator); public static boolean less(Comparator c, Object v, Object w); public static void exch(Object[] a, int i, int j); Implementing a comparator Add static comparator to a class: In the declaration of a class, define an inner class that implements the Comparator interface, Then declare an instance of this inner class as a static final variable... note: the inner class should be static also. ä»¥ä¸Šçš„æ–¹æ³•ç›®çš„æ˜¯ä¸ºæŸä¸ªç±»æä¾›é¢„å…ˆå®šä¹‰å¥½çš„comparator(æ¯”å¦‚ String.CASE_INSENSITIVE_ORDER ), å¦å¤–ä¹Ÿå¯ä»¥ç›´æ¥å†å£°æ˜ä¸€ä¸ªç±»ä½œä¸ºcomparator, ç„¶åå®ä¾‹åŒ–è¿™ä¸ªç±»ä¼ è¿›å», å°±åƒä¹‹å‰åšè¿‡çš„é‚£æ ·. Application: Graham scan algo for convex hull We can get the result of compare by calling ccw(a,b,c) : *ccw(p,q1,q2)=true â‡” q2>q1 in terms of polar angle wrt p. (åˆ«å¿˜äº†pæ˜¯yåæ ‡æœ€å°çš„ç‚¹, å¦åˆ™è¿˜è¦è®¨è®ºè§’åæ ‡ä¸ºè´Ÿæ•°çš„æƒ…å†µ, è§ä¸‹å›¾). * 5. Stability Typical application: first sort by student name then by section. def. :stable\" A stable sort preserves the relative order for items with equal keys. Insertion sort and mergesort are stable, whereas selection sort and shell sort are not. (And always need to carefully check code: \"less than\" vs. \"less than or equal to\"). insertion sort: stable proof: we never move equal items pass each other: if(less(a[j], a[j-1])) exch(...) selection sort: not stable counter example: when exchanging A1 and B1, we move B1 behind B2 shell sort: counter example: long-dist exchanges merge sort: stable proof: suffices to verify that merge operation is stable, if keys are equal, always take element from left subarray.","tags":"notes","title":"[Algorithms I] Week 3-1 Mergesort"},{"url":"https://x-wei.github.io/notes/algoI_week2_2.html","text":"1. Introduction rearanging array of size N into ascending order test client code: Insertion.sort(a); sort any datatype callback callback = reference to executable code i.e. passing functions as argument to sort() method sort() function calls object's compareTo() method â†’ implement the Comparable interface: public class XX implements Comparable<XX>{ ... } the interface: public interface Comparable<Item>{ public int compareTo(Item that); } compareTo(): return -1 (if this<that)/+1/0; needs a total order. â†’ in the sort() implementation: has not dependencies on type of data. public static void sort ( Comparable [] a ) { if ( a [ i ] . compareTo ( a [ j ] ) > 0 )... } helper functions less private static boolean less(Comparable v, Comparable u){ returnv.compareTo(u)<0; } exch private void exch(Comparable[] a, int i, int j) { Comparable swap = a[i]; a[i] = a[j]; a[j] = swap; } isSorted test if sorted if algo passes the test using only less ant swap, then it's correct. 2. Selection Sort Idea: each time : find the minimum from the remaining items. a[min] is the smallest element to right of a[i] â‡’ swap a[i] and a[min] (elements to left of i are sorted) invariants entries to the left of i are in sorted order, and are fixed ( in final position ) ever since no entry to the right of i is smaller than any entry to the left of i implementation public class SelectionSort extends AbstractSorting { // ... public static void sort ( Comparable [] a ) { for ( int i = 0 ; i < a . length ; i ++ ) { int min = i ; for ( int j = i + 1 ; j < a . length ; j ++ ) if ( less ( a [ j ] , a [ min ] )) min = j ; exch ( a , min , i ); } } } analysis proposition: selection sort uses N-1 + N-2 + ... + 1 = ~N&#94;2/2 compares, and N exchanges. â†’ quadratic time insensitive to input: quadratic time even if input is already sorted. data movement is minimum : linear time of exchanges (every exchange puts an item to its final position) 3. Insertion sort quite different performance characteritics than selection sort. Idea: In iteration i: move all entries larger than a[i] to its left. invariants entries to the left of i are in ascending order (but not in final position) entries to the right of i are not yet been seen implementation publc class InsertionSorting extends AbstractSorting { public static void sort ( Comparable [] a ) { for ( int i = 1 ; i < a . length ; i ++ ) for ( int j = i ; j > 0 ; j --){ if ( less ( a [ j ] , a [ j-1 ] )) exch ( a , j , j - 1 ); else break ; } } // ... } analysis proposition (average case): (the performance on average â€” for randomly sorted array ) proof: expect each entry to move halfway back best case and worst case best case if array already sorted min ascending order: N-1 compares, 0 exchanges. worst case if array sorted in descending order: every element goes all the way back â†’ 1/2 N&#94;2 compares, 1/2 N&#94;2 exchanges partially sorted arrays def. \" inversion\" an inversion is a pair of entries that are out of order. def. \"partially sorted\" An array is called partially sorted if the number of inversions is <= c N. * proposition. Insertion sort runs in linear time for partially sorted array. proof. number of exchanges = number of inversions. number of compares = number of exchanges + N-1 4. Shell Sort First non-trival sorting methode: an improvement of insertion sort. def. \"h-sorted array\" an array is h-sorted if every h-interleaved subarray is sorted. (h=1: just a sorted array) Idea: move entries >1 position at a time by h-sorting the array, then decrease h. use decreasing sequences of value h: implementation How to h -sort simply insertion sort with stride length=h . why insertion sort: for big h: small subarray for small h: nearly in order proposition A g-sorted array remains g-sorted after h-sorting it. (subtle to prove...) which sequence of h to use 3x+1 sequence proposed by Knuth. 1,4,13,40.... public class ShellSort extends AbstractSort { public static void sort ( Comparable [] a ) { int h = 1 , N = a . length ; while ( h < N / 3 ) h = h * 3 + 1 ; // find the beginning h ( N > h > N / 3 ) while ( h >= 1 ) { // performs h - sort for ( int i = h ; i < N ; i += h ) for ( int j = i ; j - h >= 0 ; j -= h ) if ( less ( a [ j ] , a [ j-h ] ) ) exch ( a , j , j - h ) else break ; h = h / 3 ; } } // ... private static boolean isHsorted ( Comparable [] a , int h ) { for ( int i = h ; i < a . length ; i ++ ) if ( less ( a [ i ] , a [ i-h ] )) return false ; return true ; } } æ¯æ¬¡hsort, å¤–å›´çš„å¾ªç¯æ˜¯ for(int i= h;i<N;i+=h) , éœ€è¦ç†è§£ä¸€ä¸‹: iç§»åŠ¨ä¸€æ¬¡ä»¥å, è¿›è¡Œçš„æ˜¯å¦ä¸€ä¸ªsubarray çš„æ’å…¥æ’åº, å½“ç§»åŠ¨åˆ°N-1çš„æ—¶å€™æ‰€æœ‰subarrayçš„æ’å…¥æ’åºæ‰ç»“æŸ. (ä¹Ÿå°±æ˜¯è¯´ä¸æ˜¯å…ˆå®Œæˆä¸€ä¸ªsubarrayçš„æ’å…¥æ’åºå†å®Œæˆå¦ä¸€ä¸ª, è¿™äº›æ˜¯æ’å…¥æ’åºæ˜¯åŒæ­¥è¿›è¡Œçš„) analysis proposition (for worst case ) â†’ better than quadratic time ! property (found in practice) of compares < Cte * N * (# of h used ) â†’ #compares < NlgN * Cte *accurate model has not been discovered * (æ‰€ä»¥shellsortåœ¨å®é™…ä½¿ç”¨ä¸­å‡ ä¹å’Œå¿«é€Ÿæ’åºä¸€æ ·å¿«! â€” å°½ç®¡æ²¡æœ‰æ•°å­¦è¯æ˜æ¥ä¿è¯) why we are interested in shell sort useful in practice: fast for medium sized arrays (beat even the classical sophistiated algorithms) tiny code volumn (used in embeded systems) lead to interesting questions for 50 years: asymptotic growth rate ? best sequence of h ? average case performance ? 5. shuffling shuffle array using sort one way to shuffle an array: for each array entry, generate a random real number sort the array of real numbers â‡’ the original array is shuffled ! proposition this shuffle sort produces a uniformly random permutation of input array drawback: cost for sorting... Goal: get uniformly random permutation in linear time . Knuth shuffle algo: for i = [0,N): - r = rand( [0~i ] ) or rand( [ i, N-1] ) - swap a[r] and a[i] implementation: public static void shuffle(Object[] a){ for(int i=0;i<a.length;i++){ int r = StdRandom.uniform(i+1); exch(a,r,i); } } proposition Knuth algo produces an uniformly random permutation of input array. proof. Sufficient to prove that, for card i and position j, the proba(card i comes to position j) = 1/N. if i<=j, P = 1/j * j/(j+1) * (j+1)/(j+2) * ... * (N-1)/N if j<i, P = 1/i * i/(i+1) * (i+1)/(i+2) * ... * (N-1)/N CQFD. example: online poker https://www.cigital.com/papers/download/developer_gambling.php â†é‚£ä¸ªæ‰‘å…‹ç½‘ç«™å·²ç»è¢«é»‘å‡ºç¿”äº†... bugs: r never get 52 (52th card never moved) r = rand(N) instead of rand(0~i), â†’ shuffle not uniform random() uses 32bit seed: only 2&#94;32 possible shuffles, 2&#94;32<52! seed = millisec from midnight, ~86*10&#94;6 suffles 6. Convex Hull application of sorting for the field of computational geometry. convex hull smallest polygoneenclosing all N points. input: N points output: sequence of vertices in counterclockwise ( ccw ) order. application: robot motion planning; farest pair. geometric properties : can traverse convex hull by making only ccw turns let p be the point with lowest y-coord, wrt p, vertices appear in increasing order of polar angle. Algo Graham scan algorithm: * choose p with smallest y coord * sort points by polar angle with p * consider points in order (stack is used), discard unless creates a ccw turn . CCW given three points a b c, returns if aâ†’bâ†’c is a CCW turn. (assumption: no 3 points on a line) â‡’ calculate cross product of ab and bc â‡’ determinants! area>0 â‡” CCW implementation public class Point2D { private double x , y ; public static boolean ccw ( Point2D a , Point2D b , Point2D c ) { double area2 = ( b . x - a . x ) * ( c . y - a . y ) - ( b . y - a . y ) * ( c . x - a . x ); return area2 > 0 ; } } convex hull: public static Stack < Point2D > GrahamScan ( Point2D [] p ) { / /* assumes that points are sorted by polar angle in p[] Stack<Point2D> hull = new Stack<Point2D>(); hull.push(p[0]); hull.push(p[1]); for(int i=2;i<p.length;i++){ Point2D b = hull.pop(), a = hull.peek(), c = p[i]; while(!Point2D.ccw(a,b,c)){ b = hull.pop(); a = hull.peek(); } //now a,b,c makes a ccw turn: hull.push(b); hull.push(c); } } running time: NlgN for sorting and linear for the rest.","tags":"notes","title":"[Algorithms I] Week 2-2 Elementary Sorts"},{"url":"https://x-wei.github.io/notes/algoI_week2_1.html","text":"fundamental data types: stacks and queues operations: insert, remove, test empy, iterate, ... module programming: seperate interface and implementation 1. Stacks ex. a stack of strings API: public interface StackoOfStrings{ void push(String item); String pop(); boolean isEmpty(); //int size(); } implementation 1: using a linkedlist insert/remove from the top of the linkedlist inner class class ListNode{ String item; ListNode next; } implementation public class LinkedStackOfStrings implements StackoOfStrings { class Node { String item ; Node next ; Node ( String item , ListNode nxt ) { ... } } private Node first ; public LinkedStackOfStrings () { first = null ; } public void push ( String item ) { Node nd = new Node ( item , first ); first = nd ; } public String pop () { String firstItem = first . item ; first = first . next ; return firstItem ; } public boolean isEmpty () { return first == null ; } } complexity: const time for every operation array implementation use array (of length N) to store items â†’ defect: stack has limited capacity keep a pointer *top: *pointing to the next empty space to push (top çš„å®šä¹‰å¾ˆé‡è¦) problems of the array implementation: underflow: pop from an empty stack overflow: size larger than capacity â‡’ resizing loitering : holding a ref to an obj which is no longer needed: ex. return s[top--] java system will not know that s[top] is no longer needed â‡’ have to clear it explicitely â‡’ String item = s[top--]; s[top]=null; return item implementation (containg resizing array operations) public class ArrayStackOfStrings implements StackOfStrings { private String [] s ; private int top = 0 ; public ArrayStackOfStrings () { // to be tuned s = new String [ 1 ] ; // initial capacity = 1 } public boolean isEmpty () { return top == 0 ; } private vois resize ( int capacity ) { // helper functoin String [] s2 = new String [ capacity ] ; for ( int i = 0 ; i < top ; i ++ ) s2 = s [ i ] ; s = s2 ; } public void push ( String item ) { if ( top == s . length ) // doubling size resize ( s . lenth * 2 ); s [ top++ ]= item ; } public String pop () { String item = s [ --top ] ; // NOT top --! s [ top ]= null ; if ( top > 0 && top == s . length / 4 ) // top > 0 is necessary resize ( s . length / 2 ); return item ; } } 2. Resizing Arrays resolving the overflow pb: grow and shrink the array â†’ need to copy all items when changing array size â‡’ pb: ensure that sizing happens infrequently resizing strategy repeated doubling: (initial capacity=1) when array is full, double the size amortized complexity for inserting N: N+(2+4+8+...+N) ~3N shrinking array â‡’ shrink the array by half when array is 1/4 full not half full â†’ thrashing will happen if push-pop-push-pop when array is full [invariant] : array always 20%~100% full complexity: in an amortized sense , will be constant proposition : from empty stack, M operations of push/pop taked time propotional to M comparison: resizable array vs linkedlist linkedlist implementation: operations takes const time even in worst time extra time and space for dealing with linkes resizing array implementation: operation taked const amortized time but in worst case takes linear time (ex. to be evited for critical systems) less wasted space 3. Queues FIFO data structure API public interface QueueOfStrings{ void enqueue(String item); String dequeue(); boolean isEmpty(); //int size(); } linked list implementation maintain first and last node pointers: pointing to 2 points of queue ( first for dequeue, last for enqueue ) â†’ take care of corner cases : - empty queue: first is null (and last is also null) - just one item in queue: first and last point to the same node (æ€»ä¹‹firstå’Œlastçš„å®šä¹‰å¾ˆé‡è¦) public class LinkedQueueOfStrings implements QueueOfStrings{ class Node{... } private Node first,last; public LinkedQueueOfStrings(){ first = null; } public void enqueue(String item){//same as push Node nd = new Node(item,null); if(isEmpty()){ last = nd; first = last; } else{ last.next = nd; last = nd; } } public String dequeue(){//same as pop in stack String firstItem = first.item; first = first.next; if(isEmpty()) last=null; return firstItem; } public boolean isEmpty(){ return first==null; } } resizing array implementation maintain head and tail : head is the queue head, tail is the next empty position for the next element to enqueue â†’ trick: head and tail should take mod capacity + resizing array ä¸çŸ¥é“å†™çš„å¯¹ä¸å¯¹: public class ArrayQueueOfStrings implements QueueOfStrings { private String [] q ; private head = 0 , tail = 0 ; public LinkedQueueOfStrings () { q = new String [ 1 ] ; // init capacity } public boolean isEmpty () { return head == tail ; } private void resize ( newsz ) { q2 = new String [ newsz ] ; int i = head , j = 0 ; while ( i != tail ) { q2 [ j++ ] = q [ i ] ; i = ( i + 1 ) % q . length ; } q = q2 ; head = 0 ; tail = j ; } public void enqueue ( String item ) { if ( ( tail + 1 ) % q . length == head ) resize ( q . length * 2 ); q [ tail ] = item ; tail = ( tail + 1 ) % q . length ; } public String dequeue () { String firstItem = q [ head ] ; head = ( head + 1 ) % q . length ; int sz = ( tail - head ) % q . length ; if ( sz > 0 && sz == q . length / 4 ) resize ( s . length / 2 ); return firstItem ; } } 4. Generics queues/stacks for other types of data â‡’ generics æ³›å‹ (java 1.5 æ‰å¼•è¿›æ³›å‹æœºåˆ¶...) use type paramater â†’ avoid casting, and discover type mismatch errors at compile time public interface Stack<Item>{ public void push(Item item); public Item pop(); public boolean isEmpty(); } a pb with array implementation javaä¸æ”¯æŒåˆ›ç«‹æ³›å‹æ•°ç»„ generic array creation is not allowed. ä¸å¯ä»¥new ä¸€ä¸ªæ³›å‹æ•°ç»„! s = new Item[capacity]; ä¼šæŠ¥é”™ â‡’ use an ugly cast : s = (Item[]) new Object[capacity]; (will get warning: \"unchecked cast\" â†’ javaè¢«é»‘äº†... ) autoboxing for primitive types each primitive type has a wrapper class ex. int â†” Integer autoboxing: automatic cast between a primitive type and its wrapper class. (syntactic sugar è¯­æ³•ç³– i.e. å¯¹è¯­è¨€åŠŸèƒ½æ²¡æœ‰å½±å“åªæ˜¯æ–¹ä¾¿ä½¿ç”¨) btw: https://zh.wikipedia.org/wiki/%E8%AF%AD%E6%B3%95%E7%B3%96 (å±…ç„¶è¿˜æœ‰è¯­æ³•ç›å’Œè¯­æ³•ç³–ç²¾......) 5. Iterators Interface support iteration over stacks and queues, without revealing the internal representation of stack/queue â‡’ implement the Iterable interface Iterable interface: can return an *Iterator * public interface Iterable{ Iterator<Item> iterator(); } Iterator interface: hasNext() and next() interface public interface Iterator<Item>{ boolean hasNext(); Item next(); void remove();//optional, bad practice to use it } to make a data structure Interable â†’ elegant client code how-to: implement Iterable interface write a private inner class XXIterator that implment the Iterator interface. ex. Bag data structure Supports adding and iterating through without caring about the order. API: public class<Item> Bag implements Iterable<Item>{ public void add(Item); int size(); } can be implemented by stack or queue(without pop/dequeue) 6. Applications Java collections library List interface: java.util.List implementations: ArrayList , LinkedList . pb with the java's implementation of stacks and queues: Stack class also implements List interface ( get() , remove() , contains() are implemented); Queue is an interface rather than a class... â‡’ poorly designed API Stacks applications function calls: recursion: can always use an explicit stack to remove recursion arithemic evaluation (Dijkstra) å››ç§ç±»å‹: å·¦æ‹¬å·, å³æ‹¬å·, æ•°å­—, ç®—å­ æœ€åä¸€è¡Œåº”è¯¥æ˜¯value stack. â‡’ åç¼€è¡¨è¾¾å¼, é€†æ³¢å…°å¼......","tags":"notes","title":"[Algorithms I] Week 2-1 Stacks and Queues"},{"url":"https://x-wei.github.io/notes/algoI_week1_lab.html","text":"model & problem (åŸæ–‡æè¿°å¤ªå•°å—¦äº†) A system using an N-by-N grid of sites. â†’ Each site is either open or blocked. â†’ A full site is an open site that can be connected to an open site in the top row via a chain of neighboring open sites. (è¿™ä¸ªfullçš„å®šä¹‰æœ‰ç„æœº è€Œä¸”å¯¼è‡´åé¢å†™ç¨‹åºæ—¶æœ‰ä¸ªé—®é¢˜, çœ‹è®ºå›æƒ³äº†åŠå¤©æ‰æƒ³å‡ºæ¥, è§åæ–‡.) â†’ We say the system percolates if there is a path of connected open sites form the top row to the bottom row. â‡’ pb: if sites are independently set to be open with probability p , what is the probability that the system percolates? â†’ When N is sufficiently large, there is a threshold value **p such that when p < p a random N-by-N grid almost never percolates, and when p > p , a random N-by-N grid almost always percolates. â†’ No mathematical solution for determining the percolation threshold p has yet been derived. â‡’ Your task is to *write a computer program to estimate p . Method API: public class Percolation { public Percolation(int N) // create N-by-N grid, with all sites blocked public void open(int i, int j) // open site (row i, column j) if it is not open already public boolean isOpen(int i, int j) // is site (row i, column j) open? public boolean isFull(int i, int j) // is site (row i, column j) full? public boolean percolates() // does the system percolate? public static void main(String[] args // test client (optional) } Corner cases: the row and column indices i and j are integers between 1 and N. 1â‰¤i,jâ‰¤N if i/j out of range: java.lang.IndexOutOfBoundsException if N<=0 in constructor: java.lang.IllegalArgumentException Performance requirements: N2 for constructor, const for other operations Monte Carlo simulation all sites init to be closed â†’ randomly choose a blocked site (i,j) and open it â†’ repeat until percolates â‡’ the fraction of opened sites is an estimation of p* ex. 20*20 grid, when percolated: â‡’ estimated p* = 204/400=0.51 repeat the estimation for T times, get T estimations â†’ get mean and std: â†’ 95% ç½®ä¿¡åŒºé—´: create API for this simulation: public class PercolationStats { public PercolationStats(int N, int T) // perform T independent experiments on an N-by-N grid public double mean() // sample mean of percolation threshold public double stddev() // sample standard deviation of percolation threshold public double confidenceLo() // low endpoint of 95% confidence interval public double confidenceHi() // high endpoint of 95% confidence interval public static void main(String[] args) // test client (described below) } -if N â‰¤ 0 or T â‰¤ 0: java.lang.IllegalArgumentException - main() : takes two command-line arguments N and T â‡’ performs T independent computational experiments on an N-by-N grid, and prints out the mean, standard deviation, and the 95% confidence interval for p*. (Use standard random from our standard libraries to generate random numbers; use standard statistics to compute the sample mean and standard deviation. Here is the algo API: http://algs4.cs.princeton.edu/code/index.php ) Code æ³¨æ„ä¸€å®šè¦ç”¨å®ƒä»¬æä¾›çš„é‚£äº›åº“, å¦åˆ™è‡ªå·±å†™çš„è¯ä»£ç å°±é•¿äº†.... shuffle, mean, stddevä»€ä¹ˆçš„ç›´æ¥ç”¨ä»–ä»¬çš„å‡½æ•°åº“å°±å¯ä»¥åšåˆ°. http://algs4.cs.princeton.edu/code/index.php å¦å¤–UFä¹Ÿæ˜¯ç”¨ä»–ä»¬å†™å¥½çš„, WeightedQuickUnionUF. æŒ‰ç…§æç¤º, é™¤äº†æ ¼å­çš„N&#94;2ä¸ªèŠ‚ç‚¹ä»¥å¤–å†å¢åŠ ä¸¤ä¸ªèŠ‚ç‚¹: é¡¶éƒ¨å’Œåº•éƒ¨çš„è™šæ‹ŸèŠ‚ç‚¹. è¿™é‡Œå†™çš„æ—¶å€™æ³¨æ„ä¸€å¼€å§‹ä¹Ÿæ˜¯ä¸æ©èƒ½å¤ŸæŠŠå®ƒä»¬ä¸ç¬¬ä¸€è¡Œ/æœ€åä¸€è¡Œç›¸è¿çš„ â€” è¦åœ¨ä¸€ä¸ªæ ¼å­openä»¥åå†ç›¸è¿. backwashé—®é¢˜ è¿™æ¬¡é¢˜ç›®æœ‰ä¸€ç‚¹æ¯”è¾ƒå›°éš¾å°±æ˜¯, éœ€è¦å®ç°isFull()å‡½æ•°, è¿™ä¸ªå‡½æ•°åˆ¤æ–­ä¸€ä¸ªæ ¼å­(i,j)æ˜¯å¦å’Œé¡¶éƒ¨ç›¸è¿. è¿™é‡Œå¦‚æœç›´æ¥ç”¨UFçš„connected()åˆ¤æ–­æ˜¯å¦å’Œé¡¶éƒ¨è™šæ‹ŸèŠ‚ç‚¹ç›¸è¿çš„è¯æ˜¯æœ‰é—®é¢˜çš„, å¦‚ä¸‹å›¾: ç™½è‰²æ ¼å­è¡¨ç¤ºæ ¼å­æ˜¯opençš„, è“è‰²æ ¼å­è¡¨ç¤ºæ ¼å­æ˜¯openå¹¶ä¸”æ˜¯ full çš„(i.e. å’Œé¡¶éƒ¨ç›¸è¿çš„), å·¦è¾¹å›¾ç‰‡é‡Œçš„çŠ¶æ€æ˜¯å¯¹çš„, å³è¾¹å›¾ç‰‡é‡Œåº•ä¸‹éƒ¨åˆ†çš„æ ¼å­çŠ¶æ€åˆ™ä¸å¯¹: å¦‚å·¦ä¸‹è§’çš„æ ¼å­, å…¶å®æ˜¯æ²¡æœ‰å’Œé¡¶éƒ¨è”é€šçš„, å¦‚æœæˆ‘ä»¬ç”¨ä¸¤ä¸ªè™šæ‹ŸèŠ‚ç‚¹çš„è¯, ç”±äºåº•éƒ¨è™šæ‹ŸèŠ‚ç‚¹å’Œé¡¶éƒ¨è™šæ‹ŸèŠ‚ç‚¹ç›¸è¿, æ‰€ä»¥å’Œåº•éƒ¨è™šæ‹ŸèŠ‚ç‚¹ç›¸è¿çš„å·¦ä¸‹è§’éƒ¨åˆ†å°±è¢«åˆ¤æ–­æˆäº†fullçš„. è¿™ä¸ªé—®é¢˜ä¸€å¼€å§‹æˆ‘ä»¥ä¸ºå¯ä»¥å¾ˆç®€å•è§£å†³, åæ¥å‘ç°æ²¡é‚£ä¹ˆå®¹æ˜“... (æ³¨æ„é¢˜ç›®è¿˜è¦æ±‚isFull()ä¹Ÿè¦åœ¨å¸¸æ•°æ—¶é—´ç»™å‡ºç»“æœ). ä¸€ä¸ªä¸ä¼˜é›…çš„åŠæ³•æ˜¯, å»ºç«‹ä¸¤ä¸ªUF, ä¸€ä¸ªç”¨æ¥åˆ¤æ–­percolation, å¦ä¸€ä¸ªUFé‡Œæ²¡æœ‰åº•éƒ¨è™šæ‹ŸèŠ‚ç‚¹æ‰€ä»¥å¯ä»¥ä¸“é—¨ç”¨æ¥åˆ¤æ–­isFull(). è¿™æ ·è§£å†³çš„è¯ä½¿å¯ä»¥é€šè¿‡æµ‹è¯•, ä¸è¿‡éå¸¸ä¸å¥½çœ‹, å¦å¤–ä¸€ä¸ªUFçš„å†…å­˜å ç”¨æ˜¯8N&#94;2(å†…éƒ¨æœ‰size[]å’Œid[]ä¸¤ä¸ªintæ•°ç»„), æ¯”è¾ƒå¤§. åœ¨è®ºå›ä¸Šæ‰¾äº†åŠå¤©, çœ‹äº†ä¸€äº›äººçš„åˆ†äº«ç»ˆäºæƒ³åˆ°äº†è¿™ä¸ªéå¸¸å¦™çš„åŠæ³•: UFåªå»ºç«‹é¡¶éƒ¨è™šæ‹ŸèŠ‚ç‚¹, ä¸å»ºç«‹åº•éƒ¨è™šæ‹ŸèŠ‚ç‚¹. åˆ¤æ–­isFullåªéœ€è¦ç”¨UFçš„connected()ä¸€ä¸‹å°±å¥½äº† é—®é¢˜æ˜¯æ€ä¹ˆåˆ¤æ–­percolation: a. å»ºç«‹ä¸€ä¸ªæ•°ç»„ boolean connectedToBottom[] , æŒ‡ç¤ºæŸä¸€ç‚¹æ˜¯å¦å’Œåº•éƒ¨ç›¸è¿ b. trickåœ¨è¿™é‡Œ: ä¸å¿…ä¿®æ”¹ä¸€ä¸ªè”é€šåˆ†æ”¯çš„æ‰€æœ‰ç‚¹çš„ connectedToBottom çš„å€¼, åªéœ€è¦ä¿®æ”¹è”é€šåˆ†æ”¯çš„root(UFçš„find)å³å¯ . åœ¨è¿›è¡Œunionçš„æ—¶å€™å…ˆæŸ¥çœ‹ä¸¤ä¸ªcomponentçš„rootæ˜¯ä¸æ˜¯è¿åˆ°åº•éƒ¨, ç„¶åæœ‰ä¸€ä¸ªè¿åˆ°åº•éƒ¨çš„è¯, åœ¨unionä»¥åæŠŠåˆå¹¶åçš„è”é€šåˆ†æ”¯çš„ connectedToBottom çŠ¶æ€æ”¹ä¸ºtrueå³å¯ c. ç„¶ååˆ¤æ–­percolate: å…ˆæ‰¾åˆ°é¡¶éƒ¨è™šæ‹ŸèŠ‚ç‚¹é”åœ¨componentçš„root, ç„¶åçœ‹è¿™ä¸ªrootæ˜¯å¦è¿åˆ°åº•éƒ¨å³å¯! è¿™æ ·ç”¨ä¸€ä¸ªbooleanæ•°ç»„(N&#94;2å†…å­˜)ä»£æ›¿äº†ä¸€ä¸ªæ–°çš„UF(8N&#94;2å†…å­˜), è€Œä¸”å®ç°ä¹Ÿæ›´åŠ ä¼˜é›…. éå¸¸æœ‰æ„æ€çš„ç»ƒä¹ ...","tags":"notes","title":"[Algorithms I] Week1-Lab: Percolation"},{"url":"https://x-wei.github.io/notes/algoI_week1_2.html","text":"1. Introduction 2. Observations ex. 3-SUM pb given N distinct numbers, how many triples sum up to 0? (pb related to computatioal geogtry) brute force method: for ( int i = 0 ; i < N ; i ++ ) for ( int j = i + 1 ; j < N ; j ++ ) for ( int k = j + 1 ; k < N ; k ++ ) { if ( a [ i ]+ a [ j ]+ a [ k ]== 0 ) count ++ ; } mesuring running time: stdlib.jaré‡Œé¢æä¾›äº†ä¸€ä¸ª Stopwatch ç±»ç”¨äºè®°å½•è¿è¡Œæ—¶é—´. log-log plot T(N) = running time for input of size N log(N)-log(T(N)) plot: often get a straight line â€” power law doubling ratio : (for checking the power law relationship, checking the power order) each time double the size of input, then take log of the time ratio of 2 runs: log( T(2N)/T(N) ) 3.Mathematical Models total running time: sum of cost*frequency of operations cost of some basic operations: array allocation: c*N (because all array entries have to be set to 0/false/null) string concatenation: c*N (proportional to the length of string !) simplification crude analysis ignore lower terms tilde notation estimating discrete sum by relaxation Replace the sum with an integral, and use calculus â€” å¾ˆæœºæ™º... 4. Order of Growth Classification (discard the leading coefficient when considering the growth order) only a small set of growth functions: 1, logN, N, NlogN, N&#94;2, N&#94;3, 2&#94;N exemples: binary search â‡’ logN divide and conquer â‡’ NlogN exhaustive search â‡’ 2&#94;N practical performance: ex. binary search public int binearch(int arr[], int key){//arr[] already sorted int lo=0,hi=arr.length; while(i<j){ int m = (lo+hi)/2; if(arr[m]==key) return m; else if(arr[m]<key) lo=m+1; else hi=m-1; } return -1; } (â†’ Bug in Java's Arrays.binarySearch() discovered in 2006......) â†’ invariant: if key in arr, arr[lo]<=key<=arr[hi] proposition. binary search uses at most logN+1 compares to search a sorted array of size N. pf. denote T(N) := nb of compares for array with size <=N â†’ T(1)=1 â†’ recurrence relation: T(N)<=T(N/2)+1 â‡’ T(N)=logN a faster 3-SUM â†’ first sort the array (~NlogN) â†’ for any pair a[i] and a[j], do binary search for -(a[i]+a[j]) ~(N2LogN) â‡’ reduce from N3 to N2logN ! (for 8k numbers, running time goes from 51s to 0.96s) 5. Theory of Algorithms types of analysis -best case -worst case -average case(random input, \"expected cost\") notations big Theta/big O/big Omega - big O: upper bound â†’ * once a specific algo is found, find an upper bound - big Omega: lower bound â†’ proove that no algo can do better - big Theta: symptotic growth (same order, optimal algo) â†’ lower and upper bound match* â‡’ in this course: use tilde notation: contain leading constants for highest order term 6. Memory KB: 2&#94;10 bytes MB: 2&#94;20 bytes (1 million) GB: 2&#94;30 bytes (1 billion) 64-bit machines: 8 byte pointers typical memory usage: for primary types: for arrays (with array overhead=24bytes ) : Obj overhead: 16 bytes (objçš„å¤§å°=16+objå†…éƒ¨filedçš„å¤§å°) references : 8 bytes (ex. inner class has a ref to encolsing class) padding : each obj uses a multiply of 8 bytes (objå¤§å°=8 bytesçš„æ•´æ•°å€)","tags":"notes","title":"[Algorithms I] Week 1-2 Analysis of Algorithms"},{"url":"https://x-wei.github.io/notes/sparkmooc_notelab4.html","text":"Part 0: Preliminaries Each line in the ratings dataset ( ratings.dat.gz ) is formatted as: UserID::MovieID::Rating::Timestamp â‡’ tuples of (UserID, MovieID, Rating) in ratingsRDD Each line in the movies ( movies.dat ) dataset is formatted as: MovieID::Title::Genres â‡’ tuples of (MovieID, Title) in ratingsRDD 487650 ratings and 3883 movies â‡’ Since the key is an integer and the value is a unicode string, we can use a function to combine them into a single unicode string (e.g., unicode('%.3f' % key) + ' ' + value ) before sorting the RDD using sortBy() . Part 1: Basic Recommendations naive method: always recommend the movies with the highest average rating... â‡’ 20 movies with the highest average rating and more than 500 reviews movieNameWithAvgRatingsRDD : (avgRating, Title, nbRatings) Part 2: Collaborative Filtering MLlib: https://spark.apache.org/mllib/ Collaborative filtering is a method of making automatic predictions (filtering) about the interests of a user by collecting preferences or taste information from many users (collaborating). The underlying assumption of the collaborative filtering approach is that if a person A has the same opinion as a person B on an issue, A is more likely to have B's opinion on a different issue x than to have the opinion on x of a person chosen randomly. ä¸€å›¾èƒœåƒè¨€: Matrix Factorization CFé—®é¢˜å®é™…ä¸Šæ˜¯çŸ©é˜µåˆ†è§£çš„é—®é¢˜: We have a matrix whose entries are movie ratings by users (shown in red in the diagram below). Each column represents a user (shown in green) and each row represents a particular movie (shown in blue). å…¶ä¸­ ratingçŸ©é˜µ (ç”¨æˆ·/ç”µå½±çŸ©é˜µ)åªæœ‰ä¸€äº›é¡¹çš„å€¼å­˜åœ¨(å³ç”¨æˆ·æ‰“åˆ†çš„é‚£äº›é¡¹), æ‰€ä»¥è¦ç”¨åˆ†è§£åçš„ä¸¤ä¸ªçŸ©é˜µä¹‹ä¹˜ç§¯æ¥ä¼°è®¡ratingçŸ©é˜µä¸­çš„ç¼ºå¤±é¡¹. With collaborative filtering, the idea is to approximate the ratings matrix by factorizing it as the product of two matrices: one that describes properties of each user (shown in green), and one that describes properties of each movie (shown in blue). è‹¥Nä¸ªç”¨æˆ·, Mä¸ªç”µå½± â‡’ æŠŠratingçŸ©é˜µ(N M)åˆ†è§£ä¸º ä¸€ä¸ªN dçŸ©é˜µ( userçŸ©é˜µ )ä¸ä¸€ä¸ªd M( movieçŸ©é˜µ*)çŸ©é˜µä¹‹ç§¯. å…¶ä¸­dä¸ªç»´åº¦å¯ä»¥æœ‰(éšå«çš„)æ„ä¹‰: æ¯”å¦‚f[j]ç¬¬ä¸€ä¸ªç»´åº¦ä»£è¡¨äº†ç”µå½±jä¸­åŠ¨ä½œç‰‡çš„æˆåˆ†, f[i]çš„ç¬¬ä¸€ä¸ªç»´åº¦è¡¨ç¤ºç”¨æˆ·iå¯¹åŠ¨ä½œç‰‡çš„å–œçˆ±ç¨‹åº¦, ä»¥æ­¤ç±»æ¨... æ‰€ä»¥f[i]ä¸f[j]çš„å†…ç§¯å°±å¯ä»¥æ˜¯ç”¨æˆ·iå¯¹ç”µå½±jçš„è¯„åˆ†çš„ä¸€ä¸ªä¸é”™çš„é¢„æµ‹. å‡è®¾ f[j]å·²çŸ¥ , é‚£ä¹ˆf[i]è¦æ»¡è¶³: å¯¹é‚£äº›ç”¨æˆ·iå·²ç»æ‰“è¿‡åˆ†çš„ç”µå½±(å³r_ijå­˜åœ¨)ä¸Šçš„ä¼°è®¡åå·®æœ€å°: (åé¢åŠ ä¸Šçš„é‚£ä¸€é¡¹æ˜¯æ­£åˆ™é¡¹: ä¸å¸Œæœ›f[i]çš„æ¨¡è¿‡å¤§) ä¸è¿‡å‰é¢çš„å‡è®¾, \"f[j]å·²çŸ¥\"è¿™ä¸ªæ¡ä»¶å…¶å®å¹¶ä¸æˆç«‹ â‡’ Alternating Least Squares algorithm : äº¤æ›¿ä¼˜åŒ–f[i]å’Œf[j]çš„å–å€¼, æ¯æ¬¡å›ºå®šä¸€ä¸ª, è€Œä¼˜åŒ–å¦ä¸€ä¸ª, äº¤æ›¿è¿›è¡Œ, ç›´åˆ°æ”¶æ•›(å¥½åƒKmeansä¹Ÿæ˜¯åˆ©ç”¨çš„è¿™ç§æ–¹æ³•). first randomly filling the users matrix with values and then optimizing the value of the movies such that the error is minimized. Then, it holds the movies matrix constrant and optimizes the value of the user's matrix. train-test-validation split â‡’ break up the ratingsRDD dataset into three pieces: A training set (RDD), which we will use to train models A validation set (RDD), which we will use to choose the best model A test set (RDD), which we will use for our experiments trainingRDD, validationRDD, testRDD = ratingsRDD.randomSplit([6, 2, 2], seed=0L) Root Mean Square Error (RMSE) compute the sum of squared error given predictedRDD and actualRDD RDDs. Both RDDs consist of tuples of the form (UserID, MovieID, Rating) alternating least square of MLllib https://spark.apache.org/docs/latest/api/python/pyspark.mllib.html#pyspark.mllib.recommendation.ALS ALS takes a training dataset (RDD) and several parameters that control the model creation process. The most important parameter to ALS.train() is the rank , which is the number of rows in the Users matrix (green in the diagram above) or the number of columns in the Movies matrix (blue in the diagram above). (In general, a lower rank will mean higher error on the training dataset, but a high rank may lead to overfitting.) è²Œä¼¼ALSæ¥å—ä¸€ä¸ª(userid, itemid, rating)çš„RDDä½œä¸ºè¾“å…¥, é¢„æµ‹æ—¶æ¥å—ä¸€ä¸ª(userid, itemid)çš„RDDä½œä¸ºè¾“å…¥, è¿”å›ä¸€ä¸ª(userid, itemid, rating)çš„RDD. (ä¹Ÿå°±æ˜¯è¯´, å‰é¢çš„notationåœ¨è¿™é‡Œç»§ç»­è¢«ä½¿ç”¨äº†). model = ALS.train(trainingRDD, rank, seed=seed, iterations=iterations, lambda_=regularizationParameter) predictedRatingsRDD = model.predictAll(validationForPredictRDD) å¯ä»¥åœ¨è¿™é‡ŒæŸ¥çœ‹jobè¯¦æƒ…: http://localhost:4040/jobs/ compare model Looking at the RMSE for the results predicted by the model versus the values in the test set is one way to evalute the quality of our model. Another way to evaluate the model is to evaluate the error from a test set where every rating is the average rating for the training set. â‡’ è¿™é‡Œæ²¡æœ‰å¤ªç†è§£, éš¾é“æ˜¯è¯´test set çš„å¹³å‡ratingé¢„æµ‹ç»“æœå’Œtraining setçš„å¹³å‡ratingåº”è¯¥æ¯”è¾ƒæ¥è¿‘ä¹ˆ?? â‡’ ç»ˆäºæ˜ç™½äº†: \" Your model more accurately predicts the ratings than using just the average rating, as the model's RMSE is significantly lower than the RMSE when using the average rating. \" æ±‚ä¸€ä¸ªtuple rddæœ€åä¸€åˆ—çš„å’Œçš„æ—¶å€™, éœ€è¦å…ˆmapæˆæœ€åä¸€åˆ—å†reduce: trainingRDD.map(lambda x:x[-1]).reduce(lambda x,y:x+y) ç›´æ¥å†™ reduce(lambda x,y:x[-1]+y[-1]) è²Œä¼¼æ˜¯ä¸è¡Œçš„","tags":"notes","title":"[Spark MOOC note] lab4. Predicting Movie Ratings"},{"url":"https://x-wei.github.io/notes/algoI_week1_1.html","text":"1. Dynamic Connectivity pb pb statement a set of N obj, indexed by 0,1,...,N-1 â‡’ UNION: connect objects void union(int p, int q) FIND: is there a path connecting 2 obj? boolean connected(int p, int q) ex: connect components (è”é€šåˆ†æ”¯): max set of obj that are mutually connected. UF API union(p,q): connect 2 obj connected(p,q): test if p and q are connected find(p) : find the component id of p count(): nb of components æ³¨æ„: å‘½åä¸æ˜¯å¾ˆå¥½, è¿™é‡Œçš„ find() å‡½æ•°ä¸å¯¹åº”FIND query, connected() å‡½æ•°æ‰æ˜¯çœŸæ­£çš„FIND query, find()å‡½æ•°æ˜¯ä¸ºäº†connected()å‡½æ•°è€Œåšçš„ä¸€ä¸ªè¾…åŠ©å‡½æ•°(find(p): return the root of the node p ) åœ¨connectedé‡Œå°±å¯ä»¥è°ƒç”¨find: return find(p)==find(q) åº”è¯¥æ˜¯interfaceæ›´å¥½ä¸€äº›... public interface UF{ void union(int p, int q); boolean connected(int p, int q); //int find(int p); //int count(); } æµ‹è¯•client: 2. Quick Find \"eager approach\" data structure â‡’ an int array id[] initialized to id[p]=p for all p interpretation: id[p] = component id of obj p â‡’ p and q are connected iff* id[p]==id[q] (ie. find very fast) æ²¡æœ‰ç”¨find()å‡½æ•° UF operations FIND: connected(p,q): very fast, just check id[p] and id[q] UNION: when merging 2 components : union(p,q) : id[p]=id[q] (æ€»æ˜¯è®©ç¬¬ä¸€ä¸ªå‚æ•°pçš„idå˜ä¸ºç¬¬äºŒä¸ªå‚æ•°qçš„id), â‡’ then have to modify all entries with id equal to id[p] ! â‡’ too many entries to change implementation (class QuickFindUF implements UF) complexity: FIND: cte UNION: lin... if N obj + N unions â‡’ quad time ! btw, ç¨‹åºè¿è¡Œé€Ÿåº¦: ~10&#94;9/s 3. Quick Union \"lazy approach\" data structure â‡’ also an int array id[] considering a set of trees, æ­¤æ—¶æ¯ä¸ªè”é€šåˆ†æ”¯éƒ½æ˜¯ä¸€ä¸ªtree interpretation: id[p] = parent index of obj p (è§‰å¾—è¿™ä¸ªæ•°ç»„å«åšfatheræ›´å¥½....) â‡’ p is a root node iff id[p]==p UF operations FIND: connected(p,q): check if root of p == root of q UNION: union(p,q): just set p's root to be child of q's root (æŠŠç¬¬ä¸€ä¸ªå‚æ•°pçš„é‚£æ£µæ ‘æ”¾å…¥ç¬¬äºŒä¸ªå‚æ•°qçš„æ ‘çš„æ ¹èŠ‚ç‚¹ä½œä¸ºå­æ ‘) root(): å‰ä¸¤ä¸ªçš„æ“ä½œéƒ½éœ€è¦ä¸€ä¸ªå‡½æ•°æŸ¥æ‰¾ä¸€ä¸ªèŠ‚ç‚¹çš„root, éœ€è¦å†™ä¸€ä¸ªå‡½æ•°å®ç°, ä¹Ÿå¾ˆç®€å•, ä¸€è·¯æ‰¾parentå³å¯: private int root ( int p ) { while ( p != id [ p ] ) p = id [ p ] ; return p ; } implementation complexity in the worst case (all elements is in a list form), root() is ~N, so: FIND: lin UNION: lin quick findå’Œquick unionçš„é—®é¢˜: 4. Quick Union Improvements improvement1: weighting keep track of tree size â‡’ balance by taking the small tree be a child of the large tree â‡’ add an extra array: sz[] sz[i] is the size of the tree with root i implementation (æ•°ç»„ int sz[] åˆå§‹å…¨éƒ¨ä¸º1) ä¾ç„¶éœ€è¦ root() å‡½æ•°. private int root(int p){ while(p!=id[p]) p=id[p]; return p; } FIND public boolean connected(int p, int q){ return root(p)==root(q); } UNION public void union(int p, int q){ int rp = root(p), rq=root(q); if(rp==rq) return; // if (sz[rp]<sz[rq]){ id[rp]=rq; sz[rq]+=sz[rp]; } else{...} } complexity FIND: proportional to depth of p and q in their tree UNION: const if p and q are root proposition the max depth of weightedQuickUnion is lgN [pf] considering a node x , in tree T1 , dep(x) is x's depth in its tree. â†’ dep(x) will increase by 1, iff T1 is merged into another tree T2 (and by the algo, shoud have |T1|<=|T2| ) â†’ x's tree's size become |T1|+|T2| >= 2 |T1| â‡’ everytime dep(x) increased by 1, x's tree's size will at least double* at first dep(x)=1, if dep(x) increases lgN times, the size of the tree will be >= N CQFD. so the root() function takes only lgN time. conclusion : both UNION and FIND will be in lgN time. improvement 2: path compression imporve the root() function: when looking for root of a node â‡’ link all nodes in the path up to the root. â‡’ just a constant extra time compared to old implementation. 2 pass implementation: private int root(int p){ int r = p; while(r!=id[r]) r=id[r]; while(p!=r){ int t = p; p=id[p]; id[t]=r; } return r; } flatens the tree greatly. single pass implementation: just make all other node point to its grandparent (halving the path length) â‡’ not as flatening as before, but in practice will almost be the same. just one extra line of code: private int root(int p){ while(p!=id[p]){ id[p] = id[ id[p] ]; p=id[p]; } return p; } complexity (for weighet quick union with path compression â€” WQUPC ) very very small: lg*() function: \" iterated log function \", lg (N) = the number of time to take log to get to 1 lg ()å‡ ä¹å¯ä»¥çœ‹æˆå¸¸æ•°äº†: ex. lg (65536) = 4* (x&#94;16=65536) because: lg(65536)=16 ; lg(16) = 4; lg(4)=2; lg(2)=1. â‡’ N obj, M unions will take (almost) linear time (æœ‰äººè¯æ˜äº†ä¸å­˜åœ¨ ç†è®ºä¸Š linearçš„ç®—æ³•. ) conclusion : both UNION and FIND will be in constant time . summery ä¸Šé¢è¿™ä¸ªè¡¨æ ¼å¥½åƒquick unionçš„éƒ¨åˆ†æœ‰é—®é¢˜? æœ€åæƒ…å†µä¸‹åº”è¯¥æ˜¯N+MNå§?? ä¹¦ä¸Šæ˜¯è¿™ä¹ˆå†™çš„: WQUCF reduce 30 years to 6 seconds. 5. Union Find Application percolation dynamic connectivity Kruskal MST algo Games (GO) ....... percolation model: N N grid of sites â‡’ each site is open with proba= p* â‡’ sys percolate iff bottom and top are connected by open sites. question: the percolation probability as a function of p ( phase transition ) nobody knows how to get the threshold mathematically â‡’ run simulations to find out the phase transition threshold . Monte Carlo simulation â†’ all sites initilized to be closed â†’ randomly open sites one by one â†’ when the sys percolates, the vacancy percentage is an estimate of p *(run above simulation for millions of times) implementation N&#94;2 sites, named 0 to N&#94;2-1 add 2 more vertual sites: one on top, one on bottom openning a site: union to adjcent open sites (at most 4 unions)","tags":"notes","title":"[Algorithms I] Week 1-1 Union-Find"},{"url":"https://x-wei.github.io/notes/sparkmooc_note_lec8.html","text":"STATISTICS, BUSINESS QUESTIONS, AND LEARNING TECHNIQUES 2 different kinds of statistics: descriptive statistics ex. median â€” describes data, but cannot generalize beyong that inferential statistics ex. t-testing â€” inferences beyond the data techniques leveraged for machine learning and prediction supervised learning (clf, reg), unsupervised learning (clustering, dim-reduction) â†’ UL often used in a larger SL pb (ex. auto-encoder ) EXPLORATORY DATA ANALYSIS 5-number summary: The five-number summary is a descriptive statistic that provides information about a set of observations. It consists of the five most important sample percentiles: The sample minimum (smallest observation) The lower quartile or first quartile The median (middle value) The upper quartile or third quartile The sample maximum (largest observation) â†’ box plot: THE R LANGUAGE AND NORMAL DISTRIBUTIONS R: intractive exploration and visulization of data + statistical models and distributions + CRAN Central Limit Th: sum/mean of n iid random variables many statistical test assume data to be normally distributed DISTRIBUTIONS poissons distribution: accurrence freq exponential distribution: interval between 2 (poissons) events Zipf/Pareto/Yule distributions : frequencies of different terms in a document, or web site visits binomial/multinomial distribution: nb of count of events RHINE PARADOX SPARK'S MACHINE LEARNING TOOLKIT mllib: scalable, distributed ML library, sklearn-like ML toolkit https://spark.apache.org/docs/latest/mllib-guide.html lab: collaborative filtering â€” matrix factorisation â‡’ alternating least square(ALS): trouble with summary stats : Anscombe's Quartet â†’ have same statistics property â†’ quite different in fact: Takeaways : â€¢ Important to look at data graphically before analyzing it â€¢ Basic statistics properties often fail to capture real-world complexities Lab3. Text Analysis and Entity Resolution Entity Resolution (ER) refers to the task of finding records in a data set that refer to the same entity across different data sources (e.g., data files, books, websites, databases). ER is necessary when joining data sets based on entities that may or may not share a common identifier (e.g., database key, URI, National identification number), as may be the case due to differences in record shape, storage location, and/or curator style or preference. A data set that has undergone ER may be referred to as being cross-linked. The file format of an Amazon line is: \"id\",\"title\",\"description\",\"manufacturer\",\"price\" The file format of a Google line is: \"id\",\"name\",\"description\",\"manufacturer\",\"price\" re.split re.split()æœ‰ä¸ªå¾ˆè®¨åŒçš„åœ°æ–¹: å­—ç¬¦ä¸²ä»¥å¥å·ç­‰ç»“å°¾æ—¶, æœ€åæ€»æ˜¯ä¼šå‡ºç°ä¸€ä¸ªç©ºå­—ç¬¦ä¸²: >>> re.split('\\W+', 'Words, words, words.') ['Words', 'words', 'words', ''] è§£å†³åŠæ³•å°±æ˜¯ç”¨ä¸ªfilter: filter(None,re.split(split_regex, string.lower()) ) tfidf TF rewards tokens that appear many times in the same document. It is computed as the frequency of a token in a document. IDF rewards tokens that are rare overall in a dataset. cosine similarity The metric of string distance we will use is called cosine similarity. We will treat each document as a vector in some high dimensional space. Then, to compare two documents we compute the cosine of the angle between their two document vectors. flatMap : ä¸€è¡Œå˜å¤šè¡Œ, åˆ«å¿˜äº†... broadcast variable we define the broadcast variable in the driver and then we can refer to it in each worker. Spark saves the broadcast variable at each worker, so it is only sent once. å£°æ˜å¹¿æ’­å˜é‡çš„åŠæ³•ä¹Ÿå¾ˆç®€å•, åªè¦: idfsSmallBroadcast = sc.broadcast(idfsSmallWeights) ç„¶åç”¨çš„æ—¶å€™è¦æ”¹æˆ xx.value EXCEPTè¯­å¥ æ‰¾äº†ä¸€ä¸‹æ²¡å‘ç°sparkæœ‰SQLçš„EXCEPTè¯­å¥(å°±æ˜¯å’Œjoinç›¸å), äºæ˜¯åªå¥½è¿™ä¹ˆå†™äº†: nonDupsRDD = (sims .leftOuterJoin(goldStandard) .filter(lambda x: x[1][1]==None) .map(lambda x:(x[0],x[1][0]))) ç”¨leftouterjoin ç„¶åå†åªä¿ç•™ä¸ºNoneçš„é‚£äº›... åº”è¯¥ä¸æ˜¯æœ€ä½³å†™æ³•å§... complexity ç”¨çš„ERåŠæ³•(cosine similarity)çš„å¤æ‚åº¦æ˜¯O2 å¤ªé«˜äº†... â‡’ An inverted index is a data structure that will allow us to avoid making quadratically many token comparisons. It maps each token in the dataset to the list of documents that contain the token . So, instead of comparing, record by record, each token to every other token to see if they match, we will use inverted indices to look up records(documents) that match on a particular token . è¿™ç§æ“ä½œçš„åŸºç¡€æ˜¯: æœ‰å¾ˆå¤šå‘é‡çš„supportæ˜¯å®Œå…¨ä¸é‡åˆçš„ . collectAsMap() : æŠŠpair rddå˜ä¸ºmap groupByKey(): è¿™ä¸ªä¹Ÿç”¨ä¸Šäº† lab4å‰ååšäº†å››ä¸ªå°æ—¶ ä¸è¿‡å¾ˆæœ‰æ„æ€... ç¬¬äº”éƒ¨åˆ†å‡ºç°out of memory errorå°±æ²¡åŠæ³•äº†...","tags":"notes","title":"[Spark MOOC note] Lec8. Exploratory Data Analysis and Machine Learning"},{"url":"https://x-wei.github.io/notes/sparkmooc_note_lec7.html","text":"DATA CLEANING ex. deal with missing data, entity resolution, unit mismatch, ... deal with non-ideal samples â‡’ tradeoff between simplicity and accuracy. DATA QUALITY PROBLEMS data quality problems: Conversions in complex pipelines can mess up data Combining multiple datasets can result in errrors Data degrades in accuracy or loses value over time è¿˜æä¾›äº†ä¸€äº›å·¥å…·å¸®åŠ©cleaning data: http://vis.stanford.edu/wrangler/ EXAMPLE: AGES OF STUDENTS IN THIS COURSE (students' ages are self-reported...) DATA CLEANING MAKES EVERYTHING OKAY? ex. the appearance of a hole in the ozone layer. DIRTY DATA PROBLEMS Data Quality Continuum: DATA GATHERING solutions in the data gathering stage: re-emptive (å…ˆå‘åˆ¶äºº) integrity checks retrospective duplicate removal DATA DELIVERY solutions: DATA STORAGE physical pb: storage is cheap â†’ use data redundancy logical pb: poor metadata, etc â‡’ solutions: publish data specifications data mining tools DATA RETRIEVAL ...æ€»ä¹‹å°±æ˜¯å„ç§æ–¹é¢éƒ½ä¼šå¼•èµ·data quality pb... DATA QUALITY CONSTRAINTS static constraints: ex. nulls not allowed, field domains data constraints follow a 80-20 rule: Data quality metrics : ... ex. in lab2, examine log lines that are not correctly parsed. TECHNICAL APPROACHES TO DATA QUALITY ex. entity resolution in lab3 EXAMPLE: DEDUP/CLEANING bing shoppingè¢«é»‘äº† convert to canonical form (ex. mailing address)","tags":"notes","title":"[Spark MOOC note] Lec7. Data Quality"},{"url":"https://x-wei.github.io/notes/sparkmooc_note_lec6.html","text":"RELATIONAL DATABASE review: key data management concepts: data model schema relational data model structured data: have a specific schema to start with relationl database: a set of relations. 2 parts to a Relation: schema: name of relation, name and type of columns instance: any data at given time ( cardinality :=nb of rows, degree :=nb of fields) LARGE DATABASES RELATIONAL DATABASE EXAMPLE AND DISCUSSION cardinality=3 degree=5 advantages of Relational Databases: well-def structure maintain indices for high performance consistancy maintained by transactions disadvantages: limited, rigid structure most disk space taken by large indices transactions are slow poor support for sparse data (which is common) STRUCTURED QUERY LANGUAGE (SQL) supported by DataFrame of pyspark JOINS IN SQL cross join: carteian product EXPLICIT SQL JOINS explicit version is preferred TYPES OF SQL JOINS â‡’ controls how unmatched keys are handled LEFT OUTER JOIN: keys appearring in left table but not in right table will be included with NULL as value JOINS IN SPARK for spark DataFrame: support inner/left outer/semi-join for pair RDDs : support inner join(), leftOuterJoin(), fullOuterJoin() join ex: outerjoin ex: fullouterjoin ex: Lab 2 - Web Server Log Analysis with Apache Spark Apache Common Log Format (CLF): 127.0.0.1 - - [01/Aug/1995:00:00:01 -0400] \"GET /images/launch-logo.gif HTTP/1.0\" 200 1839 Row( host = match.group(1), client_identd = match.group(2), user_id = match.group(3), date_time = parse_apache_time(match.group(4)), method = match.group(5), endpoint = match.group(6), protocol = match.group(7), response_code = int(match.group(8)), content_size = size ) distinctByKey ä¸€ä¸ªpair RDDæŒ‰ç…§keyæ¥distinctä¸çŸ¥é“æœ‰æ²¡æœ‰distinctByKeyä¹‹ç±»çš„ä¸œè¥¿, åªå¥½å†™æˆè¿™æ ·, ä¸çŸ¥æ˜¯ä¸æ˜¯å¯¹çš„: dayHostCount = dayGroupedHosts.map(lambda group : (group[0], len(set(group[1])) ) ) ...æ€»ä½“æ¥è¯´å¾ˆæœ‰æ„æ€çš„ä¸€ä¸ªlab...","tags":"notes","title":"[Spark MOOC note] Lec6. Structured Data"},{"url":"https://x-wei.github.io/notes/sparkmooc_note_lec5.html","text":"KEY DATA MANAGEMENT CONCEPTS data model: collection of concepts for describing data schema: a description of a particular collection of data using a given data model structure spectrum: semi-structured data: apply schema after creating data. FILES files: named collection of bytes, in hierarchical namespace (but: In a Content-Addressable Storage system files are stored, arranged, and accessed based on their content or metadata, not in hierarchy) SEMI-STRUCTURED TABULAR DATA table: a collection of rows and columns, each row has an index , each column has a name . cell: by a pair (row, col), values can be missing, types are inffered from content CSV: PDB:(filed name can be repeated on multuple lines) CHALLENGES WITH TABULAR DATA challenges: challenges for tabular data from multiple source : challenges for tabular data from sensors : PANDAS AND SEMI-STRUCTURED DATA IN PYSPARK pandas DataFrame : represented as python dict (colname â†’ series) pandas Series : 1D labeled array capable of holding any data type spark DataFrame : Distributed collection of data organized into named columns. types of columns are inferred from values. Using dataframes can be 5 times faster than using RDDs: SEMI-STRUCTURED LOG FILES ex. Apache web server log format EXPLORING A WEB SERVER ACCESS LOG NASA http server access log http://ita.ee.lbl.gov/html/contrib/NASA-HTTP.html DATA MINING LOG FILES Data mining log files is a data exploration process that often involves searching through the data for unusual events, a task that can be done using dashboards for visualizing anomalies. The data being analyzed usually includes machine resource usage data and application queue information. FILE PERFORMANCE binary/text performance benchmark: â‡’ read and write times are comparable binary files are mach faster than palin text files compression performance benchmark: â‡’ write times are much larger than read times small range of compressed file size binary still much faster than text LZ4 compression ~= raw IO speed","tags":"notes","title":"[Spark MOOC note] Lec5. Semi-structured Data"},{"url":"https://x-wei.github.io/notes/sparkmooc_note_lec4.html","text":"PYTHON SPARK (PYSPARK) a spark prog has 2 programs: dirver program: runs on driver machine worker program: runs on local threads or cluster nodes a spark prog first creates a SparkContext object: tells how and where to access a cluster shell will automatically create the sc varible in iPython: use constructor to create a SparkContext obj â‡’ use this SparkContext obj to create RDDs Master: The master parameter (for a SparkContext) determines which type and size of cluster to use RDDs Resilient Distributed Dataset : immutable once created spark tracks linege information to compute lost data efficiently operations on collections of elements in parallel to create RDDs : paralizing existing python collections transforming existing RDDs from files can specify the number of partitions for an RDD 2 types of operations on RDD: tranformation: lazy, executed only one action runs on it action Working with RDD: create an RDD apply transformations to that RDD (ex. map, filter) apply actions on RDD (collect, count) ex code: data = [1,2,3,4] rDD = sc.paralize(data, 4) distFile = sc.textFile(\"readme.txt\", 4) // elements are lines in the file SPARK TRANSFORMATIONS to create new dataset from existing one (lazy) examples of transformations: PYTHON LAMBDA FUNCTIONS single expression TRANSFORMATIONS â‡’ spark truns the function litral into a cloture, balck code runs in driver, green code in workers SPARK ACTIONS cause spark to execute recipe to transform source. SPARK PROGRAMMING MODEL CACHING RDDS to avoid having to reload data: rdd.cache() â‡’ read from memory instead of disk SPARK PROGRAM LIFECYCLE create/paralise â‡’ transform â‡’ [cache] â‡’ action SPARK KEY-VALUE RDDS each element of a pair RDD is a pair tuple key-value transformations: ex: careful using groupByKey : create lots of data traffic and iterables at works PYSPARK CLOSURES one closure per worker is sent with every task no communication between workers changes to global vars will not effect driver / other workers â‡’ pbs: inefficient to send large data to each job one-way: driver â†’ worker pyspark shared vaiables : 2 types: Broadcase variables : send large, read-only variables to all workers Accumulators aggregate values from worker to drivers only driver can access its value for workers the accumulators are write-only SPARK BROADCAST VARIABLES ex. give every worker a large dataset SPARK ACCUMULATORS can only be \"add\" to by associative operation careful to use accumulators in transformations: Lab1 VBæ›´æ–°ä»¥åè™šæ‹Ÿæœºæ‰“ä¸å¼€äº†, è§£å†³åŠæ³•åœ¨: http://bbs.deepin.org/forum.php?mod=viewthread&tid=26001","tags":"notes","title":"[Spark MOOC note] Lec4. Spark Essentials"},{"url":"https://x-wei.github.io/tech/Scrapy ä¸Šæ‰‹ç¬”è®°.html","text":"Scrapyæ˜¯ç”¨æ¥çˆ¬å–æ•°æ®çš„å¾ˆæµè¡Œçš„åŒ…, è¿™é‡Œå°è®°ä¸€ä¸‹. ä»¥å‰å‡ å¤©åšçš„ ä¸€ä¸ªçˆ¬è™« ä¸ºä¾‹å­, è¿™ä¸ªçˆ¬è™«æŠŠéŸ©å¯’ä¸€ä¸ªappçš„å‰ä¹ç™¾å¤šæœŸçš„æ–‡ç« æŠ“äº†ä¸‹æ¥. I. installation scrapyçš„å®‰è£…å‚è€ƒ: http://scrapy-chs.readthedocs.org/zh_CN/latest/topics/ubuntu.html (ç›´æ¥pipå®‰è£…çš„å¥½åƒç¼ºå°‘ä»€ä¹ˆåŒ…) II. prerequisite XPath éœ€è¦å­¦ä¹ scrapyé¦–å…ˆéœ€è¦ä¼šXPath, è¿™æ˜¯ä¸€ç§æ–¹ä¾¿ä¸åœ¨html/xmlæ–‡æ¡£é‡ŒæŸ¥æ‰¾æ‰€éœ€å…ƒç´ çš„è¯­å¥. è¿™ä¸ªè¿˜æ˜¯å¾ˆå¥½å­¦çš„, å…¶å®åªéœ€è¦èŠ±ä¸€åˆ»é’Ÿæ—¶é—´çœ‹çœ‹w3schoolçš„ æ•™ç¨‹ , å°±å¯ä»¥æŒæ¡å¤Ÿç”¨çš„çŸ¥è¯†è¿›è¡Œä¸‹ä¸€æ­¥äº†. è¿™é‡Œæ€»ç»“ä¸€ä¸‹æˆ‘è§‰å¾—ä¼šç”¨åˆ°çš„è¯­å¥(ä¸å…¨, ä¸è¿‡ç»å¸¸ç”¨åˆ°): //book é€‰å–æ‰€æœ‰åå­—å«åšbookçš„å…ƒç´  bookstore/book é€‰å–bookstoreçš„å­å…ƒç´ ä¸­æ‰€æœ‰å«bookçš„å…ƒç´  //title[@lang='eng'] é€‰å–langå±æ€§ä¸º\"eng\"çš„æ‰€æœ‰titleå…ƒç´  //titile/text() é€‰å–titleå…ƒç´ çš„æ–‡å­—å†…å®¹ descendant-or-self::text() : é€‰å–è‡ªå·±æˆ–è€…æ‰€æœ‰åä»£èŠ‚ç‚¹çš„æ–‡å­—å†…å®¹ å¦å¤–è¿˜æœ‰ä¸ªåœ¨çº¿æµ‹è¯•XPathè¯­å¥çš„ç½‘ç«™, å¯ä»¥ç”¨è¿™ä¸ªæµ‹è¯•XPathè¯­å¥: http://xpath.online-toolz.com/tools/xpath-editor.php å®¡æŸ¥å…ƒç´  å†ä¸€ä¸ªå°±æ˜¯è¦ç”¨chromeçš„\"å®¡æŸ¥å…ƒç´ \"åŠŸèƒ½, ç”¨è¿™ä¸ªåŠŸèƒ½å¯ä»¥çœ‹åˆ°æƒ³æŸ¥æ‰¾çš„ç½‘é¡µå†…å®¹å¯¹åº”åœ¨htmlæ–‡ä»¶çš„ä½ç½®, ç”šè‡³å¯ä»¥ç›´æ¥å³é”®å¤åˆ¶æƒ³è¦çš„å…ƒç´ çš„XPath......(ä¸è¿‡æœ‰æ—¶å€™å¹¶ä¸æ˜¯æœ€åˆç†çš„, æ‰€ä»¥åˆšæ‰XPathä¹Ÿä¸æ˜¯ç™½å­¦...) III. scrapy shell ç½‘ä¸Šçš„æ•™ç¨‹ä¸€èˆ¬æ˜¯ä»ä¸€ä¸ª tutorial å¼€å§‹çš„, ä»‹ç»äº†ä¸€ä¸ªå°é¡¹ç›®, ä½†æ˜¯æˆ‘è§‰å¾—ä»scrapy shellå¼€å§‹åº”è¯¥æ›´åˆç†, æœ‰æ—¶å€™ç”šè‡³æ²¡å¿…è¦å»ºç«‹ä¸€ä¸ªå·¥ç¨‹, åœ¨è¿™ä¸ªshellé‡Œå°±å¯ä»¥æŠ“åˆ°æƒ³è¦çš„æ•°æ®. å¯åŠ¨çš„åŠæ³•å¾ˆç®€å•: $scrapy shell 'url' å…¶ä¸­ url å°±å†™æƒ³è¦çˆ¬å–çš„ä¸€ä¸ªç½‘å€. è¿™ä¸ªshellç®€å•è¯´æ¥, å°±æ˜¯ä¸€ä¸ªæµ‹è¯•çˆ¬è™«çš„äº¤äº’ç¯å¢ƒ, é™¤äº† å¤šäº†ä¸€äº›ç‰¹æ®Šå˜é‡å’Œå‡½æ•° , å°±æ˜¯ä¸€ä¸ªæ™®é€šçš„(i)python shell. å…ˆè¯´ä¸¤ä¸ªscrapy shellå¤šå‡ºæ¥çš„å˜é‡: response : æŠŠå¯åŠ¨çš„ url æŠ“å–åå¾—åˆ°çš„ Response å¯¹è±¡, æ¯”å¦‚ response.body å°±åŒ…å«äº†æŠ“å–æ¥çš„htmlå†…å®¹ sel : ç”¨åˆšåˆšæŠ“å–çš„å†…å®¹å»ºç«‹çš„ä¸€ä¸ª Selector å¯¹è±¡, ç®€å•ç†è§£, Selectorå¯¹è±¡å¯ä»¥è®©æˆ‘ä»¬æ‰§è¡ŒXPathè¯­å¥æå–æƒ³è¦çš„å†…å®¹ ç»å¸¸çš„ç”¨æ³•å°±æ˜¯ç”¨ response å¯¹è±¡æŸ¥çœ‹çˆ¬å–çš„æƒ…å†µ( response.status ), ç”¨ sel å¯¹è±¡æµ‹è¯•XPathçš„æ­£ç¡®: sel.xpath(\"xpath_statement\").extract() ä¼šåœ¨è·å–çš„response.bodyé‡Œç”¨xpathæŸ¥æ‰¾å¹¶æå–å†…å®¹. å†è¯´ä¸¤ä¸ªscrapy shellæ·»åŠ çš„å‡½æ•°: fetch(request_or_url) : ä¿®æ”¹è¯·æ±‚æˆ–è€…ç½‘å€, è¿™æ ·scrapy shellä¼šä»æ–°ç”¨è¿™ä¸ªrequest/urlæŠ“å–æ•°æ®, ç›¸åº”çš„selå’Œresponseç­‰å¯¹è±¡ä¹Ÿä¼šè‡ªåŠ¨æ›´æ–°. view(response) : åœ¨æµè§ˆå™¨é‡ŒæŸ¥çœ‹åˆšåˆšæŠ“å–çš„å†…å®¹. è¿™é‡Œä¸¾ä¸ªä¾‹å­, æŠ“å–ä¸€ä¸ªçš„æ–‡ç« æ ‡é¢˜: $ scrapy shell 'http://wufazhuce.com/one/vol.921#articulo' ...... In [ 1 ] : response . status Out [ 1 ] : 200 In [ 2 ] : sel . xpath ( '//*[@id=\"tab-articulo\"]/div/h2/text()' ). extract () < string > : 1 : ScrapyDeprecationWarning : \"sel\" shortcut is deprecated . Use \"response.xpath()\" , \"response.css()\" or \"response.selector\" instead Out [ 2 ] : [ u'\\n\\t\\t\\t\\t\\t\\t\\u78b0\\u4e0d\\u5f97\\u7684\\u4eba\\t\\t\\t \\t\\t' ] In [ 3 ] : print sel . xpath ( '//*[@id=\"tab-articulo\"]/div/h2/text()' ). extract () [ 0 ] ç¢°ä¸å¾—çš„äºº scrapy shellçš„å®Œæ•´æ–‡æ¡£åœ¨: http://doc.scrapy.org/en/latest/topics/shell.html IV. scrapy project æ¥ä¸‹æ¥è¯´å»ºç«‹scrapyå·¥ç¨‹, è¿™ä¸ªæŒ‰ç…§tutorialèµ°å°±å¥½äº†. å»ºç«‹å·¥ç¨‹: scrapy startproject my_proj ä¼šæ–°å»ºä¸€ä¸ªmy_projæ–‡ä»¶å¤¹, é‡Œé¢çš„ç»“æ„æ˜¯: $ tree . â””â”€â”€ my_proj â”œâ”€â”€ scrapy.cfg â””â”€â”€ my_proj â”œâ”€â”€ __init__.py â”œâ”€â”€ items.py â”œâ”€â”€ pipelines.py â”œâ”€â”€ settings.py â””â”€â”€ spiders â””â”€â”€ __init__.py è¦ä¿®æ”¹çš„æ–‡ä»¶ä¸»è¦æœ‰ä¸¤ä¸ª: items.py å®šä¹‰è¦æŠ“å–çš„æ•°æ® spiders/xxx.py å®šä¹‰è‡ªå·±çš„çˆ¬è™« 1. è‡ªå®šä¹‰çˆ¬è™« å…ˆå®šä¹‰çˆ¬è™«, åœ¨spidersæ–‡ä»¶å¤¹é‡Œé¢, æ–°å»ºä¸€ä¸ªpythonæ–‡ä»¶, è¿™é‡Œå®šä¹‰ä¸€ä¸ª scrapy.spider.Spider çš„å­ç±»: class OneSpider ( scrapy . spider . Spider ): name = \"one_spider\" start_urls = [ \"http://wufazhuce.com/one/vol. %d #articulo\" % i for i in range ( 1 , 924 ) ] def parse ( self , response ): title_path = '//*[@id=\"tab-articulo\"]/div/h2/text()' title = response . xpath ( title_path ) . extract ()[ 0 ] . strip () print title è¿™é‡Œ, Spiderå­ç±»ä¸€å®šéœ€è¦å®šä¹‰ä¸‰ä¸ªä¸œè¥¿: name ï¼š æ˜¯çˆ¬è™«çš„åå­—, ä¸€ä¼šçˆ¬å–çš„æ—¶å€™éœ€è¦ start_urls : å¯åŠ¨æ—¶è¿›è¡Œçˆ¬å–çš„urlåˆ—è¡¨ parse() æ–¹æ³• çˆ¬è™«å¯åŠ¨çš„æ—¶å€™ä¼šæŠŠæ¯ä¸€ä¸ªstart_urlsé‡Œçš„ç½‘å€ä¸‹è½½, ç”Ÿæˆçš„ Response å¯¹è±¡ä¼šä¼ å…¥è¿™ä¸ª parse() æ–¹æ³•, è¿™ä¸ªæ–¹æ³•è´Ÿè´£è§£æè¿”å›çš„ Response å¯¹è±¡, æå–æ•°æ®(ç”Ÿæˆitem)ä»¥åŠç”Ÿæˆéœ€è¦è¿›ä¸€æ­¥å¤„ç†çš„URLçš„ Request å¯¹è±¡ç­‰... 2. ä¿å­˜æŠ“å–çš„ä¿¡æ¯åˆ°item åˆšæ‰åªæ˜¯åšåˆ°äº†æŠ“å–éœ€è¦çš„ä¿¡æ¯, è¿˜æ²¡æœ‰èƒ½å¤Ÿä¿å­˜åˆ°æ–‡ä»¶é‡Œ, ä¸‹é¢è¦å°†æŠ“å–çš„ä¿¡æ¯åšæˆä¸€ä¸ª Item ä¿å­˜. é¦–å…ˆå®šä¹‰è¦ä¿å­˜çš„ä¿¡æ¯: ä¿®æ”¹items.pyæ–‡ä»¶, é‡Œé¢å®šä¹‰ä¸€ä¸ª scrapy.Item çš„å­ç±»: class OnearticleItem ( scrapy . Item ): # define the fields for your item here like: vol = scrapy . Field () title = scrapy . Field () author = scrapy . Field () content = scrapy . Field () è¿™ä¸ªæ–‡ä»¶å¾ˆç®€å•, åªæ˜¯è¯´æ˜ä¸€ä¸‹è¦æŠ“å–çš„ä¿¡æ¯, ä»–ä»¬éƒ½æ˜¯ scrapy.Field() , è¿™ä¸ªä¸œè¥¿ç±»ä¼¼ä¸€ä¸ªå­—å…¸. ç„¶ååœ¨çˆ¬è™«é‡Œä¿å­˜item: ä¸ºäº†ä¿å­˜æŠ“å–çš„å†…å®¹, åœ¨parse()æ–¹æ³•é‡Œ, å¾—åˆ°éœ€è¦çš„æ•°æ®ä»¥å, æ–°å»ºä¸€ä¸ª OnearticleItem , æŠŠæŠ“åˆ°çš„å†…å®¹æ”¾è¿›è¿™ä¸ªitemé‡Œ, ç„¶åè¿”å›è¿™ä¸ªitemå³å¯. def parse ( self , response ): nb = re . findall ( '\\d+' , response . url )[ 0 ] title_path = '//*[@id=\"tab-articulo\"]/div/h2/text()' author_path = '//*[@id=\"tab-articulo\"]/div/p/text()' content_path = '//div[@class=\"articulo-contenido\"]/descendant-or-self::text()' title = response . xpath ( title_path ) . extract ()[ 0 ] . strip () author = response . xpath ( author_path ) . extract ()[ 0 ] . strip () content = ' \\n ' . join ( response . xpath ( content_path ) . extract () ) . strip () print nb , title , author item = OnearticleItem () item [ 'vol' ] = nb item [ 'title' ] = title item [ 'author' ] = author item [ 'content' ] = content return item 3. è¿è¡Œçˆ¬è™« ä»¥ä¸Šçš„æ–‡ä»¶ä¿®æ”¹å¥½äº†ä»¥å, åªéœ€ åœ¨å‘½ä»¤è¡Œé‡Œ å¯åŠ¨çˆ¬è™«å³å¯, è¿™æ—¶å€™å°±ç”¨åˆ°äº†åˆšæ‰å®šä¹‰çš„spiderçš„ name å±æ€§: $scrapy crawl one_spider -o one.csv å¤§çº¦å‡ åˆ†é’ŸåŠŸå¤«, ä¹ç™¾å¤šç¯‡æ–‡ç« å°±æ”¾åˆ°äº†one.csvæ–‡ä»¶é‡Œ~","tags":"tech","title":"Scrapy ä¸Šæ‰‹ç¬”è®°"},{"url":"https://x-wei.github.io/tech/hashcode2014-solved-by-LP.html","text":"INF580(programmation par contraintes) å¤§æ¦‚æ˜¯åœ¨Xå­¦åˆ°çš„æœ€æœ‰ç”¨çš„ä¸€é—¨è¯¾, å®ƒè®©æˆ‘èƒ½å¤Ÿç”¨æŠŠè¿ç­¹å­¦(MAP557)é‡Œå­¦åˆ°çš„ä¸œè¥¿å’Œè®¡ç®—æœºç»“åˆèµ·æ¥: ç”¨ç”µè„‘çš„åŠ›é‡è§£å†³(å¤§è§„æ¨¡)è¿ç­¹é—®é¢˜. è¿™é—¨è¯¾çš„projetæ˜¯å»å¹´å·´é»è°·æ­Œä¸¾è¡Œçš„ä¸€ä¸ªæ¯”èµ›çš„é¢˜ç›®: æœ€ä¼˜åŒ–è°·æ­Œè¡—æ™¯æ‹ç…§å°è½¦çš„è·¯çº¿. åšè¿™ä¸ªprojetçš„ä¸‰å‘¨é‡Œ, æˆ‘å’ŒManuä»ä¸€å¼€å§‹ä¿¡å¿ƒæ»¡æ»¡, åˆ°ä¸­é—´ä¸€ç­¹è«å±•, å†åˆ°åæ¥æŸ³æš—èŠ±æ˜, ä»¥åŠæœ€åä¹˜èƒœè¿½å‡»ç»ˆäºåœ¨ä»Šæ™šå¾—åˆ°äº†è¿‘ä¹å®Œç¾çš„è§£ç­”, éå¸¸ç²¾å½©, è¿™é‡Œç‰¹æ„ä¸€è®°. é—®é¢˜æè¿° è°·æ­Œé‚£æ¬¡æ¯”èµ›çš„é¢˜ç›®åœ¨è¿™é‡Œ(æˆ‘ä»¬åšçš„æ˜¯Main Roundçš„é¢˜ç›®): https://sites.google.com/site/hashcode2014/tasks ç®€å•æ¥è¯´, å°±æ˜¯å·²çŸ¥å·´é»çš„é“è·¯ä¿¡æ¯, è®¾æ³•ç”¨å…«è¾†è½¦(æ¯è¾†è½¦çš„è¡Œé©¶æ—¶é—´æœ‰é™)ä»å·´é»è°·æ­Œå‡ºå‘, å°½å¯èƒ½å¤šçš„èµ°éå·´é»çš„æ‰€æœ‰è¡—é“, å‚èµ›è€…ç»™å‡ºè¿™äº›è½¦çš„è·¯çº¿, ä»–ä»¬çš„åˆ†æ•°å°±æ˜¯è¿™å…«è¾†è½¦èµ°è¿‡çš„è¡—é“çš„é•¿åº¦ä¹‹å’Œ(é‡å¤èµ°çš„è¡—é“ä¸ç®—åˆ†). å»å¹´å››æœˆä»½æˆ‘ä»¬ä¹Ÿå‚åŠ äº†è¿™ä¸ªæ¯”èµ›, ä¸è¿‡å½“æ—¶çº ç»“äºå¦‚ä½•è®¾è®¡æ¯è¾†è½¦çš„è·¯çº¿, æœ€ååªæ˜¯ç”¨äº†è´ªå¿ƒç®—æ³•, å†åŠ ä¸Šä¸€ç‚¹ç‚¹çš„éšæœº, å¾—åˆ°çš„ç»“æœå¹¶ä¸å¥½... å½“æ—¶ENSçš„äººåŒ…æ½äº†å‰ä¸‰å, è€Œä¸”æ¯”èµ›åè¿›ä¸€æ­¥æŠŠåˆ†æ•°åˆ·åˆ°äº†æ»¡åˆ†: ä»–ä»¬çš„è·¯çº¿å¯ä»¥æŠŠæ‰€æœ‰è¡—é“éƒ½è·‘é. è¿™å­¦æœŸå­¦äº†INF580ä»¥å, æ‰‹é‡Œæœ‰äº† JaCoP ä»¥åŠ AMPL ç­‰\"é‡å‹æ­¦å™¨\", æˆ‘ä»¬ç»è¿‡ä¸€ç•ªåŠªåŠ›ä¹Ÿå¾—åˆ°äº†æ»¡åˆ†, è€Œä¸”ç”¨äº†å‡ ä¹æœ€å°‘çš„æ—¶é—´. ä»£ç æ”¾åœ¨äº†: https://github.com/X-Wei/INF580_HashCode2014 (é‡Œé¢è¿˜æœ‰ä¸ªpdfçš„æŠ¥å‘Š, æ¯”è¿™ç¯‡åšå®¢é‡Œè¯´çš„ç²¾ç‚¼). I. åˆæ­¥å»ºæ¨¡ çº¿æ€§è§„åˆ’(LP)æ¨¡å‹ ç«™åœ¨ä¸€ä¸ªæ›´é«˜çš„è§’åº¦ä¸Šè€ƒè™‘è¿™ä¸ªé—®é¢˜, ä»ä¸€ä¸ªçº¿æ€§è§„åˆ’çš„è§’åº¦çœ‹, ç»™å®šä¸€ä¸ªå›¾ G(V,E) , ç›®æ ‡æ˜¯æœ€å¤§åŒ–èµ°è¿‡çš„è¡—é“é•¿åº¦, å¦‚æœç”¨å¯¹æ¯æ¡è¡—é“ e , å®šä¹‰ä¸€ä¸ª x_e ,: å½“ä¸€æ¡è¡—è¢«ç»è¿‡çš„æ—¶å€™ä½¿å®ƒä¸º1, å¦åˆ™ä¸º0, é‚£ä¹ˆç›®æ ‡å‡½æ•°å°±æ˜¯ä¸€ä¸ªxçš„çº¿æ€§ç»„åˆ(ç³»æ•°å°±æ˜¯å¯¹åº”è¡—é“çš„é•¿åº¦). ä½†æ˜¯å¦‚æœä¸€æ¡è¡—è¢«ç»è¿‡äº†å¤§äºä¸€æ¬¡, x_e ä¹Ÿåªèƒ½æ˜¯1, æ‰€ä»¥å†å¼•å…¥ä¸€ä¸ªå˜é‡ y_e : ç”¨æ¥è¡¨ç¤ºä¸€æ¡è¡—è¢«ç»è¿‡çš„ æ¬¡æ•° . æ‰€ä»¥ x_e å¯ä»¥çœ‹æˆæ˜¯ y_e çš„indicatriceå‡½æ•°: , è¿™ä¸€ç‚¹å¯ä»¥é€šè¿‡å¢åŠ çº¿æ€§çº¦æŸ: x_e<=y_e å³å¯å®ç°, å› ä¸º x_e çš„å–å€¼èŒƒå›´æ˜¯{0,1}. ä¸è¿‡ä¸€æ¡è¡—å¯èƒ½ä»ä¸¤ä¸ªæ–¹å‘è¢«ç»è¿‡( G é‡Œé¢çš„è¾¹æ˜¯æœ‰å‘çš„), å¦‚æœ e 'ä»£è¡¨åæ–¹å‘çš„ e , é‚£ä¹ˆè¿˜åº”è¯¥å¢åŠ çº¦æŸ: x_e+x_e'<=1 å°±å¥½äº†. æ¥ä¸‹æ¥ y è¦æ»¡è¶³çš„å°±æ˜¯æ‰€æœ‰çš„ y è¦ç»„æˆä¸€ä¸ª è·¯å¾„(path) , å¯¹äºæ—¢ä¸æ˜¯èµ·ç‚¹åˆä¸æ˜¯ç»ˆç‚¹çš„ä¸€ä¸ªèŠ‚ç‚¹ v , è¿˜æ˜¯å¾ˆå¥½å†™çš„, ç±»ä¼¼flot: sum(è¿›å…¥vçš„y_e) = sum(ä»væµå‡ºçš„y_e) . å¯¹äºèµ·ç‚¹ v_start æ¥è¯´, å…¶å®ä¹Ÿä¸éš¾: sum(è¿›å…¥v_startçš„y_e) = sum(ä»v-startæµå‡ºçš„y_e)+1 . ä½†æ˜¯å¯¹äºç»ˆç‚¹çš„è¯, æœ‰ä¸ªé—®é¢˜æ˜¯æˆ‘ä»¬ä¸çŸ¥é“è½¦ä¼šåœåœ¨å“ªé‡Œ! Manuå¤ªèªæ˜äº†, å¯¹æ¯ä¸€ä¸ªèŠ‚ç‚¹ v å¼•å…¥äº†å¦ä¸€ä¸ªå˜é‡ f_v ,å–å€¼èŒƒå›´ä¹Ÿæ˜¯{0,1}, å¦‚æœåœ¨èŠ‚ç‚¹ v åœä¸‹æ¥, é‚£ä¹ˆ f_v ç­‰äº1, å¦åˆ™å°±æ˜¯0. æ‰€ä»¥ä¸Šé¢çš„çº¦æŸå¯ä»¥å†™æˆ: sum(è¿›å…¥vçš„y) = sum(ä»væµå‡ºçš„y_e)+f_v . å¦å¤–åˆ«å¿˜äº†åªèƒ½åœåœ¨ä¸€ä¸ªèŠ‚ç‚¹, æ‰€ä»¥å†åŠ çº¦æŸ: sum(æ‰€æœ‰çš„f_v)=1 . ä»¥ä¸Šçš„ç›®æ ‡å‡½æ•°ä»¥åŠçº¦æŸ, è™½ç„¶æ•°ç›®åºå¤§, ä½†æ˜¯éƒ½æ˜¯çº¿æ€§çš„, æ‰€ä»¥æ˜¯ä¸€ä¸ªæ•´æ•°çº¿æ€§è§„åˆ’é—®é¢˜, å†™æˆæ•°å­¦å½¢å¼å°±æ˜¯: ä»solutionå¾—åˆ°è·¯å¾„ ä¸€æ—¦ä¸Šé¢é‚£ä¸ªçº¿æ€§è§„åˆ’é—®é¢˜è§£å†³äº†, æˆ‘ä»¬å¾—åˆ°çš„å°†ä¼šæ˜¯é‚£äº›å˜é‡ x , y ,ä»¥åŠ f , ä½†æ˜¯éœ€è¦ä»ä¸­æå–ä¸€æ¡è·¯å¾„æœ€åæ‰èƒ½ä½œä¸ºsolution!! è¿™ä¸ªé—®é¢˜å®é™…ä¸Šå¯ä»¥å½’ç»“ä¸º: ç»™å®šä¸€ä¸ªä¸€ç¬”ç”»çš„æ›²çº¿(å…¶å®å°±æ˜¯é‚£äº› y : å¯ä»¥æƒ³è±¡æŠŠæ¯æ¡è¾¹éƒ½å¤åˆ¶ y æ¬¡, å¾—åˆ°çš„å°±æ˜¯è¿™ä¹ˆä¸€ä¸ªæ›²çº¿äº†), æ‰¾å‡ºä¸€ä¸ªå¯ä»¥å°†å…¶ä¸€ç¬”ç”»å‡ºæ¥çš„è·¯å¾„(è¿™æ¡è·¯å¾„ä¹Ÿå«\"æ¬§æ‹‰è·¯å¾„\", æ²¡\"æ±‰å¯†å°”é¡¿è·¯å¾„\"æœ‰å). èªæ˜çš„Manuå¾ˆå¿«æƒ³å‡ºæ¥ä¸€ä¸ªç®—æ³•(æˆ‘ä»¬å«å®ƒ\"Orsiniç®—æ³•\"): å¤§æ„æ˜¯å½“èµ°åˆ°åº•æ²¡æœ‰èµ°å®Œçš„æ—¶å€™, æŠŠé‚£äº›é”™è¿‡çš„è·¯å¾„å¤¹åœ¨åŸè·¯å¾„çš„ä¸­é—´å°±å¥½äº†. ç®—æ³•æè¿°å¦‚ä¸‹: i) ä»èµ·ç‚¹å¼€å§‹å‡ºå‘èµ°, æŠŠèµ°è¿‡çš„è¾¹æ¶‚ä¸Šé¢œè‰²(ä»¥åä¸èƒ½å†èµ°), åªè¦è¿˜å¯ä»¥ç»§ç»­èµ°(è¿˜æœ‰æ²¡æœ‰ç€è‰²çš„è¾¹å¯èµ°)å°±ä¸€ç›´èµ°ä¸‹å», ä¸€ç›´åˆ°æ— è·¯å¯èµ°. (åº”è¯¥ä¼šåœåœ¨ f=1 çš„åœ°æ–¹), å¾—åˆ°è·¯å¾„ p0 . ii) å¦‚æœæ‰€æœ‰è¾¹å·²ç»è¢«èµ°è¿‡äº†: over . å¦‚æœæ²¡æœ‰: æ‰¾ä¸€ä¸ªæ²¡æœ‰èµ°è¿‡çš„è¾¹ä¸ p0 çš„äº¤å‰ç‚¹: v (å¦‚æœæ‰¾ä¸åˆ°çš„è¯è¯´æ˜æœ‰é—®é¢˜: åé¢å°±é‡åˆ°è¿™ä¸ªé—®é¢˜äº†), ç„¶åæ‰§è¡Œ(iii) iii) ä» v å‡ºå‘, åœ¨è¿›è¡Œç±»ä¼¼(i)çš„æ“ä½œå¾—åˆ°ä¸€æ¡è·¯å¾„(åº”è¯¥æ˜¯ä¸€ä¸ªç¯), ç„¶åæŠŠ p0 ä» v é‚£é‡ŒåŠˆå¼€, æŠŠè¿™ä¸ªç¯å¡åˆ°ä¸­é—´ç»„æˆæ–°çš„ p0 , ç„¶åå†æ‰§è¡Œ(ii). è¿™æ ·å°±å¯ä»¥å¾—åˆ°å¯¹åº”çš„è·¯å¾„äº†. ä¸€å¼€å§‹çš„æƒ³æ³• ä»¥ä¸Šçš„å»ºæ¨¡æ˜¯é’ˆå¯¹ä¸€è¾†è½¦çš„, æˆ‘ä»¬ä¸€å¼€å§‹çš„æƒ³æ³•æ˜¯: å¯¹ä¸€è¾†è½¦è¿›è¡Œè¿™ä¸ªæ“ä½œ, å¾—åˆ°ç»“æœä»¥åæ›´æ–°ä¸€ä¸‹ G (æŠŠé‚£äº›å·²ç»èµ°è¿‡çš„è¡—é“çš„é•¿åº¦è®¾ä¸º0, ç„¶åå†èµ°ä¸‹ä¸€è¾†è½¦... è¿™æ ·è·‘8æ¬¡å°±èƒ½å¾—åˆ°æœ€ä¼˜è§£äº†. ä¸€åˆ‡çœ‹èµ·æ¥ ä¼¼ä¹ éƒ½éå¸¸å®Œç¾...... II.é‡åˆ°çš„é—®é¢˜ è®¡ç®—èƒ½åŠ›é—®é¢˜ å†™å¥½äº†AMPLçš„ç¨‹åºä»¥å, æˆ‘ä»¬é‡åˆ°çš„ç¬¬ä¸€ä¸ªé—®é¢˜æ˜¯: è¿™ä¹ˆå¤§çš„é—®é¢˜, ä¸€èˆ¬ç”µè„‘ç®—ä¸å‡ºæ¥(æ›¾ç»ç”¨glpkè®©ç”µè„‘è·‘äº†ä¸€å¤œ, è¿˜æ˜¯æ²¡æœ‰å¾—åˆ°ç»“æœ). åæ¥é—®è€å¸ˆ, è€å¸ˆè¯´glpkå¹¶ä¸æ˜¯éå¸¸é«˜æ•ˆçš„æ±‚è§£å™¨, ç„¶åæ¨èç»™äº†æˆ‘ä»¬ä¸€ä¸ªéå¸¸ç»™åŠ›çš„ç½‘ç«™: NEOS ! è¿™ä¸ªç½‘ç«™å¯ä»¥è®©äººä¸Šä¼ AMPLç¨‹åº, ç„¶åç”¨å®ƒä»¬çš„æœåŠ¡å™¨è·‘, è€Œä¸”ä½¿ç”¨çš„æ±‚è§£å™¨ä¹Ÿæ˜¯å•†ç”¨çš„, æ¯”å¼€æºæ±‚è§£å™¨å¿«çš„ä¸æ˜¯ä¸€ä¸ªæ•°é‡çº§(æˆ‘ä»¬å‘ç°æœ€å¿«çš„æ±‚è§£å™¨æ˜¯ Gurobi , ååˆ†ç»™åŠ›). è¿™æ ·ä¸€æ¥è®¡ç®—çš„é—®é¢˜å°±è§£å†³äº†, ä½†æ˜¯æˆ‘ä»¬å¾ˆå¿«å‘ç°ä¸€ä¸ªæ›´ä¸¥é‡çš„é—®é¢˜, æ˜¯æˆ‘ä»¬çš„å»ºæ¨¡é‡Œçš„ä¸€ä¸ªä¸¥é‡ç¼ºé™·... subtouré—®é¢˜ æˆ‘ä»¬å…´å†²å†²çš„æ‹¿NEOSçš„ç»“æœè·‘Orsiniç®—æ³•çš„æ—¶å€™, å‘ç°æ€»æ˜¯æŠ¥é”™: ä¹Ÿå°±æ˜¯åœ¨ç¬¬äºŒæ­¥, ç¨‹åºæ— æ³•æ‰¾åˆ°ä¸€ä¸ªå’Œ p0 æœ‰äº¤å‰ç‚¹çš„è¾¹: ä¹Ÿå°±æ„å‘³ç€æˆ‘ä»¬çš„æ¨¡å‹å¾—åˆ°çš„è·¯å¾„å¹¶ä¸æ˜¯åªæœ‰ä¸€ä¸ªconnected component!!! ä¹Ÿå°±æ˜¯è¯´, æˆ‘ä»¬å¾—åˆ°çš„è§£å…¶å®æ˜¯ä¸€æ¡ä»èµ·ç‚¹åˆ°æŸä¸ªç»ˆç‚¹çš„è·¯å¾„, å¤–åŠ å¾ˆå¤šå’Œè¿™ä¸ªè·¯å¾„æ²¡æœ‰äº¤ç‚¹çš„åœˆåœˆ(subtour)! æ˜¯å•Š, è¿™ä¸ªé—®é¢˜å¾ˆç±»ä¼¼æ—…è¡Œå•†é—®é¢˜(TSP), è€ŒTSPçš„å›°éš¾ä¹‹ä¸€ å°±æ˜¯è¦è§£å†³subtourçš„è¯éœ€è¦åŠ å…¥2&#94;nä¸ªæ–°çš„çº¦æŸ.... 2&#94;10000ä¸ªçº¦æŸ? impossible... III. subtouré—®é¢˜çš„\"è§£å†³\" å„ç§çº ç»“ åœ¨ä¸€æ¬¡PCä¸Šæœ‰ä¸€é“é¢˜ç›®ä»‹ç»äº†TSP subtouré—®é¢˜çš„ä¸€ç§å»ºæ¨¡æ–¹å¼, \"potentiel\"å»ºæ¨¡, å¯ä»¥é˜²æ­¢åŠ å…¥2&#94;nä¸ªçº¦æŸ: ä¸ºæ¯ä¸ªèŠ‚ç‚¹ v å¼•å…¥æ–°çš„å˜é‡ u_v , u_v ä»£è¡¨äº†èŠ‚ç‚¹ v è¢«è®¿é—®çš„é¡ºåº, çº¦æŸåšçš„éå¸¸å·§å¦™, æ˜¯è¿™æ ·çš„: è¿™æ ·, å½“ x_ij æ˜¯1çš„æ—¶å€™, å°±ä¿è¯ u_j æ¯” u_i å¤§1, è€Œå½“ x_ij æ˜¯0çš„æ—¶å€™, è¿™ä¸ªçº¦æŸåˆ™éå¸¸æ¾å¼›, å‡ ä¹ç›¸å½“äºæ²¡æœ‰. ä¸è¿‡è¿™ä¸ªæ–¹æ³•å¥—åˆ°æˆ‘ä»¬è¿™ä¸ªprojetçš„è¯ä¹Ÿæœ‰é—®é¢˜: é‚£å°±æ˜¯æ¯ä¸ªèŠ‚ç‚¹åªèƒ½æœ‰ä¸€ä¸ª u_v , æ‰€ä»¥æ¯ä¸ªèŠ‚ç‚¹åªèƒ½æœ€å¤šè®¿é—®ä¸€æ¬¡.... ä¸è¿‡æˆ‘ä»¬å¾ˆå¿«æƒ³åˆ°äº†åŠæ³•: æŠŠæ‰€æœ‰èŠ‚ç‚¹å¤åˆ¶ä¸€ä¸ª(å¤åˆ¶\"ä¸€å±‚\"), ç„¶åæ¯æ¡è¾¹çš„è¯ä¹Ÿè¿›è¡Œå¤åˆ¶, åŒæ—¶åŠ ä¸Šé‚£äº›è¿æ¥å„å±‚çš„è¾¹. ä¸¾ä¸ªä¾‹å­, åŸæ¥çš„ä¸€æ¡è¾¹æ˜¯: (u, v) , æˆ‘ä»¬å¤åˆ¶äº†ä¸€å±‚, è¿™äº›æ–°èŠ‚ç‚¹å«å®ƒä»¬ u',v ',... é‚£ä¹ˆåœ¨è¿™ä¸ªä¸¤å±‚çš„å›¾é‡Œ, æˆ‘ä»¬è¦æŠŠåŸæ¥çš„è¿™æ¡è¾¹å˜æˆ4æ¡: (u, v) , (u, v') , (u', v) å’Œ (u', v') . è¿™æ ·å°±å¯ä»¥ä¿è¯è·¯å¾„å¯ä»¥ç»è¿‡ä¸€ä¸ªç‚¹ä¸¤æ¬¡äº†, å¦‚æœæƒ³è¦ä¿è¯å¯ä»¥ç»è¿‡ä¸€ä¸ªç‚¹Kæ¬¡, åªè¦åšKå±‚å°±å¥½äº†(æ¯æ¡è¾¹å˜æˆK&#94;2æ¡). ç„¶å, x ä¹Ÿä¸éœ€è¦äº†, å› ä¸ºæ¯æ¡è¾¹çš„ y æœ€å¤§å°±æ˜¯1. ä½†æ˜¯è¿˜æœ‰ä¸€ä¸ªé—®é¢˜æ˜¯ç›®æ ‡å‡½æ•°, ç”±äºä¸€æ¡è¾¹å˜æˆäº†å››æ¡, å¦‚æœèµ°å››éçš„è¯å°±å¤šç®—äº†å››æ¬¡è¿™æ¡è¾¹çš„é•¿åº¦... æœ‰ä¸¤ç§è§£å†³åŠæ³•: ä¸€æ˜¯ç±»ä¼¼å‰é¢çš„æ–¹æ³•, ç»™æ¯æ¡è¾¹æŒ‡å®šå®šä¸€ä¸ªindicatrice, è¿™æ ·å°±ä¸ä¼šé‡å¤äº†, è¿˜æœ‰ä¸€ç§æ›´ç®€å•çš„åŠæ³•æ˜¯, åœ¨å››æ¡è¾¹é‡Œ, åªå–ä¸€æ¡è¾¹çš„é•¿åº¦ä¿æŒä¸å˜, å…¶ä»–é•¿åº¦éƒ½è®¾æˆ0, ç®—æ³•è‡ªç„¶ä¼šä¼˜å…ˆèµ°é‚£æ¡é•¿åº¦ä¸æ˜¯0çš„è¾¹(è¿™ä¸ªæ²¡æœ‰ä»”ç»†è¯æ˜, ä¸è¿‡è²Œä¼¼æ˜¯è¿™æ ·çš„). æˆ‘ä»¬é‡‡ç”¨äº†ç¬¬äºŒä¸ªåŠæ³•.... å°±è¿™æ ·åºŸäº†å¥½å¤§åŠŸå¤«, å†™å¥½äº†ä¸¤å±‚èŠ‚ç‚¹çš„ç¨‹åº, é€å»NEOSä¸€è·‘.... è¶…æ—¶äº†(è¶…è¿‡8håNEOSä¼šè‡ªåŠ¨åœæ­¢æ±‚è§£è¿‡ç¨‹)... åæ¥æˆ‘ä»¬å‘ç°å³ä½¿æ˜¯ä¸å¤šåŠ æ–°ä¸€å±‚çš„ç¨‹åº, ä¹Ÿä¼šè¶…æ—¶. é‚£èŠ‚PCé‡Œä¹Ÿè¯´, è¿™ç§å»ºæ¨¡æ–¹æ³•å®é™…ä¸Šè®¡ç®—æ•ˆç‡æ¯”åŠ å…¥2&#94;Nä¸ªçº¦æŸçš„å»ºæ¨¡è¿˜è¦å·®... æ‰€ä»¥æ€»ç»“ä¸€ä¸‹å°±æ˜¯: é—®é¢˜è¿˜æ˜¯æ²¡æœ‰è§£å†³... ç»•è¿‡subtouré—®é¢˜ å°±åœ¨ä¸€ç­¹è«å±•ä¹‹é™…, Manuæè®®æŠŠæœç´¢çš„èŒƒå›´ç¼©å°: ä¸ç”¨æ•´ä¸ªå·´é»çš„æ•°æ®, åªå–èµ·ç‚¹é™„è¿‘çš„åŒºåŸŸ, è¿™æ ·çš„è¯, è¯´ä¸å®šæˆ‘ä»¬åŸå…ˆçš„æ¨¡å‹å¾—åˆ°çš„ç»“æœä¼šå°‘ä¸€ç‚¹connected components... è¯•äº†ä¸€ä¸‹, æœç„¶! è™½ç„¶æ²¡æœ‰å¼ºåˆ¶è¦æ±‚è·¯å¾„çš„è¿é€šæ€§, å¾—åˆ°çš„ç»“æœç¡®å®(å‡ ä¹)åªæœ‰ä¸€ä¸ªè”é€šåˆ†æ”¯! åæ¥å°±æƒ³åˆ°äº†ä¸€ä¸ªå¾ˆèªæ˜çš„åŠæ³•: ç”¨å…«å€çš„Tä½œä¸ºæ—¶é—´é™åˆ¶, è®©ä¸€è¾†è½¦å»è·‘, ç”±äºæ—¶é—´å¾ˆå……åˆ†, æˆ‘ä»¬å¾—åˆ°çš„è§£åº”è¯¥ä¸å¤ªä¼šå‡ºç°å¤šä¸ªè”é€šåˆ†æ”¯, ç„¶åä¸€æ—¦å¾—åˆ°äº†è¿™ä¸ªè·¯å¾„(åæ¥æˆ‘ä»¬å«å®ƒ\"big path\"), åªéœ€è¦æŠŠå®ƒåˆ†æˆ8æ®µ, æ¯è¾†è½¦å…ˆä»èµ·ç‚¹(å·´é»è°·æ­Œ)è·‘åˆ°æ¯ä¸€æ®µçš„å¼€å¤´, ç„¶åæ²¿ç€è¿™æ¡è·¯è·‘å°±å¥½äº†å•Š!! è™½ç„¶ä»å·´é»è°·æ­Œè·‘åˆ°æ¯ä¸€æ®µçš„èµ·ç‚¹ä¼šç¨å¾®æµªè´¹ä¸€äº›æ—¶é—´, ä½†æ˜¯è¿™ç‚¹æŸå¤±å…¶å®å¾®ä¸è¶³é“!! è€Œä¸”ä¹Ÿä¸ç”¨è·‘8æ¬¡LPè¿™ä¹ˆéº»çƒ¦äº† -- è¦æ˜¯æ—©ç‚¹æƒ³åˆ°è¿™ä¸ªå°±å¥½äº†!! è€Œä¸”å¾ˆç¥å¥‡çš„æ˜¯, æŠŠæ—¶é—´å˜æˆäº†8Tä»¥å, æˆ‘ä»¬çš„Lpæ¨¡å‹è®¡ç®—çš„æ›´å¿«äº†: åŸå…ˆè¦è®¡ç®—30åˆ†é’Ÿå·¦å³, ç°åœ¨åªè¦å·®ä¸å¤š3åˆ†é’Ÿå°±å‡ºç»“æœäº†!! è¿™ä¸€ç‚¹æ²¡å¤ªæƒ³æ˜ç™½, å¯èƒ½æ˜¯æœç´¢çš„ç©ºé—´å˜å°äº†?? è¯´å†™å°±å†™, æœ€çŸ­è·¯å¾„ç”¨Dijkstraç®—æ³•å°±èƒ½å¾—åˆ°äº†, ä¸ä¸€ä¼šå°±å†™å‡ºäº†è¿™ä¸ªæŠŠä¸€æ¡big pathå˜æˆ8æ¡small pathçš„ç¨‹åº. ç„¶åæˆ‘ä»¬ä¸€ä¸¾å¾—åˆ°äº†1957596åˆ†(ç¦»æ»¡åˆ†è¿˜å·®äº†ä¸¤åƒç±³å·¦å³)!! IV. è¿›ä¸€æ­¥ä¼˜åŒ– ä¼˜åŒ–çš„è¯æœ‰ä¸¤ä¸ªæ–¹å‘: ç¬¬ä¸€ä¸ªæ–¹å‘æ˜¯ä¿®æ”¹é‚£ä¸ªç¨‹åºä»£ç , ä½¿å¾—æ¯æ¬¡èµ°åˆ°big pathæŸæ®µèµ·ç‚¹çš„æ—¶å€™å¯ä»¥å°‘èµ°äº›è·¯, ä¸è¿‡è¿™ä¸ªæ–¹å‘åº”è¯¥æ²¡ä»€ä¹ˆå‰é€”: ç¨‹åºå†™èµ·æ¥éº»çƒ¦ä¸è¯´, å¯ä»¥æ”¹è¿›çš„ç©ºé—´ä¹Ÿå¾ˆæœ‰é™, å› ä¸ºbig pathä¸€å…±ä¹Ÿæ²¡æœ‰å‰©å¤šå°‘æ—¶é—´, æ‰€ä»¥å…«è¾†è½¦æ˜¯ä¸å¯èƒ½æŠŠbig pathèµ°å®Œçš„. ç¬¬äºŒä¸ªæ–¹å‘åˆ™æ˜¯è®¾æ³•ä¼˜åŒ–big pathçš„æ—¶é—´ä½¿ç”¨, ä½¿å¾—å®ƒåœ¨å¾—åˆ°æœ€é•¿è·¯å¾„çš„åŒæ—¶ä½¿ç”¨å°½é‡å°‘çš„æ—¶é—´. å¼•å…¥æ—¶é—´æ­£åˆ™é¡¹ å…¶å®8Tä½œä¸ºæ—¶é—´æ¥è¯´éå¸¸å……è£•, ä½†æ˜¯æˆ‘ä»¬çš„è§£é‡Œé¢, big pathè¿˜æ˜¯æŠŠæ—¶é—´ç”¨çš„å·®ä¸å¤šäº†: å› ä¸ºæ—¶é—´æ ¹æœ¬æ²¡æœ‰å‡ºç°åœ¨ç›®æ ‡å‡½æ•°é‡Œ. æ‰€ä»¥, å¯ä»¥æŠŠæ—¶é—´ä¹Ÿä½œä¸ºç›®æ ‡å‡½æ•°åŠ ä¸Šå», ä¸è¿‡è¦æ³¨æ„æœ€ä¼˜å…ˆè¦ä¼˜åŒ–çš„è¿˜æ˜¯è·¯å¾„é•¿åº¦, æ‰€ä»¥æ—¶é—´é¡¹å‰é¢è¦ä¹˜ä»¥ä¸€ä¸ªéå¸¸å°çš„æ•°(æ¯”å¦‚0.000001), ç±»ä¼¼åšregularization. æ‰€ä»¥æ–°çš„ç›®æ ‡å‡½æ•°æ˜¯: è¿™æ ·ä¸€è¿è¡Œ, æˆ‘ä»¬çš„big pathå±…ç„¶å‰©ä¸‹äº†å…­åƒå¤šç§’çš„æ—¶é—´!!! è¿™äº›æ—¶é—´è¶³å¤Ÿå…«è¾†è½¦è·‘åˆ°å„æ®µçš„èµ·ç‚¹äº†!! æˆ‘ä»¬è¿™æ ·, å…«è¾†è½¦èµ°å®Œäº†big pathæ‰€æœ‰çš„è·¯ç¨‹å¾—åˆ°çš„ç»“æœç¦»æ»¡åˆ†åªå·®äº†7ç±³, è€Œæœ€åä¸€è¾†è½¦è¿˜æœ‰ä¸¤åƒå¤šç§’æ²¡æœ‰èµ°! æ£€æŸ¥äº†ä¸€ä¸‹, å‘ç°æœ‰ä¸€ä¸ª7ç±³é•¿çš„è·¯æ˜¯å”¯ä¸€å‰©ä¸‹æ²¡èµ°è¿‡çš„è·¯: äºæ˜¯åªè¦å†è®©æœ€åä¸€è¾†è½¦å»èµ°ä¸€ä¸‹å°±å¥½äº†(å› ä¸ºæ—¶é—´å¤Ÿç”¨), æœ€ç»ˆæˆ‘ä»¬çš„æ–¹æ¡ˆèµ°å®Œäº†æ•´ä¸ªå·´é»: ç­‰ä¸€ä¸‹, è¿™é‡Œæœ‰ç‚¹å¥‡æ€ª: ä¸ºä»€ä¹ˆä¼˜åŒ–å¾—åˆ°çš„ç»“æœå¹¶ä¸æ˜¯æœ€ä¼˜çš„(æ²¡æœ‰èµ°å®Œæ‰€æœ‰çš„è·¯ç¨‹)? æˆ‘ä»¬é€šè¿‡åæ¥æ‰‹åŠ¨èµ°é‚£æ¡å‰©ä¸‹çš„è·¯éƒ½æ²¡æœ‰è¶…æ—¶, æ‰€ä»¥è¯´å…¶å®è‚¯å®šå¯ä»¥åœ¨8Tçš„æ—¶é—´èµ°éæ‰€æœ‰è¡—é“çš„! åæ¥æŸ¥äº†ä¸€ä¸‹æ‰å‘ç°, åŸæ¥Gurobiå¹¶ä¸æ˜¯è¿”å›æœ€ä¼˜è§£, è€Œæ˜¯å½“å½“å‰å¯è¡Œè§£ä¸æœ€ä¼˜è§£è¶³å¤Ÿæ¥è¿‘çš„æ—¶å€™å°±ç›´æ¥åœæ­¢, è¿™ä¸ªå‚æ•°çš„åå­—å«mipgap, æ›´å¤šå‚æ•°å¯ä»¥å‚è€ƒè¿™é‡Œ: http://www.gurobi.com/documentation/6.0/ampl-gurobi-guide/parameters . è¿™ä¹Ÿå°±è§£é‡Šäº†ä¸ºä»€ä¹ˆNEOSå¾—åˆ°çš„è§£ä¸æ˜¯æœ€ä¼˜çš„, ä¸è¿‡è¿˜å¥½, é€šè¿‡æœ€åæ‰‹åŠ¨æ·»åŠ é‚£æ¡æ²¡èµ°çš„è¾¹, è¿˜æ˜¯èµ°å®Œäº†æ‰€æœ‰çš„è¡—é“. ............ åªæ˜¯ä½œä¸ºå¼ºè¿«ç—‡çš„è¯è§‰å¾—è¿˜æ˜¯æœ‰ç‚¹......ä¸å¤Ÿå®Œç¾. ç›´æ¥ä¼˜åŒ–æ—¶é—´ ä»Šæ™š, æœºæ™ºçš„Manuæƒ³åˆ°äº†è§£å†³åŠæ³•: æ—¢ç„¶çŸ¥é“æ‰€æœ‰çš„è¡—é“éƒ½ä¼šè¢«èµ°é, ç›´æ¥ä¸æŠŠå®ƒçœ‹æˆç›®æ ‡, è€Œæ˜¯ç›´æ¥ä½œä¸ºçº¦æŸå¥½äº†, ç„¶åçº¦æŸç›´æ¥æ”¹æˆä¼˜åŒ–æ—¶é—´! è¦å°±ç»è¿‡æ‰€æœ‰è¡—é“çš„çº¦æŸå¾ˆç®€å•, é‚£å°±æ˜¯å¯¹ä»»ä½•è¡—é“ e , éƒ½æœ‰: y_e+y_e'>=1 . å¦å¤–è‚¯å®šæ‰€æœ‰è¡—é“éƒ½ä¼šç»è¿‡, x å°±æ²¡æœ‰å¿…è¦å­˜åœ¨äº†. LPæ¨¡å‹è¡¨è¾¾ä¸º: ç”¨è¿™æ ·çš„æ¨¡å‹, æˆ‘ä»¬çš„big path çœä¸‹äº†ä¸€ä¸‡ä¸¤åƒå¤šç§’, æ‰€ä»¥æˆ‘ä»¬çš„æœ€ç»ˆç»“æœé‡Œ, æœ€åçš„ä¸€è¾†è½¦è·‘å®Œä»¥åè¿˜æœ‰9596ç§’æ²¡æœ‰ç”¨!! åˆ°è¿™ä¸€æ­¥, çœŸçš„å¯ä»¥ç®—æ˜¯å®Œç¾è§£å†³è¿™ä¸ªé—®é¢˜äº†, è€Œä¸”å¼ºè¿«ç—‡ä¹Ÿå¾—æ•‘äº†. Yeah! : )","tags":"tech","title":"è¿ç­¹çš„åŠ›é‡: ç”¨çº¿æ€§è§„åˆ’è§£å†³Google 2014 HashCodeé—®é¢˜"},{"url":"https://x-wei.github.io/soft/Linuxä¸‹pdfæ–‡ä»¶çš„å‹ç¼©ä¸åˆå¹¶.html","text":"å‹ç¼©pdf ç”¨ convert åªç®€å•æŒ‡å®šresizeå¥½åƒä¸å¤ªå¥½ä½¿: convert -resize 50% input.pdf out.pdf ç”¨ gs ( http://blog.sciencenet.cn/blog-467089-773990.html ): gs -sDEVICE=pdfwrite -dCompatibilityLevel=1.4 -dPDFSETTINGS=/screen -dNOPAUSE -dQUIET -dBATCH -sOutputFile=out.pdf input.pdf åæ¥å‘ç°è€æ˜¯compressä»¥åçš„ç»“æœä¸å¥½, çœ‹åˆ° è¿™ç¯‡å¸–å­ å‘ç° convertæœ‰å¥½å¤šé€‰é¡¹ . æœ€åå®éªŒä¸‹æ¥è¿™æ ·convertçš„æ•ˆæœå¾ˆå¥½, æ—¢èƒ½å‹ç¼©æ–‡ä»¶, åˆä¿è¯äº†å‹ç¼©åè¿˜è¶³å¤Ÿæ¸…æ¥š: convert -density 200 -compress jpeg input.pdf out.pdf åˆå¹¶pdf ä¹‹å‰ åšå®¢ å†™è¿‡, ç”¨pdfjoin: pdfjoin $(ls *.pdf|sort -n) --outfile out.pdf","tags":"soft","title":"Linuxä¸‹pdfæ–‡ä»¶çš„å‹ç¼©ä¸åˆå¹¶"},{"url":"https://x-wei.github.io/tech/ä¸€ä¸ªç®€å•çš„pythonè¿›åº¦æ¡.html","text":"åœ¨å¤„ç†å¤§é‡æ•°çš„æ—¶å€™, å¦‚æœè¾“å‡ºç±»ä¼¼ \"process i out of n files...\" è¿™æ ·çš„å†…å®¹æ¥æŒ‡ç¤ºè¿›åº¦çš„è¯, è™½ç„¶å¯ä»¥æ˜¾ç¤ºç›®å‰çš„è¿›åº¦(ç”¨æ¥å®‰æ…°ç­‰å¾…çš„å¿ƒæƒ…...)ä½†æœ‰ä¸ªé—®é¢˜æ˜¯, å¦‚æœè¾“å‡ºäº†å¤ªå¤šè¡Œ(æ¯”å¦‚ä¸€ä¸‡è¡Œ...), å°±çœ‹ä¸åˆ°å‰é¢çš„å†…å®¹äº†... æ‰€ä»¥æƒ³æ‰¾ä¸€ä¸ªå‘½ä»¤è¡Œä¸‹é¢çš„è¿›åº¦æ¡, å…¶å®pythonå·²ç»æœ‰äº†(ä¸æ­¢ä¸€ä¸ª)è¿›åº¦æ¡çš„åŒ…äº†, æ¯”å¦‚ progressbar , ä½†æ˜¯ä¸çŸ¥ä¸ºä»€ä¹ˆè¿™ä¸ªåŒ…åœ¨windowsä¸‹é¢æ²¡æœ‰èƒ½åšåˆ°åˆ·æ–°æ˜¾ç¤º -- å°±æ˜¯åˆ·æ–°è¿›åº¦çš„æ—¶å€™, æ²¡æœ‰æŠŠåŸå…ˆé‚£ä¸€è¡Œå»æ‰, è€Œæ˜¯åœ¨ä¸‹é¢å†è¾“å‡ºäº†ä¸€è¡Œ... (ä¸è¿‡åæ¥åœ¨linuxä¸‹é¢ä½¿ç”¨è¿™ä¸ªåŒ…æ˜¯æ²¡é—®é¢˜çš„, å¥½å¥‡æ€ª...) æ‰€ä»¥æƒ³åŠæ³•è‡ªå·±å†™äº†ä¸€ä¸ª, å‘ç°è¦å®ç°ä¸€ä¸ªç®€å•çš„è¿›åº¦æ¡è¿˜æ˜¯å¾ˆç®€å•çš„, å…³é”®å°±æ˜¯ä½¿ç”¨ \\r , è¿™æ ·ä¼šæŠŠå…‰æ ‡ç§»åŠ¨åˆ°å½“å‰è¡Œçš„å¼€å¤´: è¿™æ ·ä¸‹æ¬¡è¾“å‡ºçš„æ—¶å€™å°±ä¼šæŠŠåŸå…ˆçš„å†…å®¹å†²æ‰äº†. ä»£ç åªæœ‰ä¸åˆ°äºŒåè¡Œ: import sys class SimpleProgressBar (): def __init__ ( self , width = 50 ): self . last_x = - 1 self . width = width def update ( self , x ): assert 0 <= x <= 100 # `x`: progress in percent ( between 0 and 100) if self . last_x == int ( x ): return self . last_x = int ( x ) pointer = int ( self . width * ( x / 100.0 )) sys . stdout . write ( ' \\r %d%% [ %s ]' % ( int ( x ), '#' * pointer + '.' * ( self . width - pointer ))) sys . stdout . flush () if x == 100 : print '' ç”¨æ³•ä¹Ÿå¾ˆç®€å•, å…ˆæ–°å»ºä¸€ä¸ªSimpleProgressBarå¯¹è±¡, åœ¨è¦æ›´æ–°è¿›åº¦æ¡çš„æ—¶å€™, è°ƒç”¨updateæ–¹æ³•å³å¯... # An example of usage... pb = SimpleProgressBar () for i in range ( 301 ): pb . update ( i * 100.0 / 300 ) time . sleep ( 0.1 ) å†åæ§½ä¸€ä¸‹windows, ä¸ä»…é‚£ä¸ªprogressbarçš„åŒ…ä¸å¥½ä½¿, multiprocessingçš„åŒ…ä¹Ÿä¸å¥½ä½¿, éƒé—·... [08-15è¡¥å……] åæ¥æƒ³åˆ°, æ—¢ç„¶ç”¨ \\r å°±å¯ä»¥å®ç°åˆ·æ–°å½“å‰è¡Œ, è¿˜è¦ç”¨æ¯›çš„è¿›åº¦æ¡å•Š.... ç›´æ¥è¿™æ ·å†™å°±å¥½äº†: for i in range ( 301 ): print 'processing %d out od %d items...' % ( i + 1 , 301 ), ' \\r ' , time . sleep ( 0.1 ) æ³¨æ„printæœ€åè¦åŠ é€—å· å¦åˆ™å°±æ¢è¡Œäº†...","tags":"tech","title":"ä¸€ä¸ªç®€å•çš„pythonè¿›åº¦æ¡"},{"url":"https://x-wei.github.io/tech/æ­£åˆ™è¡¨è¾¾å¼å…¥é—¨ç®€ä»‹.html","text":"ä»¥å‰è™½ç„¶ä¹Ÿç”¨è¿‡æ­£åˆ™è¡¨è¾¾å¼(æ¯”å¦‚é‚£ä¸ªé¥®æ°´æ€æºçš„ PPPç‰ˆå›¾ç‰‡ä¸‹è½½å™¨ ...)ä½†æ˜¯é‚£æ—¶å€™åŸºæœ¬ä¸Šæ˜¯ç½‘ä¸Šåˆ°å¤„æœ ç„¶åæŠŠä»£ç æ‹¿è¿‡æ¥æ”¹, æ²¡æœ‰ç³»ç»Ÿçš„å­¦è¿‡è¿™ä¸ªä¸œè¥¿. å‰ä¸€æ®µå®ä¹ ä¸€å¼€å§‹çš„æ—¶å€™è¦å¤„ç†å¾ˆå¤§é‡çš„æ–‡æœ¬, ä»æ–‡æœ¬é‡Œæå–å‡ºéœ€è¦çš„ä¿¡æ¯, æ‰€ä»¥ç”¨åˆ°äº†ä¸å°‘çš„æ­£åˆ™è¡¨è¾¾å¼, ä¹Ÿå¥½å¥½çš„å­¦äº†ä¸€ä¸‹, ç°åœ¨å›æ¥è¿›è¡Œä¸€ä¸‹æ€»ç»“. ä»€ä¹ˆæ˜¯æ­£åˆ™è¡¨è¾¾å¼ å¾ˆå¤šæ—¶å€™,æˆ‘ä»¬éœ€è¦åœ¨æ–‡æœ¬é‡Œå¯»æ‰¾æ»¡è¶³ä¸€ç§ æ¨¡å¼ ( pattern )çš„ä¸€æ®µå­å­—ç¬¦ä¸²(substring), æ³¨æ„æ˜¯ä¸€ç§æ¨¡å¼è€Œä¸æ˜¯æŸä¸€ä¸ªå…·ä½“çš„å­—ç¬¦ä¸². ä¸¾ä¸ªä¾‹å­, åœ¨ä¸€æ®µæ–‡æœ¬é‡Œå¯»æ‰¾è¿™é‡Œé¢å‡ºç°çš„æ‰€æœ‰çš„ç½‘å€, é‚£ä¹ˆå¯¹åº”çš„æ¨¡å¼å°±æ˜¯: \"ä»¥ www. å¼€å¤´, ä¸­é—´æœ‰ä¸€äº›ä¸œè¥¿(å¯ä»¥æ˜¯å­—æ¯ä¹Ÿå¯ä»¥æ˜¯æ•°å­—ç­‰), æœ€åä»¥ .com/.org/.edu... ç»“å°¾çš„æ‰€æœ‰çš„å­—ç¬¦ä¸²\" å†æ¯”å¦‚, è¦æŸ¥æ‰¾æ–‡æœ¬ä¸­å‡ºç°çš„ç”µè¯å·ç , ç”µè¯å·ç çš„æ ¼å¼æ˜¯åŒºå·åŠ æ¨ªçº¿å†åŠ å·ç , é‚£ä¹ˆæ¨¡å¼å°±åº”è¯¥æ˜¯: \"ä»¥3ä¸ªæˆ–4ä¸ªæ•°å­—å¼€å¤´, ä¸‰ä¸ªæˆ–å››ä¸ªæ•°å­—ä¹‹åè·Ÿä¸€ä¸ªæ¨ªçº¿, æ¨ªçº¿åå†è·Ÿ7ä¸ªæˆ–8ä¸ªæ•°å­—\" å†å†æ¯”å¦‚, è¦æŸ¥æ‰¾å‡ºç°çš„ç”µå­é‚®ä»¶åœ°å€, é‚£ä¹ˆæ¨¡å¼å¤§æ¦‚æ˜¯: \"ä»¥å­—æ¯æˆ–æ•°å­—æˆ–ä¸‹åˆ’çº¿å¼€å¤´, ä¹‹åè·Ÿç€ä¸€ä¸ª@ç¬¦å·, @ç¬¦å·ä»¥åä¸€äº›ç”¨ç‚¹åˆ†éš”çš„å­—æ¯æˆ–æ•°å­—, æœ€ååº”è¯¥ä»¥.com/.org/.eduç­‰ç»“æŸ\" å¯ä»¥æƒ³è±¡å®é™…åº”ç”¨ä¸­ä¼šæœ‰æè¿°èµ·æ¥æ›´åŠ ç½—å—¦çš„æ¨¡å¼, è€Œ æ­£åˆ™è¡¨è¾¾å¼å°±æ˜¯ç”¨æ¥æè¿°è¿™ç§\"æ¨¡å¼\"çš„è¯­æ³• , ä½¿ç”¨æ­£åˆ™è¡¨è¾¾å¼, å¯ä»¥ç”¨å¾ˆç®€çŸ­çš„ä»£ç è¡¨è¾¾å¾ˆå¤æ‚çš„æ¨¡å¼. æœ‰äººç»™æ­£åˆ™è¡¨è¾¾å¼èµ·äº†ä¸ªåˆ«åå«\" å­—ç¬¦ä¸²æ¨¡æ¿ \", å…¶å®æ›´è´´åˆ‡... è¿˜æœ‰, åé¢æ€»æ˜¯ä¼šæåˆ°\"æŸä¸ªæ­£åˆ™è¡¨è¾¾å¼ exp åŒ¹é…(match)äº†æŸä¸ªå­—ç¬¦ä¸² str \", è¿™é‡Œè¯´ \"åŒ¹é…\" çš„æ„æ€å…¶å®æ˜¯ \"å­—ç¬¦ä¸²stræ»¡è¶³äº†æ­£åˆ™è¡¨è¾¾å¼expæè¿°çš„é‚£ç§æ¨¡å¼\" . å…³äºæ­£åˆ™è¡¨è¾¾å¼, è¿™ç¯‡åšå®¢ å¯ä»¥è¯´æ˜¯ç»å…¸ä¹‹ä½œ, æœç´¢\"æ­£åˆ™è¡¨è¾¾å¼\"è¿™ç¯‡æ–‡ç« å‡ ä¹éƒ½æ˜¯ç¬¬ä¸€ä¸ªè¢«æ‰¾åˆ°çš„. æ¯æ¬¡æˆ‘æœ‰é—®é¢˜éƒ½è¦å†ç¿»å‡ºæ¥çœ‹ä¸€ä¸‹è¿™ç¯‡, è®²çš„éå¸¸å¥½. å¦å¤–å¼ºçƒˆæ¨èä¸€ä¸ªéå¸¸èµçš„åœ¨çº¿æµ‹è¯•æ­£åˆ™è¡¨è¾¾å¼çš„ç½‘ç«™: http://regex101.com/ åšå¾—è¶…çº§æ£’(å…·ä½“æ€ä¹ˆæ£’è§åæ–‡). åŒ¹é…å•ä¸ªå­—ç¬¦ åŒ¹é…æŸä¸ª ç‰¹å®šçš„ å­—ç¬¦: åªéœ€è¦å†™å‡ºæ¥å°±å¥½äº†, ç±»ä¼¼äºè®°äº‹æœ¬çš„æŸ¥æ‰¾åŠŸèƒ½. ex. æŸ¥æ‰¾\"abc\"è¿™ä¸ªå­—ç¬¦ä¸², æ­£åˆ™è¡¨è¾¾å¼å°±æ˜¯: abc åŒ¹é… æŸä¸€ç±» å­—ç¬¦: æ¯”å¦‚åŒ¹é…æ•°å­—, åªéœ€è¦æŠŠå€™é€‰çš„å­—ç¬¦æ”¾è¿› ä¸­æ‹¬å· , è€Œä¸”å¯ä»¥ç”¨æ¨ªçº¿è¡¨ç¤ºä¸€ç³»åˆ—çš„å­—ç¬¦: ex. åŒ¹é…ä¸€ä¸ªæ•°å­—: [0-9] ex. åŒ¹é…å¤§å†™çš„ä¸€ä¸ªå­—æ¯: [A-Z] ex. åŒ¹é…ä¸€ä¸ªæ•°å­—æˆ–å­—æ¯(å¤§å°å†™éƒ½å¯ä»¥): [A-Za-z0-9] ex. åŒ¹é…ä¸€ä¸ªå…ƒéŸ³å­—æ¯(aeiouä¸­çš„ä¸€ä¸ª): [aeiou] åŒ¹é…æŸä¸€ç±»ä»¥å¤–çš„å­—ç¬¦: åœ¨è¿™ä¸€ç±»å­—ç¬¦å‰é¢åŠ ä¸Š &#94; , èµ·åˆ°çš„ä½œç”¨å°±æ˜¯å–è¿™äº›å­—ç¬¦çš„è¡¥é›†( \"åä¹‰\" ). ex. åŒ¹é…ä¸€ä¸ªä¸æ˜¯æ•°å­—çš„å­—ç¬¦: [&#94;0-9] ex. åŒ¹é…ä»»æ„ä¸€ä¸ªä¸æ˜¯å…ƒéŸ³å­—æ¯çš„å­—ç¬¦: [&#94;aeiou] ex. åŒ¹é…ä»¥bå¼€å¤´, ä»¥dç»“å°¾çš„ä¸‰ä¸ªå­—æ¯é•¿çš„å•è¯: b[a-z]d , \"bed\", \"bad\"éƒ½æ»¡è¶³è¿™ä¸ªæ¡ä»¶ åŒ¹é…æ­£åˆ™è¡¨è¾¾å¼ä¸­ç”¨åˆ°çš„çš„ç‰¹æ®Šå­—ç¬¦ æ¯”å¦‚è¦åŒ¹é…'&#94;'è¿™ä¸ªå­—ç¬¦, ç”±äºè¿™ä¸ªå­—ç¬¦æ˜¯æ­£åˆ™è¡¨è¾¾å¼é‡Œä½¿ç”¨çš„æœ‰ç‰¹æ®Šå«ä¹‰çš„å­—ç¬¦, éœ€è¦åœ¨å‰é¢åŠ  åæ–œæ è½¬ä¹‰ : \\&#94; ç±»ä¼¼çš„ç‰¹æ®Šå­—ç¬¦è¿˜æœ‰ä¸å°‘: & , . , * , ? , ( , ) , [ , ] ,...... åŒ¹é…ä»»æ„å­—ç¬¦ ç”¨çš„æœ€å¤šçš„æ˜¯è¿™ä¸€ä¸ª: åŒ¹é…é™¤äº†æ¢è¡Œç¬¦ä»¥å¤–çš„ä»»æ„å­—ç¬¦: . (åœ¨å¼€å¯\"å•è¡Œæ¨¡å¼\"çš„æ—¶å€™, å¯ä»¥è¿æ¢è¡Œç¬¦ä¸€èµ·åŒ¹é…, è§åæ–‡.) ç„¶å, åœ¨åæ–œæ åé¢åŠ æŸäº›å­—æ¯çš„æ—¶å€™æœ‰ç‰¹æ®Šå«ä¹‰( \"å…ƒå­—ç¬¦\" ): åŒ¹é…å­—æ¯æˆ–æ•°å­—æˆ–ä¸‹åˆ’çº¿æˆ–æ±‰å­—: \\w (ç”¨å‰é¢çš„ [A-Za-z0-9] ä¹‹ç±»çš„æ–¹æ³•ä¹Ÿå¯ä»¥åšåˆ°) åŒ¹é…ä»»æ„ç©ºç™½å­—ç¬¦(ç©ºæ ¼æˆ–TAB): \\s åŒ¹é…ä»»æ„æ•°å­—: \\d (ç”¨å‰é¢çš„ [0-9] ä¹Ÿå¯ä»¥åšåˆ°) æŠŠä¸Šé¢è¿™äº›åæ–œæ åŠ å°å†™å­—æ¯å˜æˆåæ–œæ åŠ  å¤§å†™å­—æ¯ çš„è¯, æˆäº†å–è¡¥é›†(ç±»ä¼¼å‰é¢é‚£ä¸ª &#94; çš„ä½œç”¨) åŒ¹é…ä»»æ„ä¸æ˜¯å­—æ¯ï¼Œæ•°å­—ï¼Œä¸‹åˆ’çº¿ï¼Œæ±‰å­—çš„å­—ç¬¦: \\W åŒ¹é…ä»»æ„ä¸æ˜¯ç©ºç™½ç¬¦çš„å­—ç¬¦: \\S åŒ¹é…ä»»æ„éæ•°å­—çš„å­—ç¬¦: \\D æ‰€ä»¥å¦‚æœè¦åŒ¹é…, åŒ…æ‹¬æ¢è¡Œç¬¦çš„è¯, åªéœ€è¦æŠŠ \\s \\S ä¸€èµ·ç”¨: åŒ¹é…æ‰€æœ‰å­—ç¬¦, åŒ…æ‹¬æ¢è¡Œç¬¦: [\\s\\S] http://bbs.csdn.net/topics/300041987 åŒ¹é…ä½ç½® æœ‰æ—¶å€™è¿˜è¦æŒ‡å®šæŸäº›ä½ç½®, æ¯”å¦‚è¯´: è¦åŒ¹é…ç½‘å€, ç½‘å€è¦ä»¥\"www.\"å¼€å¤´, æ‰€ä»¥å¦‚æœæœ‰ä¸ªç½‘å€æ˜¯: \"www.abcwww.com\" çš„è¯, æœ‰å¯èƒ½åŒ¹é…æˆäº†ä¸­é—´é‚£ä¸ª\"www.\", é‚£ä¹ˆå°±æœ‰é—®é¢˜äº†. æ‰€ä»¥è¦æŒ‡å®š\"www.\"è¦åœ¨ä¸€ä¸ªå­—ç¬¦çš„å¼€å¤´å‡ºç°, è€Œä¸èƒ½æ˜¯åœ¨ä¸­é—´(å‰é¢ä¸èƒ½æœ‰å­—ç¬¦). è¿™ç§æƒ…å†µä¸‹æˆ‘ä»¬å°±ä¸æ˜¯è¦åŒ¹é…æŸä¸ªå…·ä½“çš„å­—ç¬¦ä¸², è€Œæ˜¯ åŒ¹é…ä¸€ä¸ªä½ç½® . åŒ¹é…å•è¯çš„å¼€å§‹æˆ–ç»“æŸ( word boundary ): \\b è¿™å°±æ˜¯æˆ‘ä»¬å‰é¢è¯´çš„æƒ…å†µ, åªéœ€è¦åŠ ä¸Š\\b, å°±ä¸ä¼šåŒ¹é…åœ¨æŸä¸ªå•è¯ä¸­é—´å‡ºç°çš„\"www.\"äº†. ex. åŒ¹é…ç½‘å€å¼€å¤´çš„\"www.\": \\bwww\\. ä¾‹å­é“¾æ¥ â‡ å¯ä»¥æŠŠæœ€å¼€å§‹é‚£ä¸ª \\b å»æ‰, çœ‹çœ‹ç»“æœæœ‰ä»€ä¹ˆåŒºåˆ«. æ³¨æ„è¿™ä¸ª \\b å¯ä»¥æ˜¯å•è¯çš„å¼€å§‹, ä¹Ÿå¯ä»¥æ˜¯å•è¯çš„ç»“æŸ. è¿˜æ˜¯ç½‘å€çš„ä¾‹å­, å¦‚æœä¸€ä¸ªç½‘å€æ˜¯:\"www.abcwww.qwert.coming.com\"çš„è¯, æˆ‘ä»¬è¯´\"åŒ¹é…ä»¥.com\"ç»“å°¾çš„å­—ç¬¦ä¸², å°±æœ‰å¯èƒ½æ˜¯åŒ¹é…åˆ°äº† qwert.com ing, ä¹Ÿä¼šæœ‰é—®é¢˜, æ‰€ä»¥æˆ‘ä»¬åº”è¯¥åœ¨\"com\"åé¢åŠ ä¸Šä¸€ä¸ª \\b . ex. åŒ¹é…ç½‘å€ç»“æŸå¤„çš„\".com\": \\.com\\b ä¾‹å­é“¾æ¥ â‡ åŒç†å¯ä»¥çœ‹çœ‹å»æ‰ \\b ä»¥åæœ‰ä»€ä¹ˆä¸åŒ. ç„¶åè¿™ä¸ªå…ƒå­—ç¬¦ \\b å˜æˆå¤§å†™ä»¥åä¹Ÿæ˜¯åä¹‰, \\B åŒ¹é…æ‰€æœ‰ä¸æ˜¯å•è¯å¼€å¤´æˆ–ç»“æŸçš„ä½ç½®. åŒ¹é…æ•´ä¸ªå­—ç¬¦ä¸²çš„å¼€å¤´: &#94; æ³¨æ„æ˜¯æ•´ä¸ªå­—ç¬¦ä¸²çš„å¼€å¤´, è€Œä¸æ˜¯æŒ‡æ¯ä¸€è¡Œçš„å¼€å¤´! (ä½†æ˜¯åœ¨\"å¤šè¡Œæ¨¡å¼\"æ—¶å¯ä»¥ä»£è¡¨æ¯ä¸€è¡Œçš„å¼€å¤´, è§åé¢å† ä»¥æ­£åˆ™è¡¨è¾¾å¼é€‰é¡¹çš„è®¨è®º) åŒ¹é…å­—ç¬¦ä¸²çš„ç»“æŸ: $ åŒæ ·æ˜¯æŒ‡æ•´ä¸ªå­—ç¬¦ä¸²çš„ç»“æŸ. é‡å¤æ¬¡æ•° è¿™ä¸ªå’Œå‰é¢ä»‹ç»çš„åŒ¹é…å­—ç¬¦é…åˆèµ·æ¥(æŒ‡å®šè¦åŒ¹é…çš„å­—ç¬¦, å†æŒ‡å®šå­—ç¬¦é‡å¤çš„æ¬¡æ•°), å°±å¯ä»¥å®Œæˆå¤§éƒ¨åˆ†çš„å·¥ä½œäº†. å­—ç¬¦é‡å¤ (exactly)næ¬¡ åªéœ€è¦æŠŠæ•°å­—næ”¾è¿› å¤§æ‹¬å· é‡Œå°±å¯ä»¥äº†. ex. æ‰¾ä¸€ä¸ªå…­ä½çš„æ•°å­—, é‚£ä¹ˆå°±æ˜¯0-9çš„æ•°å­—é‡å¤6æ¬¡: [0-9]{6} é‡å¤ måˆ°næ¬¡ åªéœ€è¦åœ¨å¤§æ‹¬å·é‡ŒæŠŠmå’Œnç”¨é€—å·è¿›è¡Œåˆ†éš”. ex. æ‰¾ä¸€ä¸ª6åˆ°8ä½çš„æ•°å­—: [0-9]{6,8} ä½†æ˜¯è¦é‡å¤m æˆ– næ¬¡çš„è¯, æˆ‘æ²¡æœ‰æ‰¾åˆ°å¥½çš„å†™æ³•, å¯ä»¥ç”¨åé¢ä»‹ç»çš„åˆ†æ”¯æ¡ä»¶å®ç°, ä¸è¿‡æ¯”è¾ƒç¹ç... é‡å¤ å¤§äºç­‰äºnæ¬¡ (é‡å¤å°äºç­‰äºnæ¬¡ç­‰ä»·äº0åˆ°mæ¬¡) å¤§æ‹¬å·é‡Œé¢nåé¢åŠ ä¸€ä¸ªé€—å·: ex. æ‰¾6ä½ä»¥ä¸Šçš„æ•°å­—: [0-9]{6,} å¹³æ—¶ç”¨åˆ°çš„æ¯”è¾ƒå¤šçš„æ˜¯è¦æ±‚ \"é‡å¤å¤§äºç­‰äº1æ¬¡\" æˆ–è€… \"é‡å¤å¤§äºç­‰äº0æ¬¡\" , ç”±äºä¸Šé¢è¿™æ ·çš„å†™æ³•æœ‰çš„æ—¶å€™æ¯”è¾ƒç½—å—¦, æ‰€ä»¥æœ‰äº†ä¸‹é¢çš„ç®€å†™: é‡å¤ å¤§äºç­‰äº1æ¬¡ : + ç­‰ä»·äº {1,} ex. goo+gle , å¯ä»¥åŒ¹é…\"google\", \"gooogle\", \"goooogle\"ç­‰, å› ä¸ºç¬¬äºŒä¸ªoå¯ä»¥å‡ºç°å¤§äºç­‰äº1æ¬¡. (å½“ç„¶ä¸Šé¢è¿™ä¸ªä¾‹å­ä¹Ÿå¯ä»¥åœ¨å‰ååŠ ä¸Šå•è¯è¾¹ç•Œ \\b , ä»¥é˜²æ­¢åŒ¹é…åˆ°æŸä¸ªé•¿å•è¯çš„ä¸­é—´) é‡å¤ å¤§äºç­‰äº0æ¬¡ : * ç­‰ä»·äº {0,} ex. åŒ¹é…ä»¥aå¼€å¤´ä»¥tç»“å°¾çš„å•è¯: a[a-z]*t , \"at\", \"attachment\", \"act\"ç­‰éƒ½ç¬¦åˆæ¡ä»¶ é‡å¤ä¸€æ¬¡æˆ–0æ¬¡: ? ç­‰ä»·äº {0,1} ex. åŒ¹é…\"color\"æˆ–è€…\"colour\": colou?r è´ªå©ª(greedy)æ¨¡å¼/æ‡’æƒ°(lazy)æ¨¡å¼ å‰é¢ä»‹ç»çš„é‚£äº›æŒ‡å®šé‡å¤æ¬¡æ•°çš„éƒ¨åˆ†, ç”±äºæœ‰æ—¶æ˜¯æŒ‡å®šä¸€ä¸ªé‡å¤æ¬¡æ•°çš„èŒƒå›´, è€Œç»å¸¸åŒ¹é…åˆ°çš„é‡å¤çš„æ¬¡æ•°ä¹Ÿæ˜¯ä¸€ä¸ªèŒƒå›´, æ‰€ä»¥æœ‰\"è´ªå©ª\"å’Œ\"æ‡’æƒ°\"çš„åŒºåˆ«. å¥½åƒä¸Šä¸€å¥è¯æ²¡æœ‰è¯´æ¸…æ¥š... ä¸¾ä¸ªä¾‹å­, è¦åŒ¹é…å¤§äºå…­ä½çš„æ•°å­—, æˆ‘ä»¬çš„æ­£åˆ™è¡¨è¾¾å¼æ˜¯ [0-9]{6,} , æ„æ€æ˜¯è¦æœ‰å…­ä¸ªæˆ–æ›´å¤šçš„é‡å¤æ¬¡æ•°. é‚£ä¹ˆå¯¹äºä¸€ä¸ªå­—ç¬¦ä¸²: \"123456789\", ä¸€å…±æœ‰9ä½, å®ƒæ—¢å¯ä»¥çœ‹ä½œé‡å¤6æ¬¡(å–å‰6ä½), ä¹Ÿå¯ä»¥çœ‹ä½œé‡å¤7æ¬¡, 8æ¬¡, 9æ¬¡... é‚£ä¹ˆå²‚ä¸æ˜¯å«ä¹‰ä¸Šå‡ºç°æ­§ä¹‰(ambiguous)äº†?? è€Œå®é™…ä¸Š, æˆ‘ä»¬å†™çš„è¡¨è¾¾å¼ [0-9]{6,} åœ¨è¿™ä¸ªä¾‹å­é‡Œæœ€ç»ˆä¼šåŒ¹é…æ‰€æœ‰çš„9ä½, è¿™æ˜¯å› ä¸ºæˆ‘ä»¬å†™çš„è¿™ä¸ªè¡¨è¾¾å¼é»˜è®¤ä¸Šæ˜¯ è´ªå©ªæ¨¡å¼ çš„, æ„æ€æ˜¯åŒ¹é…é‡å¤>=6æ¬¡çš„çš„é‡å¤, ä½†æ˜¯ä¼š å°½å¯èƒ½å¤šé‡å¤ . ä¸ä¹‹ç›¸å, æ‡’æƒ°æ¨¡å¼ çš„æ„æ€æ˜¯ å°½å¯èƒ½å°‘é‡å¤ . æ­£åˆ™è¡¨è¾¾å¼é»˜è®¤æ˜¯è´ªå©ªæ¨¡å¼ , è¦å¼€å¯æ‡’æƒ°æ¨¡å¼åªéœ€è¦åœ¨é‡å¤æ¬¡æ•°çš„åé¢åŠ ä¸Šä¸€ä¸ªé—®å·\" ? \". +? : é‡å¤>=1æ¬¡, ä½†æ˜¯å°½é‡å°‘é‡å¤ *? : é‡å¤>=0æ¬¡, ä½†æ˜¯å°½é‡å°‘é‡å¤ ?? : é‡å¤0æˆ–1æ¬¡, ä½†æ˜¯å°½é‡å°‘é‡å¤ {n,}? : é‡å¤>=næ¬¡, ä½†æ˜¯å°½é‡å°‘é‡å¤ {m,n}? : é‡å¤måˆ°næ¬¡, ä½†æ˜¯å°½é‡å°‘é‡å¤ å†æ’ä¸€å¥, è¿™ä¸ª\"è´ªå©ªæ¨¡å¼çš„å¼€å¯æ ‡å¿—\" ? å’Œ\"é‡å¤æ¬¡æ•°çš„ç¬¦å·\" ? è™½ç„¶éƒ½æ˜¯é—®å·, ä½†æ˜¯ç”±äºæ”¾çš„ä½ç½®ä¸ä¸€æ ·, æ‰€ä»¥ä¸ä¼šé€ æˆæ­§ä¹‰, å› ä¸º\"é‡å¤æ¬¡æ•°çš„ç¬¦å·\"çš„é—®å·æ˜¯å‡ºç°åœ¨\"åŒ¹é…å­—ç¬¦\"(æ¯”å¦‚ \\w , [0-9] , . )çš„åé¢çš„, è€Œ\"è´ªå©ªæ¨¡å¼çš„å¼€å¯æ ‡å¿—\"çš„é—®å·æ˜¯å‡ºç°åœ¨\"é‡å¤æ¬¡æ•°\"(å¦‚ {m,n} , + , * )çš„åé¢çš„... åˆ†æ”¯æ¡ä»¶(alternative) æ„æ€å°±æ˜¯å¯ä»¥åŒ¹é…ä¸¤ç§æ¨¡å¼çš„ä»»æ„ä¸€ç§, çœ‹ä¾‹å­: ex1. ä¸­å›½çš„ç”µè¯å·ç æœ‰çš„åŸå¸‚æ˜¯ä¸‰ä½åŒºå·åŠ æ¨ªçº¿åŠ å…«ä½å·ç (æ¯”å¦‚\"021-54749110\" â‡ è¿™æ˜¯ä¸Šæµ·ä¸€æ‰€å­¦æ ¡çš„ä¿å«å¤„å·ç ), æœ‰çš„æ˜¯å››ä½åŒºå·åŠ æ¨ªçº¿åŠ ä¸ƒä½æˆ–å…«ä½å·ç çš„(æ¯”å¦‚\"0635-8238080\" â‡ è¿™æ˜¯å±±ä¸œä¸€æ‰€å¤§å­¦çš„ä¿å«å¤„, ä»¥åŠ\"0531-88881234\" â‡ è¿™æ˜¯å±±ä¸œå°å°ä¹ˆå“¥çš„å·ç ==...). è¦åŒ¹é…è¿™æ ·çš„å·ç , å¦‚æœè¿™æ ·å†™: \\d{3,4}-\\d{7,8} (åˆ«å¿˜äº† \\d ç­‰ä»·äº [0-9] ) é‚£ä¹ˆå…¶å®æ˜¯ä¸å¯¹çš„, å› ä¸ºæˆ‘ä»¬ä¸å…è®¸å‡ºç°3ä½åŒºå·åé¢è·Ÿ7ä½å·ç çš„æƒ…å†µå‡ºç°, æ‰€ä»¥è¿™é‡Œå…¶å®æ˜¯ä¸¤ç§æ¨¡å¼, æ‰€ä»¥æˆ‘ä»¬æ˜¯è¦ åŒ¹é…è¿™ä¸¤ç§æ¨¡å¼å…¶ä¸­çš„ä»»æ„ä¸€ç§ . è¿™ç§æƒ…å†µä¸‹, åªéœ€è¦æŠŠä¸¤ç§æƒ…å†µåˆ†åˆ«å†™å‡ºæ¥, ä¸­é—´ç”¨ | åˆ†å‰²å³å¯: \\d{3}-\\d{8}|\\d{4}-\\d{7,8} ä¸è¿‡çœ‹èµ·æ¥æœ‰ç‚¹ä¹±äº†... å¯ä»¥åŠ ä¸Šå°æ‹¬å·è¿™æ ·æ˜¾å¾—æ›´æ¸…æ¥šä¸€äº›: (\\d{3}-\\d{8})|(\\d{4}-\\d{7,8}) ä¸è¿‡å°æ‹¬å·åœ¨æ­£åˆ™è¡¨è¾¾å¼é‡Œé¢é™¤äº†è®©æ­£åˆ™è¡¨è¾¾å¼(ç¨å¾®)æ›´å®¹æ˜“è¯»ä»¥å¤–, è¿˜æœ‰ä¸€ä¸ªä½œç”¨æ˜¯åé¢æåˆ°çš„\"åˆ†ç»„\"æˆ–è€…\"æ•è·\", è¿™ä¸ªåé¢å†è¯´... ex2. å‰é¢è¯´åˆ°è¿‡æ€ä¹ˆåŒ¹é…é‡å¤m æˆ– næ¬¡çš„æ•°å­—, æˆ‘æ²¡æœ‰æ‰¾åˆ°æ›´æ–¹ä¾¿çš„æ–¹æ³•, åªå¥½ç”¨åˆ†æ”¯æ¡ä»¶å®ç°äº†: \\d{m}|\\d{n} ä½†æ˜¯è¦æ³¨æ„, è¿™ä¸ªæ—¶å€™ä¼šæœ‰å’Œå‰é¢è´ªå©ª/æ‡’æƒ°ç±»ä¼¼çš„é—®é¢˜: å¦‚æœä¸€ä¸²æ•°å­—æœ‰9ä½é•¿, æˆ‘è¦åŒ¹é…6ä½æˆ–9ä½çš„æ•°å­—, é‚£ä¹ˆåº”è¯¥åŒ¹é…åˆ°å“ªé‡Œå‘¢? å…¶å®è¿™ä¸ªæ—¶å€™å–å†³äºæˆ‘ä»¬æ˜¯å†™ \\d{9}|\\d{6} è¿˜æ˜¯ \\d{6}|\\d{9} , æ­£åˆ™è¡¨è¾¾å¼æœ‰ç±»ä¼¼äºç¼–ç¨‹è¯­è¨€é‡Œçš„\" æ¡ä»¶çŸ­è·¯ \"(shortcut)æ€§è´¨, ä¸€æ—¦ç¬¬ä¸€ä¸ªæ¨¡å¼æ»¡è¶³äº†, å°±ä¸ä¼šå»å¯»æ‰¾ç«–çº¿åé¢çš„ç¬¬äºŒä¸ªæ¨¡å¼äº†... å°æ‹¬å·: å¯¹ç»“æœè¿›è¡Œåˆ†ç»„(group), \"æ•è·\" å…ˆè¯´ä¸€å¥åˆ«çš„, å‰é¢ä»‹ç»é‡å¤æ¬¡æ•°çš„éƒ¨åˆ†, ä»‹ç»äº†æ€ä¹ˆæŒ‡å®šæŸä¸ªç±»å‹çš„ å•ä¸ªå­—ç¬¦ é‡å¤çš„æ¬¡æ•°, è¦æ˜¯æƒ³å¯»æ‰¾æŸä¸ªç‰¹å®šå­—ç¬¦ç»„åˆçš„é‡å¤æ¬¡æ•°è¯¥æ€ä¹ˆåŠå‘¢? åªéœ€è¦æŠŠè¦é‡å¤çš„éƒ¨åˆ†ç”¨å°æ‹¬å·æ‹¬èµ·æ¥, ç„¶ååé¢æŒ‡å®šé‡å¤çš„æ¬¡æ•°å°±å¯ä»¥äº†... ex. å¯»æ‰¾å¥½å‡ ä¸ª\"bla\"è¿ç€çš„å­—ç¬¦ä¸²: (bla)+ , è¿™æ ·\"blablabla\"ä¹‹ç±»çš„å­—ç¬¦ä¸²å°±å¯ä»¥è¢«åŒ¹é…äº†. æ‰€ä»¥å°æ‹¬å·çš„è¿™ç§ä½œç”¨ç±»ä¼¼äºå°æ‹¬å·åœ¨ä¸€èˆ¬ç¼–ç¨‹è¯­è¨€çš„ä½œç”¨, å°±æ˜¯æŠŠä¸€éƒ¨åˆ†å†…å®¹æ”¾åœ¨ä¸€èµ·. ä½†æ˜¯ä¸æ­¤åŒæ—¶, æ¯ä¸€ä¸ªå°æ‹¬å·å…¶å®è¿˜\" æ•è· \"äº†ä¸€ä¸ª\" åˆ†ç»„ \"(group). æ„æ€å°±æ˜¯åœ¨åŒ¹é…åˆ°çš„å­—ç¬¦ä¸²é‡Œ(å«åšä¸€ä¸ª\"match\"), æˆ‘ä»¬è¿˜å¯ä»¥å¾—åˆ°å®ƒçš„ä¸€ä¸ªå­å­—ç¬¦ä¸². è¿˜æ˜¯ä¸¾ç”µè¯å·ç çš„ä¾‹å­, å‰é¢çš„æ–¹æ³•æˆ‘ä»¬å¯ä»¥å¾—åˆ°ä¸€ä¸ªç±»ä¼¼\"021-54749110\"è¿™æ ·çš„åŒ¹é…ç»“æœ, ä½†æ˜¯å¦‚æœæˆ‘ä»¬æƒ³ æŠŠåŒºå·å’ŒåŒºå·åçš„å·ç åˆ†åˆ«ä¿å­˜ çš„è¯, è¿˜éœ€è¦å† åœ¨ç¨‹åºé‡Œ å¯¹è¿™ä¸ªå­—ç¬¦ä¸²åšä¸ªå¤„ç†: æ¯”å¦‚æŠŠå­—ç¬¦ä¸²çš„å‰ä¸‰ä¸ªæˆªå–å‡ºæ¥ä¿å­˜ä¸ºåŒºå·, æŠŠç¬¬äº”ä¸ªå­—ç¬¦åˆ°æœ€åçš„å­å­—ç¬¦ä¸²æˆªå–å‡ºæ¥ä¿å­˜ä¸ºå·ç ... è¿™æ ·ä¼šæœ‰é—®é¢˜, å› ä¸ºæˆ‘ä»¬ä¹Ÿå¯èƒ½å¾—åˆ°\"0531-8881234\"è¿™æ ·çš„ç»“æœ... äºæ˜¯æˆ‘ä»¬åªèƒ½å…ˆåœ¨å¾—åˆ°çš„å­—ç¬¦ä¸²é‡Œå¯»æ‰¾\"-\", ç„¶åå†ä»\"-å‡ºç°çš„ä½ç½®é‚£é‡ŒæŠŠå­—ç¬¦ä¸²æˆªæˆä¸¤æ®µ...... æ€»ä¹‹è¿™æ ·çš„è¯åœ¨ç¨‹åºé‡Œè¿˜è¦è¿›è¡Œå¾ˆéº»çƒ¦çš„åæœŸå¤„ç†, éå¸¸ä¸çˆ½(c'est trop lourd!)...... å¹¸å¥½æˆ‘ä»¬å¯ä»¥ä½¿ç”¨æ­£åˆ™è¡¨è¾¾å¼çš„åˆ†ç»„åŠŸèƒ½, åœ¨å¾—åˆ°ç»“æœçš„å­—ç¬¦ä¸²çš„åŒæ—¶, è¿˜åœ¨ä¸åŒçš„åˆ†ç»„é‡Œæ”¾äº†å¯¹åº”çš„çš„å­å­—ç¬¦ä¸², è¿™æ ·åœ¨ç¨‹åºé‡Œåªè¦å¾—åˆ°æ¯ä¸€ä¸ªåˆ†ç»„å°±å¯ä»¥äº† . è€Œç»™å­—ç¬¦ä¸²åˆ†ç»„çš„æ–¹æ³•ä¹Ÿå¾ˆç®€å•, å°±æ˜¯ç®€å•çš„ ç»™è¦åˆ†ç»„çš„åœ°æ–¹åŠ ä¸Šå°æ‹¬å·æ‹¬èµ·æ¥å°±å¥½äº† . (å½“ç„¶, å¯èƒ½ä½ åªæ˜¯ä¸ºäº†çœ‹å¾—æ¸…æ¥šæ‰ç»™è¡¨è¾¾å¼åŠ å°æ‹¬å·, ä½†æ˜¯åœ¨æ­£åˆ™è¡¨è¾¾å¼åŒ¹é…å­—ç¬¦ä¸²çš„æ—¶å€™ä¹Ÿä¼šå¸®ä½ æŠŠå®ƒæ•è·åˆ°ä¸€ä¸ªåˆ†ç»„é‡Œ.) æ‰€ä»¥æ²¡åŠ ä¸€å¯¹å°æ‹¬å·å°±ä¼šåœ¨ç»“æœä¸­å¢åŠ ä¸€ä¸ªåˆ†ç»„, åˆ†ç»„çš„é¡ºåºæ˜¯æŒ‰ç…§å°æ‹¬å·å‡ºç°çš„é¡ºåºæ’åˆ—çš„. æ‰€ä»¥åœ¨ç”µè¯å·ç è¿™ä¸ªä¾‹å­é‡Œ, æˆ‘ä»¬å¯ä»¥å†™: (\\d{3})-(\\d{8})|(\\d{4})-(\\d{7,8}) ä¾‹å­é“¾æ¥ æˆ‘å–œæ¬¢reg101è¿™ä¸ªç½‘ç«™çš„åŸå› å°±æ˜¯å®ƒå¯ä»¥æ˜¾ç¤ºéå¸¸ä¸°å¯Œçš„ä¿¡æ¯. åœ¨ç½‘ç«™çš„å³ä¸Šè§’,æœ‰å…³äºè¡¨è¾¾å¼çš„è§£é‡Š: åœ¨å³ä¸‹è§’ä¼šæ˜¾ç¤ºæ•è·åˆ°çš„åˆ†ç»„(groups): (è¿™é‡Œçš„åˆ†ç»„ç¼–å·å¯èƒ½æœ‰ç‚¹é—®é¢˜, åä¸¤ä¸ªåˆ†ç»„çš„ç¼–å·åº”è¯¥æ˜¯1å’Œ2çš„... è¿™æ˜¯ç”±äºæˆ‘ä»¬ä½¿ç”¨äº†åˆ†æ”¯æ¡ä»¶é€ æˆçš„, ä¸çŸ¥æ˜¯bugè¿˜æ˜¯feature...) ç„¶åå…³äºæ€ä¹ˆåœ¨ç¨‹åºé‡Œè·å¾—æ­£åˆ™è¡¨è¾¾å¼çš„åˆ†ç»„, å¯ä»¥å»çœ‹æ¯ä¸€ç§ç¼–ç¨‹è¯­è¨€çš„ç›¸å…³æ–‡æ¡£...... æ­£åˆ™è¡¨è¾¾å¼é€‰é¡¹(\"æ¨¡å¼\") ä½¿ç”¨æ­£åˆ™è¡¨è¾¾å¼çš„æ—¶å€™, è¿˜å¯ä»¥æŒ‡å®šä¸€äº›\"æ¨¡å¼\"é€‰é¡¹, æ¯”å¦‚åœ¨reg101ç½‘ç«™ä¸Š, è¡¨è¾¾å¼å³è¾¹æœ‰ä¸€ä¸ªé€‰é¡¹çª—å£: å½“å¼€å¯æŸäº›\"æ¨¡å¼\"çš„æ—¶å€™, æ­£åˆ™è¡¨è¾¾å¼çš„åŒ¹é…è¡Œä¸ºç¨æœ‰ä¸åŒ. å…¶å®ä¸Šé¢çš„æˆªå›¾å·²ç»è®²çš„å¾ˆæ¸…æ¥šäº†, ä¸‹é¢æ¡æ¯”è¾ƒå¸¸ç”¨çš„è¯´ä¸€ä¸‹: å…¨å±€æ¨¡å¼global, \"g\": å°±æ˜¯ä¸æ­¢åŒ¹é…ç¬¬ä¸€ä¸ª, è€Œæ˜¯æŠŠæ‰€æœ‰çš„åŒ¹é…éƒ½æ˜¾ç¤ºå‡ºæ¥. æ‰©å±•æ¨¡å¼(æˆ–è€…\"æ³¨é‡Šæ¨¡å¼\")extended, \"x\": ä½¿ç”¨åæ­£åˆ™è¡¨è¾¾å¼ä¹Ÿå¯ä»¥æ¢è¡Œ, å¯ä»¥éšä¾¿åŠ ç©ºæ ¼(å°†è¢«å¿½ç•¥), ä¹Ÿå¯ä»¥ä½¿ç”¨æ³¨é‡Š(ä½¿ç”¨ # å¼€å§‹æ³¨é‡Š) è¿™ä¸ªæ˜¯æˆ‘ç»å¸¸ç”¨çš„é€‰é¡¹, æœ‰æ—¶å€™è¡¨è¾¾å¼å†™çš„å¾ˆé•¿å¾ˆä¹±, å¦‚æœä¸èƒ½æ¢è¡Œæˆ–è€…åŠ æ³¨é‡Šçš„è¯, ä¸‹æ¬¡çœ‹å¾—æ—¶å€™å°±ä¸çŸ¥é“æ˜¯æ€ä¹ˆå›äº‹äº†... æ¯”å¦‚åˆšæ‰é‚£ä¸ªç”µè¯çš„ä¾‹å­, æˆ‘ä»¬åœ¨å¼€å¯äº†æ‰©å±•æ¨¡å¼ä»¥å, å¯ä»¥å†™æˆè¿™æ ·: (\\d{3}) - (\\d{8}) #region code, -, phone number | #alternative (\\d{4}) - (\\d{7,8})#region code, -, phone number ä¾‹å­é“¾æ¥ å¤šè¡Œæ¨¡å¼multiline, \"m\": å‰é¢\"åŒ¹é…ä½ç½®\"é‚£ä¸€èŠ‚æåˆ°äº†, å°±æ˜¯æ”¹å˜ &#94; å’Œ $ çš„æ„æ€, ä¸è®©å®ƒä»¬åŒ¹é…æ•´ä¸ªå­—ç¬¦ä¸²çš„å¼€å§‹å’Œç»“æŸ, è€Œæ˜¯æ¯ä¸€è¡Œçš„å¼€å§‹å’Œç»“æŸ. å•è¡Œæ¨¡å¼singleline, \"s\": å‰é¢ä¹Ÿæåˆ°äº†, ä½œç”¨æ˜¯è®© . ä¹ŸåŒ¹é…æ¢è¡Œç¬¦... (æ‰€ä»¥å¯è§, å•è¡Œæ¨¡å¼å’Œå¤šè¡Œæ¨¡å¼æ ¹æœ¬ä¸æ˜¯ç›¸äº’æ’æ–¥çš„å…³ç³» ....... è¿™åå­—èµ·çš„ä¸å¥½...) å…³äºæ€ä¹ˆå¼€å¯è¿™äº›é€‰é¡¹, è¿˜æ˜¯è¦çœ‹ä¸åŒè¯­è¨€çš„æ–‡æ¡£... æ¯”å¦‚åœ¨pythoné‡Œ, åªè¦åœ¨ re.compile() å‡½æ•°ä½¿ç”¨åŠ å…¥ re.X ç­‰å‚æ•°, è§ æ–‡æ¡£ ... å…¶ä»–å†…å®¹ è¿™é‡Œæˆ‘åªå†™äº†æˆ‘ç”¨åˆ°çš„ä¸€äº›ä¸œè¥¿, å…³äºæ­£åˆ™è¡¨è¾¾å¼è¿˜æœ‰å¾ˆå¤šæ²¡æœ‰æåˆ°çš„å†…å®¹(æ‰€è°“çš„\"é«˜çº§è®®é¢˜\"?), æ¯”å¦‚\"é›¶å®½æ–­è¨€\"ä»¥åŠ\"å¹³è¡¡ç»„\"ç­‰å†…å®¹, è¿™äº›éƒ½åœ¨deerchaoçš„é‚£ç¯‡ ç»å…¸åšå®¢ é‡Œæåˆ°äº†... å®é™…ä¾‹å­ ä¾‹å­1 è¦åˆ†æå¾ˆé•¿çš„æ–‡æœ¬, æ–‡æœ¬çš„ä¸€éƒ¨åˆ†åŒ…å«äº†ä¸€è¶Ÿèˆªç­çš„ä¿¡æ¯, æ¯”å¦‚å‡ºå‘å’Œåˆ°è¾¾çš„æ—¶é—´, å‡ºå‘å’Œåˆ°è¾¾çš„æœºåœº, ä»¥åŠèˆªç­å·ç­‰... è¿™äº›ä¿¡æ¯ä¸­é—´éƒ½åŒ…å«åœ¨ä¸€é•¿ä¸²å­—ç¬¦ä¸­é—´. æˆ‘ä»¬ç”¨æ­£åˆ™è¡¨è¾¾å¼å¤„ç†, å¹¶ä¸”æŠŠä¸åŒçš„ä¿¡æ¯æ”¾åœ¨ä¸åŒçš„åˆ†ç»„é‡Œ, è¿™æ ·å°±æ–¹ä¾¿äº†ç¨‹åºçš„å¤„ç†. è¿™é‡Œ æ˜¯æˆ‘å†™çš„æ­£åˆ™è¡¨è¾¾å¼. ä¾‹å­2 å†ä¸¾ä¸ªä¾‹å­, æˆ‘æƒ³è¦ç°åœ¨ è¿™ä¸ªé¡µé¢ çš„æ‰€æœ‰çš„ä¸œè¥¿, å¯æ˜¯ç”¨é¼ æ ‡ä¸€ä¸ªä¸€ä¸ªç‚¹å‡»å®åœ¨æ˜¯å¤ªéº»çƒ¦äº†, æ‰€ä»¥å¯ä»¥å†™ä¸€ä¸ªç¨‹åºæŠŠè¿™äº›é“¾æ¥éƒ½æå–å‡ºæ¥, ç„¶åè‡ªåŠ¨è¿›è¡Œä¸‹è½½. æ‰€ä»¥éœ€è¦åˆ†æè¿™ä¸ªé¡µé¢çš„htmlæ–‡ä»¶, å³é”® â†’ æ˜¾ç¤ºç½‘é¡µæºä»£ç å°±å¯ä»¥çœ‹åˆ°äº†, è™½ç„¶æˆ‘ä¸æ‡‚htmlçš„è¯­æ³•, ä½†æ˜¯å¯ä»¥å‘ç°, ä¸‹è½½çš„é“¾æ¥éƒ½æ˜¯è¿™æ ·çš„ç‰‡æ®µ: en å°±æ˜¯è¯´åœ¨ class=\"download_link\" ä¹‹å, href= åé¢çš„ç”¨å¼•å·å¼•èµ·æ¥çš„å†…å®¹å°±æ˜¯æˆ‘ä»¬æƒ³è¦çš„ä¸‹è½½é“¾æ¥äº†, äºæ˜¯å¯ä»¥å¾ˆå¿«ç”¨æ­£åˆ™è¡¨è¾¾å¼æ¥æå–å®ƒ, æˆ‘å†™çš„è¡¨è¾¾å¼è§ è¿™é‡Œ .","tags":"tech","title":"æ­£åˆ™è¡¨è¾¾å¼å…¥é—¨ç®€ä»‹"},{"url":"https://x-wei.github.io/soft/puttyä½¿ç”¨å¤‡å¿˜.html","text":"æœ€è¿‘è¦ç”¨SSHè¿æ¥æœåŠ¡å™¨, Windowsä¸‹é¢å½“ç„¶å°±æ˜¯ç”¨puttyäº†, é‡åˆ°çš„é—®é¢˜æ€»ç»“ä¸€ä¸‹. ä¿å­˜session æ‰“å¼€putty.exeä»¥å, è¾“å…¥æœåŠ¡å™¨ip, ä¹‹åå…ˆåˆ«ç‚¹å‡»ç™»å½•, å…ˆä¿å­˜ä¸€ä¸‹sessionä¸‹ä¸€æ¬¡å°±ä¸ç”¨å†è¾“å…¥äº†: ä¹‹åç‚¹å‡»ç™»å½•å°±å¥½äº†. æœ¬åœ°å’ŒæœåŠ¡å™¨ä¹‹é—´ä¼ è¾“æ–‡ä»¶ ä¼ è¾“çš„æ—¶å€™è²Œä¼¼ä¸èƒ½ç”¨linuxé‡Œçš„scpå‘½ä»¤, è€Œéœ€è¦ä½¿ç”¨å¦ä¸€ä¸ªputtyçš„å·¥å…·: psftp ä¸‹è½½çš„æ—¶å€™é‚£ä¸ªputty.zipå‹ç¼©åŒ…é‡Œæœ‰ä¸€ä¸ª psftp.exe , ç‚¹å‡»å®ƒå°±æ‰“å¼€äº†. psftpä¹Ÿæ˜¯ä¸€ä¸ªå‘½ä»¤è¡Œçš„å·¥å…·, å’Œsshç±»ä¼¼, ç”¨ pwd/ls/cd ç­‰åœ¨ æœåŠ¡å™¨çš„ æ–‡ä»¶ç³»ç»Ÿé‡Œè¿›è¡Œç§»åŠ¨. è€Œåœ¨ æœ¬åœ°çš„ æ–‡ä»¶ç³»ç»Ÿé‡Œç§»åŠ¨çš„è¯, ç”¨ lpwd/lcd/lls. ç§»åŠ¨åˆ°äº†æƒ³è¦ä¼ è¾“æ–‡ä»¶çš„ç›®å½•ä»¥å(æœ¬åœ°å’ŒæœåŠ¡å™¨éƒ½ç§»åŠ¨å¥½äº†ä»¥å), ä½¿ç”¨ put filename ä¸Šä¼ æœ¬åœ°æ–‡ä»¶åˆ°æœåŠ¡å™¨, ä½¿ç”¨ get filename ä¸‹è½½æœåŠ¡å™¨æ–‡ä»¶åˆ°æœ¬åœ°. http://www.lellansin.com/putty%E4%B8%8A%E4%BC%A0%E6%96%87%E4%BB%B6.html ç„¶åè¿™ä¸ªputå’Œgetçš„å‘½ä»¤åœ¨æ–‡ä»¶ä¼ è¾“æ¯”è¾ƒæ…¢çš„æ—¶å€™ä¹Ÿæ²¡æœ‰ä»€ä¹ˆè¿›åº¦æç¤º, ä¸è¿‡å¯ä»¥å†å¼€ä¸€ä¸ªputtyç™»å½•è¿›æœåŠ¡å™¨, ç„¶åç”¨ ls -lh çœ‹çœ‹å·²ç»ä¼ è¾“äº†å¤šå°‘äº†...","tags":"soft","title":"puttyä½¿ç”¨å¤‡å¿˜"},{"url":"https://x-wei.github.io/tech/IPythonä¸Šæ‰‹å­¦ä¹ ç¬”è®°.html","text":"Learning IPython for Interactive Computing and Data Visualization è¿™æœ¬ä¹¦çš„å‰ä¸¤ç« çš„ç¬”è®°, è¿™æœ¬ä¹¦è¿˜è¢«æ”¾åœ¨äº†IPythonå®˜ç½‘ä¸Š, è™½ç„¶åªæœ‰ä¸€ç™¾é¡µå¤šä¸€ç‚¹ç‚¹, ä½†æ˜¯è®²çš„å†…å®¹å´å¾ˆä¸°å¯Œ, ä»‹ç»äº†IPython, numpy, pandasä»¥åŠå¹¶è¡Œè®¡ç®—ç­‰æ–¹é¢. (åœ¨å¼€å§‹ç³»ç»Ÿå­¦IPythonä¹‹å‰ç®€å•ä½¿ç”¨è¿‡IPython, é‚£æ—¶å€™æˆ‘è¿˜æ˜¯æ›´å–œæ¬¢bpythonçš„ä»£ç æç¤ºåŠŸèƒ½...) ch1: 10 IPython essentials åœ¨ä»»ä½•å˜é‡åé¢åŠ é—®å· ? æˆ–è€…åŒé—®å· ?? , å°†ä¼šè¾“å‡ºè¯¦ç»†çš„ä¿¡æ¯(æŒ‰ q é€€å‡º), ?? çš„ä¿¡æ¯æ›´åŠ è¯¦ç»†äº› Tab Completion: æ²¡å•¥å¥½è¯´çš„ æ²¡æœ‰bpythonåšçš„å¥½ ä¹Ÿå‡‘åˆå§... _, __, ___ ä¿å­˜æœ€è¿‘ä¸‰æ¬¡çš„è¾“å‡º; _i, __i, ___i ä¿å­˜æœ€è¿‘ä¸‰æ¬¡çš„è¾“å…¥(ä½œä¸ºå­—ç¬¦ä¸²ä¿å­˜) magic commands åœ¨IPythoné‡Œé¢å¯ä»¥ä½¿ç”¨ä¸€äº›æ ‡å‡†unixå‘½ä»¤, æ¯”å¦‚ cd , pwd,ls ç­‰... è¿™ä¸ªå¤ªå¥½äº† å¦åˆ™è¿˜è¦ import os , ç„¶åå†ä»€ä¹ˆ os.chdir('...') å…¶å®è¿™äº›unixå‘½ä»¤æ˜¯IPythonçš„ magic commands , è¿™äº›magic commandsä¸€èˆ¬ç”¨ % ä½œä¸ºå‰ç¼€. ä½†æ˜¯ç”±äºé»˜è®¤IPythonå¼€å¯äº† automagic system , ä¸Šé¢é‚£äº›å‘½ä»¤å¯ä»¥ä¸ç”¨åŠ å‰ç¼€äº†(æˆ–è€…ä½¿ç”¨Tabè‡ªåŠ¨ç»™åŠ ä¸Šå‰ç¼€) %run å‘½ä»¤, è¿è¡Œä¸€ä¸ª.pyè„šæœ¬, ä½†æ˜¯å¥½å¤„æ˜¯, ä¸è¿è¡Œå®Œäº†ä»¥åè¿™ä¸ª.pyæ–‡ä»¶é‡Œçš„å˜é‡éƒ½å¯ä»¥åœ¨Ipythoné‡Œç»§ç»­è®¿é—® %timeit å‘½ä»¤, å¯ä»¥ç”¨æ¥åšåŸºå‡†æµ‹è¯•( benchmarking ), æµ‹è¯•ä¸€ä¸ªå‘½ä»¤(æˆ–è€…ä¸€ä¸ªå‡½æ•°)çš„è¿è¡Œæ—¶é—´ ex. %timeit [ x * x for x in range ( 1000 )] 10000 loops , best of 3 : 56.5 Âµ s per loop %timeit [ x * x for x in xrange ( 1000 )] 10000 loops , best of 3 : 51.7 Âµ s per loop %debug å‘½ä»¤: å½“æœ‰exceptionçš„æ—¶å€™, åœ¨consoleé‡Œè¾“å…¥ %debug å³å¯æ‰“å¼€debugger. åœ¨debuggeré‡Œ, è¾“å…¥ u,d (up, down)æŸ¥çœ‹stack, è¾“å…¥ q é€€å‡ºdebugger %debug > < ipython - input - 34 - 17 c374156862 > ( 2 ) < module > () 1 if 1 < 2 : ----> 2 raise Exception 3 ipdb > u *** Oldest frame ipdb > d *** Newest frame ipdb > q ä½¿ç”¨%pdbå¼€å¯è‡ªåŠ¨pdbæ¨¡å¼ %pdb Automatic pdb calling has been turned ON %pylab å‘½ä»¤, å¤§æ€å™¨, çœ‹ä¸€ä¸‹éƒ½importäº†ä»€ä¹ˆ: %pylab makes the following imports:: import numpy import matplotlib from matplotlib import pylab, mlab, pyplot np = numpy plt = pyplot from IPython.display import display from IPython.core.pylabtools import figsize, getfigs from pylab import * from numpy import * ç”»å›¾çš„æ—¶å€™å¯ä»¥ä¸ç”¨éè¦åŠ  plt. å‰ç¼€äº†, ç›´æ¥ plot() å³å¯. å›¾åƒåŒ–å‡ºæ¥çš„æ—¶å€™, ç”»å›¾çª—å£å¹¶æ²¡æœ‰block, å¯ä»¥åŠ¨æ€( interactively )ç”»å›¾. å¦å¤–, qtconsoleå’Œnotebookä¸€æ ·, æŒ‡å®šäº† inline é€‰é¡¹ä»¥åå¯ä»¥ç›´æ¥åœ¨çª—å£é‡Œç”»å›¾: åæ¥å‘ç°inlineçš„å›¾ç‰‡è²Œä¼¼ä¸èƒ½æ”¾å¤§çœ‹, æ‰€ä»¥æœ‰æ—¶å€™è¿˜æ˜¯å•ç‹¬ä¸€ä¸ªçª—å£æ¯”è¾ƒå¥½, æ¢åˆ°éinlineæ¨¡å¼åªéœ€è¦å†è¾“å…¥ä»¥ä¸‹%pylab, åŠ ä¸Šé€‰é¡¹qt: %pylab qt IPython Notebook (é‡å¤´æˆ) è¿™ä¸ªå¯ä»¥åœ¨æµè§ˆå™¨é‡Œ(!!)ä½¿ç”¨IPython, å¹¶ä¸”å¯ä»¥ä½¿ç”¨å¤šè¡Œç¼–è¾‘åå†ä¸€å¹¶æ‰§è¡Œ. The Notebook brings the functionality of IPython into the browser for multiline textediting features, interactive session reproducibility, and so on. åœ¨shell/cmdçª—å£é‡Œå¯åŠ¨ipythonçš„æ—¶å€™åŠ ä¸Šnotebook: $ipython notebook çœ‹åˆ°æµè§ˆå™¨æ‰“å¼€äº†, å¾ˆç¥å¥‡: æ–°å»ºä¸€ä¸ªnotebook, ç”¨ç”¨çœ‹: ä½¿ç”¨çš„è¿‡ç¨‹ä¸­æ¸æ¸ç†è§£äº†ä¸ºä»€ä¹ˆä¹¦é‡Œè¯´å¯ä»¥ç”¨æ¥åš\" multiline textediting features, interactive session reproducibility \"... å› ä¸ºè¿™ä¸åªæ˜¯ä¸ªç¼–ç¨‹çš„ä¸œè¥¿, è¿˜å¯ä»¥ä½œä¸ºä¸€ä¸ªç¬”è®°æœ¬ â€” è€Œä¸”æ˜¯ä¸€ä¸ªäº¤äº’å¼çš„ç¬”è®°æœ¬! ( æ³¨: æ›´å¤šå…³äºnotebookçš„ä»‹ç»åœ¨ä¸‹é¢ç¬¬äºŒç« çš„å†…å®¹é‡Œ. ) ä»£ç ,æˆ–è€…æ®µè½, æŒ‰ç…§cell(æ ¼å­)è¿›è¡Œç»„ç»‡, ä¸€ä¸ªcellé‡Œé¢çš„å†…å®¹å¯ä»¥æ˜¯code, ä½†æ˜¯ä¹ŸåŒæ ·å¯ä»¥æ˜¯markdownçš„æ®µè½, æˆ–è€…æ˜¯ä¸€ä¸ªæ ‡é¢˜(heading). åœ¨ä¸€ä¸ªä»£ç çš„cellé‡Œ, å†™å…¥å¤šè¡Œä»£ç , å°±åƒåœ¨ç¼–è¾‘å™¨é‡Œå†™pythonç¨‹åºä¸€æ ·, æŒ‰å›è½¦åªä¼šæ¢è¡Œ, ä¸ä¼šè¿è¡Œç¨‹åº. å†™äº†ä¸€æ®µç¨‹åºä»£ç ä»¥å, æŒ‰ ctrl+Enter è¿è¡Œç¨‹åº, è¿è¡Œç»“æœä¹Ÿæ˜¯ä¸€ä¸ªä½œä¸ºcell. ( æ³¨ : åœ¨qtconsoleé‡Œé¢ç›¸å, å¦‚æœè¦è¾“å…¥å¤šè¡Œç¨‹åºçš„è¯, æŒ‰ Ctrl+Enter æ¢è¡Œ(æŒ‰ä¸€ä¸€æ¬¡ctrl+enterå³å¯è¿›å…¥å¤šè¡Œç¼–è¾‘æ¨¡å¼), å†™äº†å‡ è¡Œä»£ç ä»¥åè¦è¿è¡Œçš„è¯, å°±æŒ‰ä¸¤æ¬¡å›è½¦, æˆ–è€…æŒ‰ Shift+Enter ) ...è¿˜æœ‰å¥½å¤šå¿«æ·é”®, æŒ‰Escä»¥åå†æŒ‰hå°±å¯ä»¥çœ‹åˆ°... è¿™ä¸ªè¿˜åˆ†ç¼–è¾‘æ¨¡å¼å’Œå‘½ä»¤æ¨¡å¼å‘¢... çœŸä¸èƒ½å°çœ‹äº†IPythonäº†! customizing IPython ä¿å­˜è‡ªå·±çš„IPythoné…ç½®æ–‡ä»¶, åªéœ€è¦åœ¨shell/cmdé‡Œè¾“å…¥ipython profile create , é…ç½®æ–‡ä»¶å­˜å‚¨åœ¨ ~.ipython æˆ–è€… ~/.config/ipython ç›®å½•é‡Œ. ch2: Interavtive Work with IPython IPythonå¯ä»¥å®ç° shell(OS)å’Œpythonçš„äº¤äº’ . è¿™æ ·åšä¸€äº›unix shellçš„æ“ä½œçš„æ—¶å€™å¯ä»¥ä¸å¿…é€€å‡ºconsoleäº†. navigating the file system ä¾‹å­: å®Œæˆä¸‹è½½å‹ç¼©åŒ…, è§£å‹ç¼©, ä»¥åŠæ‰“å¼€è§£å‹åçš„æ–‡ä»¶è¿™äº›æ“ä½œ... åœ¨pyå˜é‡å‰é¢åŠ å…¥$, å¯ä»¥æŠŠè¿™ä¸ªå˜é‡å…±äº«ç»™OSæˆ–è€…magic command: folder = ' data ' %mkdir $folder è¿™æ ·å°±åœ¨å½“å‰ç›®å½•ä¸‹å»ºç«‹ä¸€ä¸ª'data'æ–‡ä»¶å¤¹ â€” è¿™å¯æ¯”pyçš„å‘½ä»¤å¥½è®°å¤šäº†å•Š... %mkdir çš„åŸç†å…¶å®æ˜¯ç»™äº†shellå‘½ä»¤ä¸€ä¸ªåˆ«å( alias ). ç„¶å, %bookmark å¯ä»¥æŠŠå½“å‰çš„ç›®å½•åŠ å…¥æ”¶è—å¤¹ ä¸‹æ¬¡cdçš„æ—¶å€™æ–¹ä¾¿ç›´æ¥è·³åˆ°è¿™é‡Œæ¥: ex. %bookmark bm é‚£ä¹ˆä»¥åå¯ä»¥ç›´æ¥ç”¨ cd bm è·³åˆ°è¿™ä¸ªç›®å½•ä¸‹. %bookmark -l å¯ä»¥åˆ—å‡ºæ”¶è—å¤¹çš„ç›®å½•å†…å®¹. ç„¶åå‘ç°åŸæ¥IPythonè¿æ–‡ä»¶åéƒ½æ˜¯å¯ä»¥æç¤ºçš„å•Š!... with open('0<TAB> 0.circles 0.edges Accessing system shell with IPython åœ¨IPythoné‡Œè°ƒç”¨ç³»ç»Ÿçš„å‘½ä»¤, ä¸ç”¨å†ä½¿ç”¨ sys.exec('...') ä¹‹ç±»å†—é•¿çš„æ–¹å¼äº†, åªéœ€è¦åœ¨ç³»ç»Ÿçš„å‘½ä»¤å‰é¢åŠ ä¸Šä¸€ä¸ªæ„Ÿå¹å· ! å³å¯... shellè¿”å›çš„ç»“æœå¯ä»¥ä½œä¸ºä¸€ä¸ªstringçš„åˆ—è¡¨ä¿å­˜åœ¨ä¸€ä¸ªpython variableé‡Œ. ex. In [2]: files = !ls -1 -S | grep edges In [3]: files Out[3]: ['1912.edges', '107.edges', [...] '3980.edges'] (å½“ç„¶ ä¸Šé¢è¿™ä¸€è¡Œåªèƒ½åœ¨unixç³»ç»Ÿä¸‹è¿è¡Œ, å› ä¸ºWindowsçš„cmdæ²¡æœ‰ls å’Œ grepå‘½ä»¤) è¿˜å¯ä»¥æŠŠä¸€æ¡æ¯”è¾ƒé•¿çš„å‘½ä»¤ä½œä¸ºaliasä¿å­˜èµ·æ¥, ç”¨ %alias å‘½ä»¤... (è¿™ä¸ªåº”è¯¥ä¸€èˆ¬ç”¨ä¸åˆ°) %alias largest ls -1sSh | grep %s The Extended Python Console %history æˆ–è€… %hist , æ˜¾ç¤ºä¹‹å‰çš„è®°å½•, æœ‰ä¸€äº›å‚æ•°å¯ç”¨... %store æŠŠpythonå˜é‡çš„å†…å®¹ä¿å­˜ä¸‹æ¥, ä»¥åçš„sessionå¯ä»¥ç”¨ %paste å¯¼å…¥å¹¶æ‰§è¡Œå‰ªè´´æ¿é‡Œé¢çš„å†…å®¹ %run ä¹‹å‰è®²è¿‡äº†, è¿è¡Œpyæ–‡ä»¶, è¿è¡Œåpyæ–‡ä»¶é‡Œçš„å˜é‡å¯ä»¥åœ¨consoleé‡Œè®¿é—® %edit æ‰“å¼€ç³»ç»Ÿçš„æ–‡ä»¶ç¼–è¾‘å™¨, å¹¶ä¸”åœ¨å…³é—­è¿™ä¸ªç¼–è¾‘å™¨æ—¶è‡ªåŠ¨è¿è¡Œç¨‹åº ä»‹ç»äº†ä¸€ä¸ªåŒ… networkx, å¯ä»¥ç”¨æ¥åˆ†æå¤æ‚ç½‘ç»œ(graph)çš„.... debug debugåŠ å…¥æ–­ç‚¹: %run -d -b29 script.py è¿è¡Œscript.py å¹¶ä¸”åœ¨29è¡Œçš„æ—¶å€™æš‚åœ, å½“è¾“å…¥ c çš„æ—¶å€™å†ç»§ç»­è¿è¡Œ. ä¸€äº›pdb(debuggingç¯å¢ƒ)é‡Œå¸¸ç”¨çš„å‘½ä»¤: u/d for going up/down into the call stack s to step into the next statement n to continue execution until the next line in the current function r to continue execution until the current function returns c to continue execution until the next breakpoint or exception p to evaluate and print any expression a to obtain the arguments of the current functions The ! prefix to execute any Python command within the debugger benchmarking(\"åŸºå‡†æµ‹è¯•\") %timeit fun() æµ‹è¯•ä¸€ä¸ª å‡½æ•° çš„æ‰§è¡Œé€Ÿåº¦ %run -t å’Œ %timeit æ•ˆæœç±»ä¼¼, ä½œç”¨æ˜¯æµ‹è¯•ä¸€ä¸ªpyè„šæœ¬ æ–‡ä»¶ çš„æ‰§è¡Œé€Ÿåº¦ æ›´ç²¾ç»†çš„è¿è¡Œæ—¶é—´æµ‹è¯•, å¯ä»¥ç”¨ profileæ¨¡å— The profiler outputs details about calls of every Python function used directly or indirectly in this script. @@...å¥½é«˜çº§!!! è¿™æ ·çš„è¯å°±æ›´å®¹æ˜“å‘ç°ç¨‹åºè¿è¡Œçš„ç“¶é¢ˆåœ¨å“ªé‡Œäº†! æ–¹æ³•æ˜¯ä½¿ç”¨ %run -p æˆ–è€… %prun Using the IPython notebook è¿™ä¸ªnotebookçš„åŠŸèƒ½å®åœ¨æ˜¯å¾ˆNB... ä¸ä»…å¯ä»¥åŠ å…¥ä»£ç /markdownæ®µè½, è¿˜å¯ä»¥åŠ å…¥å›¾ç‰‡å’Œè§†é¢‘... notebookçš„æ ¼å¼ä¸º.ipybnæ–‡ä»¶, ç”¨JSONå­˜å‚¨æ•°æ®. è¾“å…¥ ipython notebook (æˆ–è€…åœ¨ipythoné‡Œè¾“å…¥ !ipython notebook )ä»¥å, ä¼šåœ¨8888ç«¯å£å»ºç«‹ä¸€ä¸ªweb server, è®¿é—® http://localhost:8888/ å°±å¯ä»¥çœ‹åˆ°ä¸Šé¢çš„é‚£ä¸ªæˆªå›¾, æˆ–è€…ç§°ä¹‹ä¸º notebook dashboard. cell magics çš„ä½œç”¨åŸŸæ˜¯æ•´ä¸ªcell(å¤šè¡Œ), è€Œmagic commandçš„ä½œç”¨åŸŸæ˜¯ä¸€è¡Œ, cell magicsçš„å‰ç¼€æ˜¯ä¸¤ä¸ªç™¾åˆ†å· %% . ä»ä¸€ä¸ªpyæ–‡ä»¶ç›´æ¥å»ºç«‹ä¸€ä¸ªnotebook, åªéœ€è¦æŠŠæ–‡ä»¶æ‹–å…¥dashboardå³å¯, ç„¶ånotebookä¹Ÿå¯ä»¥ä¿å­˜ä¸ºæ–‡ä»¶. ç¼–è¾‘äº†Markdownä»¥å, è¿˜æ˜¯ Ctrl+Enter/Shift+Enter , å³å¯æˆä¸ºæ ¼å¼åŒ–çš„æ–‡æœ¬, å†åŒå‡»å°±å¯ä»¥ç¼–è¾‘!! è®©plotçš„å›¾ç‰‡ç›´æ¥åµŒå…¥åœ¨notebooké‡Œé¢: ä½¿ç”¨ ipython notebook --pylab inline , æˆ–è€…åœ¨notebooké‡Œé¢è¾“å…¥ %pylab inline notebookçš„ä¸€äº›å¿«æ·é”® Escä»ç¼–è¾‘æ¨¡å¼(edit mode)é€€å‡ºåˆ°å‘½ä»¤æ¨¡å¼(command mode) Enterä»å‘½ä»¤æ¨¡å¼åˆ°ç¼–è¾‘æ¨¡å¼ (ç¼–è¾‘æ¨¡å¼ä¸‹) ctrl+Enter: è¿è¡Œç¨‹åº/markdownä»£ç  shift+Enter: è¿è¡Œç¨‹åº, å¹¶è‡ªåŠ¨è·³åˆ°ä¸‹ä¸€ä¸ªcell alt+Enter: è¿è¡Œç¨‹åº, å¹¶è‡ªåŠ¨åœ¨åé¢æ–°å»ºä¸€ä¸ªcellåœ¨ (å‘½ä»¤æ¨¡å¼ä¸‹) c: å¤åˆ¶ä¸€ä¸ªcell x: å‰ªåˆ‡ä¸€ä¸ªcell v: ç²˜è´´cell a: åœ¨å½“å‰cellä¸Šé¢( a bove)æ–°å»ºä¸€ä¸ªcell b: åœ¨å½“å‰cellä¸‹é¢( b elow)æ–°å»ºä¸€ä¸ªcell m: è®©å½“å‰cellå˜æˆä¸€ä¸ªmarkdownçš„cell y: è®©å½“å‰cellå˜æˆcodeçš„cell 1,2,3...: nçº§æ ‡é¢˜ j,k: ä¸Šä¸‹ç§»åŠ¨é€‰ä¸­çš„cell, vimé£æ ¼.. dd(dæŒ‰ä¸¤ä¸‹): åˆ é™¤ä¸€ä¸ªcell(vim é£æ ¼...) ......çˆ½åˆ°çˆ†!!","tags":"tech","title":"IPythonä¸Šæ‰‹å­¦ä¹ ç¬”è®°"},{"url":"https://x-wei.github.io/tech/pandaså­¦ä¹ ç¬”è®°.html","text":"é¦–å…ˆ, å¯¼å…¥pandas import pandas as pd ä»¥åŠå¼€å¯pylab: IPythoné‡Œè¾“å…¥ %pylab http://www.bearrelroll.com/2013/05/python-pandas-tutorial/ åŸºæœ¬æ“ä½œ http://cloga.info/python/%E6%95%B0%E6%8D%AE%E7%A7%91%E5%AD%A6/2013/09/17/pandas_intro/ pandaså’Œnumpyçš„å…³ç³» : pandasæ˜¯å»ºç«‹åœ¨numpyä¸Šé¢çš„, pandaså¯ä»¥å¤„ç†ä¸åŒç±»å‹çš„æ•°æ®é›†åˆ(heterogeneous data set: DataFrame ), numpyå¤„ç†çš„æ˜¯ç›¸åŒç±»å‹çš„æ•°æ®é›†åˆ(homogeneous data set: ndarray ) è¯»å†™csvæ–‡ä»¶ read_csv() df=pd.read_csv('data.csv') è¯´ä¸€ä¸‹æ•°æ®ç±»å‹çš„é—®é¢˜: è¿”å›ç±»å‹æ•°æ®å¸§( DataFrame ): type(df) = pandas.core.frame.DataFrame df.columns åŒ…å«äº†æ‰€æœ‰åˆ—çš„æ ‡ç­¾( å­—æ®µå ) df.index åŒ…å«äº†æ‰€æœ‰è¡Œçš„æ ‡ç­¾(å¯èƒ½æ²¡æœ‰çš„è¯, å°±æ˜¯ä¸€ç³»åˆ—é€’å¢çš„æ•°å­—äº†) ä½†æ˜¯å…¶ä¸­çš„æ¯ä¸€åˆ—æ˜¯ Series ç±»å‹: type(df.dep)=pandas.core.series.Series ç„¶åå¯ä»¥å°†Seriesè½¬æ¢ä¸ºnumpyçš„ndarray: array(df.dep) to_csv() æ²¡å•¥å¥½è¯´çš„.. df.to_csv('csvfilename') è¦æ˜¯ä¸å¸Œæœ›æŠŠindexä¹Ÿä½œä¸ºä¸€åˆ—å†™è¿›csvæ–‡ä»¶çš„è¯, å°±é€‰æ‹©å‚æ•° index=False http://pandas.pydata.org/pandas-docs/stable/generated/pandas.DataFrame.to_csv.html?highlight=to_csv#pandas.DataFrame.to_csv indexing & slicing é€‰æ‹©ä¸€åˆ—: df['dep'] æˆ–è€… df.dep é€‰æ‹©å‰3è¡Œ(å‰ä¸‰æ¡è®°å½•): df[:2] ä½¿ç”¨æ ‡ç­¾é€‰å–æ•°æ® : df.loc[è¡Œæ ‡ç­¾, åˆ—æ ‡ç­¾] é€‰æ‹©å‰ä¸¤åˆ—: df.loc[:,('one','two')] æˆ–è€…ç”¨ df.loc[:,df.columns[:2]] ä½¿ç”¨ä½ç½®é€‰å–æ•°æ® : df.iloc[è¡Œä½ç½®, åˆ—ä½ç½®] df.iloc[:,:2] è‡ªåŠ¨åˆ¤æ–­çš„åˆ‡ç‰‡ : df.ix[è¡Œä½ç½®æˆ–è¡Œæ ‡ç­¾, åˆ—ä½ç½®æˆ–åˆ—æ ‡ç­¾] æ‰€ä»¥å‰é¢ä¿©åŸºæœ¬ç”¨ä¸ç€äº†... df.ix[:,('one','two')] df.ix[:,:2] boolean indexing ex. é€‰æ‹©depæ˜¯'PAR'çš„è®°å½• hk[hk.dep == 'PAR'].head() ex. å¤šä¸ªæ¡ä»¶, æ¯”å¦‚depæ˜¯'PAR', dstæ˜¯'BHM': hk[(hk.dep == 'PAR')&(hk.dst=='BHM')].head() æ³¨æ„ : ä¸­æ‹¬å·é‡Œé¢çš„è¡¨è¾¾å¼, æ¯ä¸€ä¸ªæ¡ä»¶éœ€è¦æ‹¬å·æ‹¬èµ·æ¥, ä¸­é—´çš„ & ä¸èƒ½ç”¨ and , ç­‰äºå· == ä¸èƒ½ç”¨ is . æ–‡æ¡£é‡Œçš„ä¸€ä¸ªè¡¨æ ¼: è®¾ç½®å°æ•°ç²¾åº¦ http://pandas.pydata.org/pandas-docs/stable/options.html?highlight=precision è®¾ç½®å°æ•°ç‚¹åå…­ä½çš„ç²¾åº¦: pd.set_option('precision',7) æ³¨æ„å…­ä½ç²¾åº¦çš„è¯è¦è®¾ç½®precisionä¸º7=6+1. è°ƒæ•´æŸä¸€åˆ—çš„æ¬¡åº df.reindex(columns=pd.Index(['x', 'y']).append(df.columns - ['x', 'y'])) http://stackoverflow.com/questions/12329853/how-to-rearrange-pandas-column-sequence éšæœºæŠ½å–å‡ è¡Œ rand_idx = random.choice(df.index,9, replace=False) #è¦è®¾ç½®replace = Falseä»¥é˜²æ­¢é‡å¤! df.ix[rand_idx] ä¸¤ä¸ªdfç›¸merge ä¸¤ä¸ªdfçš„columnéƒ½ä¸€æ ·, indexä¸é‡å¤(å¢åŠ è¡Œ): pd.concat([df1,df2]) ä¸¤ä¸ªdfçš„indexä¸€æ ·, columnä¸åŒ(å¢åŠ åˆ—) pd.concat([df1,df2], axis = 1) adding/deleting columns http://pandas.pydata.org/pandas-docs/stable/dsintro.html#column-selection-addition-deletion æ–°å»ºä¸€åˆ—, åŠ åˆ°æœ€åé¢: df['new_col']=xxx æƒ³è¦æŠŠä¸€åˆ—æ’è¿›ä¸­é—´æŸä¸€å¤„, ä½¿ç”¨df.insert: df.insert(1, 'bar', df['one']) åˆ é™¤ä¸€åˆ—, åªéœ€ç”¨ del å…³é”®å­—: del df['one_col'] ä¸¤ä¸ªSeriesç»„æˆä¸€ä¸ªdataframe: pd.concat([s1, s2], axis=1) é‡å‘½åä¸€åˆ—: df=df.rename(columns = {'old_name':'new_name'}) æˆ–è€…: df.rename(columns = {'old_name':'new_name'}, inplace=True) http://stackoverflow.com/questions/20868394/changing-a-specific-column-name-in-pandas-dataframe http://www.bearrelroll.com/2013/05/python-pandas-tutorial/ apply() & map() & agg() apply() å¯¹dataframeçš„å†…å®¹è¿›è¡Œæ‰¹é‡å¤„ç†, è¿™æ ·è¦æ¯”å¾ªç¯æ¥å¾—å¿«. df.apply(func, axis=0,...) func : å®šä¹‰çš„å‡½æ•° axis : =0çš„æ—¶å€™å¯¹åˆ—æ“ä½œ, =1çš„æ—¶å€™å¯¹è¡Œæ“ä½œ ex. df.apply(self, func, axis=0, map() å’Œpythonå†…å»ºçš„æ²¡å•¥åŒºåˆ« df['one'].map(sqrt) groupby() æŒ‰ç…§æŸä¸€åˆ—( å­—æ®µ )åˆ†ç»„, å¾—åˆ°ä¸€ä¸ª DataFrameGroupBy å¯¹è±¡. ä¹‹åå†å¯¹è¿™ä¸ªå¯¹è±¡è¿›è¡Œåˆ†ç»„æ“ä½œ, å¦‚: df.groupby(['A','B']).sum()##æŒ‰ç…§Aã€Bä¸¤åˆ—çš„å€¼åˆ†ç»„æ±‚å’Œ groups = df.groupby('A')#æŒ‰ç…§Aåˆ—çš„å€¼åˆ†ç»„æ±‚å’Œ groups['B'].sum()##æŒ‰ç…§Aåˆ—çš„å€¼åˆ†ç»„æ±‚Bç»„å’Œ groups['B'].count()##æŒ‰ç…§Aåˆ—çš„å€¼åˆ†ç»„Bç»„è®¡æ•° agg() å¯¹åˆ†ç»„çš„ç»“æœå†åˆ†åˆ«è¿›è¡Œä¸åŒçš„æ“ä½œ... å‚æ•°æ˜¯ä¸€ä¸ªdict, æŠŠæ¯ä¸ªå­—æ®µæ˜ å°„åˆ°ä¸€ä¸ªå‡½æ•°ä¸Šæ¥...... è¯´çš„ä¸æ¸…æ¥š, ç›´æ¥çœ‹ä¾‹å­: In [82]: df Out[82]: one two three index a 1 1 2 b 2 2 4 c 3 3 6 d NaN 4 NaN In [ 83 ]: g = df . groupby ( 'one' ) In [ 84 ]: g . agg ( { 'two' : sum , 'three' : sqrt } ) Out [ 84 ]: two three one 1 1 1 . 414214 2 2 2 . 000000 3 3 2 . 449490 ç”šè‡³è¿˜å¯ä»¥å¯¹æ¯ä¸€åˆ—è¿›è¡Œå¤šä¸ªå¤„ç†æ“ä½œ: In [100]: g.agg({'two': [sum],'three': [sqrt,exp]}) Out[100]: two three sum sqrt exp one 1 1 1.414214 7.389056 2 2 2.000000 54.598150 3 3 2.449490 403.428793 å…·ä½“è§: http://stackoverflow.com/questions/14529838/apply-multiple-functions-to-multiple-groupby-columns ç»Ÿè®¡å‡ºç°é¢‘ç‡ æ–¹æ³•1: _hkhist=hk.groupby(groups).count().ix[:,0]#count of groupes æ–¹æ³•2: hk.groupby('dep').size() æ–¹æ³•3: (åªé€‚ç”¨äºä¸€åˆ—çš„æƒ…å†µ) hk.dep.value_counts() æŠŠä¸€åˆ—indexè½¬ä¸ºcolumn(ä¸å†ä½œä¸ºindexä½¿ç”¨) http://stackoverflow.com/questions/20461165/how-to-convert-pandas-index-in-a-dataframe-to-a-column æ¯”å¦‚, åŸæ¥çš„dataframeæ˜¯ä¸‰å±‚indexçš„, columnåªæœ‰ä¸€åˆ—(åå­—å«åš'0'): df.reset_index(level=2,inplace=True) è¿™æ ·å°±å¯ä»¥æŠŠç¬¬ä¸‰å±‚çš„å†…å®¹ä½œä¸ºä½¿ç”¨, è€Œä¸æ˜¯ä½œä¸ºindex, ç°åœ¨columnæœ‰ä¸¤åˆ—äº†, å†ç»™ä¸¤åˆ—å‘½åä¸€ä¸‹: hist_hub.columns = ['hub','occurrence'] å°±å¾—åˆ°äº†: å…³äºlevelè¿™ä¸ªå‚æ•°: level : int, str, tuple, or list, default None Only remove the given levels from the index. Removes all levels by default Plotting http://cloga.info/python/2014/02/23/Plotting_with_Pandas/ ç»Ÿè®¡å‡ºç°æ¬¡æ•°, ç”»æŸ±çŠ¶å›¾: g=hk.groupby('dep') dd=g['dst'].count() dd.plot(kind='bar') æˆ–è€…ç”¨pandasæä¾›çš„: http://pandas.pydata.org/pandas-docs/stable/basics.html#value-counts-histogramming-mode nb=hk['#vol_hacker'] hist=nb.value_counts()*100.0/len(hk) hist=hist.sort_index() hist.plot(kind='bar') ç§¯ç´¯åˆ†å¸ƒæ›²çº¿ http://stackoverflow.com/questions/6326360/python-matplotlib-probability-plot-for-several-data-set counts, start, dx, _ = scipy.stats.cumfreq(data, numbins=20) x = np.arange(counts.size) * dx + start plt.plot(x, counts, 'ro') æˆ–è€…ç”¨pandasæä¾›çš„ä¸œè¥¿ä¹Ÿèƒ½åšå§: http://pandas.pydata.org/pandas-docs/stable/basics.html#discretization-and-quantiling hist2d ç”¨pcolormesh http://www.physicsforums.com/showthread.php?t=653864 è²Œä¼¼è¦è½¬ç½®!! http://stackoverflow.com/questions/24791614/numpy-pcolormesh-typeerror-dimensions-of-c-are-incompatible-with-x-and-or-y","tags":"tech","title":"pandaså­¦ä¹ ç¬”è®°"},{"url":"https://x-wei.github.io/soft/Eclipseå¿«æ·é”®æ€»ç»“.html","text":"Eclipseè®©æˆ‘å¾ˆå–œæ¬¢çš„æœ€å¤§åŸå› å¤§æ¦‚å°±æ˜¯å®ƒçš„å¥½ç”¨çš„å¿«æ·é”®äº†, è¿™é‡Œè¿›è¡Œä¸€ä¸‹æ€»ç»“, æŒæ¡è¿™äº›å¿«æ·é”®å¯ä»¥è®©ç¼–è¾‘ä»£ç å˜å¾—æ›´åŠ é«˜æ•ˆ. åŸºæœ¬å¿«æ·é”® æ ¼å¼åŒ–ä»£ç : ctrl+alt+F éå¸¸å®ç”¨çš„å¿«æ·é”®, æš‚æ—¶è¿˜ä¸çŸ¥é“åˆ«çš„ç¼–è¾‘å™¨è¿˜æ²¡æœ‰å‘ç°æœ‰åŒæ ·åŠŸèƒ½çš„. æŒ‰ä¸€ä¸‹ä»£ç å°±è‡ªåŠ¨ç¼©è¿›å¾—éå¸¸æ•´é½äº†! æ³¨é‡Š/åæ³¨é‡Š: ctrl+alt+C pydevä¸‹é¢çš„æ³¨é‡Š/åæ³¨é‡Š: ctrl+/ å¦å¤–ä¸€äº›æœ‰ç”¨çš„å¿«æ·é”® æ˜¾ç¤ºæç¤º: alt+/ è¿™ä¸ªå¯ä»¥è¯´æ˜¯eclipseå¿«æ·é”®é‡Œé¢æœ€æœ‰ç”¨çš„ä¸€ä¸ª. å¯ä»¥æ˜¾ç¤ºä»£ç æç¤ºçš„çª—å£, è¿™ä¹Ÿæ˜¯æˆ‘å–œæ¬¢eclipseçš„åŸå› ä¹‹ä¸€. è™½ç„¶ç¼–å†™ä»£ç çš„æ—¶å€™eclipseçš„æç¤ºæ¡†ä¹Ÿä¼šåœ¨é€‚å½“çš„æ—¶å€™å‡ºæ¥, æ¯”å¦‚æŒ‰ä¸‹äº† . çš„æ—¶å€™, ä½†æ˜¯å½“å®ƒæ²¡æœ‰å‡ºç°çš„æ—¶å€™æˆ‘ä»¬æ€»å¯ä»¥æŒ‰ä¸‹ alt+/ è®©æç¤ºæ¡†å¼¹å‡ºæ¥. å°¤å…¶åœ¨ä½¿ç”¨Javaçš„æ—¶å€™, eclipseçš„æç¤ºç›¸å½“æ™ºèƒ½, ä¹Ÿå°±æ˜¯è¯´ä¼šæ ¹æ®ä¸Šä¸‹æ–‡ä»¥åŠå‡½æ•°çš„å®šä¹‰ç­‰ä¸œè¥¿æ¥æç¤ºé‚£äº›å¯èƒ½å‡ºç°çš„é¡¹ç›®. å¦å¤–, æœ‰æ—¶å€™å¯èƒ½å®šä¹‰äº†ä¸€ä¸ªè¶…é•¿åå­—çš„å˜é‡(è¿™æ ·ä»£ç å¯èƒ½æ¯”è¾ƒæ¸…æ¥šä¸€äº›), ç„¶åç”¨è¿™ä¸ªå¿«æ·é”®, å°±åªéœ€è¦æ‰“ä¸€ä¸‹è¿™ä¸ªå¾ˆé•¿åå­—çš„å‰å‡ ä¸ªå­—æ¯å°±å¯ä»¥è‡ªåŠ¨è¡¥å…¨äº†(å¦‚æœè¡¥å…¨çš„ä¸æ˜¯æƒ³è¦çš„, åªéœ€è¦å¤šæŒ‰å‡ æ¬¡è¿™ä¸ªå¿«æ·é”®å°±ä¼šæ˜¾ç¤ºå…¶ä»–å¯èƒ½äº†)! æ‰“å¼€å‡½æ•°/å˜é‡çš„å£°æ˜: F3 æ¯”æ–¹è¯´åœ¨ç¨‹åºçš„æŸä¸€æ®µçœ‹åˆ°äº†è°ƒç”¨ä¸€ä¸ªå‡½æ•°, ç„¶åæƒ³çœ‹çœ‹è¿™ä¸ªå‡½æ•°çš„å†…å®¹, è¿™æ˜¯ä¸éœ€è¦æ‹¿ç€é¼ æ ‡ä¸Šä¸‹æ»šåŠ¨ç€æ‰¾(æœ‰æ—¶å€™å®šä¹‰çš„å‡½æ•°å¯èƒ½åœ¨å¦ä¸€ä¸ªæ–‡ä»¶é‡Œ, é‚£å°±æ›´éš¾æ‰¾äº†), åªéœ€è¦æŒ‰ä¸‹ F3 , å°±ä¼šè‡ªåŠ¨è·³è½¬åˆ°å‡½æ•°çš„å£°æ˜çš„ä»£ç ç‰‡æ®µé‡Œ. è¿è¡Œç¨‹åº: ctrl+F11 æ˜¾ç¤ºeclipseæä¾›çš„è§£å†³æ–¹æ¡ˆ: ctrl+1 æ¯”å¦‚è¯´, æœ‰æ—¶å€™å¯èƒ½ä¸€ä¸ªå˜é‡çš„åå­—æ‹¼é”™äº†, æˆ–è€…æ˜¯å¿˜è®°äº†å¯¼å…¥ç›¸åº”çš„ä¸€ä¸ªpackage, æ‰€ä»¥åœ¨å˜é‡ä¸‹é¢æœ‰çº¢çº¿. è€Œè¿™æ—¶å…¶å®eclipseå¯ä»¥æä¾›ä¸€äº›è§£å†³æ–¹æ¡ˆ, æ¯”å¦‚ä¿®æ”¹æ‹¼å†™æˆ–è€…import package, è¦æŸ¥çœ‹eclipseæä¾›çš„è§£å†³æ–¹æ¡ˆ, åªéœ€è¦æŠŠå…‰æ ‡ç§»åŠ¨åˆ°ç”»çº¢çº¿çš„éƒ¨åˆ†, ç„¶åæŒ‰ä¸€ä¸‹ ctrl+1 å°±å¥½äº†. å…¶ä»–ä¸€äº›å¿«æ·é”® å¤åˆ¶ä¸Šä¸€è¡Œä»£ç : ctrl+alt+down åœ¨å†™é‚£äº›å¥½å‡ è¡Œæ¯”è¾ƒç›¸ä¼¼çš„ä»£ç æ—¶æœ‰ç‚¹ç”¨å¤„. ä¸è¿‡linuxçš„ç”¨æˆ·æœ‰äº›å¯èƒ½ä¸èƒ½ç”¨ â€” å’Œé‚£ä¸ªè·³åˆ°ä¸‹ä¸€ä¸ªå·¥ä½œåŒºçš„å¿«æ·é”®é‡å¤äº†... è·³è½¬åˆ°ä¸‹ä¸€ä¸ª/ä¸Šä¸€ä¸ªå‡½æ•°/ç±»: ctrl+shift+down/up ç°åœ¨å…‰æ ‡åœ¨æŸä¸€ä¸ªå‡½æ•°é‡Œ, æƒ³è·³åˆ°ä¸‹ä¸€ä¸ªå‡½æ•°çš„æ—¶å€™, æŒ‰åŠå¤©çš„å‘ä¸‹æŒ‰é’®ä¸å¦‚è¿™ä¸ªæ¥å¾—å¿«~ è‡ªåŠ¨å¯¼å…¥package: ctrl+shift+o æ¯”å¦‚å†™Javaä»£ç çš„æ—¶å€™, å¼€å§‹æ²¡æœ‰import LinkedList è¿™ä¸ªåŒ…, å†™åˆ°ä¸€åŠçªç„¶è¦ç”¨åˆ°äº†, é‚£ä¹ˆå…ˆå†™ä¸Š, ç„¶åä¸ç”¨å†å›åˆ°å¼€å¤´åŠ ä¸Šå¯¼å…¥LinkedListçš„è¯­å¥, è€Œåªè¦æŒ‰ä¸€ä¸‹è¿™ä¸ªç»„åˆé”®å°±å¯ä»¥äº†. æ˜¾ç¤ºoutline: ctrl+o æŒ‰ä¸‹ä»¥å, æ˜¾ç¤ºoutlineè§†å›¾, è¿™ä¸ªè§†å›¾ä¸Šçœ‹ç±»çš„æˆå‘˜å’Œå‡½æ•°å¾ˆä¸€ç›®äº†ç„¶ é‡å‘½å: shift+alt+r eclipseçš„é‡å‘½åå’Œç®€å•çš„æŸ¥æ‰¾æ›¿æ¢è¿˜æ˜¯ä¸ä¸€æ ·çš„, å®ƒå¯ä»¥åœ¨æ›¿æ¢æ­£ç¡®çš„é‚£äº›å‘½åè€Œä¸æ˜¯å…¨éƒ¨æŸ¥æ‰¾æ›¿æ¢. æ¯”å¦‚é‡å‘½åä¸€ä¸ªå‡½æ•°å†…éƒ¨çš„å˜é‡çš„è¯, å¤–éƒ¨å³ä½¿æœ‰é‡åçš„ä¹Ÿä¸ä¼šå½±å“åˆ°. è¦æ˜¯è¿™ä¸ªå¿«æ·é”®è®°ä¸ä½, å°±ç”¨menu(é”®ç›˜å³è¾¹çš„ctrlçš„å·¦è¾¹)==> refactoring... æŸ¥æ‰¾ä¸‹ä¸€å¤„å‡ºç°çš„åœ°æ–¹: ctrl+k æœ‰æ—¶å€™ä¹Ÿç”¨å¾—ç€.","tags":"soft","title":"Eclipseå¿«æ·é”®æ€»ç»“"},{"url":"https://x-wei.github.io/soft/Eclipseæ’ä»¶æ¨è.html","text":"Eclipseè¢«ç§°ä¸ºç¼–ç¨‹çš„ç‘å£«å†›åˆ€, æ„æ€å°±æ˜¯åªç”¨ä¸€ä¸ªeclipseå°±å¯ä»¥åšå¾ˆå¤šäº‹æƒ…. æœ€è¿‘è¶Šæ¥è¶Šå–œæ¬¢eclipseäº†, å› ä¸ºä½œä¸ºç¼–è¾‘å™¨è€Œè¨€, eclipseçš„ç¼–è¾‘å™¨è®©æˆ‘ç”¨èµ·æ¥æœ€èˆ’æœçš„ä¸€ä¸ª(é…åˆä¸€äº› å¿«æ·é”® ä»¥åæ›´æ˜¯éå¸¸çˆ½). è¿™åŠå¹´å¤šæ¥å‘ç°äº†ä¸€äº›éå¸¸å¥½ç”¨çš„eclipseçš„æ’ä»¶, æœ‰äº†è¿™äº›æ’ä»¶, eclipseå¯ä»¥åšæ›´å¤šçš„äº‹æƒ…... æ¥ä¸‹æ¥ç®€å•ä»‹ç»ä¸€ä¸‹: æ’ä»¶å®‰è£…çš„æ–¹æ³• å…ˆç®€å•è¯´ä¸€ä¸‹eclipseçš„æ’ä»¶å®‰è£…æ–¹æ³•, åœ¨eclispeç•Œé¢ä¸Š, ç‚¹å‡»: Help->Install New Software: ä¹‹åæ·»åŠ å¯¹åº”çš„URLå°±å¯ä»¥äº†... ADT é“¾æ¥ eclipseé‡Œæ·»åŠ çš„URL: https://dl-ssl.google.com/android/eclipse/ è¿™ä¸ªä¸ç”¨è¯´äº†å§, Eclipseå·²ç»åŸºæœ¬ä¸Šæ˜¯androidå¼€å‘çš„å¾¡ç”¨IDEäº†. PyDev é“¾æ¥ URL: http://pydev.org/updates pythonçš„å¼€å‘æ›´éœ€è¦æœ‰ä¸€ä¸ªæç¤ºçš„ä¸œä¸œ(å¥½åƒå«pyLint, å°±æ˜¯å¯ä»¥å‘ç°ä»£ç é‡Œçš„ä¸€äº›æ˜¾ç„¶çš„é”™è¯¯), è¿™ä¸ªæ’ä»¶è£…å¥½ä»¥åæˆ‘å°±å¾ˆå°‘ç”¨geanyå†™pythonç¨‹åºäº†, å°¤å…¶æ˜¯å½“ç¨‹åºè¶…è¿‡100è¡Œä»¥å... ä½†æ˜¯è®©äººä¸çˆ½çš„æ˜¯, ä»–éœ€è¦æ–°å»ºä¸€ä¸ªprojectæ‰èƒ½è¿è¡Œ. è¿™ä¹Ÿæ˜¯Eclipseçš„ä¸€ä¸ªè®©äººä¸çˆ½çš„æ–¹é¢. å¦‚æœæ˜¯ä¸€ä¸ªå°çš„pythonç¨‹åºçš„è¯æˆ‘è¿˜æ˜¯ä¼šç”¨geany. å¦å¤–, å¼ºçƒˆæ¨è bpython ä½œä¸ºpythonçš„terminal, éå¸¸çˆ½å¿«!! color theme é“¾æ¥ URL: http://eclipse-color-theme.github.com/update ä¿®æ”¹é…è‰²çš„ä¸€ä¸ªæ’ä»¶, éå¸¸å–œæ¬¢, å› ä¸ºé»˜è®¤çš„é…è‰²çœ‹çš„æ—¶é—´é•¿äº†çœ¼ç›å°±ä¸èˆ’æœ... æœ‰å¤šç§é…è‰²æ–¹æ¡ˆå¯é€‰. jigloo è¿™æ˜¯å½“å¹´å­¦java GUIç¼–ç¨‹çš„æ—¶å€™ç”¨åˆ°çš„, å¯ä»¥æ‹–æ”¾ç€æ¥å†™Swing/AWTçš„GUIä»£ç ... æœ‰ç‚¹åƒç°åœ¨ADTè®¾è®¡ç•Œé¢çš„ä¸œè¥¿... ä¸è¿‡æˆ‘ä¸å–œæ¬¢å†™javaçš„GUI... ä¹±ç³Ÿç³Ÿçš„... åšè¿™ä¸ªçš„æœºæ„å·²ç»å¾ˆä¹…æ²¡æœ‰æ›´æ–°äº†... ä¸è¿‡2010å¹´çš„ç‰ˆæœ¬ç°åœ¨ç”¨è¿˜æ˜¯æ²¡æœ‰é—®é¢˜çš„. greenUML è¿™ä¸ªä¹‹å‰çš„ å¸–å­ å·²ç»ä»‹ç»äº†, å†™æŠ¥å‘Šçš„æ—¶å€™å¯ä»¥ç”¨ä¸€ç”¨... xmind é“¾æ¥ è¿™ä¸ª\"æ’ä»¶\"å·²ç»ä½œä¸ºä¸€ä¸ªç‹¬ç«‹çš„è½¯ä»¶äº†... ç”¨æ¥ç”»æ€ç»´å¯¼å›¾çš„å·¥å…·, è›®å¥½ç”¨çš„. ä½œä¸ºä¸€ä¸ªç‹¬ç«‹çš„è½¯ä»¶ä¸‹è½½çš„è¯, å» è¿™é‡Œ . TeXlipse é“¾æ¥ URL: http://texlipse.sourceforge.net/ æ²¡é”™! Eclipseä¹Ÿå¯ä»¥å†™texçš„... ä¸è¿‡è¿™ä¸ªæˆ‘è£…äº†ä½†æ˜¯æ²¡æœ‰ç”¨(å› ä¸ºå‘ç°å®ƒçš„æ—¶å€™æŠ¥å‘Šå·²ç»å†™å¥½äº†...). è²Œä¼¼ä¹Ÿå¯ä»¥å®æ—¶é¢„è§ˆçš„, å†åŠ ä¸Šeclipseçš„ç¼–è¾‘å™¨çš„æç¤ºåŠŸèƒ½, åº”è¯¥ä¸é”™! è®¾ç½®ä»£ç† Xæ˜¯ä¸ªç¥å¥‡çš„å­¦æ ¡, æ‰€ä»¥ä¸Šç½‘è¦è®¾ç½®ä»£ç†..... å…³äºè®¾ç½®ä»£ç†çš„é—®é¢˜åœ¨ä¹‹å‰ä¸€ç¯‡å¸–å­é‡Œæåˆ°äº†, ç²˜è¿‡æ¥: window â†’ preference â†’ General â†’ Network Connections æ’ä»¶å¸è½½çš„æ–¹æ³• è¯´ä¸å®šå“ªä¸€å¤©ä¹Ÿä¼šéœ€è¦å¸è½½æ’ä»¶, å¸è½½çš„æ–¹æ³•æ˜¯ : Help--> About Eclipse Platform--> Installation Details æœ€åå†è¡¥å……ä¸€å¥, Eclipseçš„æœ€å¤§ä¼˜åŠ¿æ˜¯ç¼–è¾‘å™¨éå¸¸è®¨æˆ‘å–œæ¬¢, ä½†æ˜¯ç¼ºç‚¹æ˜¯åœ¨è€æœºå™¨ä¸Šè¿è¡Œæ¯”è¾ƒå¡, è€Œä¸”ä¸ç®¡å†™ä»€ä¹ˆéƒ½è¦å…ˆæŒ‡å®šworkspaceä»¥åŠå»ºç«‹ä¸€ä¸ªproject. å¦‚æœæƒ³è¦ä¸€æŠŠè½»é‡çº§çš„\"ç‘å£«å†›åˆ€\"çš„è¯, geanyæ˜¯ä¸ªä¸é”™çš„é€‰æ‹©.","tags":"soft","title":"Eclipseæ’ä»¶æ¨è"},{"url":"https://x-wei.github.io/tech/python pickle çš„ä¸€ä¸ªå°é—®é¢˜.html","text":"pythonçš„pickle/unpickleæœºåˆ¶å¯ä»¥éå¸¸æ–¹ä¾¿çš„ä¿å­˜ä¸€äº›è®¡ç®—çš„ä¸­é—´ç»“æœ, è¿™ä¸€ç‚¹javaè™½ç„¶ä¹Ÿå¯ä»¥åšåˆ°, ä½†æ˜¯javaé‡Œé¢çš„åŒ…çš„åå­—å®åœ¨æ˜¯é•¿çš„è®©äººè®°ä¸ä½... ä¸è¿‡ä»Šå¤©åœ¨ä½¿ç”¨pickleçš„æ—¶å€™é‡åˆ°äº†ä¸€ä¸ªå¾ˆå¥‡æ€ªçš„é—®é¢˜. æ˜¯è¿™æ ·çš„, åŸæœ¬å†™äº†ä¸€ä¸ªç¨‹åº main.py , è¿™ä¸ªç¨‹åºé‡Œè¿›è¡Œäº†ä¸€äº›è®¡ç®—å¹¶ä¸”pickleä¸‹äº†è¿™äº›å†…å®¹, åæ¥æˆ‘è§‰å¾—ä¸€ä¸ªç¨‹åºmain.pyå†™è¿™ä¹ˆå¤šå®åœ¨å¤ªé•¿äº†, äºæ˜¯å°±æŠŠé‚£äº›è¾…åŠ©å‡½æ•°ä»¥åŠclassçš„å®šä¹‰é€šé€šæ”¾è¿›äº†ä¸€ä¸ª util.py æ–‡ä»¶é‡Œ. å¹¶ä¸”åœ¨main.pyçš„ç¬¬ä¸€è¡Œå†™ä¸Š: from util import * æŒ‰ç†è¯´è¿™åº”è¯¥æ²¡æœ‰é—®é¢˜, å’Œä¸€ä¸ªmainæ–‡ä»¶æ—¶è¿è¡Œçš„æ•ˆæœç›¸åŒçš„, ä½†æ˜¯å½“æˆ‘è¿è¡Œçš„æ—¶å€™å´æ˜¾ç¤ºutil.pyé‡Œé¢è¿™è¡Œunpickleçš„è¯­å¥æœ‰é”™è¯¯: airport_info = pk . load ( file ( 'airport_info.dict' , 'rb' )) >> AttributeError : 'module' object has no attribute 'Airport' å…¶ä¸­ Airport æ˜¯æˆ‘å®šä¹‰çš„ä¸€ä¸ªç±», æœ¬æ¥åœ¨main.pyé‡Œé¢, åæ¥è¢«æˆ‘ç§»åŠ¨åˆ°äº†util.pyé‡Œé¢... æ„Ÿè§‰å¾ˆå¥‡æ€ª, äºæ˜¯å» æ°´æº æ±‚åŠ©, æœç„¶fcfarseerå­¦é•¿å°±å¾ˆå¿«ç»™äº† å›å¤ : åœ¨pickleä¸€å€‹å°è±¡çš„æ™‚å€™ï¼Œpickleæœƒè¨˜ä½é€™å€‹å°è±¡çš„classæ˜¯å®šç¾©åœ¨å“ªå€‹python æºæ–‡ä»¶è£ï¼Œç„¶å¾Œå†unpickleçš„æ™‚å€™ï¼Œpickleæœƒè‡ªå‹•importé‚£å€‹æºæ–‡ä»¶ä»¥ç²å¾—classçš„å®šç¾©ã€‚ æ‰€ä»¥å¦‚æœå®šç¾©classçš„æ–‡ä»¶åœ¨é€™æœŸé–“æ”¹éçš„è©±ï¼Œå°±æœƒæ‹‹å‡ºé¡ä¼¼çš„éŒ¯èª¤ã€‚ æ‰€ä»¥é—®é¢˜å‡ºåœ¨è¿™é‡Œ(æˆ‘çš„ç†è§£): åŸå…ˆæˆ‘æŠŠæ•°æ®pickleè¿›æ–‡ä»¶çš„æ—¶å€™, Airportè¿™ä¸ªclassæ˜¯å®šä¹‰åœ¨äº†main.pyé‡Œé¢, æ‰€ä»¥å½“æˆ‘åœ¨util.pyé‡Œé¢loadæ•°æ®çš„æ—¶å€™, pickleå‘ç°åŸæ¥çš„main.pyé‡Œé¢å·²ç»æ²¡æœ‰äº† Airportè¿™ä¸ªclass, äºæ˜¯å°±å‡ºç°äº†Error... è§£å†³åŠæ³•ä¹Ÿä¸éš¾, åªéœ€è¦åœ¨ util.py é‡Œé¢å†ç”Ÿæˆä¸€ä¸‹é‚£äº›è¦loadçš„æ•°æ®æ–‡ä»¶, ä¹‹åå†æ¬¡unpickleçš„æ—¶å€™å°±ä¼šå» util.py è€Œä¸æ˜¯ main.py é‡Œæ‰¾classçš„å®šä¹‰, ä¹Ÿå°±æ²¡æœ‰é—®é¢˜äº†! ä»Šå¤©ç¢°åˆ°çš„è¿™ä¸ªé—®é¢˜ä¸æ˜¯é‚£ä¹ˆevident, æ‰€ä»¥ç‰¹åœ°è®°ä¸€ä¸‹.","tags":"tech","title":"python pickle çš„ä¸€ä¸ªå°é—®é¢˜"},{"url":"https://x-wei.github.io/soft/ä½¿ç”¨Eclipseçš„UMLæ’ä»¶ç”Ÿæˆç±»å›¾.html","text":"Created samedi 31 mai 2014UMLå°±æ˜¯å¯ä»¥æŠŠç¨‹åºçš„ç»“æ„ç”¨å›¾çš„å½¢å¼è¡¨è¾¾å‡ºæ¥çš„ä¸œè¥¿(å¥½åƒå«ç±»å›¾), è™½ç„¶å†™ç¨‹åºçš„æ—¶å€™ä¸å¤§ä¼šç”¨åˆ°è¿™ç§ä¸œè¥¿æ¥æ, ä½†æ˜¯å†™æŠ¥å‘Šçš„æ—¶å€™å¦‚æœèƒ½å¤ŸåŠ ä¸Šä¸€å¼ å›¾çš„è¯, å°±å¯ä»¥å°‘è´¹äº›å£èˆŒæ¥è§£é‡Šä»£ç äº†, è€Œä¸”è¿˜æœ‰ä¸€ç§é«˜å¤§ä¸Šçš„èµ¶è„š... æ‰€ä»¥å†™å®Œç¨‹åºå†™æŠ¥å‘Šçš„æ—¶å€™å¯ä»¥ç”¨ä¸€ä¸‹. åºŸè¯ä¸å¤šè¯´, çœ‹çœ‹æˆ‘æœ€åç”Ÿæˆçš„UMLå›¾: è¿™å¼ å›¾è¡¨ç¤ºä¸€ä¸ªæŠ½è±¡ç±» Operration æœ‰ä¸‰ä¸ªå­ç±», ç„¶åä»–ä»¬ä¹‹é—´çš„å…³ç³»... å¦‚æœç”¨æ–‡å­—çš„è¯è¦è§£é‡ŠåŠå¤©å§... è¿™å¼ å›¾æ˜¯ç”¨ Green UML åšå‡ºæ¥çš„, è¿™æ˜¯ä¸€ä¸ªeclipseæ’ä»¶, å®‰è£…æ–¹æ³•ä¸º: åœ¨eclipseé‡Œ, Help->Install New Software ç„¶åAddè¿™ä¸ªURL: http://www.cse.buffalo.edu/faculty/alphonce/green ç„¶åä¸€è·¯Nextå®‰è£…å°±å¯ä»¥äº†... å¦‚æœè€å¸ˆæ˜¾ç¤ºpending, å¯èƒ½æ˜¯ä»£ç†çš„é—®é¢˜(åœ¨Xéå¸¸ä¸çˆ½çš„ä¸€ç‚¹...å“...), ä¸è¿‡æ²¡äº‹, ä»£ç†çš„è®¾ç½®åœ¨: window â†’ preference â†’ General â†’ Network Connections , å¡«ä¸Šå°±åº”è¯¥å¥½äº†... ç”¨Green UMLç”Ÿæˆç±»å›¾çš„æ—¶å€™, åœ¨javaæ–‡ä»¶ä¸Šç‚¹å‡»å³é”®, é€‰é¡¹é‡Œæœ‰Green UMLçš„é€‰é¡¹: ç„¶åå°±OKäº†... å¦å¤–è¿˜åœ¨ç½‘ä¸Šæ‰¾åˆ°äº† model goon , ä¸è¿‡å®ƒç”Ÿæˆçš„ç±»å›¾è²Œä¼¼æ²¡æœ‰æŠŠæ‰€æœ‰ä¿¡æ¯éƒ½æ ‡ä¸Š, è€Œä¸”ä¸å¤ªå¥½çœ‹...","tags":"soft","title":"ä½¿ç”¨Eclipseçš„UMLæ’ä»¶ç”Ÿæˆç±»å›¾"},{"url":"https://x-wei.github.io/soft/fr-input.html","text":"Well, to be brief... I made a french input method, if you got annoyed by the freaking french keyboard when typing accented words (i.e. Ã©, Ã», Ã¼, Ã®,... ), or you are using a QWERTY keyboard, this will be quite useful ! In fact, I used XiaoxiaoInput and Fcitx , which are 2 excellent Chinese input methods, I just made a french word table, and added it to the program... screenshot: linux version: windows version: how to use download the zip file (see the links below) unzip the file if you are using 32-bit system, cilck the /yong.exe, if you in 64-bit system, click /w64/yong.exe you can see a round french flag icon in the right-bottom corner click the icon, or press ctrl+space , you can see the icon become brighter, which means the input method is active in the meantime, you can also see a small panel appear in the right-bottom corner with a french flag at left: you can type french with the input method now, enjoy ! choose the words by pressing the corresponding number button , or press space key to choose the first candidate sometimes there are >9 candidates, to see more candidates, use -/= to flip pages forward and backward if you want to input what you type instead of the candidates in the list, just press Enter button if you want to change to normal keyboard, you can press LeftShift , and you can see that the icon in the panel become a icon of a keyboard: or you can just press ctrl+space , to disable the input method (then the round flag icon become dark again, indicating it's not active) or you can right-click the round flag icon to totaly exit the program: dowload links windows (adapted from Xiaoxiao Input) link1 link2 linux . (adapted from Fcitx) see here mac I haven't made the mac version yet...","tags":"soft","title":"A French Input Method"},{"url":"https://x-wei.github.io/tech/byte_of_pythonç¬”è®°.html","text":"æ®è¯´è¿™æœ¬ä¹¦æ˜¯æœ€å¥½çš„å…¥é—¨è¯»ç‰©, å†µä¸”åªæœ‰100æ¥é¡µ (å‡æ‰å‰é¢åé¢é‚£äº›æ‰¯æ·¡çš„ ä¸åˆ°100é¡µ...) é‚£å°±ç”¨è¿™æœ¬ä¹¦è¿‡ä¸€ä¸‹pyçš„åŸºæœ¬çŸ¥è¯†ç‚¹å§! çœ‹å®Œä»¥åæ”¶è·ä¸å°‘, æŠŠpyæ¶‰åŠçš„å¾ˆå¤§ä¸€éƒ¨åˆ†éƒ½è®²åˆ°äº†. è¿™æœ¬ä¹¦å·²ç»æ˜¯å¤Ÿå‹ç¼©çš„äº†, ä¸è¿‡æˆ‘è¿˜æ˜¯è¾¹çœ‹è¾¹è‡ªå·±å†å‹ç¼©äº†ä¸€é(å†™åœ¨zimç¬”è®°é‡Œ). æˆ‘çœ‹çš„æ˜¯1.20ç‰ˆæœ¬, 2004å¹´çš„, å› ä¸ºè¿™ä¸ªç‰ˆæœ¬é’ˆå¯¹çš„æ˜¯py2.x, ä½œè€…ä¸»é¡µä¸Šç°åœ¨çš„ç‰ˆæœ¬é’ˆå¯¹çš„æ˜¯py3. å¦å¤–æ„Ÿè§‰æ²¡å¿…è¦çœ‹ä¸­æ–‡ç¿»è¯‘ç‰ˆ, å› ä¸ºè¿™é‡Œç”¨çš„è‹±è¯­æ¯”è¾ƒç®€å•, è€Œä¸”æœ‰çš„æ—¶å€™ä¸­æ–‡ç¿»è¯‘åè€Œä¸å¦‚åŸæ–‡è¡¨è¾¾çš„æ°å½“. preface+ch1+ch2 æ‰¯æ·¡... ch3. First Steps There are two ways of using Python to run your program - using the interactive interpreter prompt or using a source file. Anything to the right of the # symbol is a comment. the shebang line - whenever the first two characters of the source file are #! followed by the location of a program, this tells your Linux/Unix system that this program should be run with this interpreter when you execute the program. (Note that you can always run the program on any platform by specifying the interpreter directly on the command line such as the command python helloworld.py .) use the built-in help functionality. or example, run help(str) - this displays the help for the str class which is used to store all text (strings) that you use in your program. ch4. The Basics Literal Constants It is called a literal because it is literal - you use its value literally. ex. number 2, or string \"hello\". number Numbers in Python are of four types - integers, long integers, floating point and complex numbers. -Examples of floating point numbers (or floats for short) are 3.23 and 52.3E-4. The E notation indicates powers of 10. In this case, 52.3E-4 means 52.3 * 10-4. -Examples of complex numbers are (-5+4j) and (2.3 - 4.6j) string stringå¯ä»¥ç”¨Single/Double/Triple Quotesæ‹¬èµ·æ¥ escape sequence : \\', \\n, \\t, ä»¥åŠåœ¨è¡Œæœ«ä½œä¸ºç»­è¡Œç¬¦å· raw string : to specify some strings where no special processing such as escape sequences are handled, then what you need is to specify a raw string by prefixing r or R to the string. ex. r\"Newlines are indicated by \\n\" unicode text: prefix u or U. For example, u\"This is a Unicode string.\" Remember to use Unicode strings when you are dealing with text files, especially when you know that the file will contain text written in languages other than English. Strings are immutable: once you have created a string, you cannot change it. String literal concatenation: If you place two string literals side by side, they are automatically concatenated by Python. For example, ' What\\'s' 'your name? ' is automatically converted in to \"What's your name?\". Note for Regular Expression Users: Always use raw strings when dealing with regular expressions. Otherwise, a lot of backwhacking may be required. Variables é¡¾åæ€ä¹‰å°±æ˜¯å¯ä»¥å¯ä»¥å˜çš„é‡... Unlike literal constants, you need some method of accessing these variables and hence you give them names . Identifier(æ ‡ç¤ºç¬¦) Identifiers are names given to identify something. The first character of the identifier must be a letter of the alphabet (upper or lowercase) or an underscore ('_') . Objects Python refers to anything used in a program as an object. Python is strongly object-oriented in the sense that everything is an object including numbers, strings and even functions . Variables are used by just assigning them a value. No declaration or data type definition is needed/used. Logical and Physical Lines: Implicitly, Python encourages the use of a single statement per line which makes code more readable. If you want to specify more than one logical line on a single physical line, then you have to explicitly specify this using a semicolon (;) explicit line joining: ex. ç»­è¡Œç¬¦\\; implicit line joining: ex. æ‹¬å·... Indentation Leading whitespace (spaces and tabs) at the beginning of the logical line is used to determine the indentation level of the logical line, which in turn is used to determine the grouping of statements. This means that statements which go together must have the same indentation. Each such set of state- ments is called a block . Do not use a mixture of tabs and spaces for the indentation as it does not work across different platforms properly. ch5. Operators and Expressions expressions An expression can be broken down into operators and operands . ä¸€äº›oprators: **, //, <<, >>, &, |, &#94;, ~, not, and, or Operator Precedence: ä¼˜å…ˆçº§çš„ä¸€ä¸ªè¡¨... Associativity: Operators are usually associated from left to right i.e. operators with same precedence are evaluated in a left to right manner. For example, 2 + 3 + 4 is evaluated as (2 + 3) + 4 . Some operators like assignment operators have right to left associativity i.e. a = b = c is treated as a = (b = c) . ch6. Control Flow if if-elif-else statement: This makes the program easier and reduces the amount of indentation required. There is no switch statement in Python: You can use an if..elif..else statement to do the same thing (and in some cases, use a dictionary to do it quickly) while Remember that you can have an else clause for the while loop . for -The for..in statement is another looping statement which iterates over a sequence of objects i.e. go through each item in a sequence, a sequence is just an ordered collection of items. -optional else part also. break to break out of a loop statement i.e. stop the execution of a looping statement, even if the loop condition has not become False or the sequence of items has been completely iterated over. -An important note is that if you break out of a for or while loop, any corresponding loop else block is not executed. continue used to tell Python to skip the rest of the statements in the current loop block and to continue to the next iteration of the loop. ch7. Functions Functions are reusable pieces of programs. def func_name() parameters: Note the terminology used - the names given in the function definition are called parameters(è¡Œå‚) whereas the values you supply in the function call are called arguments(å®å‚) . scope local variables: All variables have the scope of the block they are declared in starting from the point of definition of the name. global variables : If you want to assign a value to a name defined outside the function, then you have to tell Python that the name is not local, but it is global. We do this using the global statement. Default Argument Values Default Argument Valuesé»˜è®¤å‚æ•° You can specify default argument values for parameters by following the parameter name in the function definition with the assignment operator (=) followed by the default value. Note that the default argument value should be immutable. you cannot have a parameter with a default argument value before a parameter without a default argument value in the order of parameters declared in the function parameter list. This is because the values are assigned to the parameters by position . For example, def func(a, b=5) is valid, but def func(a=5, b) is not valid. Keyword Arguments If you have some functions with many parameters and you want to specify only some of them, then you can give values for such parameters by naming them - this is called keyword arguments - we use the name (keyword) instead of the position to specify the arguments to the function. return used to return from a function i.e. break out of the function. We can optionally return a value from the function as well. return None -a return statement without a value is equivalent to return None . None is a special type in Python that represents nothingness. For example, it is used to indicate that a variable has no value if it has a value of None. -Every function implicitly contains a return None statement at the end unless you have written your own return statement. pass the pass statement is used in Python to indicate an empty block of statements. DocStrings A string on the first logical line of a function is the docstring for that function (also apply to modules and classes). func.__doc__ The convention: a multi-line string where the first line starts with a capital letter and ends with a dot. Then the second line is blank followed by any detailed explanation starting from the third line. ch8. Modules A module is basically a file containing all your functions and variables that you have defined . To reuse the module in other programs, the filename of the module must have a .py extension. ex. sys module When Python executes the import sys statement, it looks for the sys.py module in one of the directores listed in its sys.path variable. If the file is found, then the statements in the main block of that module is run and then the module is made available for you to use. The sys.argv variable is a list of strings, contains the list of command line arguments i.e. the arguments passed to your program using the command line. å³ç¨‹åºæ‰§è¡Œæ—¶ä¼ ç»™çš„å‚æ•°åˆ—è¡¨. The sys.path contains the list of directory names where modules are imported from. Observe that the first string in sys.path is empty - this empty string indicates that the current directory is also part of the sys.path which is same as the PYTHONPATH environment variable. This means that you can directly import modules located in the current directory. Otherwise, you will have to place your module in one of the directories listed in sys.path . Byte-compiled .pyc files Importing a module is a relatively costly affair. This .pyc file is useful when you import the module the next time from a different program - it will be much faster since part of the processing required in importing a module is already done. Also, these byte-compiled files are platform-independent. from..import If you want to directly import the argv variable into your program (to avoid typing the sys. everytime for it), then you can use the from sys import argv statement. not recommended... __name__ Every Python module has it's __name__ defined and if this is ' __main__ ', it implies that the module is being run standalone by the user and we can do corresponding appropriate actions. Every Python program is also a module. You just have to make sure it has a .py extension. dir() function You can use the built-in dir function to list the identifiers that a module defines. The identifiers are the functions, classes, variables and imported modules defined in that module. When you supply a module name to the dir() function, it returns the list of the names defined in that module. When no argument is applied to it, it returns the list of names defined in the current module. ch9. Data Structures Data structures are structures which can hold some data together. In other words, they are used to store a collection of related data. 3 built-in data structures in Python - list, tuple and dictionary . List [a,b,c] a data structure that holds an ordered collection of items. a mutable data type you can add any kind of object to a list including numbers and even other lists. methods: indexing operator: a_list[1] len(a_list) a_list.append() for..in loop to iterate through the items of the list a_list.sort() : this method affects the list itself and does not return a modified list del a_list[0] Tuple (a,b,c) Tuples are just like lists except that they are immutable Tuples are usually used in cases where a statement or a user-defined function can safely assume that the collection of values (i.e. the tuple of values) used will not change. can contain another tuple, another list...... singleton: t=(2,) (comma is necessary!) empth: t=() methods: indexing: a_touple[0] len(a_tuple) used for output format: print '%s is %d years old' % (name, age) Dictionary key-value mapping you can use only immutable objects (like strings) for the keys of a dictionary but you can use either immutable or mutable objects for the values of the dictionary. (This basically translates to say that you should use only simple objects for keys.) ä¸€ä¸ªdictä¸­çš„keysä¸å¿…åŒæ ·type, valuesä¹Ÿæ˜¯! key/value pairs in a dictionary are not ordered in any manner. instances/objects of the dict class. methods: adding key-value pair by indexing: dic[key]=val (overwrite if key already exists!) deleting: del dic[key] (KeyError if key doesn't exist!) dic.items() è¿”å›ä¸€ä¸ªlist of tuples : dic.items() [(k1,v1), (k2,v2)] for k,v in dic.items: print k, v dic.keys() è¿”å›keysçš„list test: the in operator: if akey in dic or even the has_key method of the dict class: if dic.has_key(k) Sequences Lists, tuples and strings are examples of sequences Two of the main features of a sequence is the indexing operation which allows us to fetch a particular item in the sequence directly and the slicing operation which allows us to retrieve a slice of the sequence i.e. a part of the sequence. The great thing about sequences is that you can access tuples, lists and strings all in the same way! indexing(seq can be List or Tuple or String): seq [2], seq[-1] slicing seq [1:3] (from 1 to 2!) seq[:] (a whole copy of the list) References What you need to remember is that if you want to make a copy of a list or such kinds of sequences or complex objects (not simple objects such as integers), then you have to use the slicing operation( list[:] ) to make a copy. If you just assign the variable name to another name, both of them will refer to the same object and this could lead to all sorts of trouble if you are not careful. String methods: str.startswith('a') return boolean str.find(substr) return index of subster or -1 if not found substr in str return boolean str.join(strseq) use str as delimiter to joint the items in strseq ch10. Problem Solving - Writing a Python Script \"a program which creates a backup of all my important files\" 1st version Run the command using the os.system function which runs the command as if it was run from the system i.e. in the shell - it returns 0 if the command was successfully, else it returns an error number. source = ['/home/swaroop/byte', '/home/swaroop/bin'] target_dir = '/mnt/e/backup/' target = target_dir + time.strftime('%Y%m%d%H%M%S') + '.zip' zip_command = \"zip -qr '%s' %s\" % (target, ' '.join(source)) if os.system(zip_command) == 0: print 'Successful backup to', target else: print 'Backup FAILED' 2nd version using the time as the name of the file within a directory with the current date as a directory within the main backup directory. if not os.path.exists(today): os.mkdir(today) # make directory ... target = today + os.sep + now + '.zip' os.sep variable - this gives the directory separator according to your operating system i.e. it will be '/' in Linux, Unix, it will be '\\' in Windows and ':' in Mac OS. 3rd version attaching a user-supplied comment to the name of the zip archive. comment = raw_input('Enter a comment --> ') if len(comment) == 0: # check if a comment was entered target = today + os.sep + now + '.zip' else: target = today + os.sep + now + '_' + \\ comment.replace(' ', '_') + '.zip' More Refinements allow extra files and directories to be passed to the script at the command line. We will get these from the sys.argv list and we can add them to our source list using the extend method provided by the list class. use of the tar command instead of the zip command. One advantage is that when you use the tar command along with gzip, the backup is much faster and the backup created is also much smaller. If I need to use this archive in Windows, then WinZip handles such .tar.gz files easily as well. tar = 'tar -cvzf %s %s -X /home/swaroop/excludes.txt' % (target, ' '.join(srcdir)) The most preferred way of creating such kind of archives would be using the zipfile or tarfile module respectively. \"Software is grown, not built\" ch11. Object-Oriented Programming fields, methods class: fields , methods Fields are of two types - they can belong to each instance/object of the class or they can belong to the class itself. They are called instance variables and class variables respectively. ou must refer to the variables and methods of the same object using the self variable only. This is called an attribute reference . we refer to the class variable as ClassName.var and not as self.var . self Class methods have only one specific difference from ordinary functions - they must have an extra first name that has to be added to the beginning of the parameter list , but you do do not give a value for this parameter when you call the method, Python will provide it. create an object/instance of this class using the name of the class followed by a pair of parentheses. The init method The __init__() method is run as soon as an object of a class is instantiated. The method is useful to do any initialization you want to do with your object. analogous to a constructor in C++, C# or Java. the same, __ del__() method: run when the object is no longer in use and there is no guarantee when that method will be run. If you want to explicitly do this, you just have to use the del statement. All class members (including the data members) are public and all the methods are virtual in Python. One exception: If you use data members with names using the double underscore prefix such as __privatevar , Python uses name-mangling to effectively make it a private variable. Inheritance ex: class Teacher(SchoolMember):// '''Represents a teacher.''' def __init__(self, name, age, salary): SchoolMember.__init__(self, name, age) self.salary = salary print '(Initialized Teacher: %s)' % self.name To use inheritance, we specify the base class names in a tuple following the class name in the class definition. -- multiple inheritance. the __init__ method of the base class is explicitly called using the self variable so that we can initialize the base class part of the object. This is very important to remember - Python does not automatically call the constructor of the base class, you have to explicitly call it yourself. ch12. Input/Output Files open and use files for reading or writing by creating an object of the file class and using its read , readline or write methods appropriately to read from or write to the file. Then finally, when you are finished with the file, you call the close method to tell Python that we are done using the file. f = file('poem.txt', 'w') # open for 'w'riting f.write(poem) # write text to file f.close() # close the file f = file('poem.txt') # if no mode is specified, 'r'ead mode is assumed by default while True: line = f.readline()# This method returns a complete line including the newline character at the end of the line. if len(line) == 0: # Zero length indicates EOF break print line, # Notice comma to avoid automatic newline added by Python f.close() # close the file Pickle Python provides a standard module called pickle using which you can store any Python object in a file and then get it back later intact. This is called storing the object persistently. There is another module called cPickle which functions exactly same as the pickle module except that it is written in the C language and is (upto 1000 times) faster. pickling & unpickling: import cPickle as p f = file ( shoplistfile , 'w' ) p . dump ( shoplist , f ) f . close () f = file ( shoplistfile ) storedlist = p . load ( f ) print storedlist To store an object in a file, first we open a file object in write mode and store the object into the open file by calling the dump function of the pickle module. This process is called pickling . Next, we retrieve the object using the load function of the pickle module which returns the object. This process is called unpickling . ch13. Exceptions Try..Except We can handle exceptions using the try..except statement. We basically put our usual statements within the try-block and put all our error handlers in the except-block. ex import sys try : s = raw_input ( 'Enter something --> ' ) except EOFError : print ' \\n Why did you do an EOF on me?' sys . exit () # exit the program except : print ' \\n Some error/exception occurred.' # here, we are not exiting the program print 'Done' The except clause can handle a single specified error or exception, or a parenthesized list of errors/exceptions. If no names of errors or exceptions are supplied, it will handle all errors and exceptions. If any error or exception is not handled, then the default Python handler is called which just stops the execution of the program and prints a message. You can also have an else clause associated with a try..catch block. The else clause is executed if no exception occurs. Raising Exceptions using the raise statement. You also have to specify the name of the error/exception and the exception object that is to be thrown along with the exception. The error or exception that you can arise should be class which directly or indirectly is a derived class of the Error or Exception class respectively. ex. class ShortInputException ( Exception ): '''A user-defined exception class.''' def __init__ ( self , length , atleast ): Exception . __init__ ( self ) self . length = length self . atleast = atleast try: s = raw_input ( 'Enter something --> ' ) if len ( s ) < 3 : raise ShortInputException ( len ( s ), 3 ) # specify the name of the error/exception and the exception object that is to be thrown except EOFError: print '\\nWhy did you do an EOF on me?' except ShortInputException , x : print 'ShortInputException: The input was of length %d, \\ was expecting at least %d' % ( x . length , x . atleast ) else: print 'No exception was raised.' Try..Finally What if you were reading a file and you wanted to close the file whether or not an exception was raised ? before the program exits, the finally clause is executed and the file is closed. ch14. The Python Standard Library sys module sys.argv there is always at least one item in the sys.argv list which is the name of the current program being run and is available as sys.argv[0] . Other command line arguments follow this item. sys.exit : to exit the running program. os module os.getcwd() gets the current working directory i.e. the path of the directory from which the curent Python script is working. os.listdir() os.remove() os.system() : run a shell command. os.linesep : string gives the line terminator used in the current platform. os.path.split() : returns the directory name and file name of the path. os.path.isfile() and os.path.isdir() ch15. More Python Special Methods Generally, special methods are used to mimic certain behavior. For example, if you want to use the x[key] indexing operation for your class (just like you use for lists and tuples) then just implement the __getitem__() method and your job is done. __init__(self, ...) __del__(self) __str__(self) Called when we use the print statement with the object or when str() is used. __lt__(self, other) Called when the less than operator ( < ) is used. Similarly, there are special methods for all the operators (+, >, etc.) __getitem__(self, key) Called when x[key] indexing operation is used. __len__(self) Called when the built-in len() function is used for the sequence object. List Comprehension used to derive a new list from an existing list. ex listone = [2, 3, 4] listtwo = [2*i for i in listone if i > 2] Here, we derive a new list by specifying the manipulation to be done (2*i) when some condition is satisfied (if i > 2). Receiving Tuples and Lists in Functions receiving parameters to a function as a tuple or a dictionary using the * or ** prefix respectively. This is useful when taking variable number of arguments in the function. def powersum(power, *args):... Due to the * prefix on the args variable, all extra arguments passed to the function are stored in args as a tuple. If a ** prefix had been used instead, the extra parameters would be considered to be key/value pairs of a dictionary. Lambda Forms A lambda statement is used to create new function objects and then return them at runtime . ex. def make_repeater(n): return lambda s: s * n twice = make_repeater(2) print twice('word') print twice(5) output: $ python lambda.py wordword 10 A lambda statement is used to create the function object . Essentially, the lambda takes a parameter followed by a single expression only which becomes the body of the function and the value of this expression is returned by the new function. Note that even a print statement cannot be used inside a lambda form, only expressions . The exec and eval statements The exec statement is used to execute Python statements which are stored in a string or file. The eval statement is used to evaluate valid Python expressions which are stored in a string. The assert statement to assert that something is true. For example, if you are very sure that you will have at least one element in a list you are using and want to check this, and raise an error if it is not true, then assert statement is ideal in this situation. When the assert statement fails, an AssertionError is raised. The repr function or Backticks(`) to obtain a canonical string representation of the object. you will have eval(repr(object)) == object most of the time. Basically, the repr function or the backticks are used to obtain a printable representation of the object. can control what your objects return for the repr function by defining the __ repr__ method in your class.","tags":"tech","title":"A byte of Python ç¬”è®°"},{"url":"https://x-wei.github.io/tech/linuxä¸‹å®‰è£…å¹¶ä½¿ç”¨javaå¼€å‘opencvçš„é…ç½®.html","text":"ä»Šå¤©èŠ±äº†å››ä¸ªå°æ—¶, ç»ˆäºåœ¨linuxä¸‹æŠŠeclipseä¸‹javaå¼€å‘opencvç»™æå®šäº†... è‡³äºä¸ºä»€ä¹ˆèŠ±è¿™ä¹ˆä¹…çš„æ—¶é—´... ä¸”å¬æˆ‘æ…¢æ…¢è®²... linuxç¼–è¯‘å®‰è£…opencv é¦–å…ˆ, linuxä¸‹å®‰è£…opencvå…¶å®ä¸éº»çƒ¦çš„, å‚è€ƒæ–‡æ¡£å³å¯å®Œæˆ: http://docs.opencv.org/trunk/doc/tutorials/introduction/linux_install/linux_install.html å¤§è‡´æœ‰ä»¥ä¸‹å‡ ä¸ªæ­¥éª¤: 1) å®‰è£…gccä»¥åŠcmakeç­‰ç­‰ä¹±ä¸ƒå…«ç³Ÿçš„è½¯ä»¶(ä¸è¿‡ubuntuä¸‹é»˜è®¤å·®ä¸å¤šéƒ½æœ‰äº†å§...) sudo apt-get install build-essential python-dev cmake 2) ä¸‹è½½opencv-2.4.8.zipå¹¶è§£å‹ç¼© 3) æ–°å»ºä¸€ä¸ªbuildæ–‡ä»¶å¤¹ cd ~/opencv mkdir build cd build 4) åœ¨ç»ˆç«¯é‡Œè¾“å…¥: cmake -D CMAKE_BUILD_TYPE=RELEASE -D CMAKE_INSTALL_PREFIX=/usr/local .. make sudo make install makeå‘½ä»¤ä¼šèŠ±è´¹å‡ ååˆ†é’Ÿæ—¶é—´... ç„¶å ç†è®ºä¸Š å°±ç»“æŸäº†... å¦‚æœä¸ç”¨javaå¼€å‘çš„è¯ å°±OKäº† æ¯”å¦‚ å¯ä»¥è¿è¡Œsampleæ–‡ä»¶å¤¹ä¸‹çš„pythonä»£ç ... ä½†æ˜¯ , å¦‚æœè¦ä½¿ç”¨javaå¼€å‘çš„è¯ éœ€è¦æ¥ç€è¿™æ ·åš..... å®‰è£…opencv-java è¿™ä¸€æ­¥éå¸¸DT, å› ä¸ºå®˜ç½‘ä¸Šè¿˜æœ‰ä¸€ä¸ªæ–‡æ¡£, ä¸“é—¨è®²æ€ä¹ˆç”¨javaå¼€å‘çš„... http://docs.opencv.org/doc/tutorials/introduction/desktop_java/java_dev_intro.html 1) é¦–å…ˆ, éœ€è¦å®‰è£…ant: sudo apt-get install ant 2) å…¶æ¬¡ éœ€è¦è¿è¡Œcmake, å…³é”®æ˜¯cmakeçš„å‚æ•°, å®˜ç½‘ç»™çš„æ˜¯è¿™æ ·çš„: export JAVA_HOME=/usr/lib/jvm/java-6-oracle#è¿™å¥ä¸åŠ åº”è¯¥ä¹Ÿå¯ä»¥çš„ cmake -DBUILD_SHARED_LIBS=OFF .. æ³¨æ„çœ‹è¾“å‡ºçš„, å¦‚æœ\"To be built\"é‡Œé¢æœ‰javaè¿™ä¸€é¡¹çš„è¯, å°± åº”è¯¥ æ˜¯OKçš„.... æ¥ä¸‹æ¥åªè¦ make -j8 å°±å¯ä»¥äº†... æœ€å‘çˆ¹çš„åœ°æ–¹æ¥äº†, ä»¥è¿™æ ·çš„å‚æ•°è¿è¡Œcmakeä»¥å, è¿è¡Œ make -j8 æ€»æ˜¯ä¸æˆåŠŸ, è¯´æœ‰é”™è¯¯..... æŸ¥äº†åŠå¤©, å‘ç°è¿™æ˜¯ä¸€ä¸ªBUG: http://code.opencv.org/issues/2859 é‚£ä¹ˆè¯•ä¸€è¯•åŠ ä¸Šå‚æ•°: -DBUILD_TESTS=OFF å§... æ‰€ä»¥cmakeçš„å‚æ•°è¦è¿™æ ·å†™æ‰å¯ä»¥ : cmake -D CMAKE_BUILD_TYPE=RELEASE -D CMAKE_INSTALL_PREFIX=/usr/local -DBUILD_TESTS=OFF .. 3) ç”¨ä¸Šé¢é‚£æ ·çš„å‚æ•°è¿è¡Œcmakeä»¥å, å†: make -j8 sudo make install è¿™æ ·å°±å¯ä»¥æˆåŠŸmakeäº†... å¦‚ä½•åˆ¤æ–­æ˜¯å¦å®‰è£…æˆåŠŸ? ä»¥ä¸Šæ“ä½œç»“æŸå, çœ‹çœ‹buildæ–‡ä»¶å¤¹, binç›®å½•ä¸‹æ˜¯ä¸æ˜¯æœ‰ä¸€ä¸ª opencv-248.jar æ–‡ä»¶: å¦‚æœæœ‰çš„è¯ å°±è¯´æ˜æˆåŠŸå®‰è£…äº†opencvçš„javaç»„ä»¶... !!æ³¨æ„!! ä¸èƒ½ç”¨windowsä¸‹opencvå®‰è£…ç›®å½•ä¸‹çš„é‚£ä¸ªopencv-248.jar !! åˆšæ‰ç”Ÿæˆé‚£ä¸ªjarå’Œwindowsä¸‹çš„jarä¸ä¸€æ ·çš„!! (æˆ‘æŸ¥äº†MD5ç ... å…¶å®çœ‹æ–‡ä»¶å¤§å°ä¹Ÿèƒ½çœ‹å‡ºæ¥!!) Eclipseä¸‹çš„é…ç½® è¿™é‡Œæœ‰ä¸€ç¯‡éå¸¸å¥½çš„å¸–å­, å†™çš„éå¸¸åˆ°ä½, æˆ‘å°±ä¸é‡å¤äº†, é“¾æ¥: http://exintopro.net/blog/2013/10/02/setting-up-eclipse-for-using-opencv-java-in-ubuntu/ è¿™ä¸ªå¸–å­è™½ç„¶å¾ˆå¥½, ä½†æ˜¯æ²¡æœ‰ä»‹ç»ç¼–è¯‘çš„é‚£ä¸€éƒ¨åˆ†, ç”±äºå®‰è£…javaç»„ä»¶æ—¶çš„ç¼–è¯‘è¿‡ç¨‹å’Œå®˜ç½‘ç»™çš„ä¸ä¸€æ ·, æ‰€ä»¥æ‰å¯¼è‡´æˆ‘åºŸäº†åŠå¤©çš„æ—¶é—´å•Š!......","tags":"tech","title":"linuxä¸‹å®‰è£…å¹¶ä½¿ç”¨javaå¼€å‘opencvçš„é…ç½®"},{"url":"https://x-wei.github.io/tech/javaçº¿ç¨‹å°ç»“.html","text":"INF422çš„TD2, è¿™èŠ‚TDæ˜¯è¦åšä¸€ä¸ªå¤šçº¿ç¨‹ç­›é€‰è´¨æ•°çš„ç¨‹åº, å…³äºjavaçš„å¤šçº¿ç¨‹, ä»¥å‰ç”¨è¿‡ä½†æ˜¯ä¸çŸ¥é“å•¥æ„æ€, åœ¨è¿™é‡Œæ€»ç»“ä¸‹. åˆ›å»ºè¿›ç¨‹ ä¸ºäº†å®ç°å¤šçº¿ç¨‹, éœ€è¦å®šä¹‰ä¸€ä¸ªæ–°çš„class, æœ‰ä¸¤ç§æ–¹æ³•: æˆ–è€…ç»§æ‰¿è‡ª Thread ç±», æˆ–è€…å®ç° Runnable æ¥å£ (å…³é”®æ˜¯é‡è½½run()æ–¹æ³•). ç»§æ‰¿è‡ªThreadç±» å†™æ³•1: å®šä¹‰ä¸€ä¸ªç»§æ‰¿è‡ªThreadçš„å†…éƒ¨ç±»-- class [ç±»å] extends Thread{ æ–¹æ³•1; æ–¹æ³•2ï¼› â€¦ public void run(){ // â€¦ } å±æ€§1ï¼› å±æ€§2ï¼› â€¦ } æˆ–è€…ç”¨ä¸‹é¢ç§ å†…è”(inline) çš„å†™æ³•, ä¸ç”¨ç»™è¿™ä¸ªç±»èµ·åå­—äº†(ä¸è¿‡è¿˜è¦ç»™è¿™ä¸ªå®ä¾‹å–åå­—): private Thread [å®ä¾‹å] = new Thread () { public void run() { // ... } } ; ç„¶åè®©è¿›ç¨‹å¼€å§‹, å°±æ˜¯: t.start(); å¦‚æœç”¨ t.run() çš„è¯, åˆ™ä¾ç„¶æ˜¯å¹¶è¡Œæ‰§è¡Œçš„, å¯èƒ½è¾¾ä¸åˆ°å¤šçº¿ç¨‹æ•ˆæœ... å®ç°Runnableæ¥å£ æ–¹æ³•1, ä»£ç : class [ç±»å] implements Runnable{ æ–¹æ³•1; æ–¹æ³•2ï¼› â€¦ public void run(){ // other codeâ€¦ } å±æ€§1ï¼› å±æ€§2ï¼› â€¦ } æ–¹æ³•2, å†…è”å†™æ³•: private Runnable [å®ä¾‹å] = new Runnable() { public void run() { //... } }; androidä¸Šéœ€è¦æ³¨æ„çš„ä¸€ç‚¹ \"Android modifies the user interface and handles input events from one single user interface thread. This thread is also called the main thread .\" Android collects all events in a queue and processed an instance of the Looper class. æ‰€ä»¥æ³¨æ„è¦ä¿®æ”¹ç”¨æˆ·äº¤äº’çš„ç»„ä»¶(View, Toast, ect.)çš„æ—¶å€™, éœ€è¦åœ¨main Threadé‡Œé¢æ“ä½œ, å¦åˆ™è¿è¡Œæ—¶ä¼šå‡ºé”™!! é‚£ä¹ˆ, å½“å…¶ä»–çº¿ç¨‹è¿›è¡Œè®¡ç®—å®Œæˆä»¥å, è¦åˆ·æ–°å±å¹•çš„æ˜¾ç¤ºæ—¶, éœ€è¦å‘ŠçŸ¥main Thread è¿›è¡Œæ›´æ–°æ˜¾ç¤º: \"Ajouter un nouvel objet comportant une mÃ©thode run() mettant Ã  jour le nombre d'entier premiers (nouvel objet implÃ©mentant l'interface Runnable). Ã€ la fin du crible, le thread de calcul devra alors envoyer un message (ce nouvel objet) au thread principal pour mettre Ã  jour l'affichage graphique. Cette mise Ã  jour doit Ãªtre faite via un appel Ã  la mÃ©thode post() d'une instance de la classe Handler (l'objet Handler doit Ãªtre instanciÃ© dans le thread principal).\" Bref, è¦åšåˆ°å¤šçº¿ç¨‹è®¡ç®—, è®¡ç®—ç»“æœæ˜¾ç¤ºåœ¨å±å¹•ä¸Š, éœ€è¦: æ·»åŠ ä¸€ä¸ªRunnableå®ä¾‹(\"ä¸€ä¸ªå®ç°äº†Runnableæ¥å£çš„ç±»çš„å®ä¾‹\"), é‡è½½run()æ–¹æ³•å®ç°calcul ä¸€ä¸ª Handler å®ä¾‹, ç„¶åè°ƒç”¨è¿™ä¸ªHandlerçš„post()æ–¹æ³•. çœ‹çœ‹æ–‡æ¡£é‡Œæ˜¯å’‹è¯´çš„: public final boolean post (Runnable r) Added in API level 1 Causes the Runnable r to be added to the message queue. The runnable will be run on the thread to which this handler is attached. Parameters r The Runnable that will be executed. Returns Returns true if the Runnable was successfully placed in to the message queue. Returns false on failure, usually because the looper processing the message queue is exiting. æ„æ€æ˜¯ handler.post(r) ä¼šæŠŠr(ä¸€ä¸ªRunnableå®ä¾‹)åŠ å…¥message queueä¸­å», è¿™ä¸ªRunnableä¼šåœ¨è¿™ä¸ªhandlerå…³è”çš„Threadä¸­æ‰§è¡Œ . æ‰€ä»¥åªè¦handlerå…³è”çš„æ˜¯main Thread, å°±å¯ä»¥åœ¨è¿™ä¸ªRunnalbeé‡Œé¢å†™graphicçš„ä»£ç ä¹Ÿä¸ä¼šå‡ºé”™äº†. å¦‚æœåœ¨Activityç±»çš„å£°æ˜é‡Œå£°æ˜handlerä¸ºä¸€ä¸ªå±æ€§: private Handler handler = new Handler(); è¿™ä¸ªæ„é€ å‡½æ•°æ²¡æœ‰å‚æ•°, æ ¹æ®æ–‡æ¡£, \"Default constructor associates this handler with the Looper for the current thread.\" æ‰€ä»¥è¿™ä¸ªhandlerå…³è”åˆ°äº†current thread, ä¹Ÿå°±æ˜¯main Thread..... ä¾‹å­ æ‰€ä»¥, å¤šçº¿ç¨‹è®¡ç®—, è®¡ç®—ç»“æŸåä¿®æ”¹å±å¹•æ˜¾ç¤ºçš„è¯, éœ€è¦ä»¥ä¸‹__ä¸‰ä¸ªæ­¥éª¤__(æ¯”ä¸Šé¢çš„ä¿©æ­¥éª¤å¤šäº†ä¸€ä¸ª, ä¸çŸ¥é“æ˜¯å¦è¿˜å¯ä»¥ç®€åŒ–): åœ¨ä¸»çº¿ç¨‹é‡Œå£°æ˜handler, (å£°æ˜æˆActivityçš„ä¸€ä¸ªå±æ€§): private Handler handler = new Handler(); å†™ä¸€ä¸ªç”¨äºä¿®æ”¹å±å¹•æ˜¾ç¤ºçš„Runnable r(ä¹Ÿå£°æ˜æˆä¸€ä¸ªå±æ€§äº†): private Runnable r = new Runnable() { public void run() { //code to update graphic display... } }; å†å†™ä¸€ä¸ªè¿›è¡Œè®¡ç®—çš„Thread t, åœ¨è®¡ç®—ç»“æŸå, ç”¨handler.post(r)å®ç°åˆ·æ–°æ˜¾ç¤ºçš„æ•ˆæœ: private final Thread t = new Thread() { public void run() { //...code for calculating... //ç»“æŸè®¡ç®—ä»¥å, åˆ·æ–°å±å¹•: handler.post(r); } }; ç„¶ååœ¨onCreate()å‡½æ•°é‡Œ, è®©Thread t å¯åŠ¨èµ·æ¥: t.start(); éœ€è¦è®©tä¸€ç›´å¾ªç¯(ç›‘è§†æŸä¸ªflag), å½“flagå˜ä¸ºtrueçš„æ—¶å€™, è¿›è¡Œè®¡ç®—. ä¸ºäº†è¾¾åˆ°è¿™ä¸ªæ•ˆæœ, Thread té‡Œé¢çš„run()æ–¹æ³•éœ€è¦è¿™æ ·å†™: public void run() { while(true) { if(flag){ //...do the calculation... handler.post(r); flag=false; } } } Process, Threadå’ŒRunnableçš„åŒºåˆ«? çº¿ç¨‹(Thread)æ˜¯æŒ‡è¿›ç¨‹(Process)ä¸­çš„ä¸€ä¸ªæ‰§è¡Œæµç¨‹ï¼Œä¸€ä¸ªè¿›ç¨‹ä¸­å¯ä»¥è¿è¡Œå¤šä¸ªçº¿ç¨‹ã€‚æ¯”å¦‚java.exeè¿›ç¨‹ä¸­å¯ä»¥è¿è¡Œå¾ˆå¤šçº¿ç¨‹ã€‚çº¿ç¨‹æ€»æ˜¯å±äºæŸä¸ªè¿›ç¨‹ï¼Œè¿›ç¨‹ä¸­çš„å¤šä¸ªçº¿ç¨‹å…±äº«è¿›ç¨‹çš„å†…å­˜ã€‚ å‚è€ƒé“¾æ¥: http://www.vogella.com/articles/AndroidBackgroundProcessing/article.html http://www.cnblogs.com/rollenholt/archive/2011/08/28/2156357.html http://developer.android.com/reference/android/os/Handler.html http://lavasoft.blog.51cto.com/62575/99150","tags":"tech","title":"javaçº¿ç¨‹å°ç»“"},{"url":"https://x-wei.github.io/tech/ADTç¯å¢ƒæ­å»º.html","text":"è¿™å­¦æœŸINF422, ç¬¬ä¸€èŠ‚è¯¾å°±æ˜¯androidå®‰è£…è°ƒè¯•ç¯å¢ƒçš„æ­å»º(å±…ç„¶è¦ä¸€èŠ‚è¯¾?), è¿™é‡Œæ€»ç»“ä¸€ä¸‹. ç¬¬ä¸€æ­¥: ä¸‹è½½bundle ä¸‹è½½ ADT-Bundle è§£å‹ç¼©ä»¥åå•¥éƒ½æœ‰äº†, åŒ…å«ä¸€ä¸ªeclipse... ç¬¬äºŒæ­¥: ä¿®æ”¹ç¯å¢ƒå˜é‡ linuxä¸‹çš„ç¯å¢ƒå˜é‡æ”¾åœ¨ .bashrcæ–‡ä»¶ , åŠ å…¥ä¸‹é¢ä¸€è¡Œ: PATH=$PATH:<dir>/sdk/tools/:<dir>/sdk/platform-tools/: å…¶ä¸­ <dir> æ˜¯æ”¾ç½®SDKçš„ç›®å½•åœ°å€. æµ‹è¯•ä¸€ä¸‹å¥½ä¸å¥½ä½¿, åœ¨ç»ˆç«¯ä¸­è¾“å…¥ android , çœ‹æ˜¯å¦ä¼šå¼¹å‡ºSDK manager ç¬¬ä¸‰æ­¥: æ–°å»ºä¸€ä¸ªvirtual machine å¯ä»¥ç”¨eclipseçš„AVDmanageråš, ä¹Ÿå¯ä»¥ç”¨å‘½ä»¤è¡Œåš. è¾“å…¥: android list targets æ‰¾åˆ°æƒ³è¦çš„target(æˆ‘ä»¬è¦4.1.2)çš„é‚£ä¸ªid(ä¸€ä¸ªæ•°å­—), ç„¶å, è¿è¡Œå‘½ä»¤: android create avd -t <target_id> -n inf422 --abi armeabi-v7a è¿™æ ·å°±ç”Ÿæˆäº†ä¸€ä¸ªåå«\"inf422\"çš„è™šæ‹Ÿæœº ç¬¬å››æ­¥: å…³è”åˆ°è‡ªå®šä¹‰çš„é•œåƒ inf422è¿™é—¨è¯¾æä¾›äº†ä¸€ä¸ªä¿®æ”¹è¿‡çš„androidé•œåƒ, åœ¨ è¿™é‡Œ å’Œ è¿™é‡Œ ä¸‹è½½, ä¸‹è½½åˆ°æœ¬åœ°çš„ç›®å½•ä¸Šäº†ä»¥å, è¿è¡Œ: emulator @inf422 -ramdisk <IMAGES>/ramdisk.img -kernel <IMAGES>/kernel-qemu å…¶ä¸­ æ˜¯åˆšåˆšå­˜æ”¾é‚£ä¿©é•œåƒæ–‡ä»¶çš„ç›®å½•. ç¬¬äº”æ­¥: telnetè¿æ¥è™šæ‹Ÿæœº è¯¾ç¨‹é‡Œç”¨çš„emulatorä½¿ç”¨telnetæœåŠ¡å™¨, ä¸”æ˜¯åœ¨è™šæ‹Ÿæœºçš„23ç«¯å£æ¥æ”¶ä¿¡æ¯. å…ˆé‡å®šå‘ä¸€ä¸‹ç«¯å£, å®šå‘åˆ°localhostçš„4444ç«¯å£: adb forward tcp:4444 tcp:23 è¿™æ ·, ä»¥åè¦ç™»å½•æ¨¡æ‹Ÿå™¨emulatorçš„æ—¶å€™, åªéœ€è¦è¾“å…¥: telnet localhost 4444 (ç”¨æˆ·åæ˜¯root, ä¸è¦å¯†ç ) ç¬¬å…­æ­¥: ç”¨ä¸¤ç§æ–¹æ³•è¿›å…¥è™šæ‹Ÿæœº åˆšæ‰çš„4444ç«¯å£æ˜¯è¿›å…¥emulatorç”¨çš„, è€Œæ‰“å¼€è™šæ‹Ÿæœºçš„æ—¶å€™, çª—å£æ ‡é¢˜æ˜¯ä¸€ä¸ªæ•°å­—å†åŠ è™šæ‹Ÿæœºçš„åå­—(æˆ‘çš„æ˜¾ç¤ºçš„æ˜¯\"5554:inf422\"), è¿™ä¸ª5554æ˜¯å¦å¤–ä¸€ä¸ªç«¯å£, ç”¨äºç”¨shellæ–¹å¼ç™»é™†, ç™»é™†åå¯ä»¥ä½¿ç”¨shellå‘½ä»¤æŸ¥çœ‹æ–‡ä»¶æˆ–è€…è¿›è¡Œä¸€äº›æ“ä½œ. è€Œä¸ä¹‹å¯¹åº”, ä»4444ç«¯å£ç™»é™†, åˆ™æ˜¯è¿›å…¥emulatorçš„æ§åˆ¶console ä¸¤ç§æ–¹æ³•å’ŒAVDäº¤æµ: console: linuxå‘½ä»¤, å‘½ä»¤è¡Œ emulator: å‘é€å‘½ä»¤äº§ç”Ÿä¸€äº›äº‹ä»¶(ç”µè¯, çŸ­ä¿¡, GPSç­‰) ç¬¬äºŒç§æ–¹å¼å¯ä»¥æ¨¡æ‹Ÿä¸€äº›æ‰‹æœºäº‹ä»¶, å¾ˆæœ‰ç”¨... ä½¿ç”¨helpå‘½ä»¤æŸ¥çœ‹emulatoræ€ä¹ˆä½¿ç”¨","tags":"tech","title":"ADTç¯å¢ƒæ­å»º"},{"url":"https://x-wei.github.io/tech/androidå¼€å‘æ•™ç¨‹ç¬¬ä¸€å­£ç¬”è®°.html","text":"S01E02: å¼€å‘ç¯å¢ƒæ­å»º ç›´æ¥å» developer.android.com/sdk/ ä¸‹è½½bundleè§£å‹å³å¯, é‡Œé¢åŒ…å«eclipse æ–°å»ºä¸€ä¸ªæ¨¡æ‹Ÿå™¨: å†…éƒ¨å­˜å‚¨ä¸€èˆ¬64MBè¶³çŸ£: S01E03: androidé¡¹ç›®ç›®å½•ç»“æ„ ç¬¬ä¸€ä¸ªandroidç¨‹åº new-->android application ç›®å½•ç»“æ„ com.example.helloworldè¿™ä¸ªåŒ…åä¸€èˆ¬ä¸ºç½‘å€å€’ç€å†™, androidæ˜¯æŒ‰ç…§åŒ…åæ¥åŒºåˆ†ä¸åŒAPPçš„ src/ç›®å½•ä¸‹å­˜æ”¾javaç¨‹åº gen/ç›®å½•ä¸‹å­˜æ”¾ç³»ç»Ÿè‡ªåŠ¨ç”Ÿæˆçš„æ–‡ä»¶, R.javaé‡Œç»™æ¯ä¸€ä¸ªæ§ä»¶æˆ–å˜é‡èµ‹äºˆä¸€ä¸ªid, åƒä¸‡__ä¸è¦æ‰‹åŠ¨ä¿®æ”¹R,.javaå†…å®¹__!! assets/ç›®å½•ä¸‹å’Œres/ç›®å½•ä¸‹éƒ½å¯ä»¥æ”¾å„ç§å¤–éƒ¨æ–‡ä»¶(ex. å›¾ç‰‡), ä½†æ˜¯assetsä¸‹çš„æ–‡ä»¶ä¸ä¼šåœ¨R.javaä¸­ç”Ÿæˆid res/layout/ å­˜æ”¾å¸ƒå±€æ–‡ä»¶(xmlæ ¼å¼) AndroidManifest.xmlç”¨äºç»Ÿç­¹ S01E04: æŠ€æœ¯ç»“æ„ å››å±‚ç»“æ„å›¾ å¼€å‘ä½äºæœ€ä¸Šå±‚application åŸºäºç»„ä»¶çš„åº”ç”¨ç¨‹åºå¼€å‘ æ­ç§¯æœ¨ å¸¸è§ç»„ä»¶ activity(è´Ÿè´£ç”¨æˆ·äº¤äº’); service(åå°å¤„ç†æ•°æ®); Content Provider(å¯¹å¤–æä¾›æ•°æ®); BroadcastReceiver(æ¥æ”¶broadcast) S01E05: activityåˆæ­¥ Activityå¯åŠ¨åŸºæœ¬æµç¨‹ AndroidManifest.xmlé‡Œé¢æŒ‡å®š, ç¨‹åºè¿è¡Œåæ‰§è¡ŒMainActivity.java MainActivity.javaçš„onCreate()å‡½æ•°é‡ŒsetContentView(R.layout.activity_main); è¯»å–activity_main.xmlæ–‡ä»¶å¹¶æ˜¾ç¤º Activityä¸å¸ƒå±€æ–‡ä»¶ ä¸€ä¸€å¯¹åº” (eclipseç¼–è¾‘å™¨é‡Œæœ‰å›¾å½¢åŒ–é¢„è§ˆç•Œé¢) åœ¨Activityå½“ä¸­è·å–ä»£è¡¨æ§ä»¶å¯¹è±¡ é¦–å…ˆåœ¨activity_main.xmlé‡Œå®šä¹‰æ§ä»¶æ—¶, ä¸ºå…¶æŒ‡å®šä¸€ä¸ªid: android : id = \"@+id/textView1\" ( \"+id\" è¡¨ç¤ºæ–°å»ºä¸€ä¸ª id ) â†’ è‡ªåŠ¨åœ¨R.javaé‡Œç”Ÿæˆä¸€ä¸ªid: public static final class id { public static final int textView1=0x7f080003; } â†’ ä¹‹ååœ¨MainActivity.javaé‡Œ, å…ˆå£°æ˜æˆå‘˜å˜é‡: private TextView tv â†’ åœ¨onCreate()ä¸­, é€šè¿‡idè·å¾—è¿™ä¸ªæ§ä»¶å¯¹è±¡: tv = (TextView) findViewById(R.id.textView1);//æœ‰å‘ä¸‹è½¬å‹: TextViewæ˜¯Viewçš„å­ç±» â†’ ä¹‹åå°±å¯ä»¥è°ƒç”¨tvçš„å„ç§æ–¹æ³•äº†,å…·ä½“è§SDKé‡Œçš„æ–‡æ¡£i(android.widget.TextView), ä»è€Œå®ç°å†javaç¨‹åºé‡ŒåŠ¨æ€ä¿®æ”¹æ§ä»¶å±æ€§. S01E06: View Viewçš„åŸºæœ¬æ¦‚å¿µ Viewæ˜¯ä¸€ä¸ªæ§ä»¶?... ä¸ºä¸€ä¸ªViewç»‘å®šç›‘å¬å™¨ (æˆ‘å°±è®¤ä¸ºViewæ˜¯ä¸€ä¸ªæ§ä»¶äº†) javaç¨‹åºé‡Œè·å–æ§ä»¶ä»£è¡¨çš„å¯¹è±¡: findViewById()æ–¹æ³• bt = (Button) findViewById(R.id.button1); å®šä¹‰ä¸€ä¸ª å†…éƒ¨ç±» å®ç°ç›‘å¬å™¨æ¥å£: // **ä½¿ç”¨ä¸€ä¸ªå†…éƒ¨ç±»å®šä¹‰ç›‘å¬å™¨** // Buttonçš„ç›‘å¬å™¨ å®ç°OnClickListeneræ¥å£, OnClickListeneræ¥å£æ˜¯å¤„ç†ç‚¹å‡»äº‹ä»¶çš„ class ButtonListener implements OnClickListener { @Override // å®ç°è¯¥æ¥å£çš„æŠ½è±¡æ–¹æ³•onClick public void onClick(View v) { //do something...... } }// end å†…éƒ¨ç±»ButtonListener onCreate()é‡Œç”Ÿæˆä¸€ä¸ªç›‘å¬å™¨å¯¹è±¡, å¹¶ä¸ºæ§ä»¶ç»‘å®šè¯¥ç›‘å¬å™¨ ButtonListener bl = new ButtonListener();// ç”Ÿæˆä¸€ä¸ªç›‘å¬å™¨å¯¹è±¡ bt.setOnClickListener(bl);// **è¿™å¥è¯æŠŠç›‘å¬å™¨å’Œäº‹ä»¶è”ç³»åœ¨ä¸€èµ·äº†** ç‚¹å‡»è¿™ä¸ªæŒ‰é’® å°±ä¼šæ‰§è¡Œå®ƒçš„onclickæ–¹æ³• ä¸€ä¸ªç›‘å¬å™¨å¯ä»¥ç»‘å®šç»™å¤šä¸ªæ§ä»¶ å¦æ³• å¯ä»¥ç›´æ¥å†™åœ¨setOnClickListenerå‚æ•°é‡Œ, ä¸ç”¨ç»™å†…éƒ¨ç±»èµ·åå­—: bt.setOnClickListener(new OnClickListener() { @Override public void onClick(View v) { //do something...... } }); S01E07: å¸ƒå±€ æ‰€è°“çš„æ§ä»¶å¸ƒå±€æ–¹æ³•,å°±æ˜¯æŒ‡æ§åˆ¶æ§ä»¶åœ¨Activityå½“ä¸­çš„ä½ç½®ã€å¤§å°ã€é¢œè‰²ä»¥åŠå…¶ä»–æ§ä»¶æ ·å¼å±æ€§çš„æ–¹æ³•ã€‚ å¸ƒå±€å¯ä»¥ç”¨xmlå¸ƒå±€æ–‡ä»¶(ex. /res/layout/activity_main.xml) ä¹Ÿå¯ä»¥åœ¨javaæ–‡ä»¶é‡Œå®Œæˆæ§ä»¶å¸ƒå±€ æœ€å¸¸ç”¨: çº¿æ€§å¸ƒå±€LinearLayout, ç›¸å¯¹å¸ƒå±€RelativeLayout å…ˆæš‚æ—¶ç”¨çº¿æ€§å¸ƒå±€LinearLayout, æœ€ç®€å• S01E08: è·ç¦»å•ä½; è¾¹è· è·ç¦»å•ä½: px, dp, sp px =åƒç´ ç‚¹ ä½¿ç”¨pxæŒ‡å®šæ§ä»¶å¤§å°, åˆ™ä¸åŒåˆ†è¾¨ç‡æ‰‹æœºæ˜¾ç¤ºç»“æœä¸åŒ, éå¸¸éº»çƒ¦. dpiè®¡ç®—å…¬å¼: dp =dip(Device Independent pixels) æ˜¯è®¾å¤‡æ— å…³çš„åƒç´ å•ä½ æ¢ç®—å…¬å¼ px = dp * (dpi / 160) åœ¨320*480çš„å±å¹•ä¸Š, dpä¸pxç›¸ç­‰ æ€»ä¹‹ä¸€èˆ¬æŒ‡å®šæ§ä»¶å¤§å°å°±ç”¨dp sp =scaled pixels å¯æ”¹å˜å¤§å°çš„åƒç´ å•ä½ å½“ç”¨æˆ·ä¿®æ”¹æ‰‹æœºæ˜¾ç¤ºå­—ä½“æ—¶,spä¼šéšä¹‹æ”¹å˜ spå•ä½é€šå¸¸ç”¨äºæŒ‡å®šå­—ä½“çš„å¤§å° å†…å¤–è¾¹è·: margin, padding margin: æ§ä»¶ç¦»å…¶ä»–æ§ä»¶çš„è·ç¦» padding: æ§ä»¶å†…å®¹ç¦»æ§ä»¶è¾¹æ¡†çš„è·ç¦» è®¾ç½®å†…è¾¹è·ä¸å¤–è¾¹è·: layout_margin, layout_marginTop, ... padding, paddingTop, ... S01E09: CheckBoxå¤šé€‰æ¡† æ•ˆæœ: å¸ƒå±€æ–‡ä»¶é‡Œä½¿ç”¨ æ ‡ç­¾ OnClickListenerä¸OnCheckedChangeListenerç›‘å¬å™¨ æ³¨æ„ è¿™ä¿©ç›‘å¬å™¨æ˜¯æœ‰ä¸€å®šåŒºåˆ«çš„, OnClickListenerå¿…é¡»æ˜¯ç”¨æˆ·ç‚¹å‡»æ‰èƒ½è§¦å‘, OnCheckedChangeListeneråˆ™æ˜¯åªè¦çŠ¶æ€æ”¹å˜äº†(å³ä½¿æ˜¯ç”±ç¨‹åºé‡Œæ”¹å˜çš„)å°±ä¼šè§¦å‘ å¯ä»¥å‡ ä¸ªCheckBoxç»‘å®šä¸ŠåŒä¸€ä¸ªç›‘å¬å™¨ OnClickListeneræ¥å£çš„æ–¹æ³•: public void onClick(View v) æœ‰ä¸€ä¸ª å‚æ•°View v , æŒ‡çš„æ˜¯æ˜¯å“ªä¸ªæ§ä»¶è¢«ç‚¹å‡»äº†, åœ¨onClick()ä¸­è¦å¤„ç†è¿™ä¸ªæ§ä»¶æ—¶, ä½¿ç”¨: CheckBox cb = (CheckBox) v; å¾—åˆ°è¿™ä¸ªæ§ä»¶å¯¹è±¡, æˆ–è€…é€šè¿‡å…¶ id: v.getId() ä¹Ÿå¯ä»¥ S01E10: å•é€‰æ¡†RadioButton æ•ˆæœ: RadioGroup å•é€‰æŒ‰é’®RadioButtonéœ€è¦æ”¾åœ¨ä¸€ä¸ªRadioGroupä¸­ xmlä»£ç : <RadioGroup android:id= \"@+id/radioGroupId\" android:layout_width= \"0dp\" android:layout_height= \"wrap_content\" android:layout_gravity= \"center\" android:orientation= \"vertical\" android:layout_weight= \"1\" > <RadioButton android:id= \"@+id/radioButton_h\" android:layout_width= \"wrap_content\" android:layout_height= \"wrap_content\" android:text= \"homme\" /> <RadioButton android:id= \"@+id/radioButton_f\" android:layout_width= \"wrap_content\" android:layout_height= \"wrap_content\" android:text= \"femmee\" /> </RadioGroup> <!-- åƒRadioGroupè¿™æ ·å†™çš„xmlæ ‡ç­¾å¯ä»¥æ‹¥æœ‰å­æ ‡ç­¾, è€ŒåƒRadioButtonè¿™ç§åˆ™ä¸èƒ½ â†’ RadioGroupçš„OnCheckedChangeListener æœ‰ä¿©å‚æ•°... (RadioGroup group, int checkedId) ç›´æ¥ä¸Šä»£ç å§: class RadioGroupListener implements android . widget . RadioGroup . OnCheckedChangeListener { @Override // æ³¨æ„çœ‹è¿™ä¿©å‚æ•° ! public void onCheckedChanged ( RadioGroup group , int checkedId ) { // checkedIdæ˜¯è¢«é€‰æ‹©çš„å“ªä¸ªRadioButtonçš„Id ( è€Œä¸æ˜¯ä»€ä¹ˆåºå· ) if ( checkedId == R . id . radioButton_h ) // ç”¨ä¸¤ç§æ–¹æ³•å¾—åˆ°æƒ³è¦çš„id : 1. ä½¿ç”¨Rä¸­å®šä¹‰çš„ { tv3 . setText ( \"Homme!\" ); rb_h2 . setChecked ( true ); } else if ( checkedId == rb_f . getId ()) // 2. ä½¿ç”¨getid () æ–¹æ³• { tv3 . setText ( \"Femme!\" ); rb_f2 . setChecked ( true ); } } } S01E11: æ˜¾ç¤ºå›¾ç‰‡ImageView æ’å›¾çš„æ–¹æ³• æŠŠå›¾ç‰‡æ”¾åœ¨./res/drawable é‡Œé¢(æœ‰å¥½å‡ ä¸ªåˆ†è¾¨ç‡çš„drawable, éšä¾¿ä¸€ä¸ª...), ex. æ”¾åœ¨äº†./res/drawable-hdpi/pic.jpg â†’ ä¼šåœ¨R.javaé‡Œç”Ÿæˆå…¶ id: pic åœ¨xmlä¸­ä½¿ç”¨ æ ‡ç­¾ å¼•ç”¨æ”¾å¥½çš„å›¾: android:src=\"@drawable/pic\" ScaleType ScaleTypeå±æ€§æ§åˆ¶å›¾ç‰‡ç¼©æ”¾çš„å°ºå¯¸, æœ‰å‡ ä¸ªå¯é€‰: fitcenterç­‰æ¯”ä¾‹ç¼©æ”¾å¹¶å±…ä¸­æ˜¾ç¤º; fitstarté ä¸Šæ˜¾ç¤º; center è‹¥å›¾ç‰‡è¾ƒå¤§åˆ™æŠŠä¸­å¤®éƒ¨åˆ†æˆªå–å‡ºæ¥æ˜¾ç¤º,ä¸ç¼©æ”¾è‹¥å›¾ç‰‡å°åˆ™ç›´æ¥å±…ä¸­æ˜¾ç¤º, ä¹Ÿä¸ç¼©æ”¾ centerCrop ç¼©æ”¾å¹¶è¿›è¡Œè£å‰ªä»¥é€‚åº”ImiageView centerInside è¦æ˜¯å›¾ç‰‡å¤§å°±ç¼©æ”¾æ”¾è¿›å», å›¾ç‰‡å°å°±ä¸ç¼©æ”¾ç›´æ¥æ”¾è¿›å» Fit_XYç¼©æ”¾æˆå’ŒImageViewä¸€æ ·å¤§ ä»£ç ç‰‡æ®µ: <ImageView android:id=\"@+id/imageView1Id\" android:layout_width=\"60dp\" android:layout_height=\"70dp\" android:background=\"#FF0000\" android:scaleType=\"fitCenter\" android:layout_weight=\"1\" android:src=\"@drawable/pic\" /> <!-- \"@drawable/pic\"æ˜¯å¯¹åº”äºR.drawable.pic, å®é™…ä¸Šå›¾ç‰‡ä¹Ÿå¯ä»¥æ”¾åœ¨assetsæ–‡ä»¶å¤¹ æˆ–è€…ç½‘ç»œä¸Š æˆ–è€…SDå¡ä¸Š éƒ½å¯ä»¥, ä¸è¿‡ä»¥åå†ç”¨ --> S01E12: çº¿æ€§å¸ƒå±€æ·±å…¥ çº¿æ€§å¸ƒå±€åµŒå¥— åœ¨LinearLayouté‡Œé¢å†åŠ å…¥LinearLayout \"ç›´æ¥çˆ¶/å­æ§ä»¶\" åµŒå¥—å±‚æ•°æ²¡æœ‰é™åˆ¶ layout_weight å­æ§ä»¶å¹¶æœªå æ»¡çˆ¶æ§ä»¶çš„æ‰€æœ‰ç©ºé—´æ—¶æ‰æœ‰ç”¨ layout_weightçš„å€¼ç”¨äºæŒ‡å®š ç©ºé—²ç©ºé—´çš„ åˆ†é…__æ¯”ä¾‹__: weightéƒ½æ˜¯1çš„è¯--æ˜¯æŒ‰æ¯”ä¾‹å¹³åˆ†çˆ¶æ§ä»¶çš„__å‰©ä½™(!!!)__ç©ºé—´, è€Œä¸æ˜¯æ•´ä¸ªçˆ¶æ§ä»¶è¢«æŒ‰æ¯”ä¾‹åˆ†é…! å¦‚æœæƒ³è®©çˆ¶æ§ä»¶æŒ‰æ¯”ä¾‹åˆ†é…: å¾ˆç®€å•, __æŠŠå®½åº¦æ”¹ä¸º0dp__å³å¯(é‚£ä¹ˆçˆ¶æ§ä»¶å‰©ä½™ç©ºé—´=çˆ¶æ§ä»¶æ€»ç©ºé—´!) ä½¿ç”¨äº†çº¿æ€§å¸ƒå±€åµŒå¥—ä»¥åŠweightå±æ€§, å·²ç»å¯ä»¥åˆ¶ä½œä¸€äº›ç›¸å¯¹è¾ƒå¤æ‚çš„å¸ƒå±€äº† S01E13: ç›¸å¯¹å¸ƒå±€-I ç›¸å¯¹å¸ƒå±€def ç›¸å¯¹å¸ƒå±€æ˜¯é€šè¿‡æŒ‡å®šå½“å‰æ§ä»¶__ä¸å…„å¼Ÿæ§ä»¶æˆ–è€…æ˜¯çˆ¶æ§ä»¶ä¹‹é—´çš„ç›¸å¯¹ä½ç½®__,ä»è€Œè¾¾åˆ°æ§åˆ¶æ§ä»¶ä½ç½®çš„ç›®çš„  å®ç°åŒæ ·ç•Œé¢, ç”¨ç›¸å¯¹å¸ƒå±€æ¯”ç”¨çº¿æ€§å¸ƒå±€ç®€å•-- UIæ€§èƒ½ æ›´å¥½äº› UIæ€§èƒ½: å¸ƒå±€åµŒå¥—è¶Šå¤š, æ€§èƒ½è¶Šå·®!!... åŸºæœ¬æ€è·¯ æœªæŒ‡å®šä½ç½®æ—¶: é»˜è®¤å¾€å·¦ä¸Šè§’æ”¾(å¯èƒ½ä¼šé‡å !) å¯ä»¥å…ˆæ”¾ä¸€ä¸ªæ§ä»¶, ç„¶åç¬¬äºŒä¸ªæ§ä»¶æŒ‡å®šå…¶ç›¸å¯¹ä½ç½® å®ç°æ–¹æ³• android:layout_below/layout_aboveç­‰ç­‰ç­‰ç­‰... æ”¾ç½®åœ¨å…¶å·¦(å³)è¾¹; å±æ€§çš„å€¼éƒ½æ˜¯å…¶ä»–æ§ä»¶çš„id android:id=\"@+id/tvv1\"æ˜¯åˆ›å»ºä¸€ä¸ªæ–°id; android:layout_toRightOf=\"@id/tvv1\"åˆ™æ˜¯å¼•ç”¨å·²æœ‰çš„id(æ²¡æœ‰åŠ å·) android:layout_alignLeft/Rightç­‰ç­‰ç­‰ç­‰..... å·¦(å³)å¯¹é½; å±æ€§çš„å€¼éƒ½æ˜¯å…¶ä»–æ§ä»¶çš„id  S01E14: ç›¸å¯¹å¸ƒå±€II å¯¹é½åˆ°åŸºå‡†çº¿ åŸºå‡†çº¿:ä¸ºäº†ä¿è¯å°åˆ·å­—æ¯çš„æ•´é½è€Œåˆ’å®šçš„çº¿ ç¬¬ä¸‰æ¡çº¿å°±æ˜¯æ‰€è°“çš„åŸºå‡†çº¿(baseline) ex. ä¸¤ä¸ªTextView__çš„åŸºå‡†çº¿__ç›¸äº’å¯¹é½ ä½œç”¨: å½“ä¿©TextViewçš„å­—ä½“å¤§å°ä¸ç›¸åŒæ—¶... çœ‹å›¾: å’Œçˆ¶æ§ä»¶å¯¹é½ android:layout_alignParentLeft/Rightç­‰ç­‰... å±æ€§çš„å€¼ä¸ºtrue/false(å› ä¸ºåªæœ‰ä¸€ä¸ªç›´æ¥çˆ¶æ§ä»¶) android:layout_centerInParent/layout_centerHorizontalç­‰ç­‰... S01E15: ç›¸å¯¹å¸ƒå±€III RelativeLayoutå¸ƒå±€çš„æ–°å±æ€§(Android 4.2) android:layout_alignStart/Endç­‰ å€¼æ˜¯å…¶ä»–æ§ä»¶çš„id, å¤´éƒ¨å’Œå°¾éƒ¨å¯¹é½ android:layout_alignParentStart/End, å€¼æ˜¯true/false ç›¸å¯¹å¸ƒå±€å°ç»ƒä¹  ä»£ç ç‰‡æ®µ: <RelativeLayout android:id= \"@+id/RL0\" android:layout_width= \"fill_parent\" android:layout_height= \"fill_parent\" > <TextView android:id= \"@+id/tv1\" android:layout_width= \"wrap_content\" android:layout_height= \"wrap_content\" android:layout_centerHorizontal= \"true\" android:gravity= \"center\" android:text= \"login...\" android:textSize= \"16sp\" /> <EditText android:id= \"@+id/editText1\" android:layout_width= \"wrap_content\" android:layout_height= \"wrap_content\" android:layout_below= \"@id/tv1\" android:layout_centerHorizontal= \"true\" android:ems= \"10\" android:hint= \"username\" > <requestFocus /> </EditText> <EditText android:id= \"@+id/editText2\" android:layout_width= \"wrap_content\" android:layout_height= \"wrap_content\" android:layout_below= \"@id/editText1\" android:layout_centerHorizontal= \"true\" android:ems= \"10\" android:hint= \"password\" android:inputType= \"textPassword\" /> <Button android:id= \"@+id/button1\" android:layout_width= \"wrap_content\" android:layout_height= \"wrap_content\" android:layout_alignParentRight= \"true\" android:layout_below= \"@+id/editText2\" android:text= \"login\" /> <Button android:id= \"@+id/button2\" android:layout_width= \"wrap_content\" android:layout_height= \"wrap_content\" android:layout_below= \"@+id/editText2\" android:layout_toLeftOf= \"@+id/button1\" android:text= \"cancel\" [ /> ](file:///%3E) </RelativeLayout> S01E16: æ—¶é—´å’Œæ—¥æœŸ TimePicker/DatePicker æ ‡ç­¾ æ–‡æ¡£: android.widget.TimePicker/android.widget.DatePicker OnTimeChangedListenerçš„onTimeChangedå‡½æ•°: public void onTimeChanged(TimePicker view, int hourOfDay, int minute) ä»¨å‚æ•° getCurrentHour(); getCurrentMinute(); getMonth(); getDayOfMonth()ç­‰å‡½æ•°, åŒç†æœ‰setå‡½æ•°...... æ³¨æ„æœˆä»½æ˜¯ä»é›¶ç®—èµ·!! setIs24HourView() åˆ‡æ¢24å°æ—¶æ˜¾ç¤º S01E17: è¿›åº¦æ¡ProgressBar å„ç§è¿›åº¦æ¡ è¿›åº¦æ¡çš„å±æ€§ é£æ ¼Style: è½¬åœˆåœˆ: å‚ç›´é£æ ¼(é»˜è®¤); ä¸€æ¡çº¿çš„è¿›åº¦æ¡: Horizontal æœ€å¤§å€¼: max å½“å‰è¿›åº¦:progress æ¬¡è¦è¿›åº¦çš„å€¼:SecondaryProgress (ex.æ¬¡è¦è¿›åº¦: è§£å‹ç¼©æ–‡ä»¶æ—¶, åœ¨çº¿çœ‹è§†é¢‘æ—¶...) isIndeterminate()æ–­è¿›åº¦æ¡æ—¶ä¸æ—¶ä¸æ˜ç¡®çš„(æ‰“é…±æ²¹çš„, æ¯”å¦‚è½¬åœˆåœˆ), åŒç†æœ‰setæ–¹æ³•, ä¸è¿‡åªèƒ½å¯¹æ°´å¹³é£æ ¼é€‚ç”¨. S01E18: SeekBarå’ŒRatingBar SeekBar å±æ€§: max/progress/ ç›‘å¬å™¨æ¥å£OnSeekBarChangeListeneræœ‰ä¸‰ä¸ªå‡½æ•°è¦é‡å†™: class SeekBarListener implements OnSeekBarChangeListener { /** * seekBar è¯¥å¯¹è±¡æŒ‡çš„æ˜¯è§¦å‘äº†ç›‘å¬å™¨çš„SeekBarå¯¹è±¡ * progress æŒ‡çš„æ˜¯å½“å‰SeekBarçš„è¿›åº¦ * fromUser æŒ‡æ˜¯ä¸æ˜¯ç”¨æˆ·æ‰‹åŠ¨æ”¹å˜çš„è¿›åº¦ */ @Override public void onProgressChanged ( SeekBar SeekBar , int progress , boolean fromUser ) { System . out . println ( \"progress:\" + progress + \",fromUser:\" + fromUser ); } @Override public void onStartTrackingTouch ( SeekBar seekBar ) { System . out . println ( \"onStart\" ); } @Override public void onStopTrackingTouch ( SeekBar seekBar ) { System . out . println ( \"onStop\" ); } } RatingBar å±æ€§: numStars(æ˜Ÿæ˜Ÿä¸ªæ•°), progress, stepSize(æ­¥è¿›) ç›‘å¬å™¨ä»£ç : class RatingBarListener implements OnRatingBarChangeListener { @Override public void onRatingChanged ( RatingBar ratingBar , float rating , boolean fromUser ) { System . out . println ( \"rating:\" + rating + \",fromUser:\" + fromUser ); }","tags":"tech","title":"androidå¼€å‘è§†é¢‘æ•™ç¨‹(é‡åˆ¶ç‰ˆ) ç¬¬ä¸€å­£ è¯¾ç¨‹ç¬”è®°"},{"url":"https://x-wei.github.io/tech/æˆ‘çš„ubuntu10.04é…ç½®æ€»ç»“.html","text":"ubuntuå·²ç»å‡ºåˆ°äº†13.04, æˆ‘ä¹‹æ‰€ä»¥åšæŒä½¿ç”¨ubuntu10.04çš„ç‰ˆæœ¬(åˆ°ç°åœ¨å·²ç»ä¸‰å¹´äº†, ç°åœ¨10.04å·²ç»è¿‡äº†æ”¯æŒå‘¨æœŸè€Œæˆ‘è¿˜åœ¨ç»§ç»­ç”¨å®ƒ), ä¸»è¦æ˜¯å› ä¸ºubuntuå‡ºçš„unityç•Œé¢ä»¥åŠgnome3çš„ç•Œé¢å®åœ¨æ˜¯ç”¨èµ·æ¥ä¸çˆ½(åæ§½ä¸å·²!!)... ç›®å‰æˆ‘çš„lucid(ubuntu 10.04)ç»è¿‡æˆ‘çš„é…ç½®, åœ¨æˆ‘ç”¨æ¥å·²ç»ååˆ†é¡ºæ‰‹äº†.. ä¸è¿‡é•¿ä¹…è¿™ä¹ˆä¸‹å»ä¹Ÿä¸æ˜¯åŠæ³•...... åœ¨æ¢æ–°çš„ä¸»åŠ›ç³»ç»Ÿä¹‹å‰, æŠŠæˆ‘ç›®å‰è¿™ä¸ªç³»ç»Ÿçš„é…ç½®å†™ä¸‹æ¥. å®‰è£…çš„è½¯ä»¶ å†™ä¸€ä¸‹ç”¨èµ·æ¥ç‰¹åˆ«çˆ½çš„ä¸€äº›è½¯ä»¶: geany ä¸‡èƒ½IDE , java/python/Cpp/matlab(octave)... ç”šè‡³texéƒ½æ˜¯ç”¨å®ƒå†™çš„, è½»å·§å¼ºå¤§. zimæ¡Œé¢ç»´åŸº ç¥å™¨ , ç”¨æ¥å†™ç¬”è®°æ•´ç†æ€è·¯, è¿™ç¯‡å°±æ˜¯åœ¨zimä¸‹å†™çš„. è‡ªä»2012å¹´å‘ç°zimè¿™ä¸ªä¸œè¥¿ä»¥å, åˆ°ç°åœ¨å†™äº†ä¸Šç™¾æ¡ç¬”è®°äº†, ç¡®å®æ–¹ä¾¿. GNU octave matlabçš„å¼€æºæ›¿ä»£, è¯­æ³•å’Œmatlabå®Œå…¨å…¼å®¹, æ¯•è®¾å°±æ˜¯ç”¨å®ƒåšçš„, å¦‚æœä¸ç”¨matlabå·¥å…·ç®±çš„è¯, è¿™ä¸ªæ˜¯å¾ˆå¥½çš„é€‰æ‹©, è€Œä¸”æ¯”è¾ƒå°å·§, å¯åŠ¨å¾ˆå¿«. ......ä¸è¿‡æ³•å›½äººè²Œä¼¼æ¯”è¾ƒå–œæ¬¢ä»–ä»¬è‡ªå·±æå‡ºæ¥çš„scilab. éŸ³ä¹æ’­æ”¾å™¨audacious ç•Œé¢å’Œç®€æ´, ç”¨èµ·æ¥è›®å¥½, ä¸è¿‡å¯èƒ½å…¶ä»–æ’­æ”¾å™¨ä¹Ÿå·®ä¸åˆ°å“ªé‡Œå»... è¯å…¸goldendict è¿™ä¸ªè¿˜ä¸æ˜¯æœ€æ–°çš„ç‰ˆæœ¬(æˆ‘ç”¨çš„æ˜¯0.9.0), å·²ç»ç›¸å½“é¡ºæ‰‹äº†. å¯ä»¥è‡ªå·±åŠ stardictçš„è¯å…¸æ–‡ä»¶, ä»ç½‘ä¸Šå¯ä»¥æ‰¾åˆ°å¾ˆå¤š(åŒ…æ‹¬æ³•è¯­çš„è¯å…¸), ç”¨èµ·æ¥æ¯”stardictæ–¹ä¾¿, å±å¹•å–è¯ä»€ä¹ˆçš„ä¹Ÿå¾ˆå¥½ç”¨. GNOME Mplayer æ„Ÿè§‰è¿™ä¸ªç•Œé¢ç®€æ´äº›, å¯èƒ½å…¶ä»–æ’­æ”¾å™¨(VLCä¹‹ç±»)ä¹Ÿå·®ä¸åˆ°å“ªé‡Œå». QQ: wine-TM2009 åœ°å€åœ¨ è¿™é‡Œ , æ ¹æ®æˆ‘çš„ç»éªŒ, åˆ«å†æŠ˜è…¾äº†, è¿™ä¸ªå°±æ˜¯æœ€å¥½çš„è§£å†³æ–¹æ¡ˆ... é…ç½® zipä¹±ç è§£å†³ ä¹‹å‰ ä»‹ç»è¿‡ . å¤–è§‚ globalmenu+windowbuttons å®‰è£…è¿™ä¸¤ä¸ªæ’ä»¶ä»¥å, å¯ä»¥çœŸçš„ æœ€å¤§åŒ– åˆ©ç”¨å±å¹•ç©ºé—´, å¾ˆç§‘å­¦...(è²Œä¼¼æ˜¯è·Ÿè‹¹æœå­¦çš„?) è‡ªå®šä¹‰çš„ä¸»é¢˜ Faenzaå›¾æ ‡ä¸»é¢˜; elementaryçª—å£ä¸»é¢˜; ComixCursorsé¼ æ ‡ä¸»é¢˜; clearlooksæ§ä»¶... æ€»ä¹‹è¿™å¤§æ¦‚å°±æ˜¯æˆ‘è§‰å¾—æœ€èˆ’æœçš„å¤–è§‚ä¸»é¢˜äº†... è¾¹ç¼˜è§¦å‘åŠ¨ä½œ compizçš„è®¾ç½®, æŠŠé¼ æ ‡ç§»åŠ¨åˆ°å·¦ä¸‹è§’ä¼šæ˜¾ç¤ºæ¡Œé¢, å¾ˆæ–¹ä¾¿...(è²Œä¼¼æ˜¯è·Ÿè‹¹æœå­¦çš„?) compizç‰¹æ•ˆ ç«‹æ–¹ä½“ç‰¹æ•ˆ, å¼€å››ä¸ªæ¡Œé¢(è¿™ä¸ªå…¶å®å¾ˆå®ç”¨, å°¤å…¶æ˜¯å¼€åä¸ªä»¥ä¸Šçª—å£æ—¶......); åŠ¨ç”»ç‰¹æ•ˆ, \"å¯¹æ‰€æœ‰äº‹ä»¶ä½¿ç”¨éšæœºåŠ¨ç”»\"(è¿™ä¸ªå¼€äº†ä»¥åæ•ˆæœæƒŠè‰³, è€Œä¸”å³ä½¿è€ç”µè„‘å¼€äº†è¿™ä¸ªä¸€ç‚¹ä¹Ÿä¸ä¼šå¡, å®Œçˆ†win...); å…¶ä»–ç‰¹æ•ˆè¿˜æ²¡å…¨å¼€...... æŠ¤çœ¼èƒŒæ™¯è‰²(gnome+chrome) gnomeçš„è®¾ç½® ; chromeçš„è®¾ç½® ; å¿«æ·é”® æ€»ç»“ä¸€ä¸‹é…ç½®çš„å¿«æ·é”®: æ˜¾ç¤ºæ¡Œé¢ win+D æ‰“å¼€æµè§ˆå™¨ win+B (å–\" B rowser\"ä¹‹æ„) å…³è”çš„å‘½ä»¤æ˜¯ google-chrome æ‰“å¼€æ–‡ä»¶ç®¡ç†å™¨ win+F (å–\" F ile\"ä¹‹æ„) å‘½ä»¤: nautilus --browser /home/your_username æ‰“å¼€goldendict ctrl+alt+D æˆªå›¾ win+S å‘½ä»¤æ˜¯: gnome-screenshot -ia è¿™ä¸ªä¹‹å‰ä¹Ÿ å†™è¿‡ .","tags":"tech","title":"æˆ‘çš„ubuntu10.04é…ç½®æ€»ç»“"},{"url":"https://x-wei.github.io/soft/sshè¿œç¨‹ç™»å½•å­¦æ ¡æœºæˆ¿ç”µè„‘.html","text":"X æœºæˆ¿çš„ç”µè„‘ é…ç½®è¿˜æ˜¯å¾ˆé«˜çš„, æ‰€ä»¥... è¿œç¨‹ç™»å½•çš„å‘½ä»¤æ˜¯: ssh -X nom.prenom@truite.polytechnique.fr (-Xå‘½ä»¤è¡¨ç¤ºå…è®¸ä½¿ç”¨Xç¨‹åº.) ç™»å½•è¿›å»ä»¥å, å¯ä»¥åœ¨ç»ˆç«¯é‡Œè¾“å…¥å‘½ä»¤, æ¯”å¦‚æŸ¥çœ‹ç³»ç»Ÿæ¿æœ¬: $ lsb_release -a LSB Version: :core-4.0-ia32:core-4.0-noarch:graphics-4.0-ia32:graphics-4.0-noarch:printing-4.0-ia32:printing-4.0-noarch Distributor ID: n/a Description: CentOS Release: n/a Codename: n/a æœºæˆ¿æ˜¯centOS, é«˜æ•ˆç¨³å®š. ç„¶åå¯ä»¥åœ¨ç»ˆç«¯è¾“å…¥å‘½ä»¤æ¥å¯åŠ¨ç¨‹åº, æ¯”å¦‚ eclipse &, å°±ä¼šåœ¨ä½ è¿™è¾¹çš„ç”µè„‘æ˜¾ç¤ºå‡ºæ¥eclipseçš„çª—å£ (åŠ \"&\"æ˜¯å¯ä»¥ä½¿å¤šä¸ªç¨‹åºåŒæ—¶å¯åŠ¨). å¦å¤–, è¿œç¨‹æ‹·è´åˆ°æœ¬åœ°: scp xing.wei@france.polytechnique.fr:/users/eleves-b/x2012/xing.wei/ /home/wx å‡ ä¸ªå¸¸ç”¨çš„ç¨‹åº: eclipse & scilab & firefox & å¯æƒœä¸çŸ¥é“å’‹èƒ½æ˜¾ç¤ºè¿œç¨‹çš„æ¡Œé¢, ä¸è¿‡è¿™ä¹Ÿå·®ä¸å¤šå¤Ÿäº†, ä»¥åç”¨eclipseæˆ–è€…scilabè¿™ç±»æ¯”è¾ƒ\"å¤§\"çš„ç¨‹åº, ç›´æ¥ç”¨æœºæˆ¿çš„å·¥ä½œç«™åšå¥½äº†...","tags":"soft","title":"sshè¿œç¨‹ç™»å½•å­¦æ ¡æœºæˆ¿ç”µè„‘"},{"url":"https://x-wei.github.io/tech/ç½‘é¡µå›¾ç‰‡è‡ªåŠ¨é€‚åº”æµè§ˆå™¨å®½åº¦.html","text":"çœ¼çœ‹ä¸‰æœˆåˆè¦ç»“æŸäº†, blogè¿˜æ²¡æœ‰æ›´æ–°, æ‹¿æ¥ä»¥å‰å†™åœ¨zimé‡Œçš„ä¸€æ¡ç¬”è®°å……æ•°... æœ‰äº†zimä»¥å, å‡ ä¹ä¸å†ç”¨officeäº†, å¸¸ç”¨å®ƒç¼–è¾‘ä¸€äº›å¯Œæ–‡æœ¬, æ¯”å¦‚åŠ ç²—, ä¸‹åˆ’çº¿, æ–œä½“ä»€ä¹ˆçš„, æœ‰å¿«æ·é”®æ“ä½œ, å¾ˆæ–¹ä¾¿, æ’å›¾ä¹Ÿå¾ˆç®€å•. zimæ˜¯æˆ‘è®¤ä¸ºçš„ç¥å™¨(ç¥å™¨=å°å·§+å¼ºå¤§)ä¹‹ä¸€. æœ‰æ—¶å€™ç”¨zimå†™å¥½çš„ç¬”è®°ç»™åˆ«äººçœ‹æ—¶, ç›´æ¥æŒ‰\"ctrl+p\"å°±å¯ä»¥æ‰“å°æˆç½‘é¡µçš„æ ¼å¼äº†, éå¸¸æ–¹ä¾¿(è€Œä¸”å¾—æ‰¿è®¤, å•è®ºå¯Œæ–‡æœ¬çš„æ˜¾ç¤ºæ•ˆæœ, ç½‘é¡µæ ¼å¼ > pdfæ ¼å¼ > docæ ¼å¼). åªæ˜¯æœ‰ä¸€ç‚¹ä¸å¤ªå¥½, å°±æ˜¯æœ‰æ—¶æ’å…¥çš„ç…§ç‰‡å¾ˆå¤§, åœ¨æµè§ˆå™¨é‡ŒæŸ¥çœ‹çš„æ—¶å€™æ˜¾ç¤ºçš„è¿˜æ˜¯åŸå°ºå¯¸å›¾åƒ, éå¸¸æ–¹ä¾¿... æŸ¥äº†ä¸€ä¸‹, å…¶å®åªè¦åœ¨htmlæ–‡ä»¶å…³äºæ’å…¥å›¾ç‰‡é‚£ä¸€è¡ŒåŠ å…¥ width=\"100%\" height=\"100%\" style=\"z-index:-100\" å°±å¯ä»¥äº†. æ¯”å¦‚, åœ¨zimç”Ÿæˆçš„htmlæ–‡ä»¶é‡Œ, è¿™æ ·æ›¿æ¢å°±å¯ä»¥äº†: <img src=\"./xxxç½‘é¡µ_files/IMG_1186.JPG\" alt=\"\" ><br> â‡’ <img src=\"./xxxç½‘é¡µ_files/IMG_1186.JPG\" alt=\"\" width=\"100%\" height=\"100%\" style=\"z-index:-100\"><br> å³è¿›è¡Œæ›¿æ¢: \" alt=\"\" â‡’ \" alt=\"\" width=\"100%\" height=\"100%\" style=\"z-index:-100\" è¿™ä¸ªæˆ‘å€’æ˜¯æ—¶å¸¸ç”¨åˆ°, æ¯”å¦‚ç»™å®¶äººå‘æœ€è¿‘æ´»åŠ¨çš„ç…§ç‰‡æ—¶ , å¯ä»¥ç”¨zimå†™ä¸Šä¸€äº›æ–‡å­—ä½œä¸ºç…§ç‰‡çš„æ³¨é‡Š, ç„¶åç”Ÿæˆç½‘é¡µæ–‡ä»¶ç„¶åæ‰“åŒ…å‘æ‰... OK, æ°´æ–‡ç»“æŸ...","tags":"tech","title":"ç½‘é¡µå›¾ç‰‡è‡ªåŠ¨é€‚åº”æµè§ˆå™¨å®½åº¦"},{"url":"https://x-wei.github.io/misc/passesimpleæ—¶æ€å˜ä½æ€»ç»“.html","text":"passÃ© simple å…¶å®ä¸€ç‚¹ä¹Ÿä¸simple... åœ¨Cherbourgæ—¶è€å¸ˆç›´æ¥å°±æ²¡è®², ä¸€æ˜¯å› ä¸ºè¿™ä¸ªæ—¶æ€çš„å˜ä½å¾ˆå¤æ‚; äºŒæ˜¯ç°åœ¨è¿™ä¸ªæ—¶æ€å‡ ä¹ä¸ç”¨äº†, é™¤äº†å‡ºç°åœ¨ç«¥è¯æ•…äº‹æˆ–äººç‰©ä¼ è®°ä¸­, æ›¿ä»£passÃ© composÃ©çš„ä½ç½®... å¯æ˜¯å›åˆ°Xä¹‹åçš„æ³•è¯­è¯¾ä¸Šå´å­¦äº†... è¿™å‘¨ä¸€è¿˜æœ‰é’ˆå¯¹passÃ© simpleçš„è€ƒè¯•... è¿™æ˜¯ä¸Šå‘¨æœ«æ€»ç»“çš„passÃ© simple çš„ä¸€äº›å˜ä½è§„åˆ™, å‘ç°å…¶å®è¿™ä¸ªæ—¶æ€çš„å˜ä½ä¹Ÿä¸æ˜¯å¾ˆéš¾(åŸå› è§ä¸‹æ–‡), åªä¸è¿‡ä¸€èˆ¬ä¸ç”¨, æ‰€ä»¥å®¹æ˜“å¿˜å§~ I. è¯å°¾ passÃ© simple çš„å˜ä½è¯å°¾å¯ä»¥åˆ†ä¸ºç§å››ç±»å‹, æˆ‘æŠŠå®ƒä»¬å«åš\"Aå‹\", \"Iå‹\", \"Uå‹\", å’Œ\"INå‹\", åˆ«çœ‹å››ç§ç±»å‹, å…¶å®å¾ˆå®¹æ˜“è®°çš„. å››ç§\"ç±»å‹\" å…ˆæŠŠè¿™å››ç§ç±»å‹çš„è¯å°¾å†™ä¸‹æ¥: Aå‹ ai - as - a -Ã¢ mes -Ã¢ tes - Ã¨ rent Iå‹ i s -i s -i t -Ã® mes -Ã® tes -i rent Uå‹ u s -u s -u t -Ã» mes -Ã» tes -u rent INå‹ in s -in s -in t -Ã®n mes -Ã®n tes -in rent çœ‹çœ‹è¿˜æ˜¯å¾ˆæœ‰è§„å¾‹çš„å˜›, ç”¨Xä»£è¡¨\" Xç±»å‹ \"çš„è¯å°¾çš„è¯, é‚£ä¹ˆè¯å°¾å¯ä»¥ç»Ÿä¸€å†™æˆ: X s -X s -X t -X(åŠ &#94;) mes -X(åŠ &#94;) tes -X rent ç®€è®°æ³•: s-s-tæ˜¯ç¬¬äºŒç»„åŠ¨è¯çš„prÃ©sentå˜ä½è¯å°¾, å¯¹äºnousçš„å˜ä½, æ­£å¥½æ˜¯\"som mes \"çš„è¯å°¾, vousæ­£å¥½æ˜¯\"Ãª tes \"çš„è¯å°¾, ilsçš„è¯... æ²¡æ‰¾åˆ°è®°å¿†çš„åŠæ³•, å°±è®°ä½å§, æ˜¯\"rent\" è€Œå¯¹äºAå‹è¯å°¾, æœ‰ä¸€äº›ç‰¹ä¾‹, æ¯”å¦‚å‰ä¸‰ä¸ªäººç§°æ˜¯-ai-as-a, è¿™ä¸ªå…¶å®å¥½è®°, å› ä¸ºæ˜¯åŠ¨è¯\"avoir\"çš„prÃ©sentå˜ä½è¯å°¾(ä¸future simpleä¸€æ ·), å¦å¤–å¾—è®°ä½Aå‹çš„ilså˜ä½æ—¶ä¸æ˜¯-Xrentè€Œæ˜¯-Ã¨rent. II. å››ç§è¯å°¾å¯¹åº”çš„å•è¯ å¦‚æœèƒ½æŠŠè¿™å››ç§è¯å°¾è®°ä½, è€Œä¸”å·²ç»è®°ä½äº†è¿™ä¸ªå•è¯çš„è¿‡å»åˆ†è¯å½¢å¼(p.p.) , é‚£ä¹ˆè®°å¿†å“ªä¸ªå•è¯å¯¹åº”å“ªä¸€ç§è¯å°¾å…¶å®è›®ç®€å•çš„. ä¸‹é¢çœ‹çœ‹è¿™å››ç§è¯å°¾éƒ½å¯¹åº”é‚£äº›åŠ¨è¯: ä¸€). Aå‹(ai-as-a-Ã¢mes-Ã¢tes-Ã¨rent) å¯¹åº”äº: TOUS les verbes au p.p. en -Ã© (sauf Ãªtre). // æ‰€æœ‰è¿‡å»åˆ†è¯ä»¥-Ã©ç»“å°¾çš„åŠ¨è¯(Ãªtreé™¤å¤–). è¯­æ³•ä¹¦é‡Œå¿˜è®°äº†naÃ®treäº†... ä¸è¿‡è¿™ä¸ªåº”è¯¥å±äºç‰¹æ®Šæƒ…å†µ... å³å¯¹åº”1er groupeçš„å•è¯, c'est le plus normal. ä¾‹å­å¤ªå¤šäº†ä¸åˆ—äº†... äºŒ). Iå‹(is-is-it-Ã®mes-Ã®tes-irent) å¯¹åº”äºä»¥ä¸‹å››ç±»(å…¶å®å¯ä»¥è¯´æ˜¯ä¸‰ç±»... å…¶å®å¾ˆå¥½è®°çš„...)... 1. la majoritÃ© des verbes au p.p. en -i. // å¤§éƒ¨åˆ†p.p.ä»¥-iç»“å°¾çš„åŠ¨è¯. è¿™å°±æ˜¯æˆ‘å«å®ƒ\"Iå‹\"çš„å¦å¤–ä¸€ä¸ªåŸå› !!! ä¸‹é¢çš„\"Uå‹\"ä¹Ÿæ˜¯åŒæ ·çš„! æ‰€ä»¥åªè¦è®°ä½åŠ¨è¯çš„p.p.(è¿‡å»åˆ†è¯å½¢å¼), æ”¹å†™æˆpassÃ© simpleä¹Ÿä¸éº»çƒ¦çš„!~ è¿™é‡Œ, è¯­æ³•ä¹¦é‡Œè¯´çš„æ˜¯\"la majoritÃ© \", ä½†æ˜¯æˆ‘è§‰å¾—æŠŠå®ƒæ”¹æˆ\"TOUS\"ä¹Ÿæ²¡æœ‰é—®é¢˜... 2. certain nombre de verbes au p.p. en -u // ä¸€äº›p.p.ä»¥-uç»“å°¾çš„åŠ¨è¯ è¯­æ³•ä¹¦é‡Œä¸¾å‡ºçš„è¿™äº›åŠ¨è¯æœ‰ï¼š 1) verbes en -endre, -ondre, -ompre, -ordre, -erdre æ€»ä¹‹å°±æ˜¯ä¸€äº› -re ç»“å°¾çš„... ä¾‹å¦‚: rÃ©pondre , entendre, Ã©teindre... 2) voir å…¶å®æ˜¯ä¸è§„åˆ™åŠ¨è¯, åœ¨åé¢è¿˜ä¼šæåˆ° vis-vis-vit-vÃ®mes-vÃ®tes-virent 3) vaincre vainquis-vainquis-vainquit-vainquÃ®mes-vainquÃ®tes-vainquirent è¿™ä¸ªä¸å¸¸ç”¨, å¹²è„†å¯ä»¥ä¸è®°ä½... å€’ä¸å¦‚è®°ä¸€ä¸‹naÃ®treä¹Ÿæ˜¯Iå‹çš„: naquis-naquis-naquit-naquÃ®mes-naquÃ®tes-naquirent 3. offrir, ouvrir offrirå’Œouvriråœ¨p.p.é‡Œä¹Ÿå±äºæ¯”è¾ƒç‰¹æ®Šçš„... å®ƒä»¬çš„p.p.åˆ†åˆ«æ˜¯offert, ouvert: offris-offris-offrit-offrÃ®mes-offrÃ®tes-offrirent è¿˜æœ‰ç‰¹ä¾‹æ˜¯-(a)indre, -oindreçš„, æ¯”å¦‚eteindre, ä½†æ˜¯è¿™ä¸ªè¯å˜ä½çš„è¯æ ¹ä¹Ÿå˜äº†, æ˜¯ eteign- ... å¤ªç‰¹æ®Šäº†åˆä¸å¸¸ç”¨, æ‰€ä»¥å¹²è„†åˆ«è®°äº†... 4. p.p.ä»¥-is/itç»“å°¾çš„åŠ¨è¯ (è¿™ä¸€æ¡æ˜¯æˆ‘æ€»ç»“çš„ ä¸ä¸€å®šå¯¹) æˆ‘å‘ç°å¦‚æœè¿™ä¸ªåŠ¨è¯çš„p.p.å«æœ‰- i t/- i sè¯å°¾çš„è¯, é‚£ä¹ˆå®ƒçš„passÃ© simpleå˜ä½å°±æ˜¯ I å‹çš„äº†(æ‰€ä»¥\"Iå‹\" \"Uå‹\"è¿™ä¸ªåå­—èµ·çš„å¥½å•Š....). ä¾‹å­: dire, mettre, prendre å…¶å®ç¬¬å››æ¡å¯ä»¥å’Œç¬¬ä¸€æ¡åˆå¹¶ : å¦‚æœp.p.ç»“å°¾æ˜¯-iæˆ–-isæˆ–-itçš„è¯, è¯å°¾å°±æ˜¯Iå‹çš„äº†~ å”‰, åˆå‘ç°ä¾‹å­çš„è¿™äº›å•è¯ä¹Ÿéƒ½æ˜¯-reç»“å°¾çš„, ä¸è¿‡å®ƒä»¬çš„p.p.çš„è¯å°¾ä¸æ˜¯-u, æ‰€ä»¥ç¬¬äºŒæ¡ä¸èƒ½åˆå¹¶è¿›æ¥... ä¸‰). Uå‹(us-us-ut-Ã»mes-Ã»tes-urent) 1. la majoritÃ© des verbes au p.p. en -u// å¤§éƒ¨åˆ†p.p.ä»¥-uç»“å°¾çš„åŠ¨è¯ è¿™é‡Œçš„\"la majoritÃ© \"ä¸èƒ½æ”¹æˆ\"tous\"äº†, åœ¨Iå‹é‡Œå°±æœ‰å‡ ä¸ªåŠ¨è¯çš„p.p.æ˜¯-uç»“å°¾çš„(-reçš„,ä»¥åŠvoir). è§åˆ°p.p.æ˜¯-uç»“å°¾çš„, ç„¶ååŸå‹åˆä¸æ˜¯é‚£å‡ ä¸ª-reç»“å°¾çš„åŠ¨è¯, å°±æ˜¯Uå‹äº†! ä¾‹å­: courir, connaÃ®tre, recevoir 2. å†åŠ ä¸€ä¸ªç‰¹ä¾‹: mourir mourus-mourus-mourut-mourÃ»mes-mourÃ»tes-moururent å…¶å®è¿˜æœ‰ä¸ªç‰¹ä¾‹æ˜¯Ãªtre, åé¢ä¸è§„åˆ™åŠ¨è¯é‡Œè®²... å››). INå‹(ins-ins-int-Ã®nmes-Ã®ntes-inrent) è¿™ä¸ªå¯ä»¥å½“ä½œç‰¹ä¾‹è®°äº†, åªæœ‰ä¿©: venir, tenir(å½“ç„¶è¿˜æœ‰å®ƒä»¬çš„æ´¾ç”Ÿè¯...), è¿™ä¿©è¯çš„p.p.æ˜¯-uç»“å°¾çš„... å¥½å§Uå‹åˆå¤šäº†ä¿©ç‰¹ä¾‹... vins- vins-vint-vÃ®nmes-vÃ®ntes-vinrent III. ä¸€äº›ä¸è§„åˆ™åŠ¨è¯ è™½ç„¶è¯å°¾åªæœ‰é‚£å››ç§, æ¯”è¾ƒæœ‰è§„å¾‹, ä½†æ˜¯æœ‰æ—¶å€™ä¸€äº›ä¸è§„åˆ™åŠ¨è¯çš„ è¯æ ¹ ä¸æ˜¯å¾ˆæœ‰è§„å¾‹( ä¸€èˆ¬æ¥è¯´, è¯æ ¹æ˜¯æ˜¯p.p.çš„è¯æ ¹ ). è¿™äº›å¸¸ç”¨çš„ä¸è§„åˆ™åŠ¨è¯æœ‰: Ãªtre: p.p.=Ã©tÃ© ; è¯æ ¹f-; è¯å°¾Uå‹ faire: p.p.=fait ; è¯æ ¹f- ; è¯å°¾Iå‹ voir: p.p.=vu ; è¯æ ¹v- ; è¯å°¾Iå‹ naÃ®tre: p.p.= nÃ© ; è¯æ ¹naiqu- ; è¯å°¾Iå‹ avoir: p.p.=eu ; è¯æ ¹e- ; è¯å°¾Uå‹ mourir: p.p.=mort ; è¯æ ¹mour- ; è¯å°¾Uå‹ offrir, ouvrir: p.p.=offert, ouvert ; è¯æ ¹ offr-, ouvr- ; è¯å°¾Iå‹ venir, tenir: p.p.=venu, tenu ; è¯æ ¹ v- , t-; è¯å°¾INå‹ è¿™äº›è¯æ¯”è¾ƒå¸¸ç”¨, æ‰€ä»¥æœ€å¥½è®°ä¸€ä¸‹. æˆ‘å‘ç°passÃ© simpleä¹Ÿä¸æ˜¯å¾ˆéº»çƒ¦çš„å¦ä¸€ä¸ªåŸå› æ˜¯: è¿™äº›è¯éƒ½æ˜¯1baseçš„!! å˜ä½åªæœ‰ä¸€ä¸ªè¯æ ¹, å’Œé‚£æœ‰ä¸¤ä¸‰ä¸ªè¯æ ¹çš„prÃ©sentæ—¶æ€ç›¸æ¯”, ç¡®å®æ˜¯simpleå¤šäº†... IV. å°ç»“ è¿™æ ·æ€»ç»“ä¸‹æ¥, passÃ© simpleä¹Ÿä¸æ˜¯ç‰¹åˆ«å›°éš¾, æœ‰ä¸å°‘è§„å¾‹å¯å¾ª... ä¸è¿‡è¯åˆè¯´å›æ¥äº†, è¿™ä¸ªæ—¶æ€ç”¨å¾—å®åœ¨æ˜¯å¾ˆå°‘... å¦å¤–, linuxä¸‹ç”¨goldendictæŸ¥æ³•è¯­å•è¯+verbisteæŸ¥åŠ¨è¯å˜ä½æ•ˆæœè›®å¥½çš„! :)","tags":"misc","title":"passÃ© simpleæ—¶æ€å˜ä½æ€»ç»“"},{"url":"https://x-wei.github.io/misc/aurevoir-cherbourg.html","text":"ä»»ä½•ä¸€ç§ç¯å¢ƒæˆ–ä¸€ä¸ªäºº, åˆæ¬¡è§é¢å°±é¢„æ„Ÿåˆ°ç¦»åˆ«çš„éšç—›æ—¶, ä½ å¿…å®šçˆ±ä¸Šä»–äº†. æˆ‘æ˜¯åœ¨æ¥Cherbourgçš„ç¬¬äºŒå¤©çªç„¶æƒ³èµ·è¿™å¥è¯çš„. é‚£å¤©æ˜¯29-09-2012, åœ¨å¾·å…ˆç”Ÿå’Œèµ›å…ˆç”Ÿçš„å¸¦é¢†ä¸‹, æˆ‘ä»¬åœ¨Cherbourgå¸‚ä¸­å¿ƒæ‚ é—²åœ°æºœè¾¾äº†ä¸€ä¸ªä¸‹åˆ, é‚£å¤©é˜³å…‰å¾ˆå¥½. æ—¶é—´è¿‡å¾—å¥½å¿«, å››ä¸ªæœˆè¿‡å»äº†, æ˜å¤©æ—©ä¸Šå°±æ˜¯é“åˆ«çš„æ—¶å€™äº†. å››ä¸ªæœˆç•™ä¸‹äº†ä¸å°½çš„å›å¿†...... Cherbourgçš„æµ·é£, é›¨æ°´, é•¿å ¤... centre-villeçš„è¡—é“, ä»¥åŠåœæ³Šäº†è®¸å¤šå°èˆ¹çš„æ¸¯å£ EFQçš„æµ·é¸¥ Guichen å–‡å­é‡Œæ¯å¤©çš„é€šçŸ¥(\"dans 5 minutes, appelle du personnage de service et des gens sonctionne\", \"attention pour la couleur...\") æ¯å¤©åœ¨æ¥¼ä¸‹ç­‰æˆ‘ä»¬çš„Devaillyå…ˆç”Ÿ, æˆ‘çŒœæƒ³å¹´è½»æ—¶ä¸€å®šå¾ˆå¸…çš„Stricotå…ˆç”Ÿ les prof: æœ‰Nä»¶æ¯›è¡£çš„Sylvain, æ¼‚äº®çš„StÃ©phanie, ç¾é£Ÿä¸“å®¶ä»¥åŠ\"åŠ¨è¯å˜ä½å¥³ç‹\"Brigitte, ææ€ªçš„Lydia, å®¶åº­ç¾æ»¡å¹¸ç¦çš„Nolwenn...... åœ¨Cherbourgçš„æµ·è¾¹å…¬è·¯ä¸Šæ…¢è·‘, ä¸€è·‘å°±æ˜¯å››ååˆ†é’Ÿ Foule de la pressé•¿è·‘ çª—å¤–çš„æµ·æ»©, æ‚ é—²çš„å¥¶ç‰›, è¿œå¤„å°ä¸˜ä¸Šçš„æ•™å ‚... å‡ ä¹æ¯å‘¨çš„ä½“è‚²è¯¾éƒ½ä¸ä¸€æ · é¤æ¡Œç¤¼ä»ªä»‹ç», è‘¡è„é…’ä»‹ç», å¸ƒåˆ—å¡”å°¼é£æƒ…ä»‹ç»... æ•°ä¸æ¸…çš„sorties: Mont-Saint-Michel, å‡ºæµ·, Mancheçš„åŸå ¡, Hague, AREVA, æŠ¥ç¤¾...... Florenceå’Œå¥¹çš„å­©å­ä»¬, åœ£è¯å’Œæ–°å¹´çš„ç¾å¥½å›å¿† Atelier ThÃ©Ã¢tre, ä»¥åŠè®¸å¤šçš„spectacle Atelier CinÃ©ma, <<ç‘Ÿå ¡çš„é›¨ä¼>> AND THAT'S THE END...... æ˜å¤©æ—©ä¸Šå°±è¦èµ°äº†, æˆ‘è§‰å¾—åœ¨æœ€åå‡ å¤©é‡Œ, æˆ‘å·²ç»å¾ˆå¥½åœ°å‘Cherbourgä»¥åŠè¿™é‡Œçš„å¯çˆ±çš„äººä»¬é“åˆ«... ä¸–ç•Œå¾ˆå¤§, ä¹Ÿè®¸æˆ‘ä»¬æœ‰ä¸€å¤©è¿˜ä¼šå†ç›¸é‡...... bon courage Ã  vous tous, et Ã  bientÃ´t , Cherbourg! Vous allez me manquer... ç›¸é‡åˆç¦»åˆ«æ€»æ˜¯éš¾å…çš„, ä¸è¿‡æˆ‘è¦å¥½å¥½çš„å’Œä»–ä»¬é“åˆ«... AU REVOIR, CHER BOURG!... ä¸‹ä¸€ç«™: Palaiseau!","tags":"misc","title":"Au revoir, Cherbourg"},{"url":"https://x-wei.github.io/misc/è¯»å½“æˆ‘è°ˆè·‘æ­¥æ—¶æˆ‘è°ˆä»€ä¹ˆ.html","text":"ä¸Šä¸ªæœˆè¯»çš„è¿™æœ¬ä¹¦, åæ¥ç®€å•å†™äº†ç‚¹ä¸œè¥¿(å…¶å®ä¸»è¦æ˜¯æ‘˜æŠ„å•¦...). åœ£è¯æ¥åˆ°ä½å®¶, blogå¾ˆä¹…æ²¡æ›´æ–°äº†, æ”¾ä¸Šæ¥å……æ•°... å—¯, è¿™æœ¬ä¹¦ä¸é”™, å¿ƒä¹±çš„æ—¶å€™è¯»ä¸€ä¸¤ç« è›®å¥½. æ„Ÿè§‰æ‘ä¸Šæ˜¥æ ‘ç»å¯¹æ˜¯ä¸€ä¸ªç²¾ç¥ä¸Šå¼ºå¤§çš„äºº, è™½ç„¶ä»–çš„è¯­æ°”å¹³å’Œè€Œè°¦é€Š. è¿™ä¸æ˜¯ä¸€æœ¬å¾ˆæ–‡è‰ºçš„ä¹¦(æ‰€ä»¥æˆ‘å¾ˆå¿«å°±è¯»å®Œäº†), éƒ½æ˜¯å¾ˆæœ´å®çš„è¯­è¨€, åƒååœ¨ç«ç‚‰è¾¹å’Œä½ è°ˆè¯ä¸€æ ·, å–œæ¬¢. ä¸€ç™¾åƒç±³è¶…çº§é©¬æ‹‰æ¾å¤ªææ€–äº†... è·‘æ­¥æ—¶å¿ƒç†çš„å˜åŒ–è¿‡ç¨‹: è·‘å‰å†³å®šä¸€å®šè¦è·‘ä¸ªå¥½æˆç»©; å¼€å§‹è·‘è§‰å¾—å¾ˆè½»æ¾; è·‘åˆ°åŠæˆä»¥ä¸ºä¼šæ˜¯ä¸€ä¸ªå¥½æˆç»©; è·‘åˆ°æœ€åå¿ƒé‡Œåªå‰©ä¸‹åŒæ¶--è¯¥æ­»çš„è·¯ç¨‹æ€ä¹ˆè¿˜ä¸ç»“æŸ!! æ‘˜æŠ„ ä¸‹é¢è¿™è¯é¢‡ç±»ç‹¡è¾©ï¼Œæ›´ä»¤äººæƒ¶æï¼šå°½ç®¡è¿™æ˜¯ä¸€éƒ¨è°ˆè®ºè·‘æ­¥çš„ä¹¦ï¼Œå´ä¸æ˜¯è°ˆè®ºå¥åº·æ–¹æ³•çš„ä¹¦ã€‚æˆ‘å¹¶éè¦åœ¨è¿™é‡Œé«˜è°ˆé˜”è®ºã€æŒ¯è‡‚ä¸€å‘¼ï¼š\"æ¥å‘€!è®©æˆ‘ä»¬æ¯å¤©è·‘æ­¥ï¼Œæ°¸è‘†å¥åº·å§!\"å½’æ ¹ç»“åº•ï¼Œè¿™äº›éƒ½ä¸è¿‡æ˜¯æ€ç´¢ç‰‡æ®µï¼ŒæŠ‘æˆ–è‡ªé—®è‡ªç­”â€”â€”å¯¹æˆ‘ä¸ªäººè€Œè¨€ï¼åšæŒè·‘æ­¥ç©¶ç«Ÿæœ‰ä½•æ„å‘³ã€‚ä»…æ­¤è€Œå·²ã€‚ å³ä½¿ä¸è¶³ä»¥ç§°ä¸º\"å“²å­¦\"ï¼Œç„¶è€Œæˆ‘ä»¥ä¸ºï¼Œè¿™é‡Œé¢å«æœ‰_äº›ç±»ä¼¼ç»éªŒæ³•åˆ™çš„ä¸œè¥¿ã€‚ä¸€äº›æ— ç”šå¤§ä¸äº†çš„ç©æ„å„¿ï¼Œå´æ˜¯æˆ‘é€šè¿‡å®å®åœ¨åœ¨åœ°è¿åŠ¨è‡ªå·±çš„èº¯ä½“ï¼Œé€šè¿‡ä½œä¸ºé€‰æ‹©çš„ç£¨éš¾ï¼Œæå…¶ç§äººåœ°æ„Ÿæ‚Ÿåˆ°çš„ä¸œè¥¿ã€‚ä¹Ÿè®¸å¹¶ä¸å€¼å¾—æ¨è€Œå¹¿ä¹‹ï¼Œä½†æ— è®ºå¦‚ä½•ï¼Œè¿™ï¼Œå°±æ˜¯æˆ‘è¿™ä¸ªäººã€‚ è·‘æ­¥å¯¹æˆ‘æ¥è¯´ï¼Œä¸ç‹¬æ˜¯æœ‰ç›Šçš„ä½“è‚²é”»ç‚¼ï¼Œè¿˜æ˜¯æœ‰æ•ˆçš„éšå–»ã€‚æˆ‘æ¯æ—¥ä¸€é¢è·‘æ­¥ï¼Œæˆ–è€…è¯´ä¸€é¢ç§¯ç´¯å‚èµ›ç»éªŒï¼Œä¸€é¢å°†ç›®æ ‡çš„æ¨ªæ†ä¸€ç‚¹ç‚¹åœ°æé«˜ï¼Œé€šè¿‡è¶…è¶Šè¿™é«˜åº¦æ¥æé«˜è‡ªå·±ã€‚è‡³å°‘æ˜¯ç«‹å¿—æé«˜è‡ªå·±ï¼Œå¹¶ä¸ºä¹‹æ—¥æ—¥ä»˜å‡ºåŠªåŠ›ã€‚æˆ‘å›ºç„¶ä¸æ˜¯äº†ä¸èµ·çš„è·‘æ­¥è€…ï¼Œè€Œæ˜¯å¤„äºæä¸ºå¹³å‡¡çš„â€”â€”æ¯‹å®è¯´æ˜¯å‡¡åº¸çš„â€”â€”æ°´å‡†ã€‚ç„¶è€Œè¿™ä¸ªé—®é¢˜æ ¹æœ¬ä¸é‡è¦ã€‚æˆ‘è¶…è¶Šäº†æ˜¨å¤©çš„è‡ªå·±ï¼Œå“ªæ€•åªæ˜¯é‚£ä¹ˆä¸€ä¸ç‚¹å„¿ï¼Œæ‰æ›´ä¸ºé‡è¦ã€‚åœ¨é•¿è·‘ä¸­ï¼Œå¦‚æœè¯´æœ‰ä»€ä¹ˆå¿…é¡»æˆ˜èƒœçš„å¯¹æ‰‹ï¼Œé‚£å°±æ˜¯è¿‡å»çš„è‡ªå·±ã€‚ è·‘æ­¥æ—¶æµ®ä¸Šè„‘é™…çš„æ€ç»ªï¼Œå¾ˆåƒå¤©é™…çš„äº‘æœµï¼Œå½¢çŠ¶å„å¼‚ï¼Œå¤§å°ä¸åŒã€‚å®ƒä»¬é£˜ç„¶è€Œæ¥ï¼Œåˆé£˜ç„¶è€Œå»ã€‚ç„¶è€Œå¤©ç©ºçŠ¹è‡ªæ˜¯å¤©ç©ºï¼Œä¸€æˆä¸å˜ã€‚äº‘æœµä¸è¿‡æ˜¯åŒ†åŒ†è¿‡å®¢ï¼Œå®ƒç©¿è¿‡å¤©ç©ºï¼Œæ¥äº†å»äº†ã€‚å”¯æœ‰å¤©ç©ºç•™å­˜ä¸‹æ¥ã€‚æ‰€è°“å¤©ç©ºï¼Œæ˜¯æ—¢åœ¨åˆä¸åœ¨çš„ä¸œè¥¿ï¼Œæ—¢æ˜¯å®ä½“åˆä¸æ˜¯å®ä½“ã€‚å¯¹äºå¤©ç©ºè¿™ç§å¹¿æ¼ å®¹å™¨èˆ¬çš„å­˜åœ¨çŠ¶æ€ï¼Œæˆ‘ä»¬å”¯æœ‰ç…§å•æ”¶ä¸‹ï¼Œå…¨ç›˜æ¥å—ã€‚ æˆ‘åŸºæœ¬æ˜¯å¦‚æ­¤æ€è€ƒï¼Œå¹¶ä¾å¾ªç€è¿™æ ·çš„æ€è€ƒåº¦è¿‡äººç”Ÿã€‚å°±ç»“æœè€Œè¨€ï¼Œåœ¨æŸç§ç¨‹åº¦ä¸Šï¼Œæˆ‘ä¹Ÿè®¸æ˜¯ä¸»åŠ¨åœ°è¿½æ±‚å­¤ç»ã€‚å¯¹äºæ“æˆ‘è¿™ç§èŒä¸šçš„äººæ¥è¯´ï¼Œå°½ç®¡æœ‰ç€ç¨‹åº¦ä¸Šçš„å·®å¼‚ï¼Œè¿™å´æ˜¯æ— æ³•ç»•é“å›é¿çš„å¿…ç»ä¹‹è·¯ã€‚è¿™ç§å­¤ç»ä¹‹æ„Ÿï¼Œä¼šåƒä¸æ—¶ä»ç“¶ä¸­æº¢å‡ºçš„é…¸ä¸€èˆ¬ï¼Œåœ¨ä¸çŸ¥ä¸è§‰ä¸­è…èš€äººçš„å¿ƒçµï¼Œå°†ä¹‹æº¶åŒ–ã€‚è¿™æ˜¯ä¸€æŠŠé”‹åˆ©çš„åŒåˆƒå‰‘ï¼Œå›æŠ¤äººçš„å¿ƒçµï¼Œä¹Ÿç»†å¾®å´ä¸é—´æ­‡åœ°æŸä¼¤å¿ƒçµçš„å†…å£ã€‚è¿™ç§å±é™©ï¼Œæˆ‘ä»¬å¤§æ¦‚æœ‰æ‰€ä½“å‘³ï¼Œå¿ƒçŸ¥è‚šæ˜ã€‚å”¯å…¶å¦‚æ­¤ï¼Œæˆ‘æ‰å¿…é¡»ä¸é—´æ–­åœ°ã€ç‰©ç†æ€§åœ°è¿åŠ¨èº«ä½“ï¼Œæœ‰æ—¶ç”šè‡³ç©·å°½ä½“åŠ›ï¼Œæ¥æ’é™¤èº«ä½“å†…éƒ¨è´Ÿè·çš„å­¤ç»æ„Ÿã€‚è¯´æ˜¯ç€æ„å¦‚æ­¤ï¼Œæ¯‹å®è¯´å‡­ç€ç›´è§‰è¡Œäº‹ã€‚ è®©æˆ‘è¯´å¾—æ›´å…·ä½“ä¸€ç‚¹ã€‚ å½“å—åˆ°æŸäººæ— ç¼˜æ— æ•…(è‡³å°‘æˆ‘çœ‹æ¥æ˜¯å¦‚æ­¤)çš„ééš¾æ—¶ï¼ŒæŠ‘æˆ–è§‰å¾—èƒ½å¾—åˆ°æŸäººçš„æ¥å—å´æœªå¿…å¦‚æ­¤æ—¶ï¼Œæˆ‘æ€»æ˜¯æ¯”å¹³æ—¥è·‘å¾—æ›´è¿œä¸€äº›ã€‚è·‘é•¿äºå¹³æ—¥çš„è·ç¦»ï¼Œè®©è‚‰ä½“æ›´å¤šåœ°æ¶ˆè€—ä¸€äº›ï¼Œå¥½é‡æ–°è®¤è¯†è‡ªå·±ä¹ƒæ˜¯èƒ½åŠ›æœ‰é™çš„è½¯å¼±äººç±»â€”â€”ä»æœ€æ·±å¤„ï¼Œç‰©ç†æ€§åœ°è®¤è¯†ã€‚å¹¶ä¸”ï¼Œè·‘çš„è·ç¦»é•¿äºå¹³æ—¥ï¼Œä¾¿æ˜¯å¼ºåŒ–äº†è‡ªå·±çš„è‚‰ä½“ï¼Œå“ªæ€•æ˜¯ä¸€ç‚¹ç‚¹ã€‚å‘æ€’çš„è¯ï¼Œå°±å°†é‚£ä»½æ€’æ°”å†²ç€è‡ªå·±å‘å¥½äº†ã€‚æ„Ÿåˆ°æ‡Šæ¼çš„è¯ï¼Œå°±ç”¨é‚£ä»½æ‡Šæ¼æ¥ç£¨ç‚¼è‡ªå·±å¥½äº†ã€‚æˆ‘ä¾¿æ˜¯å¦‚æ­¤æ€è€ƒçš„ã€‚èƒ½å¤Ÿé»˜é»˜åå’½ä¸‹å»çš„ä¸œè¥¿ï¼Œå°±ä¸€æ˜Ÿä¸å‰©åœ°åå’½è¿›ä½“å†…ï¼Œåœ¨å°è¯´è¿™ä¸€å®¹å™¨ä¸­ï¼Œå°½åŠ›æ”¹å˜å…¶å§¿æ€å½¢çŠ¶ï¼Œå°†å®ƒä½œä¸ºæ•…äº‹çš„ä¸€éƒ¨åˆ†é‡Šæ”¾å‡ºå»ã€‚æˆ‘åŠªåŠ›åšåˆ°è¿™ä¸€ç‚¹ã€‚æˆ‘å¹¶ä¸è®¤ä¸ºè¿™æ ·ä¸€ç§æ€§æ ¼è®¨äººå–œçˆ±ï¼Œææ€•æœ‰æå°‘äººèµè¯†ï¼Œå´éš¾å¾—è®¨å¤§ä¼—æ¬¢å–œã€‚å¯¹äºè¿™æ ·ä¸€ä¸ªç¼ºä¹åè°ƒæ€§çš„äººï¼Œä¸€é‡ä¸Šäº‹æƒ…å°±æƒ³ç‹¬è‡ªèº²è¿›å£æ©±é‡Œçš„äººï¼Œæœ‰è°ä¼šæŠ±æœ‰å¥½æ„å‘¢?ä¸€ä¸ªèŒä¸šå°è¯´å®¶è®¨äººå–œçˆ±è¿™ç§äº‹ï¼Œéš¾é“çœŸæœ‰å¯èƒ½ä¹ˆ?ä¸å¾—è€ŒçŸ¥ã€‚æˆ–è®¸åœ¨ä¸–ç•ŒæŸä¸ªåœ°æ–¹æœ‰ï¼Œä½†ææ€•å¾ˆéš¾æ¨è€Œå¹¿ä¹‹ã€‚è‡³å°‘æˆ‘å¾ˆéš¾æƒ³è±¡ï¼Œè‡ªå·±ä½œä¸ºä¸€ä¸ªå°è¯´å®¶ï¼Œæˆå¹´ç´¯æœˆä¸æ–­åœ°å†™å°è¯´ï¼ŒåŒæ—¶åˆèƒ½ä¸ºäººç§ä¸‹é‡Œå–œçˆ±ã€‚ä¸ºäººå«Œæ¶ã€æ†æ¨ã€è½»è”‘ï¼Œä¼¼ä¹å€’æ˜¯æ›´ä¸ºè‡ªç„¶çš„äº‹æƒ…ã€‚æˆ‘ä¹Ÿå¹¶ä¸æ‰“ç®—è¯´ï¼šè¿™æ ·çš„è¯ï¼Œæˆ‘åè€Œæ„Ÿåˆ°æ”¾å¿ƒã€‚å³ä¾¿æ˜¯æˆ‘ï¼Œä¹Ÿæ²¡æœ‰èµç©ä»–äººçš„å«Œæ¶çš„çˆ±å¥½ã€‚é‚£æ˜¯å¦å¤–çš„äº‹ï¼Œè¿˜æ˜¯æ¥è°ˆè°ˆè·‘æ­¥å§ã€‚ äººç”ŸåŸºæœ¬æ˜¯ä¸å…¬å¹³çš„ã€‚æ­¤ä¹ƒä¸åˆŠä¹‹è®ºã€‚å³ä¾¿èº«å¤„ä¸å…¬ä¹‹åœ°ï¼Œæˆ‘ä»¥ä¸ºäº¦å¯å¸Œæ±‚æŸç§\"å…¬æ­£\"ã€‚è®¸å¾—è´¹æ—¶è€—åŠ›ï¼›ç”šæˆ–è´¹äº†æ—¶è€—äº†åŠ›ï¼Œå´ä»æ˜¯æ‰ç„¶ã€‚è¿™æ ·çš„\"å…¬å¹³\"ï¼Œæ˜¯å¦å€¼å¾—åˆ»æ„å¸Œæ±‚ï¼Œå½“ç„¶è¦é å„äººè‡ªå·±è£é‡äº†ã€‚ æ—¶éš”è®¸ä¹…é‡è¯»è¿™ç¯‡æ–‡ç« ï¼Œæˆ‘å‘ç°ä¸€ä¸ªäº‹å®ï¼šäºŒåå¤šå¹´å·²ç»é€å»ï¼Œæˆ‘ä¹Ÿè·‘è¿‡äº†å‡ ä¹ä¸å¹´æ•°ç›¸ç­‰çš„å…¨ç¨‹é©¬æ‹‰æ¾èµ›æ¬¡ï¼Œå¯æ˜¯è·‘å››åäºŒå…¬é‡Œåæ„Ÿå—åˆ°çš„ï¼Œä¸æœ€åˆé‚£ä¸€æ¬¡ç›¸æ¯”ï¼Œä¼¼ä¹æ²¡æœ‰å¤šå¤§å˜åŒ–ã€‚ç°åœ¨ä¾ç„¶å¦‚æ•…ï¼Œæ¯æ¬¡è·‘é©¬æ‹‰æ¾ï¼Œæˆ‘å¤§ä½“éƒ½ä¼šç»å†ç›¸åŒçš„å¿ƒè·¯ã€‚è·‘åˆ°ä¸‰åå…¬é‡Œï¼Œæ€»è§‰å¾—\"è¿™æ¬¡æ²¡å‡†å„¿ä¼šå‡ºå¥½æˆç»©å‘¢\"ã€‚è¿‡äº†ä¸‰åäº”å…¬é‡Œï¼Œä½“å†…çš„ç‡ƒæ–™ä¾¿æ¶ˆè€—æ®†å°½ï¼Œå¼€å§‹å¯¹å„ç§äº‹ç‰©å¤§ä¸ºå…‰ç«ã€‚åˆ°äº†æœ€åï¼Œåˆ™ç”Ÿå‡º\"æ£ç€ç©ºç©ºå¦‚ä¹Ÿçš„æ±½æ²¹ç®±ä¸åœè¡Œé©¶çš„æ±½è½¦\"èˆ¬çš„å¿ƒæƒ…ã€‚ç„¶è€Œè·‘å®Œä¹‹åå°‘é¡·ï¼Œæ›¾ç»çš„ç—›è‹¦ã€å¯æ‚²çš„å¿µå¤´çœ¨çœ¼é—´å¿˜å¾—ä¸€åƒäºŒå‡€ï¼Œè¿˜ä¸‹å®šå†³å¿ƒï¼š\"ä¸‹æ¬¡æˆ‘è¦è·‘å¾—æ›´å¥½!\"ä»»å‡­ç§¯ç´¯äº†å¤šå°‘ç»éªŒï¼Œå¢æ·»äº†å‡ å²ï¼Œè¿˜æ˜¯ä¸€å†é‡å¤ç›¸åŒçš„æ—§äº‹ã€‚ æ˜¯çš„ï¼Œè¿™ç§æ¨¡å¼æ— è®ºå¦‚ä½•éƒ½ä¸æ¥å—æ”¹å˜ï¼Œæˆ‘ä»¥ä¸ºã€‚å¦‚è‹¥å¿…é¡»åŒè¿™ç§æ¨¡å¼å’Œå¹³å…±å¤„ï¼Œæˆ‘åªèƒ½é€šè¿‡æ‰§è‘—çš„åå¤ï¼Œæ”¹å˜æˆ–æ˜¯æ‰­æ›²è‡ªå·±ï¼Œå°†å®ƒå¸æ”¶è¿›æ¥ï¼Œæˆä¸ºäººæ ¼çš„ä¸€éƒ¨åˆ†ã€‚ å“ˆå“ˆã€‚ å€˜è‹¥ä¸€è¿å‡ å¤©éƒ½ä¸ç»™å®ƒè´Ÿè·ï¼Œè‚Œè‚‰ä¾¿ä¼šè‡ªä½œä¸»å¼ ï¼š\"å“¦ï¼Œæ²¡å¿…è¦é‚£èˆ¬åŠªåŠ›äº†ã€‚å•Šå‘€ï¼Œå¤ªå¥½äº†ã€‚\"é‚è‡ªè¡Œå°†æ‰¿å—æé™é™ä½ã€‚è‚Œè‚‰ä¹ŸåŒæœ‰è¡€æœ‰è‚‰çš„åŠ¨ç‰©ä¸€èˆ¬æ— äºŒï¼Œå®ƒä¹Ÿæ„¿æ„è¿‡æ›´ä¸ºèˆ’æœçš„æ—¥å­ï¼Œä¸ç»§ç»­ç»™å®ƒè´Ÿè·ï¼Œå®ƒä¾¿ä¼šå¿ƒå®‰ç†å¾—åœ°å°†è®°å¿†é™¤å»ã€‚æƒ³å†åº¦è¾“å…¥çš„è¯ï¼Œå¿…å¾—ä»å¤´å¼€å§‹ï¼Œå°†åŒæ ·çš„æ¨¡å¼é‡å¤ä¸€éã€‚ä¼‘æ¯æ˜¯å¿…è¦çš„ã€‚ç„¶è€Œï¼Œæ¯”èµ›è¿«åœ¨çœ¼å‰çš„é‡è¦æ—¶æœŸï¼Œè¦ä¸¥è‚ƒåœ°ç»™è‚Œè‚‰ä¸‹è¾¾æœ€åé€šç‰’ï¼Œå°†æ¯«ä¸å«æ··çš„ä¿¡æ¯ä¼ è¾¾ç»™å®ƒï¼š\"è¿™å¯æ˜¯ä¸€ä¸ä¸€æ¯«ä¹Ÿé©¬è™ä¸å¾—çš„!\"å½“ç„¶ä¸èƒ½è®©å®ƒè¶…è´Ÿè·ï¼Œä½†ä¸€å®šå¾—ä¸å®ƒç»´æŒç€ç»ä¸æ¾æ‡ˆçš„ç´§å¼ å…³ç³»ã€‚å¤„ç†ä¸ªä¸­çš„å‹¾å¿ƒæ–—è§’ï¼Œæœ‰ç»éªŒçš„è·‘è€…è‡ªç„¶å¾—å¿ƒåº”æ‰‹ã€‚ ä¸–ä¸Šæ—¶æ—¶æœ‰äººå˜²ç¬‘æ¯æ—¥åšæŒè·‘æ­¥çš„äººï¼š\"éš¾é“å°±é‚£ä¹ˆç›¼æœ›é•¿å‘½ç™¾å²?\"æˆ‘å´ä»¥ä¸ºï¼Œå› ä¸ºå¸Œå†€é•¿å‘½ç™¾å²è€Œè·‘æ­¥çš„äººï¼Œå¤§æ¦‚ä¸å¤ªå¤šã€‚æ€€ç€\"ä¸èƒ½é•¿å‘½ç™¾å²ä¸æ‰“ç´§ï¼Œè‡³å°‘æƒ³åœ¨æœ‰ç”Ÿä¹‹å¹´è¿‡å¾—å®Œç¾\"è¿™ç§å¿ƒæƒ…è·‘æ­¥çš„äººï¼Œåªæ€•å¤šå¾—å¤šã€‚åŒæ ·æ˜¯åå¹´ï¼Œä¸å…¶ç¨€é‡Œç³Šæ¶‚åœ°æ´»è¿‡ï¼Œç›®çš„æ˜ç¡®ã€ç”Ÿæ°”å‹ƒå‹ƒåœ°æ´»å½“ç„¶ä»¤äººè¿œä¸ºæ»¡æ„ã€‚è·‘æ­¥æ— ç–‘å¤§æœ‰é­…åŠ›ï¼šåœ¨ä¸ªäººçš„å±€é™æ€§ä¸­ï¼Œå¯ä»¥è®©è‡ªå·±æœ‰æ•ˆåœ°ç‡ƒçƒ§â€”â€”å“ªæ€•æ˜¯ä¸€ä¸ç‚¹å„¿ï¼Œè¿™ä¾¿æ˜¯è·‘æ­¥ä¸€äº‹çš„æœ¬è´¨ï¼Œä¹Ÿæ˜¯æ´»ç€(åœ¨æˆ‘æ¥è¯´è¿˜æœ‰å†™ä½œ)ä¸€äº‹çš„éšå–»ã€‚è¿™æ ·çš„æ„è§ï¼Œææ€•ä¼šæœ‰å¾ˆå¤šè·‘è€…äºˆä»¥èµåŒã€‚ è·‘å…¨ç¨‹é©¬æ‹‰æ¾æ—¶ï¼Œåˆ°äº†æœ€åå…³å¤´ï¼Œè„‘å­é‡Œå……æº¢çš„å…¨æ˜¯ä¸€ä¸ªå¿µå¤´ï¼šèµ¶å¿«è·‘è¿‡ç»ˆç‚¹ï¼Œèµ¶å¿«ç»“æŸ!æ­¤å¤–ä»€ä¹ˆéƒ½æ— æ³•è€ƒè™‘ã€‚æ­¤æ—¶æ­¤åˆ»ï¼Œæˆ‘å´ä¸æ›¾æƒ³è¿‡è¿™ä¸€ç‚¹ã€‚æˆ‘è§‰å¾—ï¼Œæ‰€è°“ç»“æŸï¼Œä¸è¿‡æ˜¯æš‚æ—¶å‘Šä¸€æ®µè½ï¼Œå¹¶æ— å¤ªå¤§çš„æ„ä¹‰ã€‚å°±åŒæ´»ç€ä¸€æ ·ã€‚å¹¶éå› ä¸ºæœ‰äº†ç»“æŸï¼Œè¿‡ç¨‹æ‰å…·æœ‰æ„ä¹‰ã€‚è€Œæ˜¯ä¸ºäº†ä¾¿å®œåœ°å‡¸æ˜¾è¿‡ç¨‹è¿™ç©æ„å„¿çš„æ„ä¹‰ï¼ŒæŠ‘æˆ–è½¬å¼¯æŠ¹è§’åœ°æ¯”å–»å…¶å±€é™æ€§ï¼Œæ‰åœ¨æŸä¸€ä¸ªåœ°ç‚¹å§‘ä¸”è®¾ç½®ä¸€ä¸ªç»“æŸã€‚ç›¸å½“åœ°å“²å­¦ã€‚ä¸è¿‡å½“æ—¶æˆ‘ä¸€ç‚¹ä¹Ÿæ²¡è§‰å¾—è¿™å¾ˆå“²å­¦ã€‚è¿™ä¸æ˜¯é€šè¿‡è¯­è¨€ï¼Œè€Œæ˜¯é€šè¿‡èº«ä½“æ„Ÿå—åˆ°çš„ï¼Œä¸å¦¨è¯´æ˜¯æ•´ä½“æ€§åœ°æ„Ÿå—åˆ°çš„ã€‚è·‘è¿›äº†æœ€åçš„æ¼«é•¿çš„åŠå²›çŠ¶åŸç”ŸèŠ±å›­è·‘é“ï¼Œè¿™ç§å¿ƒæƒ…å˜å¾—å°¤å…¶å¼ºçƒˆã€‚è·‘æ³•è¿‘ä¼¼è¿›å…¥å†¥æƒ³çŠ¶æ€ã€‚æµ·è¾¹çš„æ™¯è‰²ååˆ†ç¾ä¸½ï¼Œå¯ä»¥æ„Ÿå—åˆ°é„‚éœæ¬¡å…‹æµ·çš„æ°”æ¯ã€‚å¤©è‰²å·²è¿‘é»„æ˜(å‡ºå‘æ˜¯åœ¨æ¸…æ™¨)ï¼Œç©ºæ°”å‘ˆç°å‡ºç‹¬ç‰¹çš„æ¸…æ¾„æ¥ï¼Œå‘å‡ºå¤åˆæ·±æ·±çš„é’è‰æ°”å‘³ã€‚è¿˜çœ‹è§å‡ åªç‹ç‹¸åœ¨åŸé‡ä¸­ç»“é›†æˆç¾¤ã€‚å®ƒä»¬å¥½å¥‡åœ°æœ›ç€å‚èµ›è€…ã€‚ä»¿ä½›åä¹ä¸–çºªè‹±å›½é£æ™¯ç”»ä¸€èˆ¬æ„å‘³æ·±é•¿çš„äº‘æœµï¼Œæ²‰ç¨³åœ°é®è”½äº†å¤©ç©ºã€‚é£å„¿ä¸€ä¸ä¹Ÿæ— ã€‚åœ¨æˆ‘çš„å‘¨é­ï¼Œè®¸å¤šäººåªæ˜¯é»˜é»˜å‘ç€ç»ˆç‚¹å¥”å»ã€‚èº«å¤„å…¶ä¸­ï¼Œæˆ‘æ‹¥æŠ±ç€å¼‚å¸¸é™è°§çš„å¹¸ç¦æ„Ÿã€‚å¸æ°”ï¼Œå†åæ°”ï¼Œå¬ä¸å‡ºå‘¼å¸ä¸­æœ‰ä¸æ¯«ç´Šä¹±ã€‚ç©ºæ°”éå¸¸å¹³é™åœ°è¿›å…¥ä½“å†…ï¼Œå†èµ°å‡ºä½“å¤–ã€‚æˆ‘é‚£å¯¡è¨€çš„å¿ƒè„æŒ‰ç…§ä¸€å®šçš„é€Ÿåº¦é‡å¤ç€èˆ’å¼ ä¸æ”¶ç¼©ã€‚æˆ‘çš„è‚ºå¥½ä¼¼å‹¤åŠ³çš„é£ç®±ï¼Œè§„è§„çŸ©çŸ©å°†æ–°é²œçš„æ°§æ°”æ‘„å…¥ä½“å†…ã€‚æˆ‘èƒ½å¤Ÿç›®ç¹å®ƒä»¬å·¥ä½œçš„èº«å½±ï¼Œèƒ½å¤Ÿå¬è§å®ƒä»¬å‘å‡ºçš„å£°å“ã€‚ä¸€åˆ‡éƒ½é¡ºç•…æ— è¯¯åœ°è¿è½¬ç€ã€‚æ²¿é“çš„äººä»¬å¯¹ç€æˆ‘ä»¬å¤§å£°å‘¼å”¤ï¼š\"åŠ æ²¹å•Š!é©¬ä¸Šå°±åˆ°ç»ˆç‚¹å•¦!\"å£°éŸ³åƒé€æ˜çš„é£ï¼Œç©¿é€äº†æˆ‘çš„èº«ä½“é€å»ã€‚æˆ‘æ„Ÿè§‰ï¼Œäººä»¬çš„å£°éŸ³å°±è¿™èˆ¬ç©¿é€è€Œè¿‡ï¼Œç›´è¾¾èº«ä½“å¦ä¸€é¢ã€‚ æˆ‘æ˜¯æˆ‘ï¼Œåˆä¸æ˜¯æˆ‘ã€‚è¿™æ˜¯ä¸€ç§å¼‚å¸¸æ²‰ç¨³è€Œå¯‚é™çš„å¿ƒæƒ…ã€‚æ„è¯†ä¹‹ç±»å¹¶éå¤šä¹ˆé‡è¦çš„ä¸œè¥¿ã€‚å›ºç„¶ï¼Œæˆ‘æ˜¯ä¸€ä¸ªå°è¯´å®¶ï¼Œåœ¨å·¥ä½œä¸Šï¼Œæ„è¯†è¿™ä¸œè¥¿è‡ªæ˜¯ååˆ†é‡è¦ã€‚æ²¡æœ‰å®ƒï¼Œä¸»ä½“æ€§çš„æ•…äº‹ä¾¿æ— ç¼˜è¯ç”Ÿã€‚å°½ç®¡å¦‚æ­¤ï¼Œæˆ‘è¿˜æ˜¯ç¦ä¸ä½æ„Ÿåˆ°ï¼šæ„è¯†ä¹‹ç±»å¹¶éå¤§ä¸äº†çš„ç©æ„å„¿ã€‚ æˆ‘å·²ç»åˆ°äº†ä¸€å®šçš„å¹´çºªï¼Œæ—¶é—´è‡ªä¼šæ‹¿èµ°å®ƒé‚£ä»½é¢åº¦ï¼Œæ€¨ä¸å¾—ä»»ä½•äººã€‚è¿™å°±æ˜¯æ¸¸æˆè§„åˆ™ï¼Œå°±å¦‚åŒæ²³æ°´å‘ç€å¤§æµ·æºæºä¸æ–­åœ°æµå»ä¸€æ ·ã€‚è‡ªå·±è¿™ç§å½¢è±¡ï¼Œæˆ‘ä»¬åªèƒ½å½“ä½œè‡ªç„¶å…‰æ™¯çš„ä¸€éƒ¨åˆ†ï¼ŒåŸå°ä¸åŠ¨åœ°æ¥å—ã€‚è¿™ä¹Ÿè®¸ä¸æ˜¯ä»¤äººæ„‰å¿«çš„äº‹ï¼Œä»ä¸­å‘ç°çš„ï¼Œæˆ–è®¸ä¹Ÿéå€¼å¾—æ¬£å–œè‹¥ç‹‚çš„ä¸œè¥¿ã€‚ä¸è¿‡ï¼Œè¿™éš¾é“ä¸æ˜¯æ— å¯å¥ˆä½•çš„äº‹æƒ…ä¹ˆ?è‡³æ­¤ä¸ºæ­¢çš„äººç”Ÿï¼Œæˆ‘å¥½æ­¹ä¹Ÿå¤§è‡´â€”â€”å³ä¾¿ä¸èƒ½è¯´æ˜¯å……åˆ†â€”â€”äº«å—äº†å…¶ä¸­çš„ä¹è¶£ã€‚ æˆ‘ä»°æœ›å¤©ç©ºã€‚èƒ½çœ‹åˆ°ä¸€ä¸ä¸€æ¯«çš„çˆ±å¿ƒä¹ˆ?ä¸ï¼Œçœ‹ä¸åˆ°ã€‚åªæœ‰å¤ªå¹³æ´‹ä¸Šç©ºæ‚ ç„¶é£˜æ¥æµ®å»ã€æ— æ‰€äº‹äº‹çš„å¤æ—¥äº‘æœµã€‚äº‘æœµæ°¸è¿œæ²‰é»˜æ— è¯­ã€‚å®ƒä»¬ä»€ä¹ˆéƒ½ä¸å¯¹æˆ‘è¯´ã€‚æˆ–è®¸æˆ‘ä¸è¯¥ä»°æœ›å¤©ç©ºï¼Œåº”å½“å°†è§†çº¿æŠ•å»æˆ‘çš„å†…éƒ¨ã€‚æˆ‘è¯•ç€çœ‹å‘è‡ªå·±çš„å†…éƒ¨ï¼Œå°±å¦‚åŒçª¥è§†æ·±æ·±çš„äº•åº•ã€‚é‚£é‡Œå¯ä»¥çœ‹åˆ°çˆ±å¿ƒä¹ˆ?ä¸ï¼Œçœ‹ä¸åˆ°ã€‚çœ‹åˆ°çš„åªæœ‰æˆ‘çš„æ€§æ ¼ã€‚æˆ‘é‚£ä¸ªäººçš„ã€é¡½å›ºçš„ã€ç¼ºä¹åè°ƒæ€§çš„ï¼Œæ¯æ¯ä»»æ€§å¦„ä¸ºåˆå¸¸å¸¸æ€€ç–‘è‡ªå·±çš„ï¼Œå“ªæ€•é‡åˆ°äº†ç—›è‹¦ä¹Ÿæƒ³åœ¨å…¶ä¸­å‘ç°å¯ç¬‘ä¹‹å¤„çš„æ€§æ ¼ã€‚æˆ‘æ‹ç€å®ƒï¼Œå°±åƒæ‹ç€ä¸€ä¸ªå¤æ—§çš„æ—…è¡ŒåŒ…ï¼Œè¸±è¿‡äº†æ¼«é•¿çš„å†ç¨‹ã€‚æˆ‘å¹¶ä¸æ˜¯å› ä¸ºå–œæ¬¢æ‰æ‹ç€å®ƒã€‚ä¸å†…å®¹ç›¸æ¯”ï¼Œå®ƒæ˜¾å¾—å¤ªæ²‰é‡ï¼Œå¤–è§‚ä¹Ÿä¸èµ·çœ¼ï¼Œè¿˜åˆ°å¤„ç»½å¼€äº†çº¿ã€‚æˆ‘åªæ˜¯æ²¡æœ‰åˆ«çš„ä¸œè¥¿å¯æ‹ï¼Œæ— å¥ˆæ‰æ‹ç€å®ƒå¾˜å¾Šå½·å¾¨çš„ã€‚ç„¶è€Œï¼Œæˆ‘å¿ƒä¸­å´å¯¹å®ƒæ€€æœ‰æŸç§ä¾ä¾ä¸èˆçš„æƒ…æ„Ÿã€‚ ä¸ç®¡æœ‰æ— æ•ˆèƒ½ï¼Œæ˜¯å¦å¥½çœ‹ï¼Œå¯¹æˆ‘ä»¬è‡³å…³é‡è¦çš„ä¸œè¥¿ï¼Œå‡ ä¹éƒ½æ˜¯è‚‰çœ¼æ— æ³•çœ‹è§ï¼Œç„¶è€Œç”¨å¿ƒçµå¯ä»¥æ„Ÿå—åˆ°çš„ã€‚è€Œä¸”ï¼ŒçœŸæ­£æœ‰ä»·å€¼çš„ä¸œè¥¿ï¼Œå¾€å¾€é€šè¿‡æ•ˆç‡ç”šä½çš„è¥ç”Ÿæ–¹æ‰è·å¾—ã€‚å³ä¾¿è¿™æ˜¯è™šå¦„çš„è¡Œä¸ºï¼Œä¹Ÿç»ä¸æ˜¯æ„šè ¢çš„è¡Œä¸ºã€‚æˆ‘å¦‚æ­¤è®¤ä¸ºï¼Œä½œä¸ºå®åœ¨æ„Ÿå—ï¼Œä½œä¸ºç»éªŒæ³•åˆ™ã€‚ æˆç»©ä¹Ÿå¥½ï¼Œåæ¬¡ä¹Ÿå¥½ï¼Œå¤–è§‚ä¹Ÿå¥½ï¼Œåˆ«äººå¦‚ä½•è¯„è®ºä¹Ÿå¥½ï¼Œéƒ½ä¸è¿‡æ¬¡è¦çš„é—®é¢˜ã€‚å¯¹äºæˆ‘è¿™æ ·çš„è·‘è€…ï¼Œç¬¬ä¸€é‡è¦çš„æ˜¯ç”¨åŒè„šå®å®åœ¨åœ¨åœ°è·‘è¿‡ä¸€ä¸ªä¸ªç»ˆç‚¹ï¼Œè®©è‡ªå·±æ— æ€¨æ— æ‚”ï¼šåº”å½“å°½çš„åŠ›æˆ‘éƒ½å°½äº†ï¼Œåº”å½“å¿è€çš„æˆ‘éƒ½å¿è€äº†ã€‚ä»é‚£äº›å¤±è´¥å’Œå–œæ‚¦ä¹‹ä¸­ï¼Œå…·ä½“åœ°â€”â€”å¦‚ä½•çç»†éƒ½æ²¡å…³ç³»â€”â€”ä¸æ–­æ±²å–æ•™è®­ã€‚å¹¶ä¸”æŠ•å…¥æ—¶é—´æŠ•å…¥å¹´æœˆï¼Œé€ä¸€åœ°ç´¯ç§¯è¿™æ ·çš„æ¯”èµ›ï¼Œæœ€ç»ˆåˆ°è¾¾ä¸€ä¸ªè‡ªå·±å®Œå…¨æ¥å—çš„å¢ƒç•Œï¼ŒæŠ‘æˆ–æ— é™ç›¸è¿‘çš„æ‰€åœ¨ã€‚å—¯ï¼Œè¿™ä¸ªè¡¨è¾¾ææ€•æ›´ä¸ºè´´åˆ‡ã€‚ å°±è¿™èˆ¬ï¼Œåœ¨é•¿è¾¾å››åˆ†ä¹‹ä¸€ä¸ªä¸–çºªé‡Œï¼Œæ—¥æ—¥éƒ½åšæŒè·‘æ­¥ï¼Œå„è‰²å„æ ·çš„æ€ç»ªä»å¿ƒåº•æ¶Œèµ·ã€‚ è¿™ä¹¦é‡Œè¿˜æœ‰å¾ˆå¤šå…¶ä»–å¥å­å€¼å¾—ä¸€æŠ„... å–œæ¬¢ä¸Šäº†åœ¨Cherbourgçš„æµ·è¾¹ä½å¤´è·‘æ­¥çš„æ„Ÿè§‰...","tags":"misc","title":"è¯» <<å½“æˆ‘è°ˆè·‘æ­¥æ—¶æˆ‘è°ˆä»€ä¹ˆ>>"},{"url":"https://x-wei.github.io/soft/å›¾ç‰‡åˆå¹¶ä¸ºpdf, åˆå¹¶mp3, æ‰¹é‡å‹ç¼©å›¾ç‰‡.html","text":"å‰ä¸€é˜µé‡åˆ°çš„ä¸‰ä¸ªå°åŠŸèƒ½, linuxä¸‹æœ‰ç®€å•çš„å‘½ä»¤å¯ä»¥å®ç°... å¤šå¼ å›¾ç‰‡åˆå¹¶ä¸ºpdf è¿™ä¸ªåœ¨ç½‘ä¸Šæœä¸€èˆ¬æ‰¾åˆ°çš„ç»“æœæ˜¯: convert *.jpg xx.pdf ä½†æ˜¯è¿™ä¹ˆåšçš„é—®é¢˜æ˜¯, è¿è¡Œèµ·æ¥è¶…çº§æ…¢, ç”µè„‘ç›´æ¥å¡æ­»!!! [2020-update] pdfjoinå·²ç»æ²¡æœ‰äº†, ç°åœ¨å‘ç°ç”¨ img2pdf éå¸¸æ–¹ä¾¿: $ sudo apt install img2pdf $ img2pdf $( ls . | sort -n ) -o out.pdf [ä»¥ä¸‹ä¸ºåŸå§‹å†…å®¹] åæ¥çœ‹äº† è¿™é‡Œ , çŸ¥é“äº†å¯ä»¥ç”¨pdfjamæ¥åš. å…ˆè¦å®‰è£…pdfjam, ç„¶å: å…ˆå°†æ‰€æœ‰jpgæ–‡ä»¶é‡å‘½åä¸ºpdfï¼š rename 's/\\.jpg$/\\.pdf/' *.jpg åˆæˆåˆšé‡å‘½åçš„pdfæ–‡ä»¶ä¸ºä¸€ä»½ï¼š pdfjoin $(ls *.pdf|sort -n) --outfile xx.pdf åæ¥çœ‹åˆ°pdfjamå…¶å®æ˜¯åœ¨ç”¨latex, æƒ³åˆ°å…¶å®ä¹Ÿå¯ä»¥å…ˆè‡ªåŠ¨ç”Ÿæˆä¸€ä¸ªtexæ–‡ä»¶ç„¶åå†è°ƒç”¨texç”Ÿæˆpdf... ä¸è¿‡æ—¢ç„¶æœ‰ç°æˆçš„è½¯ä»¶å°±ç›´æ¥ç”¨å§!! åˆå¹¶mp3 è¶…çº§ç®€å•çš„ä¸€æ¡å‘½ä»¤: cat *.mp3 > output.mp3 åªè¦é¢„å…ˆæŠŠæ–‡ä»¶æŒ‰ç…§æƒ³è¦çš„é¡ºåºç¼–å·å³å¯ è¿™ä¸ªæ“ä½œåªæ˜¯æŠŠè¿™äº›æ–‡ä»¶å‰åè¿æ¥èµ·æ¥, å¯èƒ½æ˜¯ç”±äºmp3æ–‡ä»¶æ ¼å¼çš„åŸå› å§, åªè¦è¿™ä¹ˆåšäº†å°±å’Œå¹¶å®Œæˆäº†!! è€Œä¸”é€Ÿåº¦å¿«å¾—æƒŠäºº!!! ä¸è¿‡æœ‰ä¸€ç‚¹é—®é¢˜: åˆå¹¶å‡ºæ¥çš„mp3æ–‡ä»¶çš„ä¿¡æ¯(æ­Œå, è‰ºæœ¯å®¶ä¹‹ç±»)ä¼šæ˜¯æœ€åä¸€ä¸ªæ–‡ä»¶çš„ä¿¡æ¯... å½“ç„¶è¿™åŸºæœ¬ä¸å½±å“ä½¿ç”¨~ æ‰¹é‡å‹ç¼©å›¾ç‰‡ ä½¿ç”¨convertå‘½ä»¤, å¥½åƒæ˜¯åœ¨ImageMagické‡Œé¢. å‚è€ƒ è¿™é‡Œ : 1 2 3 4 5 6 7 8 9 #!/bin/bash images = ` ls *.JPG ` echo \"resize images begining...\" for image in $images do convert $image -resize 50 % $image ; echo \"resize $image to %50\" ; done exit ç„¶åå°±OKäº†... é¡ºä¾¿åæ§½ä¸‹gmailçš„é™„ä»¶å¤§å°é™åˆ¶!!...","tags":"soft","title":"å¤šå¼ å›¾ç‰‡åˆå¹¶ä¸ºpdf, åˆå¹¶mp3, æ‰¹é‡å‹ç¼©å›¾ç‰‡"},{"url":"https://x-wei.github.io/misc/Les-fetes-chinoises-en-automne.html","text":"èµ¶åœ¨åæœˆæœ€åä¸€å¤©å‘ä¸€ç¯‡æ°´æ–‡... æ¯å¹´Xæ–°ç”Ÿçš„å›½é™…å­¦ç”Ÿä¸­ä¼šæœ‰ä¸€äº›äººæ¥åˆ°Cherbourgçš„ Ecole des Fourriers å­¦ä¹ å››ä¸ªæœˆçš„æ³•è¯­. è¿™å››ä¸ªæœˆçš„æ—¶é—´ä¹Ÿè®¸æ˜¯Xå››å¹´é‡Œæœ€è½»æ¾çš„ä¸€æ®µæ—¶é—´äº†å§...... ä»Šå¹´æœ‰19åå­¦ç”Ÿæ¥Cherbourg, å†å²æœ€å¤š. æˆ‘ä»¬æ¯ä¸¤å‘¨è¦è‡ªå·±å‡ºä¸€ä»½æ³•è¯­åˆŠç‰©, ç®—æ˜¯ä¿ƒè¿›å†™ä½œæ°´å¹³å§, åŸºæœ¬ä¸Šæ²¡å•¥äººçœ‹...... æˆ‘ä»¬è¿™å¹´æŠŠæ‚å¿—å–å\"MelangeXChange\", å–å„å›½æ–‡åŒ–äº¤æ±‡ä¹‹æ„... ç¬¬ä¸€æœŸçš„æ‚å¿—å°é¢æ˜¯è¿™æ ·çš„... æŠŠæˆ‘å’ŒQYå†™çš„å…³äºä¸­ç§‹å’Œé‡é˜³çš„æ–‡ç« æ”¾ä¸Šæ¥å§, å¾ˆæ°´...... Les FÃªtes Chinoises en Automne La fÃªte de la lune Origins La fÃªte de la lune procÃ¨de du mythe de Chang'e(å«¦å¨¥). Chang'e est la femme de HouYi (åç¾¿), un hÃ©ros qui est trÃ¨s fort. HouYi obtient un Ã©lixir de longue vie de dieu. Un jour, 'un Ã©tudiant de HouYi qui voulait voler cet elixir Ã  Chang'e quand HouYi n'Ã©tait pas chez lui, pour protÃ©ger cet Ã©lixir, Chang'e prend cet elixir. Et puis elle s'exile sur la lune. On croit qu'elle habite dÃ©sormais dans la lune, et donc on cÃ©lÃ©bre une fÃªte le 15 aoÃ»t du calendrier lunaire, car cette jour, la pleine lune est la plus ronde et la plus lumineuse de l'annÃ©e, Les festivitÃ© Aujourd'hui, la fÃªte de la lune est une de ces fÃªtes traditionnel les plus important en Chine et dans les des pays de l'est de l'Asie. La lune trÃ¨s ronde reprÃ©sente la reunion de la famille. Pendant la fÃªte de la lune, on se rassemble Ã  la maison pour cÃ©lÃ¨brer la fÃªte avec les familles. En Chine, on a des vacances pour cette fÃªte. La fÃªte de la lune est une fÃªte de rÃ©union , donc il y a beaucoup de poÃ¨mes sur ce thÃ¨me. Quelques poÃ¨mes sont eextrÃªmement connus par les Chinois. Quand la famille se rÃ©unit , on regarde la lune ronde et on prÃ©pare des gÃ¢teaux de lune. < >. C'est un gÃ¢teau spÃ©cial pour la fÃªte de la lune, il est aussi rond que la lune, et symbolise le rassemblement de la famille. Et parce que le 15 aoÃ»t du calendrier lunaire est usuellement trÃ¨s prÃ¨s de la fÃªte nationale, il y a des vacances de 7 jours. Il y a un pic du tourisme et dans les transports public Ã  chaque annÃ©e Ã  cette pÃ©riode. La fÃªte du Chongyang La fÃªte du Chongyang a lieu le neuviÃ¨me jour du neuviÃ¨me mois dans le calendrier lunaire(le 23 octobre 2012 dans le calendrier grÃ©gorien). Il y a deux 9 et le 9 est un chiffre â€˜yang'(solaire et positif) donc particuliÃ¨rement vÃ©nÃ©rÃ© dans la tradition chinoise. C'est pourquoi on l'appelle â€˜Chongyang'(Double-Yang) ou â€˜Chongjiu'(Double-Neuf). L' origine La fÃªte du Chongyang est une fÃªte trÃ¨s importante pour les chinois, mais l'origine de la fÃªte est obscure. Il y a une lÃ©gende qui raconte que les habitants d'un village attrapaient une maladie et que beaucoup de personnes mouraient. Un jour, un jeune est parti consulter les sages pour trouver le remÃ¨de contre la maladie. AprÃ¨s son retour au village, il a demandÃ© aux villageois de monter au sommet d'une montagne, afin de collecter des plantes mÃ©dicinales et boire du vin de chrysanthÃ¨me. Les gens se sont rÃ©tablis peu aprÃ¨s les soins. Donc le jeune a Ã©tÃ© considÃ©rÃ© comme un hÃ©ros. Les festivitÃ©s Pendant la fÃªte du Chongyang, il y a des activitÃ©s diverses, comme l' alpinisme, la dÃ©gustation du vin de chrysanthÃ¨me et l'admiration des fleurs. Ces activitÃ©s cÃ©lÃ¨brent la lÃ©gende. D'ailleurs, on mange le gÃ¢teau de Chongyang, un dessert trÃ¨s sucrÃ© et dÃ©licieux. Le respect des vieillards a Ã©tÃ© attribuÃ© aujourd'hui Ã  la fÃªte de Chongyang, parce que le chiffre neuf, homonyme du mot â€˜longtemps' en chinois, est un symbole de longÃ©vitÃ©. Les jeunes profitent de l'occasion pour faire une excursion avec des vieillards ou leur prÃ©parer des plats savoureux. Recette de GÃ¢teau de Lune ( http://www.marmiton.org ) Temps de prÃ©paration : 240 minutes Temps de cuisson : 70 minutes IngrÃ©dients (10 Portions) : Pour la pÃ¢te : - 300 g de farine - 750 g de pÃ¢te de graine de lotus - 10 jaunes d'oeuf salÃ©s - 7 petite cuillÃ¨re d'huile d'arachide - 1 petite cuillÃ¨re de thÃ© - 1/2 petite cuillÃ¨re de levure de boulanger - 100 g de sucre Pour la dÃ©coration : - 2 jaunes d'oeuf - 1 petite cuillÃ¨re de sucre - 2 petites cuillÃ¨res d'eau PrÃ©paration : MÃ©langez le thÃ© avec la levure. Enveloppez les jaunes d'oeuf salÃ© dans un papier d'aluminium huilÃ©. Faites les cuire au four pendant 20 minutes (90Â°) Coupez le pain de farine de graine de lotus en 10, faites un creux au centre de chaque bloc et, placez-y un jaune d'oeuf salÃ©. Roulez-les pour en faire une boule. Tamisez la farine et mÃ©langez avec le thÃ© et l'huile. Laissez reposer la pÃ¢te sous une serviette mouillÃ©e pendant 4 heures. Coupez en 10. Enveloppez chaque boule avec la pÃ¢te et mettez-la dans un moule Ã  gÃ¢teau de lune. Aplatissez bien, puis retirez du moule et, placez les gÃ¢teaux sur un plateau huilÃ©. Faites cuire au four Ã  200ÂºC pendant 15 minutes. Puis enlevez les gÃ¢teaux et arrosez-les d'eau. Faites cuire encore Ã  180ÂºC pendant 5 minutes. Sortez et brossez les gÃ¢teaux avec l'oeuf battu, le sucre et l'eau. Faites cuire encore 10 minutes jusqu'Ã  ce que les gÃ¢teaux prennent une belle couleur dorÃ©e.","tags":"misc","title":"Les fÃªtes chinoises en automne"},{"url":"https://x-wei.github.io/misc/PT-summery.html","text":"è¿™ä¸ªæ€»ç»“æ—©å°±åº”è¯¥å†™äº†, æ‹–å»¶åˆ°ä»Šå¤©å®åœ¨æƒ­æ„§...... èµ¶åœ¨ä»Šå¹´ç”³è¯·çš„åŒå­¦è¿˜æ²¡ç¬”è¯•ä¹‹å‰æŠŠå®ƒå†™å‡ºæ¥å§... ä¸€. æ³•å›½å¤§å­¦æ ¡&å·´é»é«˜ç§‘é›†å›¢ä»‹ç» äº¤å¤§çš„æ³•å›½é¡¹ç›®å¾ˆå¤š, æœ€ä¸»è¦çš„æœ‰å·´é»é«˜ç§‘(9+9), ä¸­å¤®ç†å·¥(4+4), æ³•å›½é«˜æ—·è”ç›Ÿ(GEM), ä»¥åŠN+Ié¡¹ç›®. ä½†æ˜¯æ„Ÿè§‰äº¤å¤§çš„åŒå­¦ä»¬å¯¹äºæ³•å›½é¡¹ç›®çŸ¥é“çš„å¾ˆå°‘, æˆ‘æ˜¯å¤§ä¸‰è€ƒå®Œæ‰˜ç¦åæ‰çŸ¥é“æœ‰å·´é»é«˜ç§‘è¿™ä¸ªé¡¹ç›®(æ„Ÿè°¢HYè·‘æ­¥æ—¶å‘Šè¯‰æˆ‘T_T......) å½“ç„¶ä¹Ÿä¸èƒ½å…¨æ€ªåŒå­¦ä»¬, æ•™åŠ¡å¤„ä¸çŸ¥ä¸ºå•¥, æ€»æŠŠæ³•å›½çš„é¡¹ç›®æ”¾åˆ°å¾ˆä¸æ˜¾çœ¼çš„ä½ç½®. ä»Šå¹´äº¤å¤§åˆšåˆšå’Œå·´é»é«˜ç§‘æˆç«‹äº† è”åˆå­¦é™¢ , æŒ‰è¯´äº¤å¤§åº”è¯¥ä¼šå¤§åŠ›å®£ä¼ ä¸‹å§, å¯æ˜¯ä»Šå¹´çš„æŠ¥åé€šçŸ¥ç«Ÿç„¶æ”¾åœ¨äº†ä¸€å †æ¸¸å­¦é¡¹ç›®é‡Œ!!...... OK, åæ§½å®Œæ¯•, å¼€å§‹æ­£é¢˜... æ³•å›½æ•™è‚²åˆ¶åº¦ æ³•å›½çš„æ•™è‚²ä½“ç³»éå¸¸å¥‡è‘©... å®ƒæœ‰ç€ä¸–ç•Œä¸Šç‹¬ä¸€æ— äºŒçš„æ•™è‚²ä½“ç³»(andæˆ‘è®°å¾—é‚£æ¬¡ä¸­å¤®ç†å·¥çš„æ ¡é•¿è¯´ä»–ä»¬å¾ˆä¸ºæ­¤éª„å‚²==...). æ³•å›½çš„é«˜ç­‰æ•™è‚²ä½“ç³»åˆ†ä¸ºå¤§å­¦æ•™è‚²(æ™®é€šæ•™è‚²)å’Œå¤§å­¦æ ¡æ•™è‚²(ç²¾è‹±æ•™è‚²), ä¸¤å¥—ä½“ç³»å®Œå…¨å¹¶è¡Œ. è§ä¸‹å›¾(ç›—å›¾è‡ªQYQY): ç®€å•è®², å°±æ˜¯æ³•å›½çš„å­¦ç”Ÿé«˜ä¸­æ¯•ä¸šåæ‹¿åˆ°BACæ–‡å‡­, ä¹‹åå¯ä»¥é€‰æ‹©è¿›å…¥å¤§å­¦å­¦ä¹ æˆ–è¿›å…¥é¢„ç§‘å­¦æ ¡å­¦ä¹ . è¿›å…¥å¤§å­¦çš„æ¡ä»¶å¾ˆå®½æ¾, æ³•å›½çš„å¤§å­¦æ•™è‚²å¼ºè°ƒå¹³ç­‰æ¥å—æ•™è‚²çš„æƒåˆ©, å®½è¿›ä¸¥å‡º. è€Œå¦‚æœé€‰æ‹©è¿›å…¥é¢„ç§‘å­¦æ ¡, åˆ™è¦ç»å†ä¸¤å¹´çš„å¯†é›†çš„æ•°å­¦ç‰©ç†è¯¾ç¨‹åŸ¹è®­(éš¾åº¦æ¯”å›½å†…çš„å¤§ä¸€å¤§äºŒåªé«˜ä¸ä½). é¢„ç§‘å­¦æ ¡å­¦ä¹ ä¸¤å¹´å, å­¦ç”Ÿç»è¿‡æ¿€çƒˆçš„ç«è€ƒ(éš¾åº¦å¾ˆå¤§, æ·˜æ±°ç‡å¾ˆé«˜), é€šè¿‡çš„å­¦ç”Ÿæ‰å¯ä»¥è¿›å…¥æ³•å›½çš„å¤§å­¦æ ¡(Grandes Ã‰coles)å­¦ä¹ . æˆ‘è®°å¾—åªæœ‰ä¸é“10%(å¤§çº¦2%??)çš„æ³•å›½é«˜ä¸­æ¯•ä¸šç”Ÿæœ‰æœºä¼šè¿›å…¥æ³•å›½å¤§å­¦æ ¡å­¦ä¹ . æ³•å›½çš„å¤§å­¦æ ¡ä¸»è¦åˆ†ä¸ºå·¥ç¨‹å¸ˆå­¦æ ¡å’Œé«˜ç­‰å•†å­¦é™¢. å·¥ç¨‹å¸ˆå­¦æ ¡æ³¨é‡äºåŸ¹å…»å·¥ä¸šç•Œäººæ‰, å¾ˆé‡è§†å®è·µå’Œä¸ä¼ä¸šçš„åˆä½œ, åœ¨æ³•å›½äº«æœ‰å¾ˆé«˜å£°æœ›. å·¥ç¨‹å¸ˆå­¦é™¢æ¯•ä¸šç”Ÿæ‹¿åˆ°çš„æ˜¯å·¥ç¨‹å¸ˆæ–‡å‡­(DiplÃ´me d'IngÃ©nieur, BAC+5). å¬å­¦é•¿è¯´è™½ç„¶æ³•å›½çš„ç¡•å£«ä¹Ÿæ˜¯BAC+5, ä½†æ˜¯å·¥ç¨‹å¸ˆå­¦ä½å«é‡‘é‡æ›´å¤§... å…³äºå·¥ç¨‹å¸ˆå­¦ä½å¯ä»¥å‚è€ƒ è¿™é‡Œ . å·´é»é«˜ç§‘é›†å›¢åŠä¸­æ³•9+9é¡¹ç›®ç®€ä»‹ å·´é»é«˜ç§‘é›†å›¢ç”±æ³•å›½æœ€æœ‰å£°æœ›çš„12æ‰€å¤§å­¦æ ¡ç»„æˆ, è¿™äº›å­¦æ ¡å¯ä»¥è¯´æ˜¯æ³•å›½ç²¾è‹±æ•™è‚²æœ€å‡ºè‰²çš„å­¦æ ¡. å­¦æ ¡çš„è§„æ¨¡å¾ˆå°, å¦‚å·´é»é«˜ç­‰çŸ¿ä¸šå­¦æ ¡(Mines)æ¯å¹´å…¨çƒå¤§æ¦‚åªæ‹›æ”¶120äºº, è§„æ¨¡æœ€å¤§çš„å·´é»ç»¼åˆç†å·¥å­¦æ ¡(Ã‰cole Polytechnique)æ¯å±Šä¹Ÿä¸è¿‡æ‹›æ”¶500äºº. ä¸­æ³•9+9(50åå·¥ç¨‹å¸ˆ)é¡¹ç›®æ˜¯ä¸­æ³•ä¸¤å›½ä¸ºäº†åŸ¹å…»ä¸€æ‰¹ç†Ÿæ‚‰ä¸­æ³•æ–‡åŒ–çš„å·¥ç¨‹å¸ˆè€Œå»ºç«‹çš„åˆä½œé¡¹ç›®. é¦–å…ˆ\"9+9\"ä¸æ˜¯æŒ‡9å¹´åŠ 9å¹´(å›§...)...... ä¹‹æ‰€ä»¥å«\"9+9\"æ˜¯å› ä¸ºä¸€å¼€å§‹å·´é»é«˜ç§‘é›†å›¢æ˜¯9ä¸ªæˆå‘˜, ä¸­å›½æ–¹é¢æ˜¯9æ‰€é«˜æ ¡(), æ¯å¹´å¤§æ¦‚æœ‰50äººèµ´å·´é»é«˜ç§‘å­¦ä¹ . ä½†æ˜¯... ç°åœ¨é«˜ç§‘é›†å›¢ç°åœ¨æ‰©å……ä¸º12æ‰€é«˜æ ¡, è€Œåœ¨ä¸­å›½, 2011å¹´æµ™å¤§åŠ å…¥è¯¥é¡¹ç›®, è²Œä¼¼2012å¹´æ­¦å¤§å’Œåç§‘ä¹Ÿè¦åŠ å…¥, è€Œä¸”æ¯å¹´é«˜ç§‘é›†å›¢ä¸€å…±å½•å–çš„äººæ•°å¤§çº¦ä¸º80äºº, æ‰€ä»¥è¿™é¡¹ç›®åå­—è¯¥æ”¹æˆ\"12+12\"æˆ–è€…\"80åå·¥ç¨‹å¸ˆ\"æ‰æ¯”è¾ƒé è°±... å…³äºè¿™ä¸ªé¡¹ç›®, ç½—åˆ—ä¸€äº›ä¼˜ç‚¹å’Œç¼ºç‚¹: ä¼˜ç‚¹ ä¸è¦æ±‚GREæˆ–toeflæˆç»©; ç”³è¯·æ—¶æ²¡æœ‰æ³•è¯­è¦æ±‚, ç”³è¯·æµç¨‹è¾ƒç®€å•, å‘¨æœŸè¾ƒçŸ­; æŒæ¡æ³•è¯­çš„ä¼˜åŠ¿; å­¦è´¹å…¨å…(æ®è¯´å­¦è´¹æ¯å¹´2ä¸‡æ¬§??), å¥–å­¦é‡‘æœºä¼šå¤šä¸”åŸºæœ¬éƒ½è¶³å¤Ÿç”Ÿæ´»è´¹(ä»–ä»¬è®¤ä¸º\"money should not be a discrimination\"); å¼ºè°ƒé€šè¯†æ•™è‚², å¾ˆå®¹æ˜“è½¬ä¸“ä¸š; é‡è§†å®ä¹ , ä¸Šå­¦æœŸé—´ä¼šæœ‰ä¸¤åˆ°ä¸‰æ¬¡çš„ä¼ä¸šå®ä¹ (å¯¹æ‰¾å·¥ä½œå¾ˆæœ‰å¸®åŠ©), æ²¡æœ‰å¥–å­¦é‡‘çš„è¯å®ä¹ åŸºæœ¬ä¸Šä¹Ÿèƒ½èµšå›æ¥äº†; å·¥ç¨‹å¸ˆå­¦ä½åœ¨æ³•å›½è®¤å¯åº¦å¾ˆé«˜, æ¯”è¾ƒå®¹æ˜“æ‰¾å·¥ä½œ(æ³•å›½æˆ–å›½å†…æ³•ä¼); ç¼ºç‚¹ å·¥ç¨‹å¸ˆå­¦æ ¡é‡å®è·µä¸é‡ç§‘ç ”(å¯èƒ½EPæ˜¯ä¸ªä¾‹å¤–å§...), æƒ³æç§‘ç ”çš„åŒå­¦ä¸è¦æ¥; å­¦æ ¡å¤ªå°, å›½é™…çŸ¥ååº¦ä¸é«˜(ä¸è¿‡åœ¨æ¬§æ´²è¿˜æ˜¯å¾ˆçŸ¥åçš„, é«˜ç§‘å±æ¬§æ´² IDEAè”ç›Ÿ ä¹‹ä¸€); é€šè¯†æ•™è‚², æ²¡æœ‰å¾ˆæ·±å…¥å­¦ä¹ æŸä¸€æ–¹é¢, ä»–ä»¬è®¤ä¸ºåªè¦ä½ æ•°å­¦ç‰©ç†è¶³å¤Ÿå¥½å¹²å•¥éƒ½æ²¡é—®é¢˜... æ€»ç»“ä¸€ä¸‹, å°±æ˜¯å»é«˜ç§‘å’Œå»åŒ—ç¾è¯»ç¡•è¯»åšæ˜¯ä¸¤æ¡å¾ˆä¸ä¸€æ ·çš„è·¯. é€‰æ‹©é«˜ç§‘çš„è¯æœªæ¥å¤§å¤šæˆä¸ºå·¥ç¨‹å¸ˆ, è¿›å…¥ä¼ä¸š, åŸºæœ¬ä¸ä¼šè¿›å…¥å®éªŒå®¤ä»äº‹ç§‘ç ”. æ‰€ä»¥å»ºè®®å¤§å®¶æƒ³å¥½ä»¥åè¦å¹²ä»€ä¹ˆå†åšå‡ºé€‰æ‹©. è€Œä¸”é«˜ç§‘çš„ç»“æœå‡ºæ¥çš„å¾ˆæ—©, æ‹¿é«˜ç§‘ä¿åº•ä¸å¤ªåˆé€‚(è€Œä¸”å¾ˆä¼¤RP æœ‰æœ¨æœ‰...). å·´é»ç»¼åˆç†å·¥å­¦æ ¡ç®€ä»‹ Ã‰coles Polytechnique (æ˜µç§°X) æ˜¯æ³•å›½æœ€æœ‰åçš„å¤§å­¦æ ¡, ä¹Ÿæ˜¯ä¸€æ‰€ä¸–ç•ŒçŸ¥åçš„å­¦æ ¡. è¿™æ˜¯ä¸€æ‰€å…·æœ‰æ‚ ä¹…å†›äº‹ä¼ ç»Ÿçš„æ³•å›½åæ ¡, å’ŒENS(å·´é»é«˜å¸ˆ)åŒä¸ºæ³•å›½æœ€å‡ºè‰²çš„Ã‰colesä¹‹ä¸€. å…³äºå®ƒçš„å…·ä½“ä»‹ç»å¯ä»¥è§æ–‡åçš„é™„ä»¶\"äº¤å¤§æ³•å›½ç•™å­¦æ‰‹å†Œ\". æˆ‘åªåœ¨æ­¤åˆ—ä¸¾å®ƒ wikié¡µé¢ æä¾›çš„ä¸€äº›æ ¡å‹, è¿™äº›åå­—æ—¶å¸¸å‡ºç°åœ¨ç‰©ç†å’Œæ•°å­¦ä¹¦ä¸­... é›ªé“é¾™, åºåŠ è±, æŸ¯è¥¿, æ¯•å¥¥(æ¯•å¥¥-è¨ä¼å°”å®šå¾‹), é©¬å•æ–¯, ç›–-å•è¨å…‹, æ³Šæ¾, å®‰åŸ¹, è²æ¶…è€³, ç§‘é‡Œå¥¥åˆ©, å¡è¯º, å…‹æ‹‰ä¼¯é¾™, åˆ˜ç»´å°”, çº¦å½“, å‹’æ²™ç‰¹åˆ—, äº¨åˆ©Â·è´å…‹å‹’...... æˆ‘å¤§æ¦‚å°±æ˜¯çœ‹äº†è¿™ä¸ªåå•æ‰å†³å®šæŠŠEPä½œä¸ºç”³è¯·çš„ç¬¬ä¸€é€‰æ‹©çš„... äºŒ. ç½‘ç”³&ææ–™å‡†å¤‡ å­¦æ ¡æŠ¥å ä¹æœˆä»½æ•™åŠ¡å¤„ä¼šè´´å‡ºæ¥é«˜ç§‘çš„æŠ¥åé€šçŸ¥, å¯èƒ½æ”¾åœ¨å¾ˆéšè”½çš„åœ°æ–¹... æ‰€ä»¥å¤§å®¶è¦å¤šå…³æ³¨ä¸‹æ•™åŠ¡å¤„æˆ–è€…æ¸¸å­¦ç½‘çš„é€šçŸ¥... é«˜ç§‘åŸºæœ¬ä¸Šä¸ä¼šåœ¨åˆä½œå­¦æ ¡ä¹‹å¤–æ‹›äºº, æ‰€ä»¥å­¦æ ¡è¿™å…³ä¸€å®šè¦è¿‡...... å¤§æ¦‚æ¯å¹´å­¦æ ¡ä¼šæ¨è50äººå¤§åå•å‚åŠ ç¬”è¯•, å­¦æ ¡æ¨èçš„åé¢åŸºæœ¬ä¸Šæ˜¯çœ‹æˆç»©æ’åå§. æ’åœ¨TOP15%çš„åŒå­¦åŸºæœ¬ä¸Šéƒ½å¯ä»¥è¿›å…¥å­¦æ ¡çš„æ¨èåå•. æˆ‘ä»¬é‚£å¹´ç”³è¯·çš„ç«äº‰æœ‰ç‚¹æ¿€çƒˆ, ç”µé™¢æœ‰å››äº”ä¸ªæ’åœ¨TOP5%çš„åŒå­¦ç”³è¯·äº†, å¯èƒ½é«˜ç§‘é¡¹ç›®çš„çŸ¥ååº¦åœ¨æé«˜å§... ç½‘ç”³ å­¦æ ¡æ¨èçš„åŒæ—¶, è‡ªå·±è¿˜è¦å¡«å†™é«˜ç§‘çš„ç½‘ç”³é¡µé¢. æ³¨æ„å¦‚æœè¦ç”³è¯·å·´é»ç»¼åˆç†å·¥(Ã‰cole Polytechnique, ç®€å†™EPæˆ–X)çš„è¯, è¿˜è¦ä¸“é—¨å¡«å†™EPçš„ç½‘ç”³é¡µé¢. è¿™é‡Œå†è¯´ä¸€å¥, ä¸é€šè¿‡é«˜ç§‘é¡¹ç›®(æ¯”å¦‚å­¦æ ¡ä¸åœ¨é«˜ç§‘çš„åˆä½œå­¦æ ¡ä¹‹åˆ—)ä¹Ÿæ˜¯å¯ä»¥ç”³è¯·EPçš„, ä¸è¿‡é‚£å°±éœ€è¦è¶³å¤Ÿå¥½çš„ç¡¬ä»¶æ‰èƒ½è¿›å…¥EPçš„é¢è¯•. ç½‘ç”³å¯ä»¥é€‰æ‹©å¤šä¸ªå­¦æ ¡, æˆ‘é€‰æ‹©äº†å››æ‰€å­¦æ ¡: EP, Mines, Telecom, ENSTA. Mineså·®ä¸å¤šæ’åä»…æ¬¡äºEP, è€Œè§„æ¨¡è¶…å°(120äºº), æ¯å¹´åœ¨ä¸­å›½æ‹›ç”Ÿåªæœ‰3-5äºº; Telecomç”µä¿¡æ–¹é¢æ³•å›½æœ€å¼º, æ¯•ä¸šç”Ÿå¾ˆå¥½æ‰¾å·¥ä½œ, Telecomåœ¨æ³•å›½å¤§è‡´ç›¸å½“äºäº¤å¤§åœ¨ä¸­å›½çš„åœ°ä½, è€Œä¸”å’Œäº¤å¤§å…³ç³»å¾ˆå¥½; ENSTAæ˜¯é™¤äº†EPä¹‹å¤–çš„å¦ä¸€æ‰€å›½é˜²éƒ¨ç›´å±å­¦æ ¡, æœºæ¢°ç”µå­èƒ½æºå•¥çš„éƒ½å¾ˆå¼º... å·§åˆçš„æ˜¯, è¿™å››æ‰€å­¦æ ¡æ°å¥½æ˜¯2012å¹´äº¤å¤§-é«˜ç§‘è”åˆå­¦é™¢çš„å››æ‰€æ³•å›½å­¦æ ¡...... ç½‘ç”³é¡µé¢éœ€è¦ä¸Šä¼ ä¸€äº›æ–‡ä»¶å’Œå›¾ç‰‡. èº«ä»½è¯å¤å°ä»¶, æŠ¤ç…§å¤å°ä»¶, ç…§ç‰‡ä»€ä¹ˆçš„å°±ä¸è¯´äº†, æŒ‰ç…§è¦æ±‚å‡†å¤‡å°±å¯ä»¥. ä¸‹é¢è¯´ä¸€ä¸‹æ¯”è¾ƒé‡è¦çš„SOP, CV, RL. SOP åŠ¨æœºä¿¡åœ¨ç½‘ç”³å’Œé¢è¯•ä¸­éå¸¸é‡è¦, éœ€è¦å¥½å¥½å¯¹å¾…. åœ¨åŠ¨æœºä¿¡é‡Œ, ä¸€æ˜¯è¦è¡¨ç°å‡ºä½ å¯¹æœªæ¥çš„è§„åˆ’, æ˜¾ç¤ºä½ æ˜¯ç»è¿‡äº†æ·±æ€ç†Ÿè™‘åæ‰é€‰æ‹©çš„é«˜ç§‘; äºŒæ˜¯åˆ—å‡ºä½ é€‰æ‹©é«˜ç§‘çš„ç†ç”±, æ³¨æ„æœ€å¥½ä¸è¦å†™è‡ªå·±æƒ³ä»äº‹ç§‘ç ”(è€Œä¸”å¦‚æœä½ æƒ³ä»äº‹ç§‘ç ”çš„è¯é«˜ç§‘çœŸçš„ä¸å¤ªé€‚åˆä½ ); ä¸‰æ˜¯è¡¨æ˜ä½ å¯¹æ³•å›½æ•™è‚²åˆ¶åº¦çš„äº†è§£ä»¥åŠå¯¹é«˜ç§‘çš„å‘å¾€, è®©ä»–ä»¬ç›¸ä¿¡ä½ æ˜¯çœŸçš„æƒ³å»è€Œä¸æ˜¯ä»…ä»…æ‹¿é«˜ç§‘å«åº•...... åŠ¨æœºä¿¡ç”¨è‹±æ–‡å†™å°±å¯ä»¥(å½“ç„¶å¦‚æœä¼šæ³•è¯­çš„è¯å¯ä»¥ä¸¥é‡åŠ åˆ†...), åŠ¨æœºä¿¡è¦æ—©å†™, æ—©æ—©å†™å‡ºåˆç¨¿åè®©å¤šä¸ªäººçœ‹, å‚è€ƒä»–ä»¬çš„æ„è§è¿›è¡Œæ”¹å†™. å½“æ—¶æˆ‘å‚åŠ äº†GAUnionå°ç»„, å°ç»„åŒå­¦çš„æ„è§è®©æˆ‘å—ç›ŠåŒªæµ…... é«˜ç§‘çš„ç½‘ç”³é¡µé¢å¯ä»¥é‡å¤æäº¤çš„, ä½ å¯ä»¥å…ˆä¸Šä¼ ä¸€ä¸ªç‰ˆæœ¬, ä¿®æ”¹åå†è¦†ç›–ä¸Šä¼ . æˆ‘æœ€åå®šç¨¿çš„åŠ¨æœºä¿¡æ˜¯åœ¨9æœˆ30å·, ä¹Ÿå°±æ˜¯é«˜ç§‘ç½‘ç”³ç»“æŸçš„å‰ä¸€å¤©, è¿™ä¹‹å‰ä¿®æ”¹äº†N(N>10)æ¬¡...... CV ç®€å†ä¹Ÿæ˜¯å¾ˆé‡è¦çš„æ–‡ä»¶, å…³äºç®€å†çš„æ¨¡æ¿æˆ‘ç”¨çš„æ˜¯ä¸€ä¸ªlatexæ¨¡æ¿, ä¸è¦å¤ªèŠ±å“¨ , æŠŠæœ€é‡è¦çš„ä¿¡æ¯å†™å‡ºæ¥, ä¸€é¡µå³å¯ , å†³ä¸å¯è¶…è¿‡ä¸¤é¡µ. ç®€å†æœ€å¥½åŠ ä¸Šä¸€é¡¹Objective, å†™ä¸Šä½ æƒ³ç”³è¯·é«˜ç§‘çš„å·¥ç¨‹å¸ˆ, è¡¨æ˜è¿™ä»½ç®€å†æ˜¯ä¸“é—¨ä¸ºé«˜ç§‘å†™çš„. ç”³å…¶ä»–å­¦æ ¡ä¹Ÿæ˜¯è¿™æ ·, å†™ä¸ŠObjective(\"æˆ‘æƒ³ç”³è¯·ä½ ä»¬å­¦æ ¡\")æ¯”è¾ƒå¥½...... åœ¨CVé‡Œç½—åˆ—çš„å†…å®¹å¤§æ¦‚æœ‰: å§“å, ä¸“ä¸š, è”ç³»æ–¹å¼; GPAå’Œæ’å; è·å¥–æƒ…å†µ; æ‰€å­¦è¯¾ç¨‹; GTæˆç»©(å¦‚æœæœ‰); ç§‘ç ”ç»å†; å®è·µç»å†. ç§‘ç ”å’Œå®è·µç»å†å¤§å®¶å¯ä»¥æŠŠé‚£äº›çœ‹èµ·æ¥æ¯”è¾ƒNBçš„å¤§ä½œä¸šæˆ–è€…ç§‘åˆ›è¯¾ç¨‹æ‹¿å‡ºæ¥, æ¯é¡¹å®è·µç»å†ç”¨ä¸¤ä¸‰å¥è¯è¿›è¡Œä»‹ç»... CVä¹Ÿæ˜¯ä»–ä»¬å‚è€ƒçš„é‡è¦å› ç´ , åœ¨é«˜ç§‘çš„é¢è¯•æ—¶ä»–ä»¬å°±ä¸€ç›´åœ¨æ‹¿ç€æˆ‘çš„CVåœ¨é—®é—®é¢˜... æˆ‘çš„ç¡¬ä»¶æ¡ä»¶è¾ƒä¸ºçªå‡º(GPA90+, rank top 3%... ä½†æ˜¯ç¡¬ä¼¤æ˜¯åŸºæœ¬æ²¡æœ‰ç§‘ç ”ç»å†), æ‰€ä»¥åæ¥éƒ½æ¯”è¾ƒé¡ºåˆ©çš„è¿›å…¥äº†ç¬”è¯•å’Œé¢è¯•. å¦‚æœç¡¬ä»¶ä¸æ˜¯å¾ˆçªå‡º(æ¯”å¦‚TOP10%-TOP20%ä¹‹é—´çš„åŒå­¦), åˆ™éœ€è¦åœ¨ç¬”è¯•ä¸­æœ‰è¾ƒä¸ºå‡ºè‰²çš„å‘æŒ¥æ‰èƒ½è¿›å…¥é¢è¯•... RL é«˜ç§‘å’ŒEPçš„ç½‘ç”³éƒ½è¦æ±‚ä¸¤ä½è€å¸ˆçš„æ¨èä¿¡, æˆ‘ä¹Ÿä¸çŸ¥é“æ¨èä¿¡å¯ä»¥èµ·å¤šå¤§ä½œç”¨, ä½†æ˜¯æœ€å¥½è¿˜æ˜¯è®¤çœŸå¯¹å¾…å§... æˆ‘æ‰¾äº†è‡ªåŠ¨åŒ–ç³»ä¸¤ä½æœ‰å¾·å›½ç•™å­¦èƒŒæ™¯çš„è€å¸ˆ(å¸­è£•åºšè€å¸ˆå’Œè¢æ™¯æ·‡è€å¸ˆ, ä¸¤ä½å¤§ç‰›å•Š...)å†™æ¨èä¿¡. è¿™é‡Œèµä¸€ä¸‹è‡ªåŠ¨åŒ–ç³»çš„è€å¸ˆä»¬, å¯¹å­¦ç”Ÿè¶…çº§å¥½çš„!!~ å¸­è€å¸ˆäººè¶…çº§å’Œè”¼, æœ‰æ±‚å¿…åº”; è¢è€å¸ˆæ˜¯åªè¦å¤§ä¸‰ä¸‹ä»–é‚£é—¨è¿‡æ§è€ƒå¾—å¥½, å°±ä¼šç»™ä½ æ¨è~ æ¨èä¿¡ä¸€èˆ¬æ˜¯è‡ªå·±å†™å¥½äº†ä¸€ä¸ªåˆç¨¿ç„¶åäº¤ç»™è€å¸ˆ, è€å¸ˆå†è¿›è¡Œä¿®æ”¹åæäº¤ç»™é«˜ç§‘. ä¸€èˆ¬å­—æ•°äºŒä¸‰ç™¾å°±å¯ä»¥äº†å§, å°¤å…¶æ˜¯æˆ‘è¿™ç§æ²¡æœ‰è·Ÿè€å¸ˆåšè¿‡é¡¹ç›®çš„äºº, æ›´æ²¡ä»€ä¹ˆå¯ä»¥å†™çš„. åœ¨RLçš„å†™ä½œä¸­GAUnionå°ç»„ä¹Ÿæä¾›äº†å¾ˆå¤§çš„å¸®åŠ©... è¿˜è¦æ³¨æ„çš„ä¸€ç‚¹æ˜¯, é«˜ç§‘é¢è¯•æ—¶ éœ€è¦æäº¤çº¸è´¨æ¨èä¿¡ . ä½ éœ€è¦æŠŠæ¨èä¿¡æ‰“å°åæ”¾åœ¨ä¿¡å°é‡Œ, ç„¶åå°å£, è®©è€å¸ˆä»¬åœ¨ä¿¡å°ä¸Šç­¾å­—. å…¶ä»–ä¸œè¥¿ EPçš„ç”³è¯·é™¤äº†ç½‘ç”³è¿˜éœ€è¦é‚®å¯„, å…·ä½“çš„ææ–™æ¸…å•å¯ä»¥çœ‹ EPçš„ç½‘ç«™ , æœ‰ä¸ªchecklist. æˆ‘ä»¬é‚£å¹´è¿˜è¦å‡ºç”Ÿè¯æ˜, ä»Šå¹´å¥½åƒä¸è¦æ±‚äº†. EPçš„ç½‘ç”³å¡«å†™å¾ˆç¹ç, è¿˜è¦å†™æ¯å¹´çš„æ’å, ä¸è¿‡è¿™äº›ä¸œè¥¿è‡ªå·±ä¼°ç€å¡«ä¸€ä¸‹å°±å¯ä»¥äº†. EPè¿˜è¦æ±‚åŠ¨æœºä¿¡å’Œç®€å†, å¯ä»¥ä»é«˜ç§‘çš„PS/CVä¿®æ”¹. å¦å¤–å¦‚æœæä¾›å¥–å­¦é‡‘è¯æ˜(å¥–å­¦é‡‘å¤å°ä»¶å³å¯å§)å¯ä»¥å…é™¤ç”³è¯·è´¹. æ‰˜ç¦æˆç»©å¯ä»¥æä¾›(ä½œç”¨ä¸å¤§), ä¸å¿…è®©ETSé€åˆ†, æŠŠçº¸è´¨çš„æ‰˜ç¦æˆç»©å•å¤å°ä¸‹å³å¯. ä¸å»ºè®®æä¾›GREæˆç»©, è¿™ä¼šè®©ä»–ä»¬æ€€ç–‘ä½ æœ‰å¿ƒç”³è¯·ç¾å›½... æˆ‘çš„GREç®—æ˜¯ç™½è€ƒäº†... æœ‰ä¸€æ · æ¯”è¾ƒçº ç»“çš„ä¸œè¥¿æ˜¯æ’åè¯æ˜ ...... æˆ‘å½“æ—¶åœ¨å­¦é™¢å’Œå­¦æ ¡çš„æ•™åŠ¡å¤„è·‘äº†Næ¬¡å, å­¦é™¢ç»ˆäºç»™å¼€äº†ä¸€ä¸ªè¯æ˜. ä¸è¿‡åæ¥æ•™åŠ¡å¤„åˆç»™æ¯äººå¼€äº†ä¸€ä»½æ’åè¯æ˜...... æ€»ä¹‹è¿™ä¸ªäº‹æƒ…è™½ç„¶çº ç»“ä½†æ˜¯ä¸€å±Šå±Šå¤§å®¶è¿˜éƒ½èƒ½å¤Ÿæœ€åæå®š...... ä¸‰. ç¬”è¯• å·´é»é«˜ç§‘çš„ç¬”è¯•ä¸€èˆ¬åœ¨åæœˆä¸­æ—¬. ä¼šæ”¶åˆ°é‚®ä»¶é€šçŸ¥, ä»¥åŠ ç½‘ä¸Šé€šçŸ¥ . æˆ‘æ˜¯10æœˆ10å·æ”¶åˆ°é€šçŸ¥, 10æœˆ15å·è€ƒè¯•...... æ‰€ä»¥éœ€è¦æå‰å¤ä¹ ä¸€ä¸‹å•Šå¦åˆ™æ¥ä¸åŠå¤ä¹ éƒ½ä¸ä¼šå°±å›§äº†... å…³äºé«˜ç§‘çš„ç¬”è¯•, æˆ‘è§‰å¾—ä»–ä»¬è¿˜æ˜¯æ¯”è¾ƒçœ‹é‡CVå’ŒSOP, å¦‚æœæ’åè¾ƒé«˜çš„è¯, åªè¦ç¬”è¯•æˆç»©ä¸­ç­‰æ°´å¹³å°±åº”è¯¥å¯ä»¥è¿›å…¥é«˜ç§‘çš„é¢è¯•. å¦‚æœGPAä¸é«˜, åˆ™éœ€è¦åœ¨ç¬”è¯•ä¸­è¡¨ç°å¾—å‡ºè‰²ä¸€ç‚¹, ä»¥è¿›å…¥é¢è¯•. é«˜ç§‘çš„ç¬”è¯•å®‰æ’åœ¨åŒæµçš„ç‘å®‰æ¥¼, äº¤å¤§åŒå­¦è¿‡å»è¦ä¿©å°æ—¶...... æ‰€ä»¥æ‰“å¥½æå‰é‡...... ç¬”è¯•çš„å†…å®¹æ˜¯æ•°å­¦ç‰©ç†ä»¥åŠä¸“ä¸šè¯¾, å…¨éƒ¨æ˜¯é€‰æ‹©é¢˜, å¯¹ä¸€é“å¾—3åˆ†, é”™ä¸€é“æ‰£1åˆ†...... è¿™é‡Œæ˜¯é«˜ç§‘çš„ç¬”è¯•è€ƒè¯•èŒƒå›´: å·´é»é«˜ç§‘ç¬”è¯•èŒƒå›´å‚è€ƒ.pdf ç¬¬ä¸€åœºæ˜¯æ•°å­¦, åˆ†æ•°å­¦1å’Œæ•°å­¦2, è¦ç”³EPçš„åŒå­¦éœ€è¦åšæ•°å­¦2. éš¾åº¦å¤§æ¦‚æ¯”GRE subç¨éš¾ä¸€äº›å§, ä½†åº”è¯¥è¶…ä¸è¿‡äº¤å¤§é«˜æ•°è€ƒè¯•çš„éš¾åº¦...... é«˜æ•°å†…å®¹æ¯”è¾ƒç®€å•, çº¿ä»£å½“æ—¶æˆ‘æ˜¯ä¸‹äº†æ¯”è¾ƒå¤§åŠŸå¤«å¤ä¹ çš„(å› ä¸ºå¿˜çš„æ¯”è¾ƒå¹²å‡€...), è®°å¾—è€ƒè¯•æ—¶æœ‰å¥½å‡ é“å…³äºç‰¹å¾å€¼ç‰¹å¾å‘é‡å’ŒçŸ©é˜µå¯¹è§’åŒ–çš„é¢˜ç›®... æ•°å­¦2æ¯”è¾ƒéš¾, æœ‰å¥½å¤šæ²¡å­¦è¿‡çš„å†…å®¹å°±ç›´æ¥æ²¡åš...... ç¬¬äºŒåœºæ˜¯ç‰©ç†å’Œä¸“ä¸šè¯¾, ç‰©ç†æˆ‘æ„Ÿè§‰è›®éš¾çš„, ä¸€å…±åå‡ é“é¢˜, æ¯ä¸€é¢˜çš„é¢˜å¹²éƒ½å¾ˆé•¿...... è€Œä¸”ç®—å‡ºæ¥ç»“æœæ²¡æœ‰å‡ºç°åœ¨é€‰é¡¹é‡Œçš„è¯å°±å¾ˆå´©æºƒ...... ç‰©ç†åšå®Œåé€‰æ‹©è‡ªå·±çš„ä¸“ä¸šè¯¾, EEçš„é¢˜ç›®æ¯”è¾ƒç®€å•, æœ‰ä¸€äº›ä¿¡å·çš„å†…å®¹, è¿˜æœ‰äº›ç¼–ç¨‹ä»¥åŠæ•°ç”µæ¨¡ç”µçš„ä¸œè¥¿, ä½†éƒ½æ˜¯å¾ˆç®€å•çš„, è¿™äº›è¯¾ç¨‹ä¸å¿…è´¹å¤ªå¤§åŠ›æ°”å¤ä¹ . å‡†å¤‡ç¬”è¯•æ—¶æ‹¿äº†ç‚¹GRE subåšäº†ä¸¤å¥—: sub.zip æˆ‘è§‰å¾—è¯æ±‡æ‰æ˜¯é‡ç‚¹, è‹±è¯­çš„é¢˜å¹²è¦æ˜¯çœ‹ä¸æ‡‚å°±å›§äº†, å¯ä»¥å¸¦è¯å…¸, æˆ‘å«Œè¯å…¸å¤ªé‡, å°±è‡ªå·±æ‰“å°äº†ä»½subè¯æ±‡è¡¨, ç”¨é‚£ç§ä¸€é¡µä¸¤é¢çš„æ‰“å°, åˆšåˆšå¥½... subè¯æ±‡.zip btw, åœ¨åŒæµç›‘åœºçš„æ˜¯ä¿©å¸…å“¥, åæ¥æ‰çŸ¥é“ä»–ä»¬æ˜¯Telecomæ¥äº¤å¤§äº¤æµçš„å­¦ç”Ÿ... å››. é«˜ç§‘çš„é¢è¯• ç¬”è¯•å®Œäº†ä¹‹åé¢è¯•å¤§çº¦åœ¨10æœˆåº•, åœ¨ è¿™é‡Œ ä¼šæœ‰é¢è¯•é€šçŸ¥, 2011å¹´æˆ‘ä»¬æ˜¯30å·é¢è¯•çš„. è¿˜æ˜¯åœ¨åŒæµ, ä¸è¿‡è¿˜ç®—æ¯”è¾ƒäººæ€§åŒ–, æŠŠäº¤å¤§çš„é¢è¯•å®‰æ’åœ¨äº†ä¸‹åˆ, å¦åˆ™è¿˜å¾—æå‰ä¸€å¤©æ™šä¸Šè¿‡å»(é—µå¤§è’æ‘æ°‘ä¼¤ä¸èµ·!!). äº¤å¤§é‚£å¹´æœ‰ä¸‰åæ¥äººè¿›äº†é¢è¯•, ç¬”è¯•æ·˜æ±°ç‡ä¸å¤ªé«˜çš„. è¿™æ¬¡é«˜ç§‘çš„é¢è¯•ä¸æ˜¯æŠ€æœ¯é¢, ä¸»è¦è¿˜æ˜¯è¯¢é—®åŠ¨æœº. ç€è£…çš„è¯æœ‰æ­£è£…å¯ä»¥ç©¿å», ä¸è¿‡å…¶å®ä¹Ÿæ— æ‰€è°“çš„, åˆ«å¤ªé‚‹é¢å³å¯. æˆ‘å°±ç‰›ä»”è£¤è¡¬è¡«å»äº†(å› ä¸ºæ²¡ç§Ÿåˆ°æ­£è£…)...... é¢è¯•åœ¨åŒæµçš„ä¸­æ³•ä¸­å¿ƒè¿›è¡Œ, ä¸€å…±æœ‰ä¸‰å››ä¸ªæˆ¿é—´, åŸºæœ¬ä¸Šæ˜¯ä½ æŠ¥äº†å“ªå‡ æ‰€å­¦æ ¡, è¿™å‡ æ‰€å­¦æ ¡çš„è€å¸ˆå°±å›æ¥é¢è¯•ä½ . ä¸è¿‡EPçš„äººä¸€ä¸ªä¹Ÿæ²¡æ¥, å› ä¸ºä»–ä»¬æœ‰ä¸“é—¨çš„é¢è¯•... é¢è¯•æ—¶æ‹¿ç€çº¸è´¨ç‰ˆç®€å†å’Œæ¨èä¿¡ä»¥åŠæŠ¤ç…§ä»€ä¹ˆçš„. å»ºè®®é¢è¯•å‰æŠŠåŠ¨æœºä¿¡å†å¥½å¥½çœ‹çœ‹, å¦å¤–å†äº†è§£ä¸‹å„ä¸ªå­¦æ ¡çš„ç‰¹ç‚¹, é‚£äº›æ–¹é¢æ¯”è¾ƒå¼º, è¿™æ ·é¢è¯•çš„æ—¶å€™æ˜¾å¾—ä½ å·²ç»å¯¹ä»–ä»¬ç ”ç©¶å¾ˆä¹…äº†... è¿™é‡Œæœ‰ä¸ªç®€å•çš„ä»‹ç»: Relations_domains_schools_ParisTech.pdf å¦å¤–æˆ‘æŠŠBBSä¸Šå­¦é•¿å­¦å§ä»¬çš„é¢è¯•å›å¿†æ”¾åœ¨äº†ä¸€èµ·æ‰“å°äº†å‡ºæ¥: é¢ç».pdf é¢æˆ‘çš„æ˜¯ä¸€ä¸ªENSTAçš„è€å¸ˆ(å¸…å“¥), ä¸€ä¸ªMinesçš„è€å¸ˆ(å¤§èƒ¡å­, Julien), è¿˜æœ‰ä¸€ä¸ªTelecomçš„è€å¸ˆ(å¤§é¼»å­...). ä¸»è¦æ˜¯ENSTAçš„è€å¸ˆåœ¨é—®é—®é¢˜(éš¾é“æ˜¯çœ‹åˆ°æˆ‘æ˜¯è‡ªåŠ¨åŒ–ç³»çš„æ‰€ä»¥æ¯”è¾ƒäº²åˆ‡??...). Juienè¯¢é—®äº†æˆ‘é€‰æ‹©é«˜ç§‘çš„åŸå› , è¿™æ˜¯é¢è¯•æ—¶éƒ½ä¼šé—®çš„ä¸€ä¸ªé—®é¢˜, æœ€å¥½èƒ½å¤Ÿæœ‰æ¡ç†åœ°è¯´å‡ºæ¥, æˆ‘è¯´æˆ‘è¿›è¡Œäº†ä¸€ä¸ªç®€å•çš„SWATåˆ†æå•Š, è§‰å¾—é«˜ç§‘æœ€é€‚åˆæˆ‘å•Š, blablabla...... ä»–ä»¬å¬äº†ç¬‘è€Œä¸è¯­...... ç„¶åENSTAçš„è€å¸ˆåˆæ‹¿ç€æˆ‘çš„ç®€å†é—®æˆ‘ä¸ºå•¥é€‰æ‹©ç”µé™¢çš„è‡ªåŠ¨åŒ–ä¸“ä¸šå•Š, åšçš„ç§‘åˆ›ä»¥åŠç”µè®¾éƒ½æ˜¯å¹²äº†ç‚¹ä»€ä¹ˆä¸œè¥¿å•Šä¹‹ç±»çš„... æˆ‘ç»™ä»–è¯´äº†è¯´, ç„¶ååˆå¼ºè°ƒäº†æˆ‘æ²¡æœ‰åšè¿‡ç ”ç©¶, å¯¹å®é™…åº”ç”¨æ¯”è¾ƒæ„Ÿå…´è¶£...... ç„¶åENSTAçš„è€å¸ˆè®©æˆ‘æŠŠæˆ‘ç”³è¯·çš„è¿™å››æ‰€å­¦æ ¡æŒ‰ç…§ä¼˜å…ˆçº§æ’åº...... æ²¡åŠæ³•, æˆ‘åªå¥½å®è¯å®è¯´äº†, æˆ‘è¯´ç¬¬ä¸€é€‰æ‹©æ˜¯EP, å› ä¸ºçŸ¥ååº¦æœ€é«˜; ç¬¬äºŒé€‰æ‹©æ˜¯Mines, å› ä¸ºMinesçš„æ¯•ä¸šç”Ÿå¾ˆå¤šè¿›å…¥äº†æ³•å›½ä¼ä¸šçš„é«˜ç®¡, ç„¶åæˆ‘åˆè¡¥å……è¯´EPå’ŒMineséƒ½æ˜¯å¾ˆæƒ³å»çš„å­¦æ ¡, è¦æ˜¯éƒ½å½•å–äº†çš„è¯æˆ‘å¾—å¥½å¥½è€ƒè™‘æ‰çŸ¥é“åˆ°åº•å»å“ªé‡Œ; ç¬¬ä¸‰é€‰æ‹©æ˜¯ENSTA, å› ä¸ºä»–ä»¬çš„æœºç”µè¿˜æœ‰æœºå™¨äººä»€ä¹ˆçš„å¾ˆæ£’(ENSTAçš„è€å¸ˆå¾ˆå¾—æ„); ç¬¬å››é€‰æ‹©æ˜¯Telecom, ä»–ä»¬çš„ç”µå­ä¿¡æ¯æ–¹é¢æ˜¯æ³•å›½æœ€å¥½çš„(Telecomçš„è€å¸ˆå¯¹æˆ‘æŠŠä»–ä»¬æ’åœ¨ç¬¬å››ä½å¾ˆä¸æ»¡, è¡¨æƒ…ä¸¥è‚ƒ...... æœ€åTelecomæœç„¶æ²¡å½•æˆ‘...). æœ€å, ä»–ä»¬é—®æˆ‘æ˜¯å¦æœ‰é—®é¢˜é—®ä»–ä»¬(è¿™ä¹Ÿæ˜¯ä¸ªä¿ç•™é¡¹ç›®), æˆ‘é—®ä»–ä»¬è§‰å¾—ä¸­å›½å­¦ç”Ÿå’Œæ³•å›½å­¦ç”Ÿæœ‰å•¥åŒºåˆ«, ä»–ä»¬è¯´æ²¡æœ‰, ä»–ä»¬ä¸€è§†åŒä»...... ç„¶åæˆ‘å°±æ’¤äº†... é¢è¯•å¤§æ¦‚æŒç»­äº†äºŒä¸‰ååˆ†é’Ÿå§, å»ºè®®æå‰å‡†å¤‡ä¸‹å¦‚ä½•å›ç­”ä»–ä»¬çš„é—®é¢˜ä»¥åŠå¦‚ä½•è¡¨è¾¾è‡ªå·±æƒ³å»é«˜ç§‘çš„æ„¿æœ›, è®©ä»–ä»¬ç›¸ä¿¡ä½ æ˜¯çœŸæƒ³å»è€Œä¸æ˜¯æ‹¿æ¥ä¿åº•....... é«˜ç§‘é¢è¯•ä¹‹å, å¦‚æœæ²¡æœ‰ç”³è¯·EPæˆ–Minesçš„è¯, é«˜ç§‘çš„ç”³è¯·å°±ç»“æŸäº†, æ¥ä¸‹æ¥å°±æ˜¯è€å¿ƒçš„ç­‰å¾…, å½•å–ç»“æœå¤§çº¦åœ¨åäºŒæœˆä¸­æ—¬å‡ºæ¥... äº”. Minesçš„é¢è¯• é«˜ç§‘é¢è¯•ç»“æŸå, Mineså’ŒEPä¼šè¿›è¡Œå•ç‹¬çš„é¢è¯•, å•ç‹¬é¢è¯•çš„è¡¨ç°æ‰ä¼šå†³å®šæœ€ç»ˆçš„å½•å– . æ‰€ä»¥å¦‚æœæƒ³è¿›å…¥Minesæˆ–è€…EPçš„è¯, é¢è¯•å®Œäº†è¿˜è¦ç»§ç»­è‹¦é€¼çš„çœ‹é«˜æ•°å’Œå¤§ç‰©... 2011å¹´11æœˆ17æ—¥æ”¶åˆ°Minesçš„é¢è¯•, é¢è¯•åœ¨11æœˆ21æ—¥. Minesçš„é¢è¯•æ˜¯è§†é¢‘é¢, åœ¨å›¾ä¹¦ä¿¡æ¯æ¥¼çš„7æ¥¼è¿›è¡Œ, ä¸ç”¨è·‘åŒæµäº†... äº¤å¤§ä¸€å…±æœ‰ä¸‰ä¸ªåŒå­¦è¿›å…¥äº†é¢è¯•, æ¯äººé¢å¤§çº¦åŠå°æ—¶. é¢, Minesçš„é¢è¯•å•Š, è¿™äº‹ä¸èƒ½è¯´å¾—å¤ªç»†...... ä¹‹å‰æå“²å­¦é•¿(X2010)åœ¨BBSä¸Šå†™äº†ä»–å½“æ—¶ é¢è¯•å›å¿† , å­¦é•¿æŠŠé¢è¯•æ—¶åšçš„é¢˜ç›®æ˜¯å•¥éƒ½å†™äº†, äºæ˜¯æˆ‘å¤ä¹ æ—¶å°±æ‰“å°å‡ºæ¥åšäº†åš... ç»“æœé¢è¯•æ—¶é‡åˆ°çš„é¢˜ç›®å’Œæå“²å­¦é•¿é‚£å¹´çš„ä¸€æ ·!!...... æœ‰ç‚¹å¤ªå¹¸è¿äº†... Minesçš„é¢è¯•é¢˜ç›®å¯ä»¥å‚è§å­¦é•¿çš„æ–‡ç« . é¢è¯•æŒç»­åŠå°æ—¶, æ„Ÿè§‰Minesçš„é¢è¯•æ³¨é‡çš„æ˜¯åº”ç”¨, æ¯”å¦‚æ±‚äºŒé˜¶åå¯¼, æ¯”å¦‚è§£å¾®åˆ†æ–¹ç¨‹...... è€ŒEPçš„é¢è¯•åˆ™æ³¨é‡åˆ†ææ¨å¯¼. é¢è¯•æ—¶æ‹¿åˆ°é¢˜ç›®ä¸ä¼šåšæ²¡æœ‰å…³ç³», è€å¸ˆä¼šç»™ä½ æç¤º, å¦‚æœèƒ½å¤Ÿå¿«é€Ÿååº”è¿‡æ¥æŒ‰ä»–ä»¬çš„æç¤ºåšå‡ºæ¥é¢˜ç›®, ä»–ä»¬ä¼šå¾ˆé«˜å…´... é¢è¯•æ˜¯é¢å¯¹ä¸€ä¸ªæ‘„åƒå¤´å’Œä¸€ä¸ªæ˜¾ç¤ºå±, é‚£è¾¹çš„è€å¸ˆç»™ä½ å¿µå‡ºé¢˜ç›®ä½ åœ¨é»‘æ¿ä¸Šåš. ç½‘ç»œæ¡ä»¶å¾ˆä¸å¥½å•Š, æ—¶ä¸æ—¶çš„å°±\"sorry, the image is frozen AGAIN\"... å¦å¤–å¼ºçƒˆå»ºè®® çœ‹ä¸€äº›å›½å¤–æ•°å­¦å…¬å¼€è¯¾ , æˆ‘çœ‹çš„æ˜¯MITçš„ä¸€ä¸ªè€å¸ˆè®²çš„å¾®ç§¯åˆ†é‡ç‚¹(Course Highlights of Calculus), è‘¡è„ä¸Šæœ‰ä¸‹è½½. è¿™ä¸ªè¯¾ç¨‹å†…å®¹å¾ˆç®€å•(ä»‹ç»å¾®ç§¯åˆ†çš„æœ€åŸºæœ¬å†…å®¹), æˆ‘åªçœ‹äº†ä¸ƒå…«é›†. å€’ä¸æ˜¯ä¸ºäº†å¤ä¹ é«˜æ•°, è€Œæ˜¯å­¦ä¼šé‚£äº›æ•°å­¦ç”¨è¯­ç”¨è‹±è¯­æ€ä¹ˆè¯´... æ¯”å¦‚æ¬¡æ–¹, æ±‚å¯¼, ç§¯åˆ†, å¯¹æ•°ä¹‹ç±»çš„æœ¯è¯­... å› ä¸ºé¢è¯•æ˜¯å‘ä»–ä»¬ç”¨è‹±è¯­è®²é¢˜å˜›... å…­. EPçš„é¢è¯• 11æœˆ17æ—¥æ”¶åˆ°é‚®ä»¶, é€šçŸ¥æˆ‘12æœˆ2æ—¥å»åŒæµè¿›è¡ŒEPçš„é¢è¯•. è¿›å…¥EPé¢è¯•çš„äººä¸å¤š, ç”µé™¢åªæœ‰ä¸‰ä¸ªäºº... å…³äºè°è¿›å…¥EPçš„é¢è¯•å¯èƒ½ä¸»è¦è¿˜æ˜¯çœ‹GPAå§, å¦‚æœé«˜ç§‘çš„ç¬”è¯•è¡¨ç°å¾ˆå‡ºè‰²çš„è¯ä¹Ÿåº”è¯¥ä¼šè¿›å…¥EPé¢è¯•. æ®è¯´ä¸€æ—¦è¿›å…¥äº†EPçš„é¢è¯•, ä¼šä¸ä¼šå½•å–å°± å®Œå…¨å–å†³äºé¢è¯•æ—¶çš„è¡¨ç° , å’ŒGPAæˆ–æ’åæ— å…³äº†... EPçš„å…¥å­¦ç«è€ƒæ˜¯æ³•å›½å†å²æœ€ä¹…, éš¾åº¦æœ€å¤§çš„ç«è€ƒä¹‹ä¸€. EPçš„é¢è¯•åˆ†ä¸‰åœº, ä¸€åœºæ•°å­¦ä¸€åœºç‰©ç†ä¸€åœºç»¼åˆçŸ¥è¯†(æ¯”é‡è²Œä¼¼æ˜¯6:4:4?), å¤§æ¦‚ä¼šæŒç»­å››ä¸ªåŠå°æ—¶...... ä¼šæœ‰ä¸‰ä¸ªæ•™æˆå¯¹ä½ è¿›è¡Œé¢è¯•, ä»–ä»¬æœŸæœ›åœ¨è¿™å››ä¸ªåŠå°æ—¶é‡Œå…¨é¢åœ°äº†è§£ä½ , ä¸ä»…æ˜¯è€ƒå¯Ÿæ•°ç†åŸºç¡€, è¿˜åŒ…æ‹¬è¨€è°ˆä¸¾æ­¢(æ¯”å¦‚ä¸»åŠ¨æ“¦é»‘æ¿...)å„ä¸ªæ–¹é¢. EPçš„è€ƒè¯•èŒƒå›´: EP-è€ƒè¯•èŒƒå›´.zip ä¸ªäººæ„Ÿè§‰EPçš„é¢è¯•éš¾åº¦æ¯”Minesé«˜å¾ˆå¤š!! æ¯”å¦‚è¿™æ˜¯EPç½‘ä¸Šæä¾›çš„é¢è¯•é¢˜æ ·é¢˜: examples-eng.pdf è¿™ä¸ªé¢˜æˆ‘å’ŒzbfåŒå­¦åœ¨è‡ªä¹ å®¤æ£é¼“äº†å¾ˆä¹…æ‰å·®ä¸å¤šæå‡ºæ¥...... è€Œä¸”EPçš„è€å¸ˆä¼šæ ¹æ®ä½ åŠ¨æœºä¿¡é‡Œçš„å†…å®¹, å¯¹æ¯ä¸ªäººå‡ºä¸åŒçš„é¢˜ç›®. æ¯”å¦‚æœ‰å­¦é•¿å†™ä»–çš„è¯•éªŒèƒ½åŠ›å¾ˆå¼º, æ•™æˆå°±ç»™ä»–å‡ºäº†ä¸€é“åŸºäºå®éªŒçš„é¢˜ç›®. zbfè¯´ä»–ç”µå­æ–¹é¢å¾ˆæ„Ÿå…´è¶£ç»“æœè€å¸ˆç»™å‡ºäº†é“ç”µå­æ¨¡å‹çš„é¢˜ç›®, çäº†...... å¯¹äºæ•°å­¦ç³»ç‰©ç†ç³»çš„åŒå­¦, ä»–ä»¬çš„é¢˜ç›®å¿…ç„¶è¦éš¾å¾ˆå¤š, å·¥ç§‘å­¦ç”Ÿçš„è¯é¢˜ç›®å°±ç®€å•ä¸€äº›... å¹¸äºæˆ‘æ²¡åœ¨SOPé‡Œå†™æˆ‘æœ‰ä»€ä¹ˆç‰¹é•¿, ä»–ä»¬ç»™çš„é¢˜ç›®è¿˜ç®—ä¸­è§„ä¸­çŸ©, å¦åˆ™è‚¯å®šè·ªäº†...... å‡†å¤‡EPçš„é¢è¯•çš„è¿‡ç¨‹éå¸¸ç—›è‹¦, ä¸çŸ¥é“ä»–ä»¬ä¼šå‡ºä»€ä¹ˆéš¾åº¦çš„é¢˜ç›®, åˆæŠŠé«˜æ•°çº¿ä»£å¤§ç‰©å¥½å¥½çœ‹äº†ä¸€é. å¹¶ä¸”æˆ‘æŠŠBBSä¸Šå­¦é•¿ä»¬çš„è€ƒè¯•é¢˜å›å¿†å…¨éƒ¨æ‰“å°ä¸‹æ¥åšäº†åš: EPé¢ç».pdf EPçš„é¢è¯•ä¼šæŒç»­ä¸€æ˜ŸæœŸ, å› ä¸ºä»–ä»¬ä¸€ä¸Šåˆåªèƒ½é¢è¯•å››ä¸ªäºº(ä¸¤ç»„è€å¸ˆ). æˆ‘æ˜¯12æœˆ2å·ä¸‹åˆé¢è¯•, å…ˆæ˜¯æ•°å­¦, è€å¸ˆç»™äº†ä¸¤é“é¢˜, è‡ªå·±åš30åˆ†é’Ÿ. ä¸€é“æ˜¯æ•°åˆ—çš„æé™ä»¥åŠæ”¶æ•›çš„é€Ÿåº¦, å‰ä¸¤é—®æ¯”è¾ƒç®€å•å¯ä»¥ç”¨æ•°å­¦å½’çº³æ³•åšå‡ºæ¥, ç¬¬ä¸‰é—®æ”¶æ•›é€Ÿåº¦ä¸çŸ¥é“å’‹åšå°±è·³è¿‡äº†. ç¬¬äºŒé“æ˜¯çº¿ä»£çš„é¢˜ç›®, å®šä¹‰äº†ä¸¤ä¸ªçŸ©é˜µçš„ä¸€ç§è¿ç®—(éå¸¸SORRYæ²¡å¸¦æ—¥è®°æœ¬æ¥, æ‰€ä»¥é¢˜ç›®çš„å†…å®¹å¿˜äº†!!...), ç„¶åè®©ä½ è¯æ˜ä¸€äº›ç»“è®º... ç”±äºæˆ‘ç†è§£æœ‰è¯¯æ‰€ä»¥ä¹Ÿä¸å¤§ä¼šåš... ç„¶åå»ç»™è€å¸ˆè®², ç¬¬ä¸€é“é¢˜å‰ä¸¤é—®è®²å®Œå, ç¬¬ä¸‰é—®åœ¨è€å¸ˆçš„æç¤ºä¸‹......è¿˜æ˜¯æ²¡åšå‡ºæ¥(å¼±çˆ†äº†)... è¿˜æœ‰ååˆ†é’Ÿæ—¶è€å¸ˆè®©æˆ‘è®²ä¸‹ä¸€é¢˜... æˆ‘å¯¹é¢˜ç›®ç†è§£é”™äº†, ä¸è¿‡å‰ä¸¤é—®æ¯”è¾ƒç®€å•, ä¸€ä¼šå°±åšå‡ºæ¥äº†(å…¶å®å‰ä¸¤é—®å°±æ˜¯é“ºå«, ä¸ºäº†å¾—å‡ºç¬¬ä¸‰é—®çš„ç»“è®º). ç¬¬ä¸‰é—®ä¸ä¼šåš, è€å¸ˆæç¤º: å…ˆå‡è®¾çŸ©é˜µæ˜¯å¯¹è§’é˜µ? ç„¶åæˆ‘æ£é¼“å‡ºæ¥äº†æ—¶é—´ä¹Ÿåˆ°äº†. ç„¶åè€å¸ˆè¯´ä½ çœ‹, å¯¹è§’é˜µæœ‰è¿™ä¸ªç»“è®ºå§? éå¯¹è§’é˜µåªè¦å¯¹å®ƒè¿›è¡Œå¯¹è§’åŒ–æˆ‘ä»¬å°±èƒ½å¾—åˆ°è¿™ä¸ªç»“è®ºäº†blablabla...... æˆ‘å…¶å®ä¹Ÿæ²¡å¬æ‡‚å°±å‡ºæ¥äº†...... ä¼‘æ¯ä¸€ä¼šå, ç¬¬äºŒåœºæ˜¯ç‰©ç†. è¿˜æ˜¯ä¸¤é“é¢˜, ä¸€é“æ˜¯å«æ˜Ÿæ€ªè±¡(é«˜ä¸­å°±å­¦è¿‡çš„, å«æ˜Ÿå—åˆ°é˜»åŠ›ä¹‹åé€Ÿåº¦åè€Œå¢åŠ ), ç¬¬äºŒé“æ˜¯è¿æ”¾å·¥ä½œåœ¨é¥±å’ŒåŒº...æ˜¯çš„, ä¹‹å‰å­¦é•¿å†™è¿‡è¿™é“é¢˜, æˆ‘åˆè¸©ç‹—å±äº†... ç„¶åç»™è€å¸ˆè®²é¢˜, ç¬¬ä¸€é¢˜åšå®Œåè€å¸ˆåˆè®©æˆ‘è¿›ä¸€æ­¥æ€è€ƒ: å‡è®¾å«æ˜Ÿæ”¶åˆ°çš„é˜»åŠ›å’Œé€Ÿåº¦æˆæ­£æ¯”, è¯¥æ˜¯ä»€ä¹ˆæƒ…å†µ, è¦æ˜¯å’Œé€Ÿåº¦çš„å¹³æ–¹æˆæ­£æ¯”åˆæ˜¯ä»€ä¹ˆæƒ…å†µ...... ç¬¬äºŒé¢˜æˆ‘ä¸€å¼€å§‹åšé”™äº†(äºæˆ‘ä¹‹å‰çœ‹è¿‡å­¦é•¿çš„é¢ç»==......), ä¸è¿‡è¿˜å¥½åœ¨è€å¸ˆçš„å¸®åŠ©ä¸‹æ€»ç®—åšå‡ºæ¥äº†, è§£ä¸€ä¸ªå¾®åˆ†æ–¹ç¨‹å°±å¯ä»¥...... ç‰©ç†é¢å®Œå†ä¼‘æ¯ä¸€ä¼š, ç¬¬ä¸‰åœºå°±æ¯”è¾ƒè½»æ¾äº†. é‚£ä¸ªæ•°å­¦è€å¸ˆç»™æˆ‘ä¸€ç¯‡æ–‡ç« , æ˜¯å¤ªé˜³èƒ½å‘ç”µçš„ç»´åŸºç™¾ç§‘é¡µé¢, è®©æˆ‘çœ‹ä¸€ä¸‹ç„¶åè·Ÿä»–ä»¬è®²è®²è¿™ç¯‡æ–‡ç« çš„ä¸»è¦å†…å®¹. æˆ‘è®²å®Œåä»–åˆé—®äº†é—®æˆ‘å…³äºè¿™ç¯‡æ–‡ç« ç›¸å…³çš„ä¸€äº›ä¸œè¥¿, æ¯”å¦‚è¯´ä¸ºå•¥å¤ªé˜³èƒ½æ¿è¦è®¾è®¡æˆæŠ›ç‰©é¢... ä¹‹åå°±å¼€å§‹é—®åŠ¨æœºäº†, è¿™æ—¶å°±å’Œé«˜ç§‘çš„é¢è¯•å·®ä¸å¤š. ä»–æ‹¿ç€æˆ‘çš„åŠ¨æœºä¿¡, é—®æˆ‘ä¸ºå•¥é€‰æ‹©ç”³è¯·EP,æˆ‘å°±è¯´äº†è¯´é‚£å‡ æ¡ç†ç”±. ç„¶åä»–è¡¥å……è¯´, \"è€Œä¸”ä½ åœ¨åŠ¨æœºä¿¡é‡Œä¹Ÿå†™äº†, æˆ‘ä»¬å­¦æ ¡å¯ä»¥æä¾›å¤šä¸ªå­¦ç§‘çš„æ•™è‚²\", çœ‹æ¥EPå¾ˆä»¥æ­¤ä¸ºå‚²...... æˆ‘åˆå†æ¬¡å‘ä»–ä»¬è¡¨å¿ å¿ƒ, è¯´ç›®å‰æˆ‘åªç”³è¯·äº†é«˜ç§‘çš„é¡¹ç›®, EPæ˜¯æˆ‘æœ€æƒ³å»çš„å­¦æ ¡æ²¡æœ‰ä¹‹ä¸€, å¦‚æœå»ä¸äº†çš„è¯æˆ‘å¯èƒ½å†ç”³é¦™æ¸¯...... æœ€åæ•™æˆé—®æˆ‘æœ‰å•¥é—®é¢˜æ²¡, æˆ‘é—®äº†é—®å¥–å­¦é‡‘çš„äº‹åˆé—®äº†é—®EPæ¯•ä¸šç”Ÿçš„å°±ä¸šæƒ…å†µ, ç„¶åå°±ç»“æŸäº†...... æ„Ÿè§‰æˆ‘çš„é¢è¯•æ˜¯å¾ˆå¹¸è¿çš„, æ²¡æœ‰ç»™æˆ‘å‡ºå¤ªéš¾çš„æ•°å­¦é¢˜, æ•°å­¦é¢˜å†ç¨éš¾ä¸€ç‚¹æˆ‘å°±æŒ‚äº†...... å¦å¤–è‹±è¯­å£è¯­å¥½ä¸€äº›çš„è¯ä¹Ÿæœ‰æ¯”è¾ƒå¤§çš„å¸®åŠ©... ä¸ƒ. å½•å–é€šçŸ¥ é¢è¯•å®Œä¹‹åè¿™å‡ å¤©éå¸¸çº ç»“, å¾ˆå®³æ€•æ²¡æœ‰è¢«å½•å–ä¸Š, æ‰€ä»¥æˆ‘æŠ½æ—¶é—´å†™äº†ç”³è¯·æ¸¯ä¸­æ–‡çš„PS...... åœ¨EPé¢è¯•å‰, é«˜ç§‘çš„ç½‘ä¸Šå‡ºç°äº†\"admissibility\"è¿™ä¹ˆä¸€ä¸ªä¸œè¥¿, æ„æ€æ˜¯è¿™äº›å­¦æ ¡ä¼šè€ƒè™‘å½•å–ä½ , ç„¶åè¦ä½ æŒ‰ç…§å¿ƒç›®ä¸­çš„ä¼˜å…ˆçº§è¿›è¡Œæ’åº. è¿™ä¹ˆåšä¼°è®¡æ˜¯ä¸ºäº†é˜²æ­¢ä¸€ä¸ªäººè¢«å¤šä¸ªå­¦æ ¡å½•å–çš„æƒ…å†µå‘ç”Ÿ. æˆ‘çš„é¡µé¢é‡Œæœ‰admissibilityçš„æ˜¯EP, Minesä»¥åŠENSTA. äºæ˜¯æˆ‘å¾ˆçº ç»“å¦‚æœæŠŠEPæ’åœ¨ç¬¬ä¸€ä½è€Œæœ€åé¢è¯•æ²¡è¿‡çš„è¯, ä¼šä¸ä¼šæ’åœ¨äºŒä¸‰ä½çš„Mineså’ŒENSTAä¸è¦æˆ‘... ä¸è¿‡è¿˜æ˜¯ä¸‹å†³å¿ƒæŠŠEPæ’åœ¨äº†ç¬¬ä¸€ä½... 12æœˆ14æ—¥ä¸‹åˆ, æ”¶åˆ°EPçš„é‚®ä»¶, è¢«å½•å–äº†!! EPçš„ç½‘ç”³é¡µé¢ç»ˆäºèµ°åˆ°äº†æœ€åä¸€æ­¥...... å¥½å¼€å¿ƒå•Š!!... ä¸è¿‡æˆ‘ä»¬è¿™å¹´çš„æ„å¤–æƒ…å†µæ¯”è¾ƒå¤š... 2011å¹´æ˜¯äº¤å¤§çš„å°å¹´, åªå½•å–äº†18äºº(å¾€å¹´éƒ½æ˜¯20+çš„). å’Œäº¤å¤§(å°¤å…¶æ˜¯å’Œç”µé™¢)å…³ç³»æœ€å¥½çš„Telecomåªåœ¨ç”µé™¢å½•å–äº†3ä¸ªäºº, ç”µå­ç³»å¾ˆå¼ºçš„zbfåŒå­¦æ²¡æœ‰è¢«å½•å–(ç»å¯¹æ˜¯ä»–ä»¬çš„æŸå¤±å•Š!!). æˆ‘æœ€åèƒ½å¤Ÿå¦‚æ„¿è¿›å…¥EPå®åœ¨æ˜¯æœ‰å¾ˆå¤§çš„è¿æ°”æˆåˆ†...... å…«. å½•å–ä¹‹å è®°å¾—æœ‰å­¦é•¿è¯´è¿‡, ä¸€æ—¦ä½ è¢«å½•å–, \"everything is orgnized\"... æ‰€ä»¥å½•å–ä¹‹ååªè¦æ—¶å¸¸æŸ¥ä¸€ä¸‹é‚®ä»¶æŒ‰ç…§é‚®ä»¶è¦æ±‚çš„åšå°±æ˜¯äº†... å¥–å­¦é‡‘ EPç»™å­¦ç”Ÿæä¾›720æ¬§/æœˆçš„å¥–å­¦é‡‘(ç”±La Fondationæä¾›), è¶³å¤Ÿç”Ÿæ´»çš„å¼€æ”¯(æ¯æœˆæ€»ç”Ÿæ´»è´¹å¼€æ”¯å¤§çº¦600-700æ¬§). è€ŒEPä¹Ÿä¼šå¸®å­¦ç”Ÿç”³è¯·è‘—åçš„åŸƒè²å°”å¥–å­¦é‡‘, è¯¥å¥–å­¦é‡‘çš„å¥½å¤„å‚è€ƒ è¿™é‡Œ ... æ€»ä¹‹æ˜¯å„ç§çˆ½... åªéœ€è¦å¡«ä¸€ä¸ªEPçš„è¡¨æ ¼(å¤§æ¦‚æ˜¯æŠŠSOPçš„å†…å®¹æ”¹æ”¹ç²˜ä¸Šå»), ç„¶åEPä¼šå¸®ä½ ç”³è¯·åŸƒå¥–. ä¹‹å‰æœ‰ä¼ é—»åŸƒå¥–æ˜¯éšæœºåˆ†é…çš„, æˆ–è€…æ˜¯æŒ‰ç…§å§“åé¦–å­—æ¯åˆ†é…çš„(é¢...), ä¸è¿‡è¿™æ¬¡çš„ç»“æœä¼¼ä¹è¿˜æ˜¯æ’åé«˜ä¸€ç‚¹çš„åŒå­¦æœ‰è¾ƒå¤§æœºä¼šæ‹¿åˆ°åŸƒå¥–. æˆ‘ä»¬è¿™å¹´äº¤å¤§5ä¸ªåŸƒå¥–(2EP, 1Mines, 1 Telecom, 1ENSAE). é™¤äº†åŸƒå¥–, è¿˜å¯ä»¥ç”³è¯·å›½å¥–, æ•°é¢å’ŒåŸƒå¥–ç›¸å½“åªæ˜¯ç”³è¯·è¿‡ç¨‹æ¯”è¾ƒç¹ç... EPçš„äººå› ä¸ºæœ‰å­¦æ ¡å¥–ä¿åº•æ‰€ä»¥ä¸€èˆ¬ä¸ä¼šç”³è¯·. å›½å¥–çš„ç”³è¯·æµç¨‹è§é™„ä»¶\"äº¤å¤§æ³•å›½ç•™å­¦æ‰‹å†Œ\"... é™¤äº†åŸƒå¥–å›½å¥–, è¿˜æœ‰ä¸€äº›ä¼ä¸šå¥–å’Œåœ°åŒºå¥–, ä»Šå¹´campusfranceä¹Ÿå¢åŠ äº†ä¸€ä¸ªå¥–å­¦é‡‘. å³ä½¿æ²¡æœ‰å¥–å­¦é‡‘ä¹Ÿé—®é¢˜ä¸å¤§, å› ä¸ºå®ä¹ æ—¶å°±ä¼šæœ‰å·¥èµ„æ‹¿äº†... æ³•è¯­å­¦ä¹  åŒå­¦ä»¬è¦å¥½å¥½å­¦ä¹ æ³•è¯­å•Š! T_T... è™½ç„¶EPç¬¬ä¸€å¹´ä¼šæœ‰åŠå¹´çš„å­¦æ³•è¯­æ—¶é—´, æˆ‘ç°åœ¨ä¹Ÿåæ‚”å½“åˆæ²¡æœ‰å¥½å¥½ä¸Šæ³•è¯­è¯¾, è¿™è¾¹åˆ†ç­åˆ†åˆ°äº†æ°´å¹³åº•çš„ç­çº§...... ä¸Šæµ·çš„æ³•è¯­åŸ¹è®­æœºæ„ä¸»è¦æ˜¯å‡¯è‚²å’ŒèŠ³èµ›, æˆ‘ä»¬å½“æ—¶ä¸¤è¾¹è¯¢é—®æ¯”ä»·, æœ€åæŠŠä»·æ ¼å‡å°‘äº†å¾ˆå¤š...... ä¸€åŠäººå»å‡¯è‚²ä¸€åŠäººå»èŠ³èµ›, æˆ‘åœ¨å‡¯è‚²ä¸Šè¯¾, å‡¯è‚²çš„ä½•æ˜¥ç‡•è€å¸ˆä¸Šè¯¾å¾ˆèµ, å¯æƒœæˆ‘æ²¡å¥½å¥½å­¦...... é«˜ç§‘è¦æ±‚çš„TCF/TEFæˆç»©æ˜¯B1, æœ€åè¿˜æ˜¯å¾ˆå®¹æ˜“è¾¾åˆ°çš„, å…¶å®å³ä½¿è€ƒäº†A2ä¹Ÿä¸ä¼šæœ‰ä»»ä½•é—®é¢˜. å…¶ä»– ç­¾è¯ GEMé¡¹ç›®æœ‰æ—¶ä¼šæœ‰ç­¾è¯æ‚²å‰§çš„æƒ…å†µ, ä½†æ˜¯é«˜ç§‘é¡¹ç›®çš„å†å²ç­¾è¯é€šè¿‡ç‡æ˜¯100%...... æŒ‰ç…§campusfranceä¸Šçš„é€šçŸ¥ä¸€æ­¥æ­¥èµ°å³å¯. å…³äºç­¾è¯çš„ææ–™è§é™„ä»¶: ç­¾è¯ææ–™.zip ç–«è‹— EPä¼šå‘ä¸€å°é‚®ä»¶é€šçŸ¥ä½ å»æ¥ç§ç–«è‹—ä»¥åŠä½“æ£€, åœ¨ä¸Šæµ·å‡ºå…¥å¢ƒæ£€ç–«ä¸­å¿ƒ, æœ‰çš„äººå¯èƒ½ä¼šæ‰“ä¸¤é’ˆ(é—´éš”ä¸€ä¸ªæœˆ), è¿™æ ·çš„è¯éœ€è¦æå‰å»æ‰“å¦åˆ™åˆ°äº†æ³•å›½è¿˜è¦å†æ‰“... ä¹. æ³•å›½ç•™å­¦å‚è€ƒèµ„æ–™ äº¤å¤§æ³•å›½ç•™å­¦æ‰‹å†Œ.pdf è¿™ä¸ªæ‰‹å†Œå¾ˆç»™åŠ›, ä»‹ç»äº†äº¤å¤§æ‰€æœ‰æ³•å›½é¡¹ç›®çš„æƒ…å†µ, å¼ºçƒˆæ¨èè®¤çœŸé˜…è¯»... äº¤å¤§æ¬§æ´²ç•™å­¦æ‰‹å†Œ.pdf è¿™ä¸ªæ˜¯æ¯”è¾ƒæ—©çš„ä¸€ä¸ªæ‰‹å†Œäº†, ä»‹ç»äº†äº¤å¤§çš„æ¬§æ´²é¡¹ç›® ä¸Šæµ·äº¤é€šå¤§å­¦goabroad2012å¤§å‹å‡ºå›½ç•™å­¦è®²åº§PPTæ±‡æ€».pdf GAUnionçš„PPTå¾ˆç»™åŠ›, è®©ä½ å‘ç°ç¾å›½ä¹‹å¤–çš„å…¶ä»–é€‰æ‹©~ å¦å¤–å¼ºçƒˆå»ºè®®å¤§å®¶åŠ å…¥GAUnion, æ°›å›´å¾ˆå¥½å¸®åŠ©å¾ˆå¤§! é¥®æ°´æ€æºBBS-frenchç‰ˆç²¾ååŒº æœ‰å¾ˆå¤šå­¦é•¿çš„æ€»ç»“è´´, æ¨èè®¤çœŸçœ‹ä¸€çœ‹. OKOKOK... å†™è¿™ä¹ˆå¤šè¡Œäº†... ç¥å¤§å®¶ç”³è¯·é¡ºåˆ©!!","tags":"misc","title":"2011å·´é»é«˜ç§‘(ParisTech)ç”³è¯·æ€»ç»“"},{"url":"https://x-wei.github.io/soft/git pushä½¿ç”¨ä»£ç†.html","text":"æ¥åˆ°Xä¹‹å, ä¸Šå¤–ç½‘å…¨éƒ¨è¦ç”¨ä»£ç†çš„, éå¸¸ä¸çˆ½... è€Œä¸”ubuntuçš„æ‰€è°“çš„å…¨å±€ä»£ç†è®¾ç½®(é¦–é€‰é¡¹-->ç½‘ç»œä»£ç†)å¥½åƒå¹¶ä¸ç®¡ç”¨... è®¾ç½®äº†ä¹‹åapt-getå‘½ä»¤å¯ä»¥ç”¨, ä½†æ˜¯å¸¸ç”¨è½¯ä»¶(æœ€å¸¸ç”¨è«è¿‡äºchromeäº†)éƒ½è¦å•ç‹¬è®¾ç½®æ‰å¯ä»¥... ç„¶è€Œæä¸ºä¸çˆ½çš„æ˜¯git, è¿™è¾¹å¯ä»¥clone, ä½†æ˜¯ä¸€åˆ°pushçš„æ—¶å€™å°±æŠ¥é”™: $ git push ssh: connect to host github.com port 22 : Network is unreachable fatal: The remote end hung up unexpectedly å‰ä¸€ç¯‡å¸–å­æŠŠ\"Toefl\"å†™æˆäº†\"Tofel\"...... å›§å¤§äº†, ç„¶åæƒ³æ”¹è¿‡æ¥å‘ç°æ²¡æ³•push... ä¸è¿‡ä»Šå¤©ç»ˆäºå¼„å¥½äº†, è™½ç„¶ä¸å¤ªæ˜ç™½æ˜¯æ€ä¹ˆå¼„å¥½äº†çš„... è¿™é‡Œè®°ä¸€ä¸‹. å‚è€ƒäº† è¿™ç¯‡æ–‡ç«  , ä¸è¿‡å¥½åƒåˆä¸å¤§ä¸€æ ·(æˆ‘å®åœ¨æ˜¯ä¸æ‡‚è¿™ä¸ªä¸œè¥¿æ˜¯ä»€ä¹ˆåŸç†, åªè¦æ±‚èƒ½ç”¨å°±å¥½...). é¦–å…ˆ, è®¾ç½®ä»£ç†åœ°å€å’Œç«¯å£: $ git config --global http.proxy = yourproxyserver:theport ç„¶åå¥½è±¡å°±å¥½äº†...... ä¸è¿‡pushçš„æ—¶å€™è¦æŒ‡å®šç”¨æˆ·åå’Œhttpsçš„åœ°å€, æ ¹æ®æç¤ºè¾“å…¥githubå¯†ç æ‰èƒ½ä½¿ç”¨. $ git push https://x-wei@github.com/X-Wei/x-wei.github.com/ Password: Counting objects: 234 , done . Delta compression using up to 4 threads. Compressing objects: 100 % ( 153 /153 ) , done . Writing objects: 100 % ( 153 /153 ) , 28 .73 KiB, done . Total 153 ( delta 141 ) , reused 0 ( delta 0 ) To <https://x-wei@github.com/X-Wei/x-wei.github.com/> 7ec6f3f..957ede7 master -> master å¥½å§æš‚æ—¶å°±è¿™æ ·ç”¨å§, è™½ç„¶åŸç†æ˜¯ä»€ä¹ˆæˆ‘å®Œå…¨ä¸çŸ¥é“......","tags":"soft","title":"git pushä½¿ç”¨ä»£ç†"},{"url":"https://x-wei.github.io/misc/GT-summery.html","text":"è¿™ä¸ªæš‘å‡é©¬ä¸Šç»“æŸ, å†ä¸å†™è¿™ç¯‡æ–‡ç« å°±å†ä¹Ÿæ²¡å¿ƒæƒ…å†™äº†...... 2011å¹´3æœˆåˆ°6æœˆ, ä¸‰ä¸ªå¤šæœˆçš„æ—¶é—´æˆ‘å®Œæˆäº†æ‰˜ç¦å’ŒGREçš„è€ƒè¯•, å¹¶ä¸”å–å¾—äº†è®©æˆ‘æ¯”è¾ƒæ»¡æ„çš„åˆ†æ•°(toefl 105+, AW 3.5, GRE 13500+). åœ¨æ­¤åˆ†äº«ä¸€äº›ç»éªŒ, å¸Œæœ›èƒ½å¤Ÿå¸®åŠ©å¤§å®¶åœ¨å°½é‡ä¸å½±å“GPAçš„å‰æä¸‹, ç”¨å°½é‡çŸ­çš„æ—¶é—´, è€ƒåˆ°ä¸€ä¸ªè¶³å¤Ÿçš„GTåˆ†æ•°... ä¸€. ä¸ºä»€ä¹ˆè¦\"ç”¨å°½é‡å°‘çš„æ—¶é—´è€ƒä¸€ä¸ªå¤Ÿç”¨çš„åˆ†æ•°\" \"å°½å°‘çš„æ—¶é—´\" GTè¿™ä¸¤æ ·å‡ ä¹æ˜¯ç”³è¯·å‡ºå›½å¿…é¡»çš„æ•²é—¨ç –(è¯·åŸè°…æˆ‘è¿™ä¹ˆåŠŸåˆ©...). ä½†æ˜¯è¿™äº›è€ƒè¯•éš¾åº¦è¾ƒå¤§, å³ä½¿è‹±è¯­åŸºç¡€æ¯”è¾ƒå¥½çš„ä¹Ÿéœ€è¦ç›¸å½“å¤§çš„ç²¾åŠ›å‡†å¤‡. ç°åœ¨äººä»¬å–œæ¬¢æ‹–å»¶, æ‰€ä»¥ç»å¸¸åˆæŠŠGTçš„å¤‡è€ƒæˆ˜çº¿æ‹‰å¾—å¾ˆé•¿, ä¸ºäº†è€ƒä¸€ä¸ªå¥½æˆç»©, æå‰å¥½å‡ ä¸ªæœˆç”šè‡³åŠå¹´å¼€å§‹å‡†å¤‡, è€—è´¹äº†å¾ˆå¤šæ—¶é—´å’Œç²¾åŠ›åŒæ—¶æ•ˆæœå´ä¸ä¸€å®šå¥½. \"è¶³å¤Ÿçš„åˆ†æ•°\" ç”³è¯·ä¸‹æ¥æˆ‘çš„æ„Ÿè§‰æ˜¯, å¯¹äºç”³è¯·çš„å­¦æ ¡, GTçš„åˆ†æ•°è¦æ±‚ä»…ä»…æ˜¯ä¸€ä¸ª é—¨æ§› . è™½ç„¶ä¸€ä¸ªä¼˜å¼‚çš„GTåˆ†æ•°ä¼šç»™ä½ çš„ç”³è¯·åŠ åˆ†, ä½†å¤§å¤šæ•°å­¦æ ¡åªå…³å¿ƒä½ æ˜¯å¦qualify, ä½ çš„GTæˆç»©å†å¥½ä¹Ÿä¸ä¼šæ¯”ä¸€ä¸ªç¾å›½æœ¬åœŸçš„æœ¬ç§‘ç”Ÿæµåˆ© , æ‰€ä»¥GTçš„åˆ†æ•°åœ¨è€ƒè™‘å½•å–æ˜¯ä¸ä¼šæ˜¯å æœ‰å¾ˆé«˜æƒé‡çš„ä¸€é¡¹. è€Œå­¦æ ¡æ›´çœ‹é‡çš„æ˜¯\"å¹²è´§\": GPAå’ŒResearch, è¿™ä¸¤æ ·æ‰ä¼šåœ¨ç”³è¯·ä¸­èµ·åˆ°å†³å®šä½œç”¨. å¦‚æœåœ¨GTä¸Šè€—è´¹å¤ªå¤šçš„æ—¶é—´å’Œç²¾åŠ›, åŠ¿å¿…ä¼šå¯¹GPAå’Œç§‘ç ”é€ æˆå½±å“, å¾—ä¸å¿å¤±. It's possible! GREå’Œæ‰˜ç¦è™½ç„¶è€ƒè¯•éš¾åº¦å¤§, ä½†æ˜¯å®ƒä»¬çš„é¢˜å‹å›ºå®š, æœ‰å¾ˆå¼ºçš„è§„å¾‹æ€§, ä¸€ä¸¤ä¸ªæœˆå°±å¯ä»¥æ€»ç»“å‡ºè€ƒè¯•çš„ä¸€äº›æŠ€å·§. å†åŠ ä¸Šæœºç»ä¹‹ç±»çš„\"ç‰¹æ®Šæ‰‹æ®µ\", åšåˆ°\"é€Ÿæˆ˜é€Ÿå†³\"æ˜¯å®Œå…¨å¯èƒ½çš„. æˆ‘å°±åšåˆ°äº†ä¸€ä¸ªæœˆè€ƒT, ä¸€ä¸ªæœˆAW, ä¸€ä¸ªæœˆè€ƒG, ä¹Ÿè®¸æœ‰äººè¿˜å¯ä»¥æ›´å¿«å‘¢!! ä½†æ˜¯è¦åšå¥½å›°éš¾å‡†å¤‡, å¤‡è€ƒçš„è¿™å‡ ä¸ªæœˆç¡®å®éå¸¸è‰°è‹¦... äºŒ. å¤šå°‘åˆ†æ˜¯\"å¤Ÿç”¨çš„åˆ†æ•°\" é¦–å…ˆè¯´ä¸€ä¸‹, æœ€åç”³è¯·ä¸­æˆ‘å…¶å®æ²¡æœ‰ç”¨åˆ°GTçš„åˆ†æ•°(æäº¤äº†ä¸€ä¸ªtoeflåˆ†æ•°, ä½†æ˜¯å­¦æ ¡æ ¹æœ¬ä¸å¼ºåˆ¶è¦æ±‚ä¹Ÿä¸å…³å¿ƒ, GREåˆ†æ•°å®Œå…¨æ²¡æœ‰ç”¨åˆ°...), å¯èƒ½ä¸‹é¢è¯´çš„å’Œæ¯ä¸ªå­¦æ ¡çš„å…·ä½“æƒ…å†µä¸å°½ç›¸åŒ, ä»…ä¾›å‚è€ƒå§... ä¸è¿‡æˆ‘ä¸ªäººè§‰å¾—è¿™äº›åˆ†æ•°åº”è¯¥æ˜¯è¶³å¤Ÿç”¨æ¥ç”³è¯·çš„... toefl æˆ‘è§‰å¾—æ‰˜ç¦è€ƒè¯•çš„é‡è¦æ€§è¦å¤§äºGRE, å¤§æ¦‚æ˜¯å› ä¸ºæ‰˜ç¦çš„é€‚ç”¨é¢æ›´å¹¿å§, åƒæ¾³æ´², HK, æ¬§æ´²è¿™äº›åœ°æ–¹çš„å­¦æ ¡ä¼¼ä¹æ²¡æœ‰GREä¹Ÿæ˜¯å¯ä»¥ç”³è¯·çš„, ä½†æ˜¯è¦æ±‚æ‰˜ç¦(æˆ–é›…æ€)æˆç»©. æ¬§æ´²æˆ–é¦™æ¸¯çš„å­¦æ ¡å¯¹æ‰˜ç¦çš„è¦æ±‚ä¸é«˜, 90ä»¥ä¸Šå°±è¾¾åˆ°äº†ä¸å°‘å­¦æ ¡çš„è¦æ±‚. ä¸è¿‡å½“ç„¶äº†, åˆ†æ•°å¤šå¤šç›Šå–„~ è€Œç”³è¯·ç¾å›½çš„å­¦æ ¡åˆ™ä¸€èˆ¬è¦æ±‚åœ¨100åˆ†ä»¥ä¸Šç”šè‡³æ›´é«˜, å¦‚æœè¦ç”³è¯·TAçš„è¯å£è¯­åˆ†æ•°æœ€å¥½é«˜äº23åˆ†. ç»¼ä¸Š, ä¸€ä¸ª\"å¤Ÿç”¨\"çš„toeflåˆ†æ•°å¤§æ¦‚æ˜¯: \"åŸºæœ¬é…ç½®\": æ€»åˆ†95+, å£è¯­20+; \"æ¨èé…ç½®\": æ€»åˆ†100+, å£è¯­22+; \"å‘çƒ§çº§é…ç½®\": æ€»åˆ†110+, å£è¯­24+. GRE ä¸¤ä¸ªæœˆçš„è‰°è¾›çš„GREå¤‡æˆ˜è¿‡ç¨‹è®©æˆ‘å¾—å‡ºäº†è¿™æ ·çš„ç»“è®º: å°¼ç›GREç»å¯¹æ˜¯ç¾å¸è€—è´¹å¤–å›½å­¦ç”Ÿæ—¶é—´ä¸ç²¾åŠ›çš„é˜´è°‹å•Š!!! å¤ªå‘çˆ¹äº†!!! ä¸è®ºæ˜¯ä½œæ–‡è¿˜æ˜¯é˜…è¯»è¿˜æ˜¯è¯æ±‡éƒ½TMDå¥½éš¾å¥½éš¾å•Š!!! åæ§½ä¸å·²...... ä¸è¿‡æ—¢ç„¶å®ƒæ˜¯ç”³è¯·åŒ—ç¾ä¼—å¤šå­¦æ ¡çš„å¿…éœ€çš„æ•²é—¨ç –, è¿˜æ˜¯è¦ç¡¬ç€å¤´çš®è€ƒä¸‹æ¥... è¦æ±‚GREåˆ†æ•°çš„å­¦æ ¡ä¸€èˆ¬æ˜¯åŒ—ç¾, ç”±äºæˆ‘æ²¡æœ‰ç”³è¯·åŒ—ç¾çš„å­¦æ ¡, æ‰€ä»¥è¿™é‡Œç»™çš„å‚è€ƒæ•°æ®å¯èƒ½ä¸å¤Ÿå‡†ç¡®... æˆ‘çš„æ„Ÿè§‰æ˜¯, å¦‚æœç”³è¯·MSçš„è¯, GREçš„è¦æ±‚å¯èƒ½ä¼šä½ä¸€äº›, æ€»åˆ†1300+, ä½œæ–‡3.0å¤§æ¦‚æ˜¯ä¸ªåŸºæœ¬å¤Ÿç”¨çš„åˆ†æ•°äº†; å¦‚æœè¦ç”³è¯·phd, æ€»åˆ†1350+, ä½œæ–‡3.5çš„è¦æ±‚åŸºæœ¬å¯ä»¥æ»¡è¶³å¤§éƒ¨åˆ†å­¦æ ¡; å¦‚æœç”³è¯·æ›´å¥½çš„å­¦æ ¡(å°±æ˜¯å¤§å®¶è€³ç†Ÿèƒ½è¯¦çš„é‚£å‡ ä¸ªç‰›æ ¡), å¿…é¡»è¦æ›´é«˜GREåˆ†æ•°...... ç»¼ä¸Š, æˆ‘ç»™å‡ºçš„\"å¤Ÿç”¨\"çš„GREåˆ†æ•°ä¸º: \"åŸºæœ¬é…ç½®\": æ€»åˆ†1300+, AW3.0+; \"æ¨èé…ç½®\": æ€»åˆ†1350+, AW3.5+; \"å‘çƒ§çº§é…ç½®\": æ€»åˆ†1400+, AW4.0+. ä¸‰. æˆ‘çš„è‹±è¯­åŸºç¡€&å¤‡è€ƒç»å† æˆ‘çš„è‹±è¯­åº•å­åº”è¯¥ç®—ä¸é”™, ä½†ä¹Ÿä¸æ˜¯è¶…çº§å¥½çš„æ°´å¹³. è€ƒäº†ä¸¤æ¬¡å…­çº§, ä¸€æ¬¡599ä¸€æ¬¡600. æˆ‘è§‰å¾—å…­çº§æˆç»©åœ¨580ä»¥ä¸Šçš„åŒå­¦éƒ½æœ‰èƒ½åŠ›åœ¨ä¸€ä¸ªæœˆçš„æ—¶é—´å†…æ‰˜ç¦è€ƒåˆ°100+ . å¦å¤–, æˆ‘åœ¨å¤‡è€ƒGTå‰çš„ä¸€ä¸ªå­¦æœŸæ¯”è¾ƒç³»ç»Ÿåœ°èƒŒäº†ä¸€éå…­çº§å•è¯(æ²¡æœ‰åšæŒåˆ°åº•, å¤§æ¦‚èƒŒäº†70%å§), å¹¶ä¸”æŠŠæ–°æ¦‚å¿µè‹±è¯­ç¬¬ä¸‰å†Œçœ‹äº†ä¸€é(å‰20è¯¾èƒŒä¸‹, å40è¯¾ç†Ÿè¯»). è¿™å¤§æ¦‚å°±æ˜¯æˆ‘å¤‡è€ƒGTä¹‹å‰çš„è‹±è¯­åŸºç¡€å§. æˆ‘æ‹–åˆ°å¤§ä¸‰çš„ä¸‹å­¦æœŸæ‰å¼€å§‹è€ƒGT, å¤§ä¸‰ä¸‹æ˜¯éå¸¸ç–¯ç‹‚çš„ä¸€ä¸ªå­¦æœŸ: ç”¨ä¸‰ä¸ªæœˆçš„æ—¶é—´æŠŠGTæå®š, ç„¶åæœ€ååŠä¸ªæœˆç–¯ç‹‚å¤ä¹ å‡†å¤‡æœŸæœ«è€ƒè¯•... äºŒæœˆæœ«å¼€å­¦æ¥åˆ°å­¦æ ¡, å‡†å¤‡äº†ä¸€ä¸ªæœˆ, 3.20è€ƒäº†toefl. è€ƒå®Œæ­‡äº†åå¤©å·¦å³, å¼€å§‹å‡†å¤‡AW, 4.26å»ä¸Šè´¢è€ƒäº†AW. è€ƒå®ŒAWä¼‘æ¯äº†ä¸€ä¸ªæ˜ŸæœŸ, å¼€å§‹äº†æœ€æš—æ— å¤©æ—¥çš„GREå¤‡è€ƒ... 6.11è€ƒå®Œäº†GRE, ç„¶åé©¬ä¸Šå¼€å§‹äº†æœŸæœ«è€ƒè¯•çš„å¤ä¹ . å¤‡è€ƒè¿™ä¸‰ä¸ªæœˆæ¥æˆ‘æ²¡æœ‰æ—·è¯¾, ä¸Šè¯¾ä¹ŸåŸºæœ¬åœ¨å¬è®², è€Œä¸æ˜¯å®Œå…¨ä¸å¬è¯¾å»èƒŒå•è¯. æ‰€ä»¥ç»è¿‡åŠä¸ªæœˆçš„çªå‡», æœŸæœ«è€ƒè¯•çš„æˆç»©æ²¡æœ‰å—åˆ°GTçš„å½±å“... å›æƒ³èµ·æ¥, é‚£ä¸‰ä¸ªæœˆå®åœ¨æ˜¯ç›®å‰æˆ‘ç»å†çš„æœ€å……å®çš„ä¸€æ®µæ—¶é—´, æ˜¯éå¸¸éš¾å¿˜çš„å¥‹æ–—ç»å†: æœ€åä¸€ä¸ªæœˆ(å‰åŠä¸ªæœˆGRE+æœŸæœ«è€ƒè¯•), æˆ‘æ¯å¤©åœ¨è‡ªä¹ å®¤å¾…åˆ°12ç‚¹æ‰å›åˆ°å¯å®¤, åŒ†åŒ†æ´—æ¼±åç¬¬äºŒå¤©æ—©ä¸Šä¸ƒç‚¹åŠèµ·åºŠå»å›¾ä¹¦é¦†, å¤©å¤©å¦‚æ­¤...... å¦‚æœæƒ³åšåˆ°ç”¨å°½å°‘çš„æ—¶é—´è€ƒä¸ªè¶³å¤Ÿçš„åˆ†æ•°, ä¸€å®šè¦åšå¥½å›°éš¾å‡†å¤‡, åšå¥½è¿ç»­ä¸€ä¸ªæœˆèµ·æ—©è´ªé»‘çš„å‡†å¤‡...... å››. toeflå¤‡è€ƒç»éªŒ å…³äºæ‰˜ç¦çš„å…¥é—¨ä»‹ç», çœ‹é¥®æ°´æ€æºEnglishTestç‰ˆçš„ä»‹ç», çœ‹äº†è¿™ä¸ªå¯ä»¥ä¸çœ‹é‚£æœ¬åšåšçš„OG: https://bbs.sjtu.edu.cn/bbstopcon?board=EnglishTest&file=T.1177935865.A å¼ºçƒˆå»ºè®®æå‰æŠŠè€ƒè¯•é¢˜å‹å¼„æ¸…æ¥š , æˆ‘å‰é¢è¯´äº†, GTçš„é¢˜å‹å¾ˆå›ºå®šå¾ˆå‘†ç‰ˆå¾ˆæœ‰è§„å¾‹æ€§, æŒæ¡äº†æ¯ä¸€ç±»é¢˜çš„é¢˜å‹å’Œæ¯ä¸€ç±»é¢˜çš„ç‰¹ç‚¹å¯ä»¥äº‹åŠåŠŸå€. è€ƒè¯•é¢˜å‹å¯ä»¥çœ‹ä¸Šé¢é“¾æ¥çš„ä»‹ç», ç„¶åè‡ªå·±åšå‡ å¥—é¢˜ä½“ä¼š. æˆ‘è§‰å¾—æ‰˜ç¦çš„å•è¯ä¸æ˜¯é‡ç‚¹, å…­çº§è¯æ±‡å…¨éƒ¨æŒæ¡çš„è¯åº”ä»˜æ‰˜ç¦é—®é¢˜ä¸å¤§. å½“ç„¶, æœ‰æ—¶é—´çœ‹çœ‹åˆ†ç±»çš„å•è¯ä¹¦è¿˜æ˜¯æœ‰å¸®åŠ©, å¯ä»¥é‡ç‚¹çœ‹çœ‹åœ°ç†å­¦, ç”Ÿç‰©å­¦ç­‰ç­‰çš„åˆ†ç±»è¯æ±‡. \" å¾—å¬åŠ›è€…å¾—æ‰˜ç¦ \", è¿™å¥è¯æ˜¯å¾ˆå¯¹çš„. å› ä¸ºæ‰˜ç¦çš„å¬è¯´è¯»å†™å››éƒ¨åˆ†, é™¤äº†é˜…è¯»æ²¡æœ‰å¬å½•éŸ³çš„ç¯èŠ‚, å…¶ä»–ä¸‰ä¸ªç¯èŠ‚éƒ½æœ‰å¬åŠ›å‚ä¸è¿›æ¥! æ‰€ä»¥å¬åŠ›çš„åŠ å¼ºæ˜¯æœ€é‡è¦çš„! æˆ‘çš„æ‰˜ç¦çš„å¤‡è€ƒæŠ€å·§, ç®€å•æ€»ç»“å°±æ˜¯: å¬åŠ›é˜…è¯»é TPO, å£è¯­å¬åŠ›é æœºç» ...... ä¸‹é¢åˆ†åˆ«è¯´æ˜: å…³äºå¬åŠ›é˜…è¯»ä»¥åŠTPO å¬åŠ›å’Œé˜…è¯»ç¡®å®éœ€è¦çœŸåŠŸå¤«, å› ä¸ºå¬åŠ›é˜…è¯»çš„æœºç»æ²¡æ³•çœ‹...... æ‰€ä»¥æˆ‘çš„å¤‡è€ƒé‡ç‚¹ä¹Ÿä¸€ç›´æ˜¯å¬åŠ›å’Œé˜…è¯»çš„é”»ç‚¼. ç½‘ä¸Šæœ‰å¾ˆå¤šæ‰˜ç¦çš„æ¨¡è€ƒè½¯ä»¶, ä»€ä¹ˆå·´æœ—, Delta,Longman...... æˆ‘åˆšå¼€å§‹æŠŠè¿™äº›å…¨éƒ¨ä¸‹è½½ä¸‹æ¥, ä¸è¿‡å¹¸å¥½åªåšäº†ä¸¤å¥—çš„å·´æœ—... å› ä¸ºåæ¥æ‰å‘ç°è¿™äº›æ¨¡è€ƒè½¯ä»¶é™¤äº†ç•Œé¢å’Œå®é™…è€ƒè¯•æ¯”è¾ƒç›¸ä¼¼, å®é™…é¢˜ç›®çš„éš¾åº¦å’Œè€ƒè¯•æ—¶ç›¸å·®è¾ƒå¤§, ä½¿ç”¨è¿™äº›æ¨¡è€ƒæ¥ç»ƒä¹ çš„è¯æ•ˆæœä¸å¥½. æ‰€ä»¥æˆ‘æ¨èTPO, TPOæ˜¯ä»€ä¹ˆ? å°±æ˜¯\"TOEFLÂ® Practice Online\", æ‰˜ç¦åœ¨çº¿æ¨¡è€ƒ. ä¸ºä»€ä¹ˆæ¨èTPOå‘¢? å› ä¸ºè¿™äº›é¢˜éƒ½æ˜¯ä»¥å‰æ‰˜ç¦è€ƒè¯•çš„åŸé¢˜! å®ƒä»¬æœ€èƒ½å¤Ÿåæ˜ æ‰˜ç¦è€ƒè¯•çš„éš¾åº¦! å®˜æ–¹å”®ä»·æ˜¯ä¸€å¥—TPOé¢˜ç›®44.95ç¾å…ƒ, å¥½åƒæ–°ä¸œæ–¹å’Œç½‘ä¸Šä¹Ÿæœ‰ä¹°çš„, ä¼šä¾¿å®œå¾ˆå¤š. æˆ‘ä½¿ç”¨çš„æ˜¯ç½‘ä¸Šä¸‹è½½çš„PPSæ ¼å¼çš„TPO, ç”¨Powerpointæ‰“å¼€æ”¾æ˜ å°±å¯ä»¥ä½¿ç”¨, 115ä¸‹è½½åœ°å€, æœ‰19å¥—é¢˜ç›®: http://115.com/file/aq24vbdz å¤§å®¶ä¹Ÿå¯ä»¥å»ä¸‹è½½æœ€æ–°çš„TPO, è²Œä¼¼å·²ç»å‡ºäº†äºŒåå‡ å¥—äº†...... è¿™äº›PPSæ”¾æ˜ è™½ç„¶ç•Œé¢ä¸å¤§å¥½, è€Œä¸”æœ€åè¦è‡ªå·±å¯¹ç­”æ¡ˆç®—åˆ†, ä½†æ˜¯é¢˜ç›®éƒ½æ˜¯è´§çœŸä»·å®çš„, éå¸¸çè´µ. TPOåšä¸€å¥—å°‘ä¸€å¥—, æˆ‘å»ºè®®åœ¨åšäº†äºŒä¸‰å¥—æ¨¡è€ƒè½¯ä»¶çš„é¢˜ç›®, ç†Ÿæ‚‰äº†é¢˜å‹ä¹‹åå†å¼€å§‹åšTPO. ç²¾åš, ä¸€å¤©å°±åšä¸€å¥—, åšå®Œäº†å¥½å¥½å¯¹ç­”æ¡ˆ, æŠŠä¸æ˜ç™½çš„å¥å­å¼„æ˜ç™½, æ²¡å¬æ¸…çš„å¯¹è¯å¬æ¸…æ¥š. å¤‡è€ƒæœŸé—´æˆ‘ä¹Ÿå°±åšäº†10å¥—å·¦å³çš„TPO, æ„Ÿè§‰æé«˜å¾ˆå¿«, ä¸€å¼€å§‹ç®—ä¸‹æ¥å¬åŠ›å’Œé˜…è¯»åˆ†åˆ«ä¹Ÿå°±æ˜¯äºŒåä¸€äºŒåˆ†, åˆ°åæ¥åŸºæœ¬ä¸Šèƒ½ä¿è¯28åˆ†ä»¥ä¸Š(å‹ç¼©åŒ…é‡Œæœ‰ä¸€ä¸ªè¡¨æ ¼, æŠŠä½ æ¯ä¸€éƒ¨åˆ†å¯¹äº†å‡ é“é¢˜é”™äº†å‡ é“é¢˜è¾“è¿›å»å°±ä¼šå‡ºæ¥å¾—åˆ†). é‚£äº›æ–‡ä»¶æ”¾æ˜ æ—¶æœ‰è®¡æ—¶åŠŸèƒ½, ä¸€å¼€å§‹åšé¢˜è€æ˜¯è¶…æ—¶, åæ¥æ¸æ¸æé«˜äº†é˜…è¯»çš„é€Ÿåº¦. å¦å¤–, æœ‰äººå»ºè®®å…ˆçœ‹ä¸€éé¢˜ç›®å†å»è¯»æ–‡ç« , æˆ‘çš„ç»éªŒæ˜¯ æœ€å¥½å…ˆæŠŠæ–‡ç« è¯»å®Œå†çœ‹é¢˜ç›® . å› ä¸ºé¢˜ç›®ä¹Ÿæ¯”è¾ƒé•¿, è€Œä¸”é€‰å¯¹éœ€è¦å¯¹æ–‡ç« æ„æ€çš„æ­£ç¡®ç†è§£, çœ‹çœ‹é¢˜ç›®å’Œé€‰é¡¹ç›´æ¥èƒ½é€‰å‡ºæ¥åŸºæœ¬ä¸å¯èƒ½. è¿™æ ·åšéœ€è¦å¿«é€Ÿè¯»æ‡‚æ–‡ç« , ä¸€å¼€å§‹ç¡®å®æ¯”è¾ƒç—›è‹¦, ç»ƒçš„å¤šäº†æŒæ¡åšé¢˜è¿›åº¦å°±æ¯”è¾ƒæœ‰ç»éªŒäº†. å¬åŠ›çš„é‡è¦æ€§æ€ä¹ˆè¨€ä¹Ÿä¸ä¸ºè¿‡, å¥½å¥½åšTPOå¯ä»¥å¾ˆå¿«åœ°æé«˜å¬åŠ›æ°´å¹³...... æ‰˜ç¦çš„å¬åŠ›æ¯ä¸€é¢˜éƒ½æ˜¯å›ºå®šçš„é¢˜å‹, åœ¨äº†è§£äº†æ¯ä¸€é¢˜çš„é¢˜å‹å’Œç‰¹ç‚¹å, è¦åšå¥½åŠæ—¶çš„è®°å½•, åŒæ—¶åˆ«å› ä¸ºè®°å½•ä¸Šä¸€å¥è€Œå¯¼è‡´ä¸‹ä¸€å¥æ²¡å¬è¿›å»... å…³äºè‹±è¯­çš„é€Ÿè®°, å¯ä»¥ç”¨ä¸€äº›å°æŠ€å·§, æ¯”å¦‚: æœ‰çš„å•è¯å¯ä»¥å¿½ç•¥å…ƒéŸ³å­—æ¯, å¦‚\"book\"å†™æˆ\"bk\"ä¹Ÿè®¤å¾—å‡ºæ¥; ä¸€äº›è¡¨ç¤º\"æé«˜\", \"ä¸Šå‡\"ä¹‹ç±»çš„å•è¯å¯ä»¥ä½¿ç”¨ç®­å¤´ä»£æ›¿; ç”¨ç¬¦å·ä»£æ›¿å¸¸ç”¨è¯å°¾: -ingè¯å°¾--->\"~\", -tion/-sionè¯å°¾--->\"Êƒ\", th-å¼€å¤´--->\"Î¸\"(them--->Î¸m)...... è¿™æ ·çš„æŠ€å·§å¯ä»¥æé«˜ä¸€äº›è®°å½•çš„é€Ÿåº¦. ä¸è¿‡æœ€ä¸»è¦çš„è¿˜æ˜¯å¬åŠ›èƒ½åŠ›çš„é”»ç‚¼, TPOåšå®Œåè§‰å¾—å“ªäº›å¯¹è¯æ²¡æœ‰å¬æ‡‚è¦ åå¤å¬ , å¬æ‡‚æ¯ä¸€å¥. ç”±äºå¬åŠ›é¢˜å‹(ç”šè‡³æ˜¯è¯é¢˜)çš„å›ºå®šæ€§, è¿™æ ·åšè¿›æ­¥ä¼šå¾ˆå¿«!~ å¦å¤–, å½“æ—¶åšTPOçš„å¬åŠ›å’Œé˜…è¯»æ—¶æ„Ÿè§‰å°±æ˜¯å¾ˆæœ‰è¶£(è¿™å’ŒèƒŒGREå•è¯å’ŒåšGREé˜…è¯»çš„å¿ƒæƒ…å½¢æˆé²œæ˜å¯¹æ¯”...), æ‰˜ç¦çš„é˜…è¯»ä¸€èˆ¬æ˜¯ä¸€äº›ç§‘æ™®æ–‡ç« (ç”Ÿç‰©å­¦, åœ°è´¨å­¦, äººç±»å­¦å•¥çš„), ä¸€äº›äººåšçš„ç ”ç©¶, å¾—åˆ°çš„ç»“è®º...... è¯»æ¥å¾ˆæœ‰æ„æ€, æ¯”å¦‚æœ‰ä¸€ç‰‡æ–‡ç« ä»‹ç»é¸¡åœ¨é¢ä¸´å±é™©æˆ–è€…é¢ä¸´é€‰æ‹©æ—¶å±…ç„¶ä¼šçªç„¶ç¡è§‰, è¿™æ˜¯XXXåŸå› ...... æ€»ä¹‹è®©æˆ‘å¾ˆå¼€çœ¼ç•Œ...... æ‰˜ç¦çš„å¬åŠ›åˆ™æœ‰çš„æ˜¯è¯¾å ‚ä¸Šçš„å¯¹è¯, è€å¸ˆå’Œå­¦ç”Ÿçš„äº¤æµä»€ä¹ˆçš„, å¾ˆæœ‰æ„æ€...... TPOçš„å£è¯­å’Œå†™ä½œæˆ‘ä¸å»ºè®®åšäº†, å› ä¸º...... å› ä¸ºæœºç»æœ‰å¾ˆå¤§çš„æœºä¼šå‘½ä¸­, è€ŒTPOçš„è¿™äº›é¢˜è‚¯å®šæ˜¯ä¸ä¼šè€ƒåˆ°çš„äº†...... å…³äºå£è¯­å†™ä½œä»¥åŠæœºç» æˆ‘å¾—æ‰¿è®¤, å£è¯­å’Œå†™ä½œè¿™éƒ¨åˆ†æˆ‘å·æ‡’äº†, å¹¶æ²¡æœ‰ä¸‹åŠŸå¤«è®­ç»ƒ... å¦‚æœè¦æé«˜è¿™ä¸¤éƒ¨åˆ†çš„èƒ½åŠ›, ææ€•è¦ä¸‹æ¯”é˜…è¯»å’Œå¬åŠ›å¤šå¾—å¤šçš„åŠŸå¤«. æ‰€ä»¥æˆ‘æŠ±ç€ä¾¥å¹¸çš„å¿ƒæ€ä½¿ç”¨äº†æœºç», å¹¶ä¸”å¹¸è¿åœ°ä¸­äº†... æœºç»æ˜¯ä»€ä¹ˆ? æœºç»å°±æ˜¯ä»¥å‰è€ƒæ‰˜ç¦çš„äººè€ƒå®Œåå¯¹ä»–é‚£åœºè€ƒè¯•å†…å®¹çš„å›å¿†. æ‰˜ç¦æ¯å‘¨éƒ½æœ‰è€ƒè¯•, è€Œå®é™…ä¸ŠETSæ¯å¹´åªä¼šå‡ºåæ¥å¥—æ–°é¢˜ç›®, æ‰€ä»¥å¾ˆå¤šçš„è€ƒè¯•ä¼šæœ‰é‡å¤! è€Œä¸”, \"ETSå‡ºé¢˜å¤ªæœ‰è§„å¾‹äº†\"(ç‹äº¬ç«¹è¯­), åŸºæœ¬ä¸Šæ–°ä¸œæ–¹çš„è€å¸ˆéƒ½å¯ä»¥é¢„æµ‹å‡†ç¡®! æ—¢ç„¶æœ‰æœºç», ä¸ºä»€ä¹ˆå¬åŠ›å’Œé˜…è¯»ä¸èƒ½é æœºç»å‘¢? å› ä¸ºæ‰€è°“çš„æœºç»éƒ½æ˜¯è€ƒå®Œåçš„å›å¿†, å°±åƒäº¤å¤§çš„è€ƒç»ä¸€æ ·, åªè¨€ç‰‡è¯­, æ€»ä¸ä¼šæŠŠå¬åŠ›å’Œé˜…è¯»çš„å…¨æ–‡å›å¿†å‡ºæ¥å§? æ‰€ä»¥å¬åŠ›å’Œé˜…è¯»çš„æœºç»éå¸¸é¸¡è‚‹, åªèƒ½å¤§æ¦‚å›å¿†å‡ºæ–‡ç« çš„ä¸»é¢˜ä»¥åŠå•è¯é‚£ä¸ªé¢˜è€ƒçš„å•¥, ä¸ä¼šæœ‰å¤ªå®è´¨çš„å¸®åŠ©, æ‰€ä»¥å¬åŠ›å’Œé˜…è¯»è¿˜æ˜¯è¦å¥½å¥½ç”¨TPOç»ƒ... è€Œå£è¯­å’Œå†™ä½œçš„æœºç»ç”±äºåªéœ€è¦è®°ä½ä¸€ä¸ªä¸»é¢˜æˆ–è€…é¢˜ç›®å³å¯, æ‰€ä»¥å¾ˆæœ‰ä»·å€¼...... æˆ‘å‡†å¤‡å£è¯­å’Œä½œæ–‡çš„æ—¶é—´ä¹Ÿå°±æ˜¯10å¤©å·¦å³, å› ä¸ºæˆ‘å¯„å¸Œæœ›äºæœºç»å‘½ä¸­, è€Œæœºç»å¿…é¡»è¦ç­‰åˆ°è€ƒå‰ä¸€ä¸¤å‘¨æ‰å›å‡ºæ¥...... å®é™…ä¸Šæœºç»å‘½ä¸­çš„æ¦‚ç‡è›®å¤§çš„, å°¤å…¶æ˜¯æˆ‘åœ¨å¬äº†ç‹äº¬ç«¹ç‚¹é¢˜ç­çš„å½•éŸ³ä¹‹å... æ‰˜ç¦çš„æœºç»å¯ä»¥åœ¨æ·˜å®ä¸Šä¹°åˆ°, ä¹Ÿå°±å‡ åå—é’±. å°é©¬è¿‡æ²³æˆ–è€…ç‹äº¬ç«¹çš„é¸¡ç²¾ç½‘ä¸Šä¹Ÿä¼šæœ‰å¥½å¿ƒäººå…±äº«æœºç»å‡ºæ¥. å„ä¸ªç‰ˆæœ¬çš„æœºç»ç›¸å·®ä¸å¤§, åŸºæœ¬ä¸Šéƒ½æ˜¯é‚£åæ¥å¥—é¢˜ç›®. æœºç»ä¼šç»™å‡ºå¯èƒ½è€ƒçš„åå‡ å¥—é¢˜ç›®, æŒ‰ç…§å¯èƒ½æ€§å¤§å°åˆ†ä¸ºä¸‰ç±», æ¯ç±»å¤§æ¦‚æœ‰å…­ä¸ƒå¥—é¢˜ç›®. æˆ‘å½“æ—¶æŠŠæœºç»çš„Aç±»å’ŒBç±»é¢˜ç›®å¥½å¥½çœ‹äº†ä¸€é, ä¸€å…±10å¥—é¢˜ç›®å·¦å³. å’ŒTPOä¸€æ ·, æˆ‘å‡†å¤‡å¾—éå¸¸è¯¦ç»†, å¯¹å£è¯­çš„å‰ä¸¤é¢˜éƒ½å‡†å¤‡å¥½äº†è¦è¯´çš„è¯, å¯¹ä½œæ–‡çš„é¢˜ç›®éƒ½å‡†å¤‡å¥½äº†ä¸‰ä¸ªè®ºç‚¹, å› ä¸ºæˆ‘çŸ¥é“è€ƒè¯•æ—¶å¾ˆå¯èƒ½å°±ä¼šç¢°åˆ°åŸé¢˜!! å…³äºå£è¯­, æˆ‘è§‰å¾—æœ€éš¾çš„æ˜¯å‰ä¸¤é¢˜, éœ€è¦åœ¨45ç§’çš„æ—¶é—´å†…å°±ä¸€ä¸ªä¸»é¢˜è¯´30ç§’é’Ÿçš„è¯. å¼ºçƒˆå»ºè®®å¤§å®¶å»å¬ä¸€å¬ç‹äº¬ç«¹ç‚¹é¢˜ç­çš„å½•éŸ³, ä¸ä¸€å®šæ˜¯æœ€è¿‘çš„æœºç», ä»–çš„éšä¾¿ä¸€æœŸç‚¹é¢˜ç­å½•éŸ³éƒ½å¯ä»¥. ä»–çš„æ–¹æ³•æˆ‘è§‰å¾—çŸ­æœŸåº”ä»˜è€ƒè¯•å¾ˆç®¡ç”¨: å¯¹äºå£è¯­, æ¯ä¸ªé¢˜ç›®è¯´å‡ºä¸‰ä¸ªè®ºç‚¹ , æ¯ä¸ªç‚¹ä¸€ä¸¤å¥è¯, å†åŠ ä¸Šå‰é¢çš„å¼•å…¥å’Œåé¢çš„æ€»ç»“, å·®ä¸å¤šåˆšå¥½æŠŠæ—¶é—´è¯´å®Œ. è¿™æ˜¯çŸ­æœŸå†…æé«˜å£è¯­åˆ†æ•°çš„å¾ˆå¥½çš„æ–¹æ³•. å‡†å¤‡æœºç»æ—¶, æˆ‘å°±å¯¹æ¯ä¸ªé¢˜ç›®åˆ—å‡ºä¸‰ä¸ªè®ºç‚¹(æœ‰æ—¶æƒ³å‡ºè¿™ä¸‰ä¸ªè®ºç‚¹éœ€è¦å¾ˆå¤šæ—¶é—´çš„, æ‰€ä»¥å¦‚æœæœºç»æ²¡æœ‰ä¸­çš„è¯æˆ‘è‚¯å®šä¼šè€ƒå¾—å¾ˆå·®), å·®ä¸å¤šæ˜¯ä¸‰å¥è¯, å†™åœ¨çº¸ä¸Š. è€ƒè¯•æ—¶, å…ˆç¬¬ä¸€å¥è¯è¡¨æ˜è‡ªå·±çš„è§‚ç‚¹, ç„¶åfirstly......secondly......finally......æŠŠä¸‰ä¸ªè®ºç‚¹è®²å‡º, æœ€åå†æ¥ä¸€å¥\"That's why I think......\", æ—¶é—´å°±å·®ä¸å¤šåˆ°äº†~ å¯ä»¥è‡ªå·±æ€»ç»“å‡ºé€‚åˆè‡ªå·±çš„æ¨¡æ¿, å¼•å…¥è¯é¢˜å’Œæœ€åæ€»ç»“æ—¶ç”¨å›ºå®šçš„å¥å¼(i.e. \"In my view, XXXX......., I have this point mainly because of 3 reasons: firstly......secondly......finally....... So that's why I think XXXX......\"), ä¸è¦å˜æ¥å˜å». æˆ‘å½“æ—¶å¬çš„ç‹äº¬ç«¹ç‚¹é¢˜ç­å½•éŸ³: http://115.com/file/dpghlbbk å¦å¤–, å£è¯­çš„å‰ä¸¤é¢˜ä¸€å®šè¦å¤§å£°è¯´å‡ºæ¥! å£°éŸ³è¶Šå¤§è¶Šå¥½, å¦åˆ™åˆ°åé¢æ›´åŠ è¯´ä¸å‡ºæ¥...... å¤‡è€ƒå£è¯­çš„æ—¶å€™, æˆ‘åœ¨å¯å®¤é‡Œå¯¹è¿™ç”µè„‘, çœ‹ç€å†™å¥½çš„è®ºç‚¹å¤§å£°è¯´. è¯´å®Œåå¬è‡ªå·±çš„å½•éŸ³, æ„Ÿè§‰ä¸å¥½çš„åœ°æ–¹å°±æ”¹æ­£(ä¸€å¼€å§‹æˆ‘è¯´å¾—ç‰¹åˆ«å¿«, ä¸é“20ç§’å·²ç»æŠŠä¸‰ä¸ªè®ºç‚¹è¯´å®Œäº†...), æ¸æ¸çš„å°±èƒ½å¤Ÿæ¯”è¾ƒå¥½çš„æ§åˆ¶æ—¶é—´. è‡³äºå£è¯­çš„åé¢å‡ é¢˜, å®é™…ä¸Šæ˜¯å¬åŠ›é¢˜, åªè¦èƒ½å¤ŸæŠŠå¯¹è¯çš„å†…å®¹å¬æ˜ç™½, æ¥ä¸‹æ¥è¡¨è¾¾å‡ºæ¥ä¸æ˜¯é—®é¢˜äº†, å†µä¸”å¬åŠ›çš„é¢˜å‹å’Œä¸»é¢˜ä¹Ÿæ˜¯é‚£ä¹ˆçš„å›ºå®š...... å†™ä½œçš„ç¬¬ä¸€é¢˜å®é™…ä¸Šæ˜¯é˜…è¯»+å¬åŠ›, æ‰¾å‡ºè¿™ä¸¤ç¯‡æ–‡ç« ä¸­ä¸‰ä¸ªä¸åŒçš„è§‚ç‚¹(ä¸€å®šä¼šæ˜¯ä¸‰ä¸ªç‚¹, æ‰¾ä»”ç»†, ETSå‡ºé¢˜å¤ªæœ‰è§„å¾‹äº†...)å³å¯, ç„¶åå¯ä»¥è‡ªå·±æ€»ç»“å‡ºæ¥ä¸ªæ¨¡æ¿, å¾ˆå¿«å†™å®Œè¿™ç¯‡. å…³äºé˜…è¯»çš„ç¬¬äºŒé¢˜, æˆ‘ä¹Ÿæ¨èä½¿ç”¨å…«è‚¡æ–‡å¼çš„\"äº”æ®µå¼\": å¼•å…¥-è®ºç‚¹1-è®ºç‚¹2-è®ºç‚¹3-æ€»ç»“. è¿™ä¸ªæ˜¯çœ‹ä¸€ç¯‡ å¤ªå‚»ä¸Šçš„æ–‡ç«  å­¦åˆ°çš„, ä¸è¦æ‹…å¿ƒå› ä¸ºç»“æ„çš„å¹³åº¸å½±å“åˆ†æ•°, è€ƒå®˜æœ€å–œæ¬¢è¿™ç§æ ¼å¼!! æ‰€ä»¥å¯¹äºæ¯ä¸ªä½œæ–‡é¢˜ç›®, åªéœ€æƒ³å¥½3ä¸ªè®ºç‚¹(åŒæ ·, æƒ³å‡ºè¿™ä¸‰ä¸ªè®ºç‚¹éœ€è¦ä¸€ç•ªåŠŸå¤«...), å¹¶ä¾æ¬¡è¿›è¡Œå±•å¼€å³å¯!! å…³äºè€ƒè¯• æˆ‘åœ¨ç”µä¿¡ç¾¤æ¥¼è€ƒçš„, ä¸»åœºä½œæˆ˜å°±é¿å…äº†è·¯ä¸Šçš„é¢ ç°¸, æ‰˜ç¦ä¸€è€ƒå°±æ˜¯å››ä¸ªå°æ—¶, æ—©æ™¨è¦æ—©èµ·, å¤šåƒç‚¹, ä¸€å®šå¾—å¸¦ç‚¹å·§å…‹åŠ›å•¥çš„, åœ¨è€ƒå®Œå¬åŠ›åçš„ååˆ†é’Ÿé‡Œåƒä¸€äº›...... è€ƒè¯•æ—¶æˆ‘å€’æ•°ç¬¬ä¸‰ä¸ªè¿›åœº, æŠ½åˆ°çš„æ˜¯å¬åŠ›åŠ è¯•. æ™šå…¥åœºçš„å¥½å¤„æ˜¯, åœ¨æˆ‘åšç€å¬åŠ›åŠ è¯•çš„æ—¶å€™å·²ç»å¬è§äº†åˆ«äººè¯´å£è¯­--è€Œé‚£å£è¯­çš„é¢˜ç›®æ­£æ˜¯æˆ‘å‡†å¤‡è¿‡çš„!! å¿ƒä¸­çªƒå–œ, è€ƒå®Œå¬åŠ›æœ‰ååˆ†é’Ÿä¼‘æ¯æ—¶é—´, æˆ‘å°±è¾¹åƒç‚¹ä¸œè¥¿è¾¹æŠŠé‚£ä¸€å¥—æœºç»çš„å£è¯­å’Œå†™ä½œå¥½å¥½çœ‹äº†ä¸€é! ä¸è¿‡æ™šè¿›åœºçš„ç¼ºç‚¹æ˜¯, å½“ä½ è¯´å£è¯­æ—¶, åˆ«äººå‡ ä¹éƒ½è¯´å®Œäº†, æ²¡æœ‰äº†å¤§å®¶ä¹±å“„å“„è¯´è¯çš„æ°”æ°›, åªèƒ½å¬è§è‡ªå·±çš„è¯åœ¨è€ƒåœºé‡Œå›å“...... ä¸è¿‡æˆ‘è„¸çš®åš, æ¯”è¾ƒå¤§å£°åœ°æŠŠå£è¯­è€ƒå®Œäº†...... å·®ä¸å¤šè¿™äº›å°±æ˜¯æˆ‘çš„æ‰˜ç¦å¤‡è€ƒç»éªŒ, å¦å¤–å¤§å®¶å¯ä»¥å…³æ³¨å¤ªå‚»æˆ–å°é©¬è¿‡æ²³çš„æ‰˜ç¦é¢‘é“, å…¶ä¸­çš„ä¸€äº›æ–‡ç« ä»‹ç»è€ƒè¯•æŠ€å·§ä»€ä¹ˆçš„è¿˜æ˜¯å¾ˆç»™åŠ›çš„. äº”. GREå¤‡è€ƒç»éªŒ æˆ‘è€ƒçš„æ˜¯æœ€åä¸€æ¬¡è€G, ç¬”è¯•, ç°åœ¨GREå˜æˆäº†ç½‘ç»œè€ƒè¯•, å¯èƒ½æƒ…å†µæœ‰å˜, ä»¥ä¸‹çš„ç»éªŒå¯èƒ½å‚è€ƒæ€§ä¸å¦‚æ‰˜ç¦çš„å¼º, æˆ‘ä¹Ÿå°‘äº›ä¸€äº›... GREçœŸæ˜¯è¦äººå‘½... å‰é¢è¯´å…­çº§580çš„æ°´å¹³å‡†å¤‡toeflé—®é¢˜ä¸å¤§, ä½†æ˜¯ä¸è®ºåŸæ¥è‹±è¯­åº•å­å¤šä¹ˆå¥½, å¤‡è€ƒGREéƒ½è¦èŠ±å¾ˆå¤§ä¸€ç•ªåŠŸå¤«çš„. æˆ‘è§‰å¾—æˆ‘å¤‡è€ƒGREæ¯”å¤‡è€ƒæ‰˜ç¦å¤šèŠ±è´¹äº†ä¸€å€çš„æ—¶é—´å’ŒæŠ•å…¥... åšå¥½å›°éš¾å‡†å¤‡, å¤©æ— ç»äººä¹‹è·¯...... å…³äºä½œæ–‡ è¯´æ‰˜ç¦ä½œæ–‡å’Œå…­çº§éš¾åº¦æ¯”è¾ƒç›¸ä¼¼åº”è¯¥åŸºæœ¬å‡†ç¡®, ç„¶è€ŒGREçš„ä½œæ–‡å°±å®Œå…¨æ˜¯é«˜ä¸€ä¸ªå±‚æ¬¡äº†... ä¸è®ºæ˜¯Arguè¿˜æ˜¯Issue, éƒ½å¯¹æ€ç»´çš„é€»è¾‘æ€§å’Œè¡¨è¾¾çš„æµç•…æ€§æå‡ºäº†éå¸¸é«˜çš„è¦æ±‚... æˆ‘çš„AWç»éªŒæ˜¯: Arguçœ‹å­™è¿œ, Issueçœ‹é¢˜åº“+RP...... Arguå’Œå­™è¿œ å¼ºçƒˆæ¨èæ–°ä¸œæ–¹çš„å­™è¿œçš„AWæ•™å­¦è§†é¢‘, ä¸€å…±æœ‰å‡ åè®², æˆ‘åªæŠŠArguçš„éƒ¨åˆ†å¥½å¥½çœ‹äº†. è¾¹çœ‹è§†é¢‘è¾¹åšç¬”è®°, å­™è¿œè®²å¾—ç¡®å®ä¸é”™, å‘Šè¯‰æˆ‘ä»¬å¦‚ä½•æ‰¾å‡ºæ–‡ç« ç«‹è®ºçš„æ¼æ´, å¸¸è§çš„æ¼æ´æœ‰å“ªäº›, å¦‚ä½•è¿›è¡Œåé©³(Arguè²Œä¼¼éƒ½æ˜¯è¦åé©³çš„å¯¹å§......). æ•´ä¸ªæ•™ç¨‹çœ‹å®ŒèŠ±äº†ä¸€ä¸ªå¤šæ˜ŸæœŸçš„æ—¶é—´, è¿™æ®µæ—¶é—´æ²¡æ€ä¹ˆå®é™…å†™æ–‡ç« ç»ƒè¿‡, ä½†æ˜¯æ”¶è·é¢‡å¤š, åé¢å†™Arguä¹Ÿæ¯”è¾ƒé¡ºåˆ©äº†... éœ€è¦ç‰¹åˆ«å¼ºè°ƒ, Arguå¾—åˆ°é«˜åˆ†è¿˜æ˜¯æ¯”è¾ƒå®¹æ˜“çš„. Issueå†™å¾—å·®ä¸€ç‚¹ä¹ŸåŸºæœ¬èƒ½æ‹¿ä¸ª3åˆ†, æ‹¿4åˆ†çš„Issueæ¯”è¾ƒå›°éš¾, è€Œ4åˆ†çš„Arguå´å®Œå…¨æœ‰å¯èƒ½åšåˆ°. æ‰€ä»¥åœ¨Arguä¸Šä¸€å®šè¦å…¨åŠ›å†™å¥½, å¦åˆ™å¾ˆéš¾ä¿è¯ä½œæ–‡èƒ½æ‹¿åˆ°3.5+çš„åˆ†æ•°!... Issueå’Œé¢˜åº“ Issueå®åœ¨å°±å¾—é å®åŠ›+è¿æ°”äº†...... æˆ‘AWè€ƒäº†3.5, è¿æ°”æˆåˆ†å¾ˆå¤§... AWçš„é¢˜åº“æ˜¯å¼€æ”¾çš„, è€ƒè¯•æ—¶ä¼šä»ä¸­æŠ½å‡ºä¸€é“. è®ºå›ä¸Šæœ‰äººæ€»ç»“æ¯æ¬¡è€ƒè¯•çš„é¢˜ç›®, ç„¶åæŒ‰ç…§é¢‘ç‡æ¥æ’åº, å½“æ—¶æ—¶é—´ä¸å¤Ÿ, æˆ‘åªåšäº†æœ€é«˜é¢‘çš„å‡ ä¸ªé¢˜ç›®--ç„¶åè€ƒè¯•æ—¶Arguæ˜¯é«˜é¢‘ç¬¬ä¸€é¢˜, Issueä¹Ÿæ˜¯æ˜¨æ™šç®€å•å‡†å¤‡è¿‡çš„!...... è€—è´¹äº†æ¯”è¾ƒå¤šçš„RP, è€ƒå‰å®åœ¨ä¹Ÿæ˜¯æ²¡åº•...... å…³äºIssueçš„å†™ä½œ, æˆ‘è§‰å¾—è¿˜æ˜¯è¦åƒæ‰˜ç¦é‚£æ ·å‡†å¤‡å¥½ä¸‰å››ä¸ªè®ºç‚¹, ä½†æ˜¯è¦æŒ–æ˜çš„æ›´æ·±, å†™å¾—æ›´é•¿... åˆ«çš„ç»éªŒå°±è°ˆä¸ä¸Šäº†, æœ‰ç©ºçš„è¯è¿˜æ˜¯å¤šåšäº›é¢˜åº“çš„é«˜é¢‘é¢˜ç›®å§, ä½†æ˜¯ä¸è¦æŠ±æ‰˜ç¦æœºç»é‚£æ ·å¤§çš„æŒ‡æœ›... å…³äºè¯æ±‡ è¯æ±‡æ˜¯GREæœ€è®©äººæ¶å¿ƒçš„éƒ¨åˆ†, ä¹Ÿæ˜¯æ²¡æ³•è·³è¿‡çš„éƒ¨åˆ†...... è¯æ±‡çš„å‡†å¤‡æ˜¯æœ€ç—›è‹¦çš„, ä¸€å¼€å§‹æˆ‘æƒ³è¦æŠŠçº¢å®ä¹¦èƒŒä¸‹æ¥, ä¸€å¤©ä¸€ä¸ªlistè¿˜éœ€è¦å››åå¤šå¤©é‚£! æˆ‘åšæŒäº†ä¸€ä¸ªæ˜ŸæœŸå°±æ”¾å¼ƒäº†....... è¯æ±‡å¤ªå¤šäº†!TT...... ç„¶åæœæ–­è½¬ç”¨è¦ä½ å‘½ä¸‰åƒ, è¿™æœ¬ä¹¦ä¸‰åƒä¸ªå•è¯, 30ä¸ªlist, ä½†è‡³å°‘æ¯”çº¢å®ä¹¦è¦å°‘, è€Œä¸”æ¯ä¸ªliståˆåˆ†æˆ10ä¸ªå°éƒ¨åˆ†, å¯ä»¥æŠ½å‡ åˆ†é’Ÿçš„é›¶ç¢æ—¶é—´èƒŒ10ä¸ªå•è¯...... è¦ä½ å‘½3kç»å¯¹ä¸æ˜¯æµªå¾—è™šå, çœŸçš„å¿«è¦äº†æˆ‘çš„åäº†... å¼€å§‹èƒŒè¦ä½ å‘½3kæ—¶, æˆ‘ç®—äº†ç®—, å¿…é¡»æ¯å¤©èƒŒä¸¤ä¸ªlistæ‰èƒ½èµ¶ä¸Šè¿›åº¦, æ¥å¾—åŠèƒŒç¬¬äºŒé. é‚£ä¸¤ä¸ªæ˜ŸæœŸæˆ‘å†³å®šä¸æŠŠè¦ä½ å‘½3kèƒŒå®Œä¸åˆ®èƒ¡å­...... å½“æˆ‘ç»ˆäºæŠŠ3kä¸ªå•è¯èƒŒå®Œä¸€éæ—¶, èƒ¡å­å·²ç»ä¸¤ä¸‰å…¬åˆ†é•¿äº†...... è¦ä½ å‘½3kä¸Šçš„å•è¯æ˜¯ä»è¿‡å»åå‡ å¹´çš„GREè€ƒè¯•ä¸­æå–å‡ºæ¥çš„å¸¸è€ƒè¯æ±‡, æœ€ç»ˆè€ƒè¯•æ—¶æˆ‘ä¹Ÿéå¸¸å¹¸è¿åœ°ç¢°åˆ°äº†å¥½å‡ ä¸ª3ké‡Œçš„å•è¯(è¿˜æœ‰è¦ä½ å‘½3kå¢è¡¥çš„å‡ ç™¾ä¸ªå•è¯ä¹Ÿè¦èƒŒ, è¿™äº›æ˜¯è¿‘å‡ å¹´è€ƒè¯•ä¸­å‡ºç°çš„è¯æ±‡). å¦å¤–, æ¯ä¸€ä¸ªlistå‰é¢éƒ½æœ‰ä¸€ä¸ªGREç‰›äºº(å…¶ä¸­æœ‰2011å¹´åŒ—å¤§è‘—åçš„\"æ¨ªæ‰«å§\")çš„ä¸€äº›è¯, å¾ˆåŠ±å¿—çš„. è®©æˆ‘æœ€æ„Ÿåˆ°å—ç›Šçš„æ˜¯ä¸€å¥å¾ˆç®€å•çš„è¯: \" èƒŒGREå•è¯çš„ç§˜è¯€å°±æ˜¯: é‡å¤, é‡å¤, å†é‡å¤ \". åŸºäºè¿™æ ·ä¸€å¥è¯, æˆ‘æ¯å¤©é™¤äº†èƒŒæ–°å•è¯ä¹‹å¤–, è¿˜ä¼šèŠ±åŠä¸ªå°æ—¶çš„æ—¶é—´å¤ä¹ æ˜¨å¤©å’Œä¸€å‘¨å‰èƒŒçš„å•è¯, ä¸æ–­çš„é‡å¤, å†é‡å¤...... èƒŒå®Œç¬¬ä¸€éå, 3ké‡Œé¢çš„å•è¯æˆ‘å·®ä¸å¤šèƒ½å¤Ÿè®°å¾—85%äº†, ç„¶åè¿…é€Ÿå¼€å§‹å¤ä¹ ç¬¬äºŒéå’Œç¬¬ä¸‰é. ç”±äºç¬¬ä¸€éèƒŒå•è¯æ—¶å°±æ³¨æ„åŠæ—¶å›é¡¾, æ‰€ä»¥äºŒä¸‰éçš„é€Ÿåº¦å¿«äº†è®¸å¤š. å¦å¤–, åœ¨æˆ‘å›é¡¾å•è¯çš„æ—¶å€™, å‘ç°å¾ˆå¤šå•è¯æ˜¯è¿‘ä¹‰è¯/åä¹‰è¯/åŒä¸€ç±»åˆ«çš„è¯, æŠŠè¿™äº›è¯æ±‡æ”¾åœ¨ä¸€èµ·å†çœ‹, äº†è§£ä»–ä»¬çš„åŒºåˆ«ä¸è”ç³», éå¸¸æœ‰å¥½å¤„. æ‰€ä»¥æˆ‘èŠ±äº†ä¸€å¤©æ—¶é—´æŠŠ3ké‡Œå‡ºç°çš„è¿™äº›æœ‰è”ç³»çš„å•è¯å†™åœ¨äº†ä¸€èµ·, èƒŒå®Œ3kå†æ¥çœ‹çœ‹è¿™äº›å•è¯æœ‰åŠ©äºå¼ºåŒ–è®°å¿†. æˆ‘æ€»ç»“çš„åŒç±»è¯æ±‡ å…³äºé˜…è¯» å¦‚æœè¯´å¾—å¬åŠ›è€…å¾—æ‰˜ç¦çš„è¯, æˆ‘è§‰å¾—å¯ä»¥è¯´å¾—é˜…è¯»è€…å¾—GRE... å› ä¸ºåœ¨è¯æ±‡éƒ¨åˆ†, å¤§å®¶éƒ½èƒ½å¤Ÿæ‹¿åˆ°å·®ä¸å¤šçš„åˆ†æ•°, æ‹‰åˆ†çš„é¡¹ç›®å°±æ˜¯é˜…è¯»äº†. GREçš„é˜…è¯», é•¿, éš¾, å!(å°¼ç›GREçš„é¡¹ç›®å°±æ²¡æœ‰ä¸€ä¸ªæ­£å¸¸çš„...) éœ€è¦å¤šå¤šé”»ç‚¼ä»¥æé«˜é˜…è¯»èƒ½åŠ›. é‚£ä¹ˆç”¨ä»€ä¹ˆç»ƒå‘¢? å’Œæ‰˜ç¦ä¸€æ ·, ç”¨çœŸé¢˜! ç½‘ä¸Šæœ‰å–æ‰€è°“çš„\"å°ç™½ä¹¦\"çš„, æ˜¯æ¯”è¾ƒæ—©çš„å‡ åå¥—GREçœŸé¢˜, è¿™äº›é¢˜ç›®å¯ä»¥åæ˜ å‡ºGREé˜…è¯»çš„çœŸå®éš¾åº¦, æ˜¯éå¸¸å¥½çš„è®­ç»ƒææ–™! æˆ‘åœ¨è¦ä½ å‘½3kèƒŒçš„å·®ä¸å¤šæ—¶å¼€å§‹åšå°ç™½ä¹¦çš„é¢˜, ä¸€å¤©ä¸€å¥—æˆ–ä¸¤å¥—, ææ—¶é—´åš, ç²¾åš. å¼€å§‹åšé¢˜å°±å‘ç°, 3ké‡Œçš„è¯æ±‡æœç„¶å‡ºç°åœ¨äº†é¢˜ç›®é‡Œ, ä¸å†æœ‰ä¸€å¼€å§‹çœ‹åˆ°GREè¯æ±‡é¢˜é‚£ç§ä¸€ä¸ªä¹Ÿä¸ä¼šçš„æ„Ÿè§‰. åšé¢˜ä¸»è¦ç›®çš„æ˜¯ç»ƒé˜…è¯»çš„é€Ÿåº¦å’Œå‡†ç¡®åº¦, ä¸€å¼€å§‹ä¹Ÿä¼šé‡åˆ°æ—¶é—´ä¸å¤Ÿçš„æƒ…å†µ(ä¸€å®šè¦ææ—¶é—´åš, å¦åˆ™æ²¡æœ‰æ„ä¹‰), ä½†æ˜¯åæ¥å°±ä¼šçŸ¥é“å¦‚ä½•åˆ†é…æ—¶é—´äº†. æˆ‘åŸºæœ¬æ²¡æœ‰æ”¾å¼ƒé˜…è¯»çš„ä»»ä½•ä¸€é“é¢˜, æ—¶é—´åˆšåˆšå¥½. åšå®Œåå¯¹ç…§ç­”æ¡ˆ, æŠŠä¸è®¤è¯†çš„å•è¯å’Œçœ‹ä¸æ‡‚çš„å¥å­å¼„æ‡‚. æå“çš„GRE, æœ‰æ—¶æŠŠåŸæ–‡çš„ç®€å•ç»“æ„çš„å¥å­æ•…æ„å¼„æˆé•¿å¾—å“äººçš„é•¿éš¾å¥! æ‰€ä»¥è¦åœ¨è¿™æ–¹é¢ä¸‹ç‚¹åŠŸå¤«, ç½‘ä¸Šæœ‰GREé•¿éš¾å¥è§£æ, å†™å¾—ä¸é”™, å¯ä»¥çœ‹çœ‹. æˆ‘çœ‹äº†äºŒä¸‰åå¥é•¿éš¾å¥åå°±å¼€å§‹åšçœŸé¢˜äº†. è¿™æ ·åšä¸Šåæ¥å¥—çœŸé¢˜, åˆ°åé¢æˆ‘å·®ä¸å¤šå¯ä»¥åšåˆ°é˜…è¯»åªé”™äºŒä¸‰ä¸ªçš„ç¨‹åº¦! è¿™æ ·çš„æ°´å¹³è®©æˆ‘åœ¨è€ƒå‰å°±æ¯”è¾ƒæ”¾å¿ƒäº†...... å…³äºæ•°å­¦ GREçš„æ•°å­¦å…¶å®æ˜¯è€ƒçš„è¯æ±‡... é‚£äº›å¹¼ç¨šçš„ç®—æ•°å‡ ä¹ä¸ä¼šçŠ¯é”™è¯¯çš„ ç´¯çš„æ—¶å€™å¯ä»¥åšåšå°ç™½ä¹¦çš„æ•°å­¦é¢˜ä¼‘æ¯ä¸€ä¸‹...... ç½‘ä¸Šæœ‰äººæ•´ç†çš„GREæ•°å­¦è¯æ±‡å€’æ˜¯å€¼å¾—çœ‹ä¸€çœ‹, æœ‰äº›è¯æ±‡ä¸æ˜ç™½å•¥æ„æ€å°±å‚»çœ¼äº†. æ¯”å¦‚æˆ‘è€ƒè¯•æ—¶ä¸æ˜ç™½ä¸€ç»„æ•°æ®çš„\"range\"æ˜¯å•¥æ„æ€--åŸæ¥æ˜¯æŒ‡ä¸€ç»„æ•°æ®çš„æœ€å¤§å€¼å‡å»æœ€å°å€¼...... ä¸è¿‡æ€»çš„æ¥è¯´æ•°å­¦ä¸€èˆ¬ä¸ä¼šé˜´æ²Ÿé‡Œç¿»èˆ¹çš„...... å…­. æ€»ç»“ æˆ‘ä¸ªäººéå¸¸å»ºè®®æœ‰å‡ºå›½æ„å‘çš„äººè€ƒä¸€ä¸‹æ‰˜ç¦, å‡†å¤‡å‘¨æœŸè¾ƒçŸ­, é€‚ç”¨é¢æ¯”GREå¹¿, å°±ç®—æœ€åä¸å‡ºå›½, å‡†å¤‡æ‰˜ç¦çš„è¿‡ç¨‹ä¹Ÿä¼šæœ‰å¾ˆå¤§æ”¶è·. å½“ç„¶å¦‚æœç›®æ ‡æ˜¯åŒ—ç¾çš„è¯, GREå°±æ˜¯ä¸€é“ä¸å¾—ä¸è¶Šè¿‡çš„åäº†... å¦‚æœGTéƒ½ä¸æƒ³è€ƒçš„è¯, å…¶å®ä¹Ÿæœ‰åˆ«çš„å‡ºè·¯, æ¯”å¦‚å¾·å›½å’Œæ³•å›½çš„é¡¹ç›®... å¦å¤–å»ºè®®å¸¸åˆ°ç½‘ä¸Šçœ‹çœ‹, å¤ªå‚», å¯„æ‰˜å¤©ä¸‹ä»€ä¹ˆçš„, ä¸Šé¢æœ‰ä¸€äº›äººçš„å¿ƒå¾—ä½“ä¼š, æœ‰æ—¶ä»–ä»¬çš„ä¸€å¥è¯å°±èƒ½å¤Ÿç‚¹é†’ä½ . è¿˜å¯ä»¥åˆ°bbsçš„EnglishTestæ¿ä¸Šé€›é€›, äº¤æµå¿ƒå¾—, çœ‹çœ‹ç²¾ååŒºçš„æ–‡ç« ... ä»¥ä¸Šè¯´äº†è¿™ä¹ˆå¤šçš„æŠ€å·§å’Œç»éªŒ, ä½†å®é™…ä¸Šæœ€é‡è¦çš„è¿˜æ˜¯è¦åšæŒæ¯å¤©åšä¸‹å», å°±ç®—æ–¹å‘å†å‡†ç¡®, è®¡ç®—å¾—å†ç²¾ç¡®, ä¸è¿ˆå‡ºå‰è¿›çš„è„šæ­¥ä»ç„¶æ²¡ç”¨. è¿˜æ˜¯é‚£å¥è¯, æ—¢ç„¶é€‰æ‹©äº†è¿™æ¡è·¯, å°±è¦ åšå¥½å›°éš¾å‡†å¤‡ . æœ€å, é€ä¸Šæˆ‘åœ¨å‡†å¤‡GTæ—¶çœ‹åˆ°çš„å‡ å¥è¯, å…±å‹‰: ç¬¬ä¸€å¥: Unless a man undertakes more than he possibly can do, he will never do all that he can. ç¬¬äºŒå¥: Sloth, like rust, consumes faster than labor wears. æ‡’æƒ°åƒç”Ÿé”ˆä¸€æ ·, æ¯”æ“åŠ³æ›´èƒ½æ¶ˆè€—èº«ä½“. ç¬¬ä¸‰å¥: æ¯å½“æˆ‘ä»¬å¯¹æœªæ¥å……æ»¡äº†å„ç§ç¾å¥½çš„æœŸæœ›ä¸å¹»æƒ³æ—¶, å°±è¯¥åæ€ä¸€ä¸‹è‡ªå·±ç°åœ¨çš„åŠªåŠ› æ˜¯å¦é…å¾—ä¸Šè¿™å¹»å¢ƒä¸­çš„å°†æ¥. Bon courage!","tags":"misc","title":"ç”¨å°½é‡å°‘çš„æ—¶é—´è€ƒä¸€ä¸ªå¤Ÿç”¨çš„åˆ†æ•°--ä¸€ç‚¹Toefl/GREå¤‡è€ƒç»éªŒ"},{"url":"https://x-wei.github.io/soft/google_youku_host_20120706.html","text":"ä¹‹å‰ä¸¤ç¯‡å¸–å­ä»‹ç»äº†å¦‚ä½•é€šè¿‡ä¿®æ”¹hostæ–‡ä»¶è¾¾åˆ°æ— é¸­æ¢¨ è®¿é—®googleæœåŠ¡ ä»¥åŠ å±è”½ä¼˜é…·åœŸè±†å¹¿å‘Š çš„ç›®çš„, è™½ç„¶ä¸æ˜ç™½è¿™ä¸œè¥¿åˆ°åº•æ˜¯å•¥åŸç†, ä½†ä¸€ç›´ç”¨å¾—å¾ˆçˆ½...... åœ¨å­¦æ ¡é‡Œä½¿ç”¨é‚£ä¸€ä¸ªhostsæ–‡ä»¶ä¸€ç›´å¾ˆé¡ºåˆ©, æ²¡å•¥æ¯›ç—…, æœ‰äººæŠ±æ€¨è¯´é‚£ä¸ªæ–¹æ³•ä¸ç»™åŠ›, æˆ‘ä¹Ÿæ²¡ç®¡... åæ¥å›å®¶å‘ç°åŸæ¥çš„hostç¡®å®ä¸ç»™åŠ›äº†, ä¼˜é…·å¹¿å‘Šå¯ä»¥å±è”½, ä½†gmailçš„é™„ä»¶é¢„è§ˆä¸èƒ½...... ä»Šæ™šå†³å®šæä¸€æè¿™ä¸ªé—®é¢˜... åŸå…ˆçš„æ–‡ä»¶åœ¨å­¦æ ¡ç®¡ç”¨çš„åŸå› , æˆ‘çŒœæµ‹æ˜¯googleçš„hostæœ‰ä¸å°‘æ˜¯ipv6çš„, å›å®¶åè¿™äº›è¡Œéƒ½ä¸è¡Œäº†...... äºæ˜¯ä¸Šç½‘æœç´¢, æƒ³æ”¹æ”¹æ–°çš„host. æœäº†ä¸€å¤§å †éƒ½æ˜¯2011å¹´è´´å‡ºæ¥çš„, ä¸çŸ¥èƒ½ä¸èƒ½ç”¨... è¾¹æœè¾¹æƒ³, è¿™æ ·æ¯éš”ä¸€æ®µæ—¶é—´å»æœhostçš„æ–¹æ³•è²Œä¼¼æœ‰ç‚¹ç¬¨...... ç„¶åæˆ‘å‘ç°äº†ä¸¤ä¸ªæ¯”è¾ƒç»™åŠ›çš„hosté¡¹ç›®...... smarthosts ä¸€ä¸ªæ˜¯ smarthosts é¡¹ç›®, åœ¨äº‘ç«¯ä¸æ–­æ›´æ–°(æœ€è¿‘ä¸€æ¬¡æ˜¯07.03, ä¸¤å¤©å‰)hostæ–‡ä»¶, è€Œä¸”ä¹Ÿæä¾›äº†å„ç§å®¢æˆ·ç«¯~ for linuxçš„å…¶å®å°±æ˜¯ ä¸€ä¸ªpythonæ–‡ä»¶ , åŠŸèƒ½å°±æ˜¯æŠŠäº‘ç«¯çš„æ–‡ä»¶(åœ°å€: https://smarthosts.googlecode.com/svn/trunk/hosts )copyåˆ°æœ¬åœ°è¦†ç›–åŸå…ˆçš„æ–‡ä»¶... æ‰€ä»¥(å¯¹æˆ‘æ¥è¯´)ä¹Ÿç”¨ä¸ç€ä»€ä¹ˆå®¢æˆ·ç«¯, éœ€è¦æ—¶å»copyé‚£ä¸ªäº‘ç«¯æ–‡ä»¶æ¥æœ¬åœ°å°±æ˜¯äº†. æŠŠé‚£ä¸ªæ–‡ä»¶ä¸­çš„hostè¡Œcopyåˆ°æˆ‘æœ¬åœ°çš„hostsæ–‡ä»¶é‡Œ, é¡ºä¾¿æŠŠåŸå…ˆçš„é‚£äº›è¡Œåˆ äº†, ç„¶ågoogleå°±å¯ä»¥é¡ºåˆ©è®¿é—®äº†~ gmailé™„ä»¶é¢„è§ˆæœ¨é—®é¢˜, googlesiteså•¥çš„ä¹Ÿèƒ½ä¸Šäº†~ hostx ä¹‹å‰ç”¨çš„hoståŠ ä¸Šé‚£ä¸ªä¿®æ”¹hostå±è”½è§†é¢‘ç½‘ç«™çš„çš„æ–¹æ³•, åªæ˜¯å¯¹ä¼˜é…·æœ‰æ•ˆ, å¯¹åœŸè±†/å¥‡å¼‚è²Œä¼¼éƒ½æ— æ•ˆ, æˆ‘çŒœæ˜¯å› ä¸ºhostçš„åŸå› . æ‰€ä»¥ç»§ç»­æœå±è”½å¹¿å‘Šçš„host. ç„¶åæˆ‘å°±æœåˆ°äº†hostxè¿™ä¸ªé¡¹ç›®(ç½‘å€æ˜¯: http://orztech.com/softwares/hostsx è¿™ä¸ªå€¼å¾—åæ§½çš„åŸŸå==), å’Œsmarthostsé¡¹ç›®ç±»ä¼¼... å®ƒæä¾›ç»™linuxçš„æ˜¯shellä»£ç , å¾ˆçŸ­: 1 2 3 4 5 6 #!/bin/bash sudo mv /etc/hosts /etc/hosts.bak wget <http://hostsx.googlecode.com/svn/trunk/HostsX.orzhosts> sudo mv hosts /etc/hosts sudo gedit /etc/hosts sudo /etc/init.d/networking restart å•Š... åŸæ¥è¿™ä¸ªä¹Ÿæ˜¯ä¸ªgooglecodeä¸Šçš„é¡¹ç›®, å’Œsmarthostså¾ˆç±»ä¼¼... (ä½¿ç”¨googlecode/githubæ¥å…±äº«æ–‡ä»¶ç¡®å®æ˜¯ä¸é”™çš„åŠæ³•å”‰) ä¸è¿‡å®ƒçš„ç‰¹ç‚¹æ˜¯å¯ä»¥æä¾›å±è”½è§†é¢‘ç½‘ç«™å¹¿å‘Šçš„host, æˆ‘æŠŠè¿™äº›hoståŠ å…¥æœ¬åœ°çš„hostsæ–‡ä»¶ä¹‹å, æœç„¶åœŸè±†/å¥‡è‰ºçš„å¹¿å‘Šä¹Ÿå»é™¤äº†(å½“ç„¶ä¹‹å‰è¦æŒ‰ è¿™ä¸ªå¸–å­ è®¾ç½®ä¸€ä¸‹), ç»™åŠ›å•Š!~ æ€»ç»“ æœ¬æ¥ä½¿ç”¨hozstxä¹Ÿæœ‰å…³äºgoogleçš„è¡Œ, åªæ˜¯å®æµ‹è²Œä¼¼ä¸ç»™åŠ›...... äºæ˜¯æˆ‘ç°åœ¨æŠŠè¿™ä¿©hostå†…å®¹éƒ½æ”¾åœ¨æˆ‘æœ¬åœ°çš„hostsæ–‡ä»¶é‡Œ(çœ‹æ¥hostè¿™ä¸œè¥¿è¿˜æ˜¯å¤šå¤šç›Šå–„...), å¦å¤–, è¿™ä¸¤ä¸ªéƒ½æä¾›äº†youtubeç­‰ç½‘ç«™çš„host, ä½†æ˜¯å®æµ‹éƒ½ä¸ç»™åŠ›...... ä¸è¿‡åæ­£ä¸€èˆ¬ä¹Ÿä¸ä¸Šä»€ä¹ˆyoutube/twitter(æƒ³ä¸Šçš„åŒå­¦è‡ªå·±æŠ˜è…¾ä¸‹\"goagent\"......), ç›®å‰çš„æ•ˆæœ( è®¿é—®googleæ‰€æœ‰æœåŠ¡, ä¸Šä¼˜é…·/åœŸè±†/å¥‡è‰ºæ²¡å¹¿å‘Š )å·²ç»å¾ˆæ»¡æ„äº†~~ æœ€åè´´ä¸Š æˆ‘çš„hostæ–‡ä»¶ ... æˆ‘å·²ç»æŠŠæœ€å¼€å¤´locoalhosté‚£ä¸¤è¡Œåˆ äº†(å¦åˆ™å¯èƒ½æœ‰é—®é¢˜), ä¸‹è½½ä¸‹æ¥åæŠŠè¿™äº›å†…å®¹æ·»åŠ åˆ°æœ¬åœ°çš„hostæ–‡ä»¶ä¸­å³å¯~ æœ¬åœ°çš„hostsæ–‡ä»¶ä½äº: linux: /ect/hosts windows: c:/windows/system32/drivers/etc/hosts å¦‚æœåˆä¸èƒ½ç”¨äº†, å¯ä»¥è‡ªå·±å»æŠŠ https://smarthosts.googlecode.com/svn/trunk/hosts å’Œ http://hostsx.googlecode.com/svn/trunk/HostsX.orzhosts è¿™ä¿©æ–‡ä»¶çš„å†…å®¹ç²˜è´´è¿›æœ¬åœ°çš„hostsæ–‡ä»¶é‡Œå°±å¯ä»¥äº†. æˆ‘ä¼°è®¡æ¢ä¸€æ¬¡hostèƒ½æ’‘å¾ˆé•¿æ—¶é—´å§... å½“ç„¶å¦‚æœçœŸçš„å¾ˆæ‡’çš„è¯ä¹Ÿå¯ä»¥ç”¨ä»–ä»¬æä¾›çš„å°è½¯ä»¶æ¥æ~ P.S. ç å­—+ä¿®æ”¹èŠ±äº†å¥½é•¿çš„æ—¶é—´å•Šå•Š... å¤§æ¦‚æ˜¯å› ä¸ºæ˜¨å¤©çœ‹äº†ç¯‡æ–‡ç« , \"ä¸ºä»€ä¹ˆä½ åº”è¯¥ï¼ˆä»ç°åœ¨å¼€å§‹å°±ï¼‰å†™åšå®¢\" ......","tags":"soft","title":"[æ›´æ–°]è®¿é—®googleæœåŠ¡å’Œä¼˜é…·å»å¹¿å‘ŠåŠŸèƒ½çš„hoståˆ—è¡¨"},{"url":"https://x-wei.github.io/misc/æ­¥å…¥ä¸ƒæœˆ.html","text":"é¢ä¸´ä¸€ä¸ªæ—©å°±å¾ˆæ¸´æœ›çš„æš‘å‡, ä¸¤ä¸ªå¤šæœˆçš„è‡ªç”±æ—¶é—´, å¯ä»¥åšå¾ˆå¤šäº‹æƒ…, è¿˜æœ‰å¾ˆå¤šé›„å¿ƒå‹ƒå‹ƒçš„æš‘å‡è®¡åˆ’å¸Œæœ›åœ¨è¿™ä¸ªæš‘å‡å……å®è‡ªå·±. å¯æ˜¯å›å®¶æ¥ä¸€å‘¨å¤šåŸºæœ¬ä¸Šåªåœ¨åƒé¥­+ç¡è§‰+ä¸Šç½‘å‘å‘†â•®(â•¯â–½â•°)â•­...... é¢, æ‰€ä»¥å¾—æ‰“èµ·ç²¾ç¥æ¥åšç‚¹äº‹æƒ…, åƒè¿™æ ·çš„æš‘å‡ä»¥åä¼°è®¡ä¸å¤šäº†. å…¶å® å¿…é¡»åšçš„ / è¯¥åšçš„ / æƒ³åšçš„ äº‹æƒ…è¿˜æ˜¯è›®å¤šçš„, æ¯”å¦‚ä¸€äº›ä»¥å‰æƒ³ç ”ç©¶çš„å°ä¸œè¥¿, æ¯”å¦‚ä¹‹å‰å–Šç€è¦å†™çš„ä¸€äº›post... æ‰€ä»¥å†™è¿™ç¯‡æ°´æ–‡å†’ä¸ªæ³¡, ç®—æ˜¯ä¸ªå®£è¨€å§... æˆ‘ä¹Ÿå¸Œæœ›èƒ½æŠŠè¿™ä¸ªå°blogæ…¢æ…¢å†™ä¸‹å»~ Allez!~","tags":"misc","title":"æ­¥å…¥ä¸ƒæœˆ"},{"url":"https://x-wei.github.io/tech/æ°´æºPPPæ¿å›¾ç‰‡ä¸‹è½½å™¨.html","text":"è¿™ä¸ªå…¶å®æ˜¯ä¸‰æœˆä»½çš„æ—¶å€™åšçš„, å½“æ—¶åˆšåˆšå­¦ä¼šç”¨urllibå’Œæ­£åˆ™è¡¨è¾¾å¼åšä¸€äº›çˆ¬è™«, äºæ˜¯ç»“åˆäººæ°‘ç¾¤ä¼—çš„éœ€è¦, å†™äº†ä¸ªå°è„šæœ¬(ç¦åˆ©~) ä¸è¿‡ç°åœ¨æˆ‘è¿˜åªæ˜¯ä¼šç…§è‘«èŠ¦ç”»ç“¢é‚£æ ·ç”¨urllib, æ²¡ä»€ä¹ˆé•¿è¿›... githubåœ°å€: https://github.com/X-Wei/yssy_ppp_pic_downloader 1. åŠŸèƒ½å°±æ˜¯ä¸‹è½½æ°´æºpppersonæ¿é‡Œå¸–å­çš„å›¾ç‰‡, å¹¶ä¸”æ¯ä¸ªå¸–å­ä¸€ä¸ªæ–‡ä»¶å¤¹æ”¾å¥½. é€šè¿‡ä¿®æ”¹mainå‡½æ•°å¯ä»¥é€‰æ‹©ä¸‹è½½æœ€è¿‘ä¸€é¡µçš„å¸–å­è¿˜æ˜¯ä¸‹è½½å…¨éƒ¨å¸–å­(æˆ–è€…æœ€è¿‘å‡ é¡µçš„å¸–å­) åŸç†å¾ˆç®€å•, åˆ†æç½‘é¡µçš„htmlä»£ç , ç”¨æ­£åˆ™è¡¨è¾¾å¼æ‰¾å‡ºå›¾ç‰‡çš„åœ°å€ç„¶åä¸‹è½½åˆ°æœ¬åœ°. å½“æ—¶æˆ‘å·²ç»å†™äº†ä¸¤ä¸‰ä¸ªç®€å•çš„çˆ¬è™«, æ‰€ä»¥è¿™ä¸ªå†™å¾—è›®å¿«, è€Œä¸”åªç”¨50è¡Œå°±æå®šäº†... ä¸ä¼šç”¨å¤šçº¿ç¨‹, åªèƒ½ä¸€å¼ ä¸€å¼ ä¸‹è½½, å¸–å­æ•°ç›®å®åœ¨å¤ªå¤šäº†, æˆ‘è®©å®ƒè·‘äº†ä¸€æ™šä¸Š, ç¬¬äºŒå¤©è·‘å®Œ, ä¸‹è½½äº†8ä¸ªGçš„å›¾, å‡ åƒä¸ªæ–‡ä»¶å¤¹(å›§)...... 2. ä¸è¿‡è¿˜æ˜¯é‡åˆ°äº†ä¸€äº›é—®é¢˜, æ¯”è¾ƒè€çš„å¸–å­ä¼šæœ‰äº›å›¾ç‰‡404, è¿™æ—¶æˆ–è€…è¿™ä¸ªå¸–å­å¯¹åº”çš„æ–‡ä»¶å¤¹ä¸ºç©º, æˆ–è€…é‡Œé¢çš„å›¾ç‰‡å…¶å®ä¸æ˜¯å›¾ç‰‡, è€Œæ˜¯å‡ºé”™ä¿¡æ¯çš„htmlä»£ç (è™½ç„¶çœ‹åç¼€æ˜¯ä¸ªå›¾ç‰‡). æˆ‘éœ€è¦æŠŠé‚£äº›ä¸æ˜¯å›¾ç‰‡çš„æ–‡ä»¶åˆ æ‰, è€Œä¸”è¦åˆ æ‰æ‰€æœ‰çš„ç©ºæ–‡ä»¶å¤¹. åˆ é™¤ä¸æ˜¯å›¾ç‰‡çš„æ–‡ä»¶(å…¶å®åº”è¯¥æ˜¯åˆ é™¤çº¯æ–‡æœ¬æ–‡ä»¶), åœ¨æ°´æºå‘è´´é—®, ç”¨shellå‘½ä»¤(perl)åšåˆ°äº†(è™½ç„¶ä¸æ˜ç™½ä¸ºä»€ä¹ˆè¿™æ ·å†™...): find yssy_ppp/ -type f | perl -ne 'chomp;unlink \"$_\" if -T $_' å…³äºåˆ é™¤ç©ºç›®å½•, å‘ç° rmdir å‘½ä»¤å°±å·²ç»å¯ä»¥äº†, ä¼šåˆ é™¤ç©ºæ–‡ä»¶å¤¹, éç©ºæ–‡ä»¶å¤¹ä¸ä¼šåˆ é™¤(è™½ç„¶ä¼šæ˜¾ç¤ºè­¦å‘Š). pythoné‡Œé¢è°ƒç”¨shellå‘½ä»¤åªéœ€è¦: os.system(\"shell_command\") æ‰€ä»¥, åªéœ€è¦åœ¨ç¨‹åºçš„æœ€ååŠ ä¸Šä¸¤è¡Œ: os.system('''find yssy_ppp/ -type f | perl -ne 'chomp;unlink \"$ \" if -T $ ' ''') os.system('rmdir yssy_ppp/*') è™½ç„¶ç»ˆç«¯é‡Œè¿è¡Œæ—¶æœ€åä¼šå› ä¸ºé‚£ä¸ª rmdir å‘½ä»¤å‡ºä¸€å †è­¦å‘Š, ä½†æ˜¯æ—¢ç„¶åŠŸèƒ½å®ç°äº†å°±æ‡’å¾—æ”¹äº†... 3. è¿˜å†™(æ”¹å†™)è¿‡ä¸€ä¸ªäººäººç›¸å†Œä¸‹è½½çš„è„šæœ¬, ä¸è¿‡éœ€è¦æ”¹è¿›, ä¸çŸ¥æ¯•ä¸šå‰èƒ½ä¸èƒ½æå®š......","tags":"tech","title":"æ°´æºPPPæ¿å›¾ç‰‡ä¸‹è½½å™¨"},{"url":"https://x-wei.github.io/soft/ç”¨pandocè‡ªç”±è½¬æ¢markdownä¸htmlæ ¼å¼.html","text":"markdownè™½ç„¶å†™èµ·æ¥æ–¹ä¾¿, ä½†æ˜¯è¦é¢„è§ˆçš„è¯è¿˜è¦ç”¨ReTextæ‰“å¼€, è€Œä¸”ReTextå¥½åƒæ˜¯Qtç¨‹åº, æ‰“å¼€æ–‡ä»¶æ—¶ä¸å¦‚åˆ«çš„ç¼–è¾‘å™¨é‚£ä¹ˆæµç•…. æ‰€ä»¥æƒ³æ‰¾ä¸€ä¸ªå¯ä»¥æŠŠmarkdownæ–‡ä»¶å˜æˆhtmlæ ¼å¼çš„å·¥å…·. æˆ‘ç”šè‡³æœäº†å¾ˆä¹…\"markdown2html\"(githubä¸Šå±…ç„¶å¯ä»¥æœåˆ°å¥½å‡ ä¸ªé¡¹ç›®...) è€Œæ²¡æœ‰æ³¨æ„åˆ°, åœ¨ç»ˆç«¯è¾“å…¥\"html2markdown\"æ—¶æ˜¾ç¤ºçš„è­¦å‘Š: $ html2markdown ç¨‹åº\"html2markdown\"å°šæœªå®‰è£…ã€‚ æ‚¨å¯ä»¥ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤å®‰è£…ï¼š sudo apt-get install pandoc åæ¥å®‰è£…äº†pandoc( sudo apt-get install pandoc ), å…¶å®åªè¦çœ‹çœ‹å¸®åŠ©å°±çŸ¥é“å’‹ç”¨äº†: $ pandoc - h pandoc [ OPTIONS ] [ FILES ] Input formats : native , markdown , markdown + lhs , rst , rst + lhs , html , latex , latex + lhs Output formats : native , html , html + lhs , s5 , docbook , opendocument , odt , latex , latex + lhs , context , texinfo , man , markdown , markdown + lhs , plain , rst , rst + lhs , mediawiki , rtf Options : - f FORMAT , - r FORMAT --from=FORMAT, --read=FORMAT - t FORMAT , - w FORMAT --to=FORMAT, --write=FORMAT - s --standalone - o FILENAME --output=FILENAME - p --preserve-tabs --tab-stop=TABSTOP --strict --reference-links - R --parse-raw - S --smart - m [ URL ] --latexmathml[=URL], --asciimathml[=URL] --mathml[=URL] --mimetex[=URL] --jsmath[=URL] --gladtex - i --incremental --xetex - N --number-sections --no-wrap --sanitize-html --email-obfuscation=none|javascript|references --id-prefix=STRING --indented-code-classes=STRING --toc, --table-of-contents --base-header-level=LEVEL --template=FILENAME - V FILENAME --variable=FILENAME - c URL --css=URL - H FILENAME --include-in-header=FILENAME - B FILENAME --include-before-body=FILENAME - A FILENAME --include-after-body=FILENAME - C FILENAME --custom-header=FILENAME - T STRING --title-prefix=STRING --reference-odt=FILENAME - D FORMAT --print-default-template=FORMAT --data-dir=DIRECTORY --dump-args --ignore-args - v --version - h --help çœŸæ˜¯more than I've expected! markdown/rst/html/latexä¹‹é—´å¯ä»¥äº’è½¬! ä½¿ç”¨pandocå‘½ä»¤å°±å¯ä»¥åœ¨éšä¾¿è½¬æ¢äº†, ç¤ºä¾‹, æŠŠdemo.mdè¾“å‡ºæˆdemo.html: $pandoc -f markdown -t html -o demo.html demo.md æˆ–è€…ç›´æ¥: $pandoc -f markdown -t html -o demo.html demo.md æˆ‘è§‰å¾—è¿™ä¸ªå®åœ¨æ˜¯å¾ˆæœ‰ç”¨çš„ä¸€æ¡å‘½ä»¤~","tags":"soft","title":"ç”¨pandocè‡ªç”±è½¬æ¢markdownä¸htmlæ ¼å¼"},{"url":"https://x-wei.github.io/music/TheSoundofSilence.html","text":"æ‰€æœ‰äº‹éƒ½å®Œæˆ, å¼€å§‹å†™æ­Œè¯„. introå¼•å­ æœ¬æ¥æˆ‘æ˜¯è®¡åˆ’ä»è€é¹°çš„ä¸€é¦–æ­Œå¼€å§‹å†™çš„, æ˜¨å¤©ç”šè‡³è®¡åˆ’å¥½äº†ç¬¬ä¸€é¦–å°±å†™Hotel California. BUT SOMEHOW, å†³å®šç¬¬ä¸€é¦–å†™å®ƒ, å¯‚é™ä¹‹å£°(SoS). å¦‚æœæŠŠç¡¬ç›˜é‡Œçš„æ­Œå…¨éƒ¨åˆ äº†, åªèƒ½ç•™åé¦–æ­Œçš„è¯, æˆ‘æ˜¯è‚¯å®šä¼šç•™ä¸‹è¿™ä¸€é¦–. æ­Œå: The Sound of Silence ä¸“è¾‘: The Graduate æ­Œæ‰‹: Simon&Garfunkel å¹´ä»£: 1967 ä¸å¿…å¤šè¯´, è¿™é¦–æ­Œåº”è¯¥çŸ¥ååº¦å¾ˆé«˜çš„å§, è¥¿è’™ä¸åŠ èŠ¬ç§‘çš„æˆåä½œ. Simon&Garfunkelç»„åˆå‡­å€Ÿç”µå½±<<æ¯•ä¸šç”Ÿ>>çš„ä¸¤é¦–é…ä¹è¢«è®¸å¤šäººæ‰€ç†ŸçŸ¥(å¦ä¸€é¦–æ˜¯Scarborough Fair). ä»¥ä¸‹æ‘˜è‡ªç™¾åº¦ç™¾ç§‘: ã€Šå¯‚é™ä¹‹å£°ã€‹æ—‹å¾‹é£˜ç¼“ä½è¿·ï¼Œæ­Œè¯å……æ»¡äº†ä¸€ç§å¹»è§‰èˆ¬çš„æ„å¢ƒã€‚ç»†ç»†å¬æ¥ï¼Œä»¿ä½›åœ¨è¯‰è¯´ç€å¹´è½»æ— åŠ©çš„ä¸€ç§å®£æ³„ã€‚çœ¼å‰ä¼¼ä¹çœ‹åˆ°ä¸€ä¸ªæ‡µæ‡‚æ— çŸ¥çš„å¥³å­©ï¼Œç‹¬è‡ªä¸€äººè¡Œèµ°åœ¨é“ºç€é¹…åµçŸ³çš„ç‹­çª„ã€æ¸…å†·çš„å°å··é‡Œï¼Œå–§åš£çš„äººç¾¤åœ¨å¥¹èº«åæ¸æ¸è¿œå»ï¼Œå‰é¢æ˜¯æ²¡æœ‰å°½å¤´çš„é»‘å¤œâ€¦â€¦æ­Œæ›²å¦‚æœè¯´æ˜¯å±äºæ°‘è°£çš„è¯ä¼¼ä¹å¤ªæ·±é‚ƒï¼Œå¦‚æœè¯´éšç€å¼ºåŠ²çš„ä¹æ›²è€Œéœ‡è¡çš„èŠ‚å¥æ˜¯æ‘‡æ»šçš„è¯ï¼Œå´å¤ªç»†è…»ï¼ŒéŸ³ä¹ä¸Šå®ƒé€ å°±äº†ç±»çš„ä¸­å’Œä½“ï¼Œè¿™åº”è¯¥æ˜¯å®ƒæˆåŠŸçš„æœ€å¤§åŸå› ã€‚ lyricsæ­Œè¯ Hello darkness , my old friend , I ' ve come to talk with you again , Because a vision softly creeping , Left its seeds while I was sleeping , And the vision that was planted in my brain Still remains Within the sound of silence . In restless dreams I walked alone Narrow streets of cobblestone , Neath the halo of a street lamp , I turned my collar to the cold and damp When my eyes were stabbed by the flash of a neon light That split the night And touched the sound of silence . And in the naked light I saw Ten thousand people , maybe more . People talking without speaking , People hearing without listening , People writing songs that voices never share And no one deared Disturb the sound of silence . \" Fools \" said I , \" You do not know Silence like a cancer grows . Hear my words that I might teach you , Take my arms that I might reach you . \" But my words like silent raindrops fell , And echoed In the wells of silence And the people bowed and prayed To the neon god they made . And the sign flashed out its warning , In the words that it was forming . And the signs said , The words of the prophets are written on the subway walls And tenement halls . And whisper ' d in the sounds of silence . é»‘æš—ï¼Œè€æœ‹å‹ï¼Œæˆ‘æ¥äº† åˆæƒ³åŒä½ è°ˆè°ˆ çªç„¶æœ‰ä¸€ç§å¹»è§‰æ‚„æ‚„æ¥ä¸´ è¶ç€æˆ‘å…¥ç¡æ—¶æ’­ä¸‹äº†ç§å­ é‚£äº›ä¸ªåœ¨æˆ‘è„‘æµ·ä¸­ä¸åœæ»‹ç”Ÿçš„å¹»è§‰å•Š è¿˜ä»ç„¶æ»ç•™åœ¨å¯‚å¯ä¹‹å£°ä¸­ åœ¨æ°¸æ— ä¼‘æ­¢çš„æ¢¦é‡Œ æˆ‘å­¤ç‹¬åœ°è¡Œèµ°åœ¨ ç‹­çª„çš„å¸ƒæ»¡åœ†çŸ³çš„è·¯ä¸Š è¡Œèµ°åœ¨è·¯ç¯çš„å…‰æ™•ä¸‹ æ„Ÿåˆ°æœ‰ç‚¹å¯’å†·æ½®æ¹¿ äºæ˜¯æˆ‘ç¿»ç«–èµ·è¡£é¢† é‚£ç›åˆºç—›æˆ‘åŒçœ¼çš„éœ“çº¢ç¯ åˆ’ç ´äº†å¤œæ™š è§¦åˆ°äº†å¯‚å¯çš„éŸ³ç¬¦ åœ¨é‚£æ— é®è”½çš„ç¯å…‰ä¸‹ æˆ‘çœ‹è§æˆåƒä¸Šä¸‡çš„äºº ä¹Ÿè®¸æ›´å¤š äººä»¬æ— å£°åœ°è¯‰è¯´ç€ äººä»¬æ— è¯­åœ°å€¾å¬ç€ ä»–ä»¬å†™å‡ºä¸€é¦–é¦–æ­Œæ›² å´æ²¡æœ‰ä¸€ä¸ªäººå»å”± æ²¡æœ‰äººæ•¢ æƒŠæ‰°å¯‚å¯æ²‰ç¡æ—¶çš„è½»æ¢¦ æˆ‘è¯´ï¼šä½ ä»¬è¿™ç¾¤å‚»å­å•Š éš¾é“ä¸çŸ¥é“å¯‚å¯çš„ç™Œç»†èƒæ­£åœ¨æ‰©æ•£å— å¥½å¥½è®°ä½æˆ‘æ•™ä½ ä»¬çš„è¯ æ¡ç´§æˆ‘ä¼¸ç»™ä½ ä»¬çš„æ‰‹è‡‚ å¯æƒœæˆ‘çš„è¯åªå¦‚åŒé›¨æ»´æ— å£°åœ°è½ä¸‹ å›è¡åœ¨å¯‚é™çš„æ·±äº•é‡Œ çœ‹äººä»¬æœç€è±¡å¾ç¥åœ£çš„æ°–ç¯ä½å¤´ç¥ˆç¥· è€Œéœ“çº¢ç¯å¹¿å‘Šç‰Œå´åœ¨è®½åˆºåœ°ä¸€é—ªä¸€é—ª å‘å‡ºè¿™æ ·çš„è­¦å‘Šï¼š \"å…ˆå“²çš„é¢„è¨€å°±åœ¨åœ°é“ä¸‹çš„å¢™ä¸Š å°±å†™åœ¨è´«æ°‘ä»¬çš„ä½æˆ¿é‡Œ\" è¿˜ä¾æ—§åœ¨ä¸€ç‰‡ç¥·å‘Šçš„å¯‚é™ä¸­å–ƒå–ƒåœ°ä½è¯­ remarkç®€è¯„ è¿™é¦–æ­Œçš„ä¸»é¢˜å¥½åƒæ˜¯\"äººä¸äººä¹‹é—´äº¤æµçš„éšœç¢\", ä½†æ˜¯æˆ‘å¬å‡ºæ¥çš„å´æ˜¯å¹´è½»äººå…³äºæœªæ¥çš„è¿·èŒ«. åœ¨ç”µå½±<<æ¯•ä¸šç”Ÿ>>çš„å¼€å¤´, éšç€æ¸…è„†çš„å‰ä»–å‰å¥, è¾¾æ–¯æ±€éœå¤«æ›¼ä¸€è„¸è¿·ç¦»çš„ååœ¨å›å®¶çš„é£æœºä¸Š, ä¸‹é£æœºæ‹¿è¡Œæå‘æˆ‘ä»¬èµ°æ¥...... ä¸è¿‡æˆ‘æ˜¯å…ˆå¬çš„æ­Œåçœ‹çš„ç”µå½±, ä¹Ÿè®¸æ˜¯æ­Œå¤ªå¥½å¬äº†, ç”µå½±æ²¡æˆ‘é¢„æœŸçš„å¥½çœ‹... æ­Œä¸€å¼€å¤´, \"æˆ‘\"å»æ‰¾darknessè°ˆè¯, è¿™é¦–æ­Œçš„å†…å®¹å°±æ˜¯\"æˆ‘\"å‘é»‘æš—è®²è¿°\"æˆ‘\"çš„ä¸€ä¸ª\"vision\", ä¸€ä¸ªè¯¡å¼‚çš„å¹»è§‰æˆ–ä¸€ç§æ„Ÿè§‰: In restless dreams I walked alone Narrow streets of cobblestone, Neath the halo of a street lamp, I turned my collar to the cold and damp è¿™ä¹Ÿæ˜¯æˆ‘æ¯”è¾ƒå–œæ¬¢çš„å‡ å¥æ­Œè¯, å‡ å¥è¯å°±æè¿°äº†ä¸€ä¸ªè®©äººéš¾å¿˜çš„å…¸å‹çš„restless dream, ä¸€ç§å‹æŠ‘æ— åŠ©çš„çš„æ°”æ°›. ç‹­å°çš„é¹…åµçŸ³è¡—é“, è·¯æ—æ˜æš—çš„è·¯ç¯, ä¸€ä¸ªäººä¸å®‰çš„ç‹¬è¡Œ, ç¦ä¸ä½ç«–èµ·é¢†å­, è¯•å›¾æŠµå¾¡è®©äººéš¾å—çš„cold and damp... å°±åœ¨è¿™æ—¶, å‡ºç°äº†ä¸€æŸåˆºçœ¼çš„neon light, åˆ’è¿‡é•¿ç©º. è¿™æ˜¯\"æˆ‘\"çœ‹åˆ°äº†äºº, æˆåƒä¸Šä¸‡çš„äºº, åƒä¸€ç§ä»ªå¼ä¸€æ ·, ä»–ä»¬åœ¨åšä»€ä¹ˆ? People talking without speaking, People hearing without listening, People writing songs that voices never share And no one deared Disturb the sound of silence. \"talking without speaking\", \"hearing without listening\", æˆ‘è§‰å¾—ç¿»è¯‘æˆ\"è¯´è€Œä¸è¨€, å¬è€Œä¸é—»\"æ¯”è¾ƒå¥½, äººä»¬æ˜¯æ€ä¹ˆäº†? è¿™æ˜¯ä¸€ç§ä»€ä¹ˆçŠ¶æ€? \"æˆ‘\"æœ‰ä¸€ç§\"ä¼—äººçš†é†‰æˆ‘ç‹¬é†’\"çš„æ„Ÿè§‰. ä½†å½“æˆ‘è¦è¯•å›¾åŠé˜»äººä»¬çš„æ—¶å€™, å´å‘ç°: But my words like silent raindrops fell, And echoed In the wells of silence ç»“æœå°±æ˜¯\"æˆ‘\"çš„å£°éŸ³å›è¡åœ¨å¯‚é™çš„æ·±äº•ä¸­... æ¥ä¸‹æ¥æ›´æ˜¯è¯¡å¼‚çš„ä¸€å¹•: äººä»¬åƒè¢«å‚¬çœ ä¸€èˆ¬, å¯¹neon godé¡¶ç¤¼è†œæ‹œ, æ­¤æ—¶ç‰Œå­ä¸Šå´é—ªç°å‡ºäº†ä¸€è¡Œwarning: The words of the prophets are written on the subway walls And tenement halls. And whisper'd in the sounds of silence. ç„¶åæ­Œæ›²å°±ä»¥è¿™æ ·ä¸€å¥è®©äººè¿·æƒ‘çš„å¥å­æˆ›ç„¶è€Œæ­¢. æ•´ä¸ªæ­Œæ›²å°±æ˜¯ä¸€ä¸ªäººçš„å–ƒå–ƒè‡ªè¯­, å‘darknessæ…¢æ…¢é“æ¥ä»–çš„è¯¡å¼‚è§é—». ä¸è¿‡æˆ‘è§‰å¾—è¿™ç§è¯¡å¼‚å’Œeaglesæ­Œæ›²é‡Œçš„è¯¡å¼‚æ˜¯ä¸¤ç§å®Œå…¨ä¸åŒçš„æ„Ÿè§‰, è¿™é‡Œçš„\"è¯¡å¼‚\", æ²¡æœ‰ææ€–çš„æ°”æ¯, æœ‰çš„åªæ˜¯ è¿·èŒ«å’Œæ— åŠ© ...... æ‰€ä»¥, çªç„¶è§‰å¾—è¿™é¦–æ­Œæ˜¯ä¸æ˜¯å¾ˆåˆç°åœ¨æ¯•ä¸šçš„æ°”æ°›å‘¢? äººç”Ÿçš„åˆä¸€æ®µé‡å¤´æˆå°±è¿™æ ·ç»“æŸäº†, ä¸‹ä¸€æ®µçš„è·¯æ˜¯ä»€ä¹ˆæ ·å­, ä¼šå‘ç”Ÿä»€ä¹ˆäº‹ä¼šé‡åˆ°ä»€ä¹ˆäºº? éƒ½æ˜¯æœªçŸ¥çš„, å·²ç»å¹´çºªä¸å°çš„æˆ‘ä»¬, è¿˜æ²¡æœ‰æ‰¾åˆ°äººç”Ÿçš„ç›®æ ‡å’Œäº‹ä¸šçš„è½¨è¿¹...... äºæ˜¯, æœ‰æ—¶åœ¨ç‹¬è¡Œçš„æ—¶å€™, æƒ³ç€ä¸€äº›äº‹æƒ…, æ²¡æ¥ç”±åœ°, Sound of Silenceå°±ä¼šä»è€³è¾¹å“èµ·...... æ‰€ä»¥è¿™é¦–æ­Œä¸€ç›´åœ¨æˆ‘å¿ƒç›®é‡Œå æ®ä¸€ä¸ªç‰¹æ®Šçš„ä½ç½®. versionsç‰ˆæœ¬ å…³äºSoS, ç‰ˆæœ¬å®åœ¨å¤ªå¤šäº†, åŒ…æ‹¬å„ç§ç¿»å”±ä»¥åŠä»–ä»¬æ—©å¹´çš„è¡¨æ¼”, æˆ‘å°±åªå†™å‡ ä¸ªè®©æˆ‘å°è±¡æ·±åˆ»çš„å§... ç”µå½±åŸå£°é…éŸ³ è¿™ä¸ªæ˜¯æŠŠæ•´ä¸ªç”µå½±å‰ªè¾‘ä¸€ä¸‹, é…ä¸Šçš„ç”µå½±åŸå£°. å‰ªè¾‘çš„å¾ˆå¥½, ä½†æ˜¯æˆ‘ä¸è§‰å¾—è¥¿è’™ä¸åŠ èŠ¬ç§‘è¿™ä¸€ç‰ˆå”±çš„å¾ˆå¥½... \"é‚£ä¸ª\"ç‰ˆæœ¬çš„å¯‚é™ä¹‹å£° è¿™ä¸ªç‰ˆæœ¬æˆ‘æ²¡æœ‰æŸ¥åˆ°åˆ°åº•æ˜¯è°å”±çš„(åŸæ–‡ä»¶é‡Œæ²¡æœ‰è¿™ä¸ªä¿¡æ¯?), å½“æ—¶å¦ˆä»å•ä½ä¸Šä¸€ä¸ªäººé‚£é‡Œæ‹·æ¥ä¸€äº›è‹±è¯­æ­Œ, è¿™é¦–å°±åœ¨é‡Œé¢. ä¹Ÿè®¸æ˜¯å…ˆå…¥ä¸ºä¸»å§, æ€»æ˜¯è§‰å¾—è¿™é¦–æ‰æœ€å¥½å¬, æŠŠé‚£ç§è¿·èŒ«çš„è¯¡å¼‚çš„æ„Ÿè§‰æ¼”ç»å¾—æ·‹æ¼“å°½è‡´. And the people bowed and prayed, to the neon god they made. ç®€ç›´å°±æ˜¯ä¸€ç§å®—æ•™çš„ä»ªå¼... (ä¼˜é…·ä¸Šè¿™ä¸ªè§†é¢‘çš„é…ä¹åˆšå¥½å°±æ˜¯\"é‚£ä¸ª\"ç‰ˆæœ¬, å°±æ‹¿æ¥äº†) Yao Shi Tingç‰ˆ ä¸€ä¸ªä¸­å›½äººçš„ç¿»å”±ç‰ˆ, æ€»è§‰å¾—è¿™ä¸ªç‰ˆæœ¬å’Œå…¶ä»–çš„ç¿»å”±ç‰ˆæœ‰ç‚¹åŒºåˆ«, å§šæ–¯å©·çš„å£°éŸ³å¾ˆç©ºçµ, åˆ«æœ‰ä¸€ç•ªæ»‹å‘³. concert in central park 1981å¹´9æœˆ19æ—¥ï¼Œåœ¨ç¾å›½çº½çº¦ä¸­å¤®å…¬å›­ä¸Šæ¼”äº†ä¸€åœºæ‘‡æ»šå²ä¸Šç€åçš„éŸ³ä¹ä¼šï¼Œé‚£å°±æ˜¯Simon & Garfunkelä¸¾è¡Œçš„å…è´¹éŸ³ä¹ä¼šï¼Œè¿™ä¹Ÿæ˜¯ä¸¤äººå„è‡ªå•é£11å¹´åçš„é¦–åº¦åˆä½œï¼Œçº¦50ä¸‡æ­Œè¿·å‰æ¥æ§åœºï¼Œåœºé¢è”šä¸ºå£®è§‚ï¼Œè™½ç„¶å½“æ—¶ä¸¤äººéƒ½å·²å¹´è¿‡40ï¼Œä½†æ˜¯å’Œå£°ä¾æ—§ç¾å¦™ã€‚ å½“å¹´éå¸¸æ¿€åŠ¨ä¸‹è½½åˆ°äº†è¿™ä¸ªæ¼”å”±ä¼š, æ‰¾äº†å¾ˆä¹…æ‰æ‰¾åˆ°...... å¯ä»¥è¯´è¿™ä¸ªæ¼”å”±ä¼šçš„Sound of Silenceä»¥åŠScarborough Fairæ˜¯æœ€æœ€ç»å…¸çš„ç‰ˆæœ¬. é‚£æ—¶çš„Simon&Garfunkeléƒ½å››åå‡ å², å’Œå£°ä¾æ—§ç¾å¦™æ— æ¯”, åæ¥(2002?)æ ¼è±ç¾é¢å¥–æ—¶, ä»–ä»¬ä¸ä»…è‹è€, å—“å­ä¹Ÿå·²ç»å˜å¾—æ²™å“‘... SoSæ˜¯æ¼”å”±ä¼šå¿«ç»“æŸæ˜¯æ‰å”±åˆ°çš„, è¥¿è’™çš„å‰ä»–å“èµ·, å…¨åœºé¡¿æ—¶ä¸€é˜µéªšåŠ¨, ä½†åˆå¾ˆå¿«å®‰é™ä¸‹æ¥. åªæœ‰è¥¿è’™çš„å‰ä»–ä¼´å¥, å¯‚é™ä¹‹å£°å°±è¿™æ ·æ…¢æ…¢è”“å»¶å¼€æ¥...... æœ‰å‡ ä¸ªé•œå¤´ç»™äº†å°ä¸‹è§‚ä¼—, æœ‰çš„ä½å¤´å¹¶æŠŠæ‰‹æ’åœ¨å£è¢‹é‡Œé»˜é»˜çš„å¬, æœ‰çš„æƒ…ä¾£ç›¸äº’ä¾åç€è·Ÿç€å“¼å”±. å¤§å®¶éƒ½åƒè¢«å‚¬çœ äº†ä¸€æ ·, æ²‰æµ¸åœ¨è¿™å¯‚é™ä¹‹å£°ä¸­... æœ‰ä¸€ä¸ªç»†èŠ‚, å…¶å®åœ¨ä»–ä»¬å”±çš„æ—¶å€™, è§‚ä¼—æ˜¯åœ¨æ‹æ‰‹æ‰“èŠ‚æ‹çš„, è€Œå…¶å®æˆ‘çœ‹äº†å¾ˆå¤šæ¬¡ä¹Ÿæ²¡æœ‰æ³¨æ„åˆ°. ç„¶å, é«˜ä¸‰æ—¶æŸå¤©æ™šä¸Šæ”¾å­¦å›å®¶çš„è·¯ä¸Š, è„‘æµ·é‡Œå›æ”¾è¿™é¦–æ­Œçš„æ—¶å€™, çªç„¶, é‚£äº›æŒå£°å˜çš„å¼‚å¸¸æ¸…æ™°, ä»¿ä½›é‚£äº›æŒå£°ä¹Ÿæ˜¯ä¼´å¥çš„ä¸€éƒ¨åˆ†... è§‰å¾—è§‚ä¼—çš„æŒå£°å’Œå–Šå£°å®åœ¨æ˜¯å’Œè¥¿è’™çš„å‰ä»–é…åˆå¾—å¤©è¡£æ— ç¼, æ°åˆ°å¥½å¤„, å ªç§°å®Œç¾(å¦ä¸€é¦–æˆ‘è§‰å¾—ç°åœºè§‚ä¼—çš„å–Šå£°ä¸æ­Œå£°é…åˆå®Œç¾çš„æ­Œ, å¤§æ¦‚æ˜¯94å¹´è€é¹°çš„æœ¨å‰ä»–åŠ å·æ—…é¦†)...... è¿™ä¹Ÿè®¸å°±æ˜¯ä¸ºä»€ä¹ˆè¿™ä¸€ä¸ªç‰ˆæœ¬çš„SoSè®©æˆ‘ç™¾çœ‹ä¸åŒçš„åŸå› å§. ç¬¬ä¸€ç¯‡... ç»ˆäºå†™å®Œäº†, å†™å¾—å¥½ç´¯å•Š, ä»¥åå¯èƒ½ä¸èƒ½æ¯é¦–éƒ½å†™é‚£ä¹ˆå¤šäº†, æˆ‘è§‰å¾—æœ‰å¯è¯´çš„å°±è¯´, ä¸æƒ³è¯´çš„å°±ä¸å†™é‚£ä¹ˆå¤š, ä¸èƒ½è®©å†™è¿™äº›ä¸œè¥¿å˜æˆä¸€ç§è´Ÿæ‹…...","tags":"music","title":"å¯‚é™ä¹‹å£°The Sound of Silence[Simon&Garfunkel;]"},{"url":"https://x-wei.github.io/tech/beamer_template.html","text":"æ¯•è®¾å®Œäº†, æŠŠç­”è¾©æ—¶ç”¨çš„beameræ¨¡æ¿æ‹¿å‡ºæ¥åˆ†äº«ä¸‹. githubé¡¹ç›®åœ°å€: https://github.com/X-Wei/aBeamerTemplate4SJTU æˆ‘æ˜¯texèœé¸Ÿ, åŸºæœ¬æ˜¯é‡è§ä»€ä¹ˆé—®é¢˜ç„¶åä¸Šç½‘æœä¸€é€šæ‰¾åˆ°è§£å†³æ–¹æ¡ˆ... è¿™ä¸ªæ¨¡æ¿è‡ªç„¶ä¹Ÿæ˜¯å‚è€ƒçš„åˆ«äººçš„äº†... å‚è€ƒè‡ª Yixf's blog , æˆ‘åªæ˜¯ä¿®æ”¹äº†ä¸€ä¸‹ä¸»é¢˜, æ¢äº†ä¸€ä¸‹äº¤å¤§çš„å›¾æ ‡, å¹¶ä¸”åšäº†ä¸€äº›å¸¸ç”¨åŠŸèƒ½çš„ä¾‹å­... æ•ˆæœæˆªå›¾: æ³¨æ„ ä½¿ç”¨xelatexç¼–è¯‘ç”Ÿæˆ, latexä¼°è®¡ä¸è¡Œ, xelatexçš„é…ç½®å‚è€ƒ è¿™é‡Œ ; ç¼–è¾‘å†…å®¹ç›´æ¥ä¿®æ”¹beame_body.texå³å¯, æ”¹å˜è®¾ç½®ä¸€èˆ¬åœ¨beamer_header.texé‡Œ æˆ‘ç”¨çš„æ˜¯æ–‡æ³‰é©¿çš„å­—ä½“, å¯ä»¥ä¿®æ”¹beamer_header.texæ”¹å˜å­—ä½“è®¾ç½®, æŸ¥çœ‹å·²å®‰è£…çš„ä¸­æ–‡å­—ä½“çš„å‘½ä»¤ä¸º: fc-list :lang=zh-cn ä¸ªäººä¸€ç‚¹æ„Ÿè§‰: ç”¨texå†™pptæœ‰æ—¶ä¹Ÿä¼šå› ä¸ºå°‘äº›æ‹¬å·æˆ–è€…ä»€ä¹ˆåœ°æ–¹æ²¡æ³¨æ„è€ç¼–è¯‘ä¸è¿‡, æ‰€ä»¥ç”¨texå†™ä¹Ÿä¸ä¸€å®šèƒ½æ¯”ç”¨powerpointæ–¹ä¾¿, ä¸è®ºå•¥å·¥å…·, åªè¦èƒ½ get things done ,å°±æ˜¯å¥½å·¥å…·~","tags":"tech","title":"äº¤å¤§beameræ¨¡æ¿"},{"url":"https://x-wei.github.io/soft/githubä¸Šä¸¤ä¸ªæ¯”è¾ƒæœ‰ç”¨çš„å°é¡¹ç›®.html","text":"githubä¸Šçš„å¥½ä¸œè¥¿ä¸å°‘, æœ€è¿‘å‘ç°äº†ä¸¤ä¸ªæ¯”è¾ƒæœ‰ç”¨çš„pythonç¨‹åº, è¿™ä¿©åŠŸèƒ½éƒ½æ˜¯æˆ‘æ¯”è¾ƒæƒ³è¦çš„, æœ‰éœ€æ±‚å°±ä¼šæœ‰ç‰›äººå»å®ç°~ 1. è§†é¢‘ä¸‹è½½å™¨youku-lixian https://github.com/iambus/youku-lixian å¯ä¸æ­¢æ”¯æŒä¸‹è½½ä¼˜é…·çš„è§†é¢‘å¥¥, åœŸè±†, å¥‡è‰º, æ–°æµª, é…·6...... é€šåƒ~ è€Œä¸”æ¯ä¸ªéƒ½åªæ˜¯ä¸€ä¸ªå°å°çš„pyæ–‡ä»¶, ç›´æ¥å°±å¯ä»¥è¿è¡Œ, æ¯”èµ·ä»€ä¹ˆä¼˜é…·å®¢æˆ·ç«¯, å¥‡è‰ºå®¢æˆ·ç«¯å°å¤šäº†! å¤ªèµäº†!~ 2. 115ç½‘ç›˜è‡ªåŠ¨æ‘‡å¥– https://gist.github.com/2698830 è¿™ä¸ªåŠŸèƒ½æˆ‘æ›¾ç»æƒ³è¦å®ç°, ä½†æ˜¯å…³äºç½‘ç»œé€šä¿¡æ–¹é¢çŸ¥é“çš„å¤ªå°‘äº†, æäº†ä¸€é€šä¹Ÿæ²¡æœ‰æˆåŠŸ. ç°åœ¨æœ‰äººæŠŠå®ƒå…±äº«å‡ºæ¥, ä»£ç å±…ç„¶è¿˜ä¸åˆ°100è¡Œ, å¼ºå¤§å•Š~","tags":"soft","title":"githubä¸Šä¸¤ä¸ªæ¯”è¾ƒæœ‰ç”¨çš„å°é¡¹ç›®"},{"url":"https://x-wei.github.io/misc/ç»™ç½‘é¡µæ·»åŠ äº¤äº’çš„flashå°è€é¼ .html","text":"æ˜¨å¤©æ™šä¸Š, è¿™ä¸ªå¸–å­ çªç„¶ç«äº†, å·ç§°æ˜¯äº¤å¤§æŠ€æœ¯ç”·ç»™å¥³æœ‹å‹åšçš„... äº®ç‚¹åœ¨äºé‚£åªå°è€é¼ : æˆ‘ç‚¹è¿›å»çœ‹, ä¹Ÿå¾ˆåƒæƒŠ, ä¸è¿‡ä¸ºä»€ä¹ˆé‚£æ˜¯ä¸€ä¸ªflash? è€Œä¸”ç¾å·¥åšå¾—è¿™ä¹ˆå¥½... ç„¶åä»Šå¤©æœ‰äººçˆ†æ–™, è¿™ä¸ªå…¶å®æ˜¯ç”¨çš„ç°æˆçš„ææ–™, ç½‘ç«™æ˜¯: http://abowman.com/ è¿™ä¸ªç½‘ç«™æä¾›äº†å¾ˆå¤šgadgets, è€Œä¸”éƒ½åšå¾—å¥½å‰å®³, è¿˜æä¾›äº†å¯¹åº”çš„htmlä»£ç , åªè¦ç²˜è´´è¿›æ–‡ä»¶å°±èƒ½å¤Ÿçœ‹è§äº†... æ‰€ä»¥æˆ‘æŠŠé‚£ä¸ªå°è€é¼ æ¬åˆ°äº†ä¾§è¾¹æ ... é‚£ä¸ªç½‘ç«™çš„ä¸€äº›å°å·¥å…·å±•ç¤º Penguins: Tree Frog: Newton's Cradle: Fish: ä¸è¿‡è²Œä¼¼æˆ‘ç”¨çš„æ¨¡æ¿çš„å®½åº¦å’Œè¿™ä¸ªflashæœ‰ç‚¹ä¸åŒ¹é…... å¯èƒ½è¿‡å‡ å¤©å°±æŠŠå®ƒä»ä¾§æ æ’¤æ‰äº†...","tags":"misc","title":"ç»™ç½‘é¡µæ·»åŠ äº¤äº’çš„flashå°è€é¼ "},{"url":"https://x-wei.github.io/soft/å…³äºç”¨pelicanå†™åšå®¢çš„ä¸‰ç‚¹tips.html","text":"1.æ’å…¥è§†é¢‘ æ•ˆæœå°±åƒæ ¡å†…ç½‘æ—¥å¿—é‚£æ ·, å¯ä»¥å†…åµŒçš„è§†é¢‘. å…¶å®å¾ˆç®€å•, åªéœ€è¦æŠŠhtmlä»£ç æ”¾è¿›markdownæºæ–‡ä»¶å°±è¡Œäº†! è€Œè§†é¢‘çš„htmlä»£ç åœ¨è§†é¢‘ç½‘ç«™ä¸Šä¸€èˆ¬éƒ½ä¼šæä¾›: å¤åˆ¶ä¸‹æ¥æ”¾è¿›æºæ–‡ä»¶å³å¯ 2.åˆ é™¤çº¿ markdownä¸æ”¯æŒåˆ é™¤çº¿? åæ­£æˆ‘æ²¡æœ‰åœ¨æ•™ç¨‹é‡Œæ‰¾åˆ°... ä½†æ˜¯åˆ é™¤çº¿ç¡®å®æ˜¯ä¸ªæœ‰ç”¨çš„åŠŸèƒ½, åœ¨zimé‡Œè®°ç¬”è®°çš„æ—¶å€™æˆ‘å°±ç»å¸¸ä½¿ç”¨. ä½†æ˜¯å¥½åƒå¬è¯´markdownæ˜¯æ”¯æŒhtmlå†…å®¹çš„, é‚£ä¹ˆ, æ˜¯ä¸æ˜¯ç›´æ¥åŠ htmlçš„åˆ é™¤çº¿ä»£ç å°±è¡Œäº†å‘¢? æœç„¶~! <s> æ–‡æœ¬ </s> or <strike> æ–‡æœ¬ </strike> å—¯, æ›´å¤æ‚çš„htmlæ ·å¼å¦‚æœmarkdownæ²¡æœ‰çš„è¯ä¹Ÿå¯ä»¥ç”¨è¿™ç§æ–¹æ³•å¼„~ 3.ç»™åšå®¢åŠ å…¥åˆ†äº«æŒ‰é’® è¿™ä¸ªä¹Ÿæ˜¯ç”¨ç½‘ä¸Šæ‰¾çš„htmlä»£ç , ç„¶åä¿®æ”¹äº†ä¸€ä¸‹ä¸»é¢˜(pelican-themes/bs5)ä¸­çš„ä¸€ä¸ªhtmlæ–‡ä»¶, ä¸è¿‡æˆ‘æ°´å¹³å¤ªèœ, æ”¹äº†å¥½ä¹…ä¹Ÿæ²¡èƒ½è®©åˆ†äº«æŒ‰é’®å¤„äºæ ‡é¢˜ä¸‹æ–¹... 2012-05-31è¡¥å…… åŸå…ˆé‚£ä¸ªåˆ†äº«çš„æŒ‰é’®ä¸å¥½çœ‹ä¹Ÿä¸å¾ˆå¥½ç”¨, æˆ‘å€Ÿé‰´äº† ubuntusoft ç½‘ç«™ä¸Šçš„åˆ†äº«æŒ‰é’®å’Œå›é¡¶éƒ¨æŒ‰é’®, æŸ¥çœ‹äº†ä¸‹ç½‘é¡µä»£ç , åŸæ¥æ˜¯ç”¨çš„ç™¾åº¦åˆ†äº«ä»¥åŠå‹èæŒ‰é’®, ä¿®æ”¹ä¸»é¢˜æ–‡ä»¶ ./pelican-themes/bs6/templates/base.html ,åœ¨ <body> åé¢åŠ ä¸Šè¿™å‡ è¡Œ: <!-- Baidu Button BEGIN --> <script type= \"text/javascript\" id= \"bdshare_js\" data= \"type=slide&img=6&pos=right\" ></script> <script type= \"text/javascript\" id= \"bdshell_js\" ></script> <script type= \"text/javascript\" > var bds_config = {\"bdTop\":289}; document.getElementById(\"bdshell_js\").src = \"http://bdimg.share.baidu.com/static/js/shell_v2.js?cdnversion=\" + new Date().getHours(); </script> <!-- Baidu Button END --> <!-- UJian Button BEGIN --> <script type= \"text/javascript\" src= \"http://v1.ujian.cc/code/ujian.js?type=slide\" ></script> <!-- UJian Button END --> ç½‘é¡µå°±å˜æˆäº†ç°åœ¨çš„æ ·å­, å—¯, ç°åœ¨å°±æ¯”è¾ƒæ»¡æ„äº†...","tags":"soft","title":"å…³äºç”¨pelicanå†™åšå®¢çš„ä¸‰ç‚¹tips"},{"url":"https://x-wei.github.io/misc/TODOlist-20120511.html","text":"å¥½å§æœ€è¿‘å¤ªåºŸäº†... ä¸»è§‚åŸå› æ˜¯å¿ƒä¸é™, æ‡’æƒ°æ‹–å»¶, å®¢è§‚åŸå› (ç†ç”±)æ˜¯æ¯•è®¾å’Œæ³•è¯­... ä»”ç»†åˆ†æä¸€ä¸‹, è²Œä¼¼ç›®å‰è¿˜æ˜¯è¦ä¸“å¿ƒæŠŠæ¯•è®¾è·Ÿæ³•è¯­æå®š. ä½†æ˜¯æˆ‘è¿˜æ˜¯æƒ³åœ¨æ¯•ä¸šå‰å¤šåšä¸€ç‚¹äº‹æƒ…, åˆ—ä¸€ä¸ªæ¸…å•, ç­‰å¿™å®Œè¿™ä¸€é˜µå°±å¼€å§‹åšä¸€ä¸‹è¿™äº›äº‹æƒ…: å†™æ­Œè¯„ Eagles, Simon&Garfunkel, Brothers Four, ä¸»è¦æ˜¯è¿™ä¸‰ä¸ªä¹é˜Ÿçš„, å¤§æ¦‚ä¼šæœ‰20é¦–å§... å¯èƒ½æ¯•ä¸šå‰å†™ä¸å®Œ, ä½†æ˜¯ä¸€å®šè¦å¼€å§‹å†™, æˆ‘è§‰å¾—å…³äºæŸäº›æ­Œæˆ‘ä¼šæœ‰å¾ˆå¤šè¦å†™çš„. å†™å†™æˆ‘çš„æ¯•è®¾ å¯èƒ½æˆ‘åšçš„æ¯•è®¾æ²¡ä»€ä¹ˆæ„æ€, ä½†æ˜¯è‡³å°‘å¯ä»¥å†™å†™é‚£äº›å­¦åˆ°çš„matlabæŠ€å·§. å†™(æ‰€è°“çš„)æ€»ç»“è´´ ä¸€ä¸ªæ˜¯GTçš„ä¸€äº›ç»éªŒæ€»ç»“, ä¸€ä¸ªæ˜¯PTç”³è¯·çš„ä¸€äº›ç»éªŒæ€»ç»“. è¿™ä¸¤ä»¶äº‹å¤§æ¦‚å°±æ˜¯æˆ‘çš„2011çš„ä¸»çº¿. å”‰, è¦æ˜¯å‰è€…åœ¨2011å¹´7æœˆå†™æ‰, åè€…åœ¨2011å¹´12æœˆå†™æ‰è¯¥å¤šå¥½!...... è¡Œäº†, è¿˜æ˜¯å¥½å¥½å¯¹ä»˜æ³•è¯­è€ƒè¯•ä»¥åŠæ¯•è®¾è®ºæ–‡å»å§...","tags":"misc","title":"TODO list--å¿™å®Œè¿™ä¸€æ®µä¹‹åè¦åšçš„äº‹æƒ…"},{"url":"https://x-wei.github.io/soft/æ‰“ä¹±æ–‡æœ¬çš„è¡Œ.html","text":"ä»Šå¤©cblé—®äº†æˆ‘ä¸€ä¸ªé—®é¢˜: æ€æ ·æ‰“ä¹±ä¸€ä¸ªæ–‡æœ¬æ–‡ä»¶çš„æ‰€æœ‰è¡Œ?? ä»”ç»†ä¸€æƒ³, ç¡®å®æœ‰éš¾åº¦... å› ä¸ºé‚£ä¸ªæ–‡æœ¬æ–‡ä»¶å±…ç„¶æœ‰1G, ç”¨pythonè¯»è¿›å†…å­˜å†æ‰“ä¹±çš„æ€è·¯ä¼°è®¡ä¸è¡Œå•Š... é‚£ä¹ˆawk, shellä»€ä¹ˆçš„æœ‰æ²¡æœ‰è§£å†³æ–¹æ³•? æœåˆ°äº†ä¸€äº›å¸–å­, ä½†æ˜¯ç¨å¾®å¤æ‚ä¸€ç‚¹çš„shellè„šæœ¬æˆ‘ä¹Ÿçœ‹ä¸æ‡‚(å¼±çˆ†äº†)... æˆ‘ç”šè‡³æƒ³å¤§æ¦‚vimä¼šæä¾›è¿™ä¸ªåŠŸèƒ½å§, æ²¡æƒ³åˆ°åœ¨æœçš„æ—¶å€™å±…ç„¶æœåˆ°äº†ä¸€ä¸ªç°æˆçš„shellå‘½ä»¤: shuf !! $ shuf --help ç”¨æ³•ï¼š shuf [ é€‰é¡¹ ] ... [ æ–‡ä»¶ ] æˆ–è€…: shuf -e [ é€‰é¡¹ ] ... [ å‚æ•° ] ... æˆ–è€…: shuf -i LO-HI [ é€‰é¡¹ ] ... æŠŠè¾“å…¥è¡ŒæŒ‰éšæœºé¡ºåºè¾“å‡ºåˆ°æ ‡å‡†è¾“å‡ºã€‚ é•¿é€‰é¡¹å¿…é¡»ä½¿ç”¨çš„å‚æ•°å¯¹äºçŸ­é€‰é¡¹æ—¶ä¹Ÿæ˜¯å¿…éœ€ä½¿ç”¨çš„ã€‚ -e, --echo å°†æ¯ä¸ªå‚æ•°è§†ä¸ºè¾“å…¥è¡Œ -i, --input-range = LO-HI å°†LO åˆ°HI çš„æ¯ä¸ªæ•°å­—è§†ä¸ºè¾“å…¥è¡Œ -n, --head-count = è¡Œæ•° æœ€å¤šè¾“å‡ºæŒ‡å®šçš„è¡Œæ•° -o, --output = æ–‡ä»¶ å°†ç»“æœè¾“å‡ºåˆ°æŒ‡å®šæ–‡ä»¶è€Œéæ ‡å‡†è¾“å‡º --random-source = æ–‡ä»¶ ä»æŒ‡å®šæ–‡ä»¶è·å¾—éšæœºæ¯”ç‰¹ -z, --zero-terminated ä»¥0 ç»“æŸè¡Œè€Œéæ–°è¡Œ --help æ˜¾ç¤ºæ­¤å¸®åŠ©ä¿¡æ¯å¹¶é€€å‡º --version æ˜¾ç¤ºç‰ˆæœ¬ä¿¡æ¯å¹¶é€€å‡º å¦‚æœæ²¡æœ‰æŒ‡å®šæ–‡ä»¶ï¼Œæˆ–è€…æ–‡ä»¶ä¸º \"-\" ï¼Œåˆ™ä»æ ‡å‡†è¾“å…¥è¯»å–ã€‚ [ è¯·å‘bug-coreutils@gnu.org ]( mailto:è¯·å‘bug-coreutils@gnu.org ) æŠ¥å‘Šshuf çš„é”™è¯¯ GNU coreutils é¡¹ç›®ä¸»é¡µï¼š <<http://www.gnu.org/software/coreutils/>> GNU è½¯ä»¶ä¸€èˆ¬æ€§å¸®åŠ©ï¼š<<http ://www.gnu.org/gethelp/>> è¯·å‘ <<http://translationproject.org/team/zh_CN.ht ml>> æŠ¥å‘Šshuf çš„ç¿»è¯‘é”™è¯¯ å¤ªå¥½äº†å§! ç”¨ä¸€ä¸ªå°çš„æ–‡æœ¬æ–‡ä»¶ä¸€è¯•, æœç„¶æ˜¯å¯ä»¥çš„! shuf [filename] å¦å¤–, åŠ ä¸Š-oå‚æ•°, å¯ä»¥æŒ‡å®šè¾“å‡ºåˆ°ä¸€ä¸ªæ–°æ–‡ä»¶(ä¼°è®¡ç”¨shellçš„è¾“å‡ºé‡å®šå‘æ–¹æ³•ä¹Ÿå¯ä»¥å§): shuf [filename] -o [output_filename] å¯¹äº†, æˆ‘æœåˆ°çš„ç½‘å€æ˜¯ è¿™é‡Œ , ä»‹ç»äº†ä¸€äº›éä¸»æµçš„å‘½ä»¤. æ¯”å¦‚å¦ä¸€æ¡å‘½ä»¤: tac ( cat çš„åè½¬), ä½œç”¨æ˜¯å…ˆè¾“å‡ºæ–‡ä»¶çš„æœ«ç«¯, ä¹Ÿå¾ˆæœ‰æ„æ€.","tags":"soft","title":"æ‰“ä¹±æ–‡æœ¬çš„è¡Œ"},{"url":"https://x-wei.github.io/soft/åœ¨bolgé¡µé¢ä¸ŠåŠ å…¥ubuntuå‘å¸ƒå€’è®¡æ—¶å›¾æ ‡.html","text":"æ˜å¤©ubuntu12.04 LTS å°±è¦å‘å¸ƒäº†! ç„¶åä»Šå¤©ä¸‹è¯¾å›æ¥åœ¨å„ç§ç½‘ç«™ä¸Šé—²é€›, çªç„¶å‘ç°äº†è¿™ä¸ªé¡µé¢: ç»™ç½‘é¡µæ·»åŠ ubuntuå‘å¸ƒå€’è®¡æ—¶ . å¾ˆå‰å®³çš„æ ·å­, ä»‹ç»è¯´åªè¦æŠŠé‚£ä¸€æ®µä»£ç åŠ å…¥ç½‘é¡µçš„htmlæ–‡ä»¶å°±å¯ä»¥äº†. æˆ‘è¯•äº†ä¸€ä¸‹, ç›´æ¥åŠ åœ¨index.htmlä¸Šé¢--è¿˜çœŸçš„å¯ä»¥å”‰~~ ä¸è¿‡, pelicanæ¯æ¬¡éƒ½æ˜¯è‡ªåŠ¨ç”Ÿæˆå’Œæ›´æ–°index.htmlçš„å•Š, éš¾é“æ¯æ¬¡éƒ½è¦æ‰‹åŠ¨åŠ å…¥è¿™ä¸€è¡Œä»£ç ?? éš¾é“è¿˜è¦è‡ªå·±ä¿®æ”¹pelicançš„ä»£ç ??...... æ­¤æ—¶æˆ‘æƒ³åˆ°äº†farseerfcå­¦é•¿çš„é…ç½®æ–‡ä»¶, å…¶ä¸­æˆ‘æŠŠä»–çš„å¾®åšç§€é‚£å‡ è¡Œæ³¨é‡Šæ‰äº†: #~ SIDEBAR_CUSTOM = r\"\"\" #~ <li class= \"nav-header\" ><h4><i class= \"icon-list-alt\" ></i> Weibo </h4></li> #~ <iframe width= \"100%\" height= \"550\" class= \"share_self\" frameborder= \"0\" scrolling= \"no\" #~ src= \"<http://widget.weibo.com/weiboshow/index.php?language=&width=0&height=550&fansRow=1&ptype=1&speed=0&skin=2&isTitle=1&noborder=1&isWeibo=1&isFans=1&uid=1862842353&verifier=b193b9de&dpc=1>\" > #~ </iframe> #~ \"\"\" ä»Šå¤©ä»”ç»†ä¸€çœ‹, æˆ‘é , SIDEBAR_CUSTOM ä¸å°±æ˜¯å¯ä»¥è‡ªå®šä¹‰çš„ä¾§è¾¹æ ä¹ˆ??!! èµ¶ç´§, å†™ä¸Šè¿™æ ·ä¸€è¡Œ: SIDEBAR_CUSTOM=r\"\"\" <a href= \"<http://www.ubuntu.com/>\" ><img src= \"<http://www.ubuntu.com/countdown/banner1.png>\" border= \"0\" width= \"180\" height= \"150\" alt= \"The next version of Ubuntu is coming soon\" ></a> \"\"\" è¿è¡Œä¸€ä¸‹, æœç„¶å¥½äº†!!~~ éœ€è¦æ³¨æ„çš„æ˜¯, è¿™ä¸ªè®¾ç½®åªæœ‰ä½¿ç”¨farseerfcåˆ¶ä½œçš„bootstrap2ä¸»é¢˜æ—¶æ‰æœ‰ç”¨(å†æ¬¡æ„Ÿè°¢farseerfc!)~ é‚£ä¹ˆæ€ä¹ˆæ·»åŠ å¤šä¸ªå°å·¥å…·å‘¢? å¾ˆç®€å•, åªè¦åœ¨å­—ç¬¦ä¸²SIDEBAR_CUSTOMé‡Œé¢ç½—åˆ—copyæ¥çš„ä»£ç å°±å¯ä»¥å•¦!~(æ¯”å¦‚, è¿˜å¯ä»¥ æ·»åŠ gtalk çš„å°å·¥å…·.) æ‰€ä»¥, googleè‡ªå®šä¹‰æœç´¢å¼•æ“å…¶å®ä¹Ÿå¯ä»¥è¿™æ ·æ·»åŠ çš„~ BTW ä»Šå¤©æ‰çŸ¥é“åŸæ¥pelicanæ˜¯æ”¯æŒä¸­æ–‡æ–‡ä»¶åçš„å•Šå•Šå•Šå•Šå•Š... ä»¥åæ²¡å¿…è¦å–é‚£äº›dtçš„è‹±æ–‡æ–‡ä»¶åäº†... å¦å¤–ä»Šå¤©åˆè‡ªå·±ä¿®æ”¹äº†ä¸€ç‚¹bootstrap2ä¸»é¢˜(æŠŠå­˜æ¡£é¡µé¢æ¢æˆäº†bootstrapä¸»é¢˜çš„...), è¶Šæ¥è¶Šå–œæ¬¢pelicanè¿™ä¸ªå·¥å…·äº†~","tags":"soft","title":"åœ¨bolgé¡µé¢ä¸ŠåŠ å…¥ubuntuå‘å¸ƒå€’è®¡æ—¶å›¾æ ‡"},{"url":"https://x-wei.github.io/soft/chrome_flashblock.html","text":"ä»¥å‰æœç´¢æ€ä¹ˆåŠ é€Ÿæ‰“å¼€ç½‘é¡µçš„é€Ÿåº¦, æœ‰äººä¼šæ¨èflashblockæ’ä»¶. å®‰è£…ä¹‹å, æ‰€æœ‰çš„flash(è§†é¢‘ä¹Ÿå¥½, å¹¿å‘Šä¹Ÿå¥½)éƒ½ä¸ä¼šè‡ªåŠ¨æ’­æ”¾, åªæœ‰è‡ªå·±å»ç‚¹å‡»ä¸€ä¸‹æ‰ä¼šæ’­æ”¾. å½“æ—¶è§‰å¾—è¿™æ ·æŒºå¥½å•Š, å› ä¸ºflashè‚¯å®šå ç”¨äº†ä¸å°‘å¸¦å®½ä»¥åŠcpuå˜›~ åæ¥, å‘ç°cblåŒå­¦æ²¡æœ‰å®‰è£…æ’ä»¶ä¹Ÿå®ç°äº†è¿™æ ·çš„æ•ˆæœ, å¦‚ä¸‹å›¾: cblæ•™æˆ‘æŠŠchromeè®¾ç½®æˆæ’ä»¶ç‚¹å‡»æ’­æ”¾, ä¸ªäººæ„Ÿè§‰è¿™æ ·æŒºæœ‰ç”¨çš„~ å¤§æ¦‚æ˜¯ä¸¤æ­¥: ç¬¬ä¸€æ­¥ , æ‰³æ‰‹èœå•-->é¦–é€‰é¡¹-->é«˜çº§é€‰é¡¹-->éšç§è®¾ç½®-->å†…å®¹è®¾ç½® ç„¶åæ‰¾åˆ°\"æ’ä»¶\"è¿™ä¸€é¡¹, é€‰æ‹©\"ç‚¹åè¿è¡Œ\" è¿™æ ·è®¾ç½®ä¹‹å, chromeå°±ä¸ä¼šè‡ªåŠ¨æ’­æ”¾flash, ç„¶åå†è®¾ç½®ç‚¹å‡»è¿è¡Œflash. ç¬¬äºŒæ­¥ , åœ¨åœ°å€æ è¾“å…¥: , æ‰¾åˆ°\"ç‚¹åè¿è¡Œ\"ä¸€è¡Œ, é€‰æ‹©\"å¯ç”¨\". OK, åˆ°æ­¤ä¸ºæ­¢, å°±å¯ä»¥ä¸è£…æ’ä»¶å®ç°flashblockæ•ˆæœäº†~~","tags":"soft","title":"ä¸ç”¨å®‰è£…æ’ä»¶, è®¾ç½®chromeç‚¹å‡»æ’­æ”¾flash"},{"url":"https://x-wei.github.io/soft/add-google-custom-search.html","text":"è™½ç„¶æˆ‘çš„blogç‚¹å‡»äººæ•°å¯èƒ½è¿˜æ˜¯ä¸ªä½æ•°çš„, æˆ‘è¿˜æ˜¯æ¯å¤©éƒ½æƒ³æŠ˜è…¾ä¸€ä¸‹å®ƒ... bootstrap2æ¨¡æ¿é‡Œæä¾›äº†å¾ˆä¸°å¯Œçš„å†…å®¹(å¯ä»¥çœ‹farseerfcå­¦é•¿çš„é¡µé¢), å…¶ä¸­çš„googleç«™å†…æœç´¢æˆ‘è§‰å¾—å¾ˆæœ‰ç”¨, äºæ˜¯ä¹Ÿè‡ªå·±å»å¼„äº†ä¸€ä¸‹... ä½¿ç”¨googleè‡ªå®šä¹‰æœç´¢ è¦ç™»å½•google è‡ªå®šä¹‰æœç´¢ , çš„é¡µé¢, ç”¨googleå¸å·ç™»å½•, ç„¶åé€‰æ‹©æ–°å»ºä¸€ä¸ªè‡ªå®šä¹‰æœç´¢å¼•æ“, ä¼šçœ‹åˆ°è¿™æ ·çš„ç•Œé¢: ç¬¬ä¸€é¡¹çš„åç§°å’Œæè¿°å•¥çš„éšä¾¿å¡«å°±è¡Œ, å…³é”®æ˜¯ç¬¬äºŒé¡¹\"è¦æœç´¢çš„ç½‘ç«™\", å¯ä»¥ç‚¹å‡»\"äº†è§£è¯¦æƒ…\"çœ‹ä¸€ä¸‹åº”è¯¥æ€ä¹ˆå†™. æ¯”å¦‚æˆ‘çš„ç½‘ç«™æ˜¯ x-wei.github.com , è€Œä¸”æˆ‘æƒ³æ˜¯åœ¨è¿™ä¸ªç½‘ç«™çš„æ‰€æœ‰å­é¡µé¢ä¸­æœç´¢, äºæ˜¯è¿™é‡Œå°±å¡«å†™: x-wei.github.com/* å³å¯~ ç¬¬ä¸‰é¡¹å½“ç„¶æ˜¯å…è´¹ç‰ˆ, ç„¶åä¸‹ä¸€æ­¥. ä¸‹ä¸€æ­¥æ˜¯ä¸€ä¸ªæµ‹è¯•, å¯ä»¥åœ¨æœç´¢æ¡†é‡Œå°è¯•ä¸€ä¸‹èƒ½ä¸èƒ½å¾—åˆ°æƒ³è¦çš„ç»“æœ( æˆ‘å°±æ˜¯è¿™é‡Œæœ‰é—®é¢˜çš„, å¾…ä¼šè¯´ ). å¦‚æœæ²¡é—®é¢˜, ç‚¹å‡»ä¸‹ä¸€æ­¥, ä¸‹ä¸€æ­¥æ˜¯ç»™å‡ºäº†ä¸€æ®µhtmlä»£ç , æŠŠè¿™äº›ä»£ç åŠ å…¥ç½‘é¡µå°±å¯ä»¥æ·»åŠ googleè‡ªå®šä¹‰æœç´¢æ äº†(ä¸è¿‡ä½¿ç”¨pelicanå†™åšå®¢çš„è¯å°±ä¸ç”¨è¿™æ ·äº†, è§åæ–‡). å—¯, è¿™ä¸ªè¿‡ç¨‹è¿˜æ˜¯éå¸¸ç®€å•çš„å§!~ å¦‚ä½•æŠŠè‡ªå®šä¹‰æœç´¢æ åŠ å…¥pelicanç”Ÿæˆçš„é¡µé¢ é¦–å…ˆ, å¯èƒ½åªèƒ½ä½¿ç”¨bootstrap2è¿™ä¸ªä¸»é¢˜... ç„¶å, åœ¨ settings.py æ–‡ä»¶é‡ŒåŠ å…¥è¿™ä¸€è¡Œ: GOOGLE_CUSTOM_SEARCH_SIDEBAR = \"001578481551708017171:axpo6yvtdyg\" æ³¨æ„, å¼•å·é‡Œçš„é‚£ä¸€ä¸²å­—ç¬¦æ˜¯ä½ åˆšæ‰ç”³è¯·çš„è‡ªå®šä¹‰æœç´¢å¼•æ“çš„id, è¿™ä¸ªidåœ¨å“ªé‡Œ? å†æ¬¡ç™»å½•googleè‡ªå®šä¹‰æœç´¢, è¿™æ¬¡ç‚¹\"ç®¡ç†ç°æœ‰å¼•æ“\", ç‚¹å‡»ä½ åˆšæ‰åˆ›å»ºçš„é‚£ä¸ªå¼•æ“çš„\"æ§åˆ¶é¢æ¿\": åœ¨åŸºæœ¬ä¿¡æ¯é‡Œé¢å°±ä¼šçœ‹åˆ°\"æœç´¢å¼•æ“çš„å”¯ä¸€ ID\", æŠŠé‚£ä¸€ä¸²æ•°å­—èµ‹å€¼ç»™GOOGLE_CUSTOM_SEARCH_SIDEBARå³å¯~ è®©googleæ”¶å½•ä½ çš„ç½‘ç«™ ä½†æ˜¯æˆ‘æ²¡æœ‰é‚£ä¹ˆé¡ºåˆ©çš„å®Œæˆä»¥ä¸Š, å› ä¸ºæˆ‘åœ¨æµ‹è¯•è‡ªå®šä¹‰å¼•æ“çš„æ—¶å€™æ€»æ˜¯æœä¸åˆ°ä»»ä½•æˆ‘çš„ç½‘ç«™çš„ä¸œè¥¿... è¿˜ä»¥ä¸ºæ˜¯è®¾ç½®æœç´¢çš„ç½‘é¡µæ ¼å¼å†™é”™äº†å‘¢... éå¸¸å´©æºƒ... åæ¥åœ¨zybåŒå­¦çš„æé†’ä¸‹æ„è¯†åˆ°å¯èƒ½æ˜¯googleæ²¡æœ‰æ”¶å½•æˆ‘çš„ç½‘é¡µ... æœç„¶, googleæ€ä¹ˆä¹Ÿæœä¸åˆ°æˆ‘çš„ç½‘ç«™çš„å†…å®¹å”‰... é‚£ä¹ˆæ€ä¹ˆæ‰èƒ½è®©googleæ”¶å½•è‡ªå·±çš„ç½‘é¡µ?? éš¾é“è¦åç­‰å‡ ä¸ªæœˆågoogleå‘ç°æˆ‘? å‘µå‘µ, å…¶å®æ˜¯å¯ä»¥ä¸»åŠ¨ç”³è¯·è®©æœç´¢å¼•æ“æ”¶å½•è‡ªå·±çš„ç½‘ç«™çš„, æˆ‘çœ‹çš„ è¿™é‡Œ . åŸæ¥å°±æ˜¯å¾ˆç®€å•çš„ä¸€ä¸ªå·¥ä½œ, ç™»å½•http://www.google.com/addurl/?hl=zh-CN&continue=/addurl (è¦æ˜¯æƒ³è¢«ç™¾åº¦æ”¶å½•å°±ç™»å½• http://www.baidu.com/search/url_submit.html ) å¡«ä¸Šä½ çš„ç½‘å€ä»¥åŠéªŒè¯ç (googleçš„éªŒè¯ç å¤ªéš¾è¾¨è®¤... è€Œç™¾åº¦çš„æœ‰ç‚¹å¤ªç®€å•äº†å§...)å°±å¯ä»¥äº†, æˆ‘æ˜¨å¤©å¡«çš„, ä»Šå¤©ä¸€è¯•å‘ç°å°±å¯ä»¥æœç´¢åˆ°äº†! ç„¶ååˆå‘ç°googleè‡ªå®šä¹‰æœç´¢ä¹Ÿå¥½ä½¿äº†!~~","tags":"soft","title":"ä½¿ç”¨googleè‡ªå®šä¹‰æœç´¢ä»¥åŠè®©googleæ”¶å½•è‡ªå·±çš„ç½‘ç«™"},{"url":"https://x-wei.github.io/soft/host_youkuqiyi.html","text":"ä¼˜é…·ç°åœ¨çš„å¹¿å‘Šå·²ç»æ˜¯åŠåˆ†é’Ÿé•¿äº†?? æ‰€ä»¥å±è”½è¿™äº›å¹¿å‘Šè¿˜æ˜¯å¾ˆæœ‰å¿…è¦æ»´~ ä¹‹å‰, é©¬é˜³åŒå­¦ç»™æˆ‘ä¸€ä¸ªä¿®æ”¹hostçš„æ–¹å¼, ç”¨äº†å‡ ä¸ªæœˆä¹‹å, å‘ç°ä¸å¥½ä½¿äº†: è™½ç„¶ä¸ä¼šæ˜¾ç¤ºå¹¿å‘Š, ä½†æ˜¯ä¸ä¼šç›´æ¥è·³è¿‡å», è€Œæ˜¯æ˜¾ç¤º\"å¹¿å‘Šä¸èƒ½æ­£å¸¸æ’­æ”¾...\" ç„¶åè¿˜æ˜¯è¦ç­‰å¾…åŠåˆ†é’Ÿæ‰èƒ½çœ‹... åæ¥, çœ‹äº† å¥¶ç‰›çš„åšå®¢ , ç»ˆäºæ‰¾åˆ°äº†è§£å†³åŠæ³•, è‡³å°‘åˆ°ç›®å‰è¿˜æ˜¯å¥½ä½¿çš„~ ç¬¬ä¸€æ­¥ é¦–å…ˆ, æ·»åŠ å±è”½å¹¿å‘Šçš„host. å…³äºhostçš„ä¿®æ”¹, ç›´æ¥å‚è€ƒ è¿™ç¯‡åšå®¢ , æŠŠé‡Œé¢hostçš„å…¨éƒ¨å†…å®¹ç²˜è´´è¿›å¯¹åº”çš„æ–‡ä»¶ä¸­. ç¬¬äºŒæ­¥ ç„¶å, æŒ‰ç…§å¥¶ç‰›çš„åŠæ³•: linuxç”¨æˆ· æ‰¾åˆ°: ~/.macromedia/Flash_Player/#SharedObjects/æŸæŸåå­—æ–‡ä»¶å¤¹/ è¿™é‡Œ, å¯èƒ½ä¼šæœ‰ä¸¤ä¸ªæ–‡ä»¶å¤¹: www.iqiyi.com ä»¥åŠ static.youku.com , åˆ é™¤ä¹‹, ç„¶åæ–°å»ºä¸¤ä¸ªç©ºç™½æ–‡ä»¶, åå­—å°±å–è¿™ä¸¤ä¸ªæ–‡ä»¶å¤¹çš„åå­—(è¦æ˜¯æ²¡æœ‰è¿™ä¿©æ–‡ä»¶å¤¹, åˆ™ç›´æ¥æ–°å»ºè¿™ä¸¤ä¸ªç©ºç™½æ–‡ä»¶). windowsç”¨æˆ· å’Œlinuxç”¨æˆ·ä¸€æ ·, åªæ˜¯é‚£ä¸ªæ–‡ä»¶å¤¹åœ¨: (xp) C:\\Documents and Settings\\Administrator\\Application Data\\Macromedia\\Flash Player\\#SharedObjects\\æŸæŸåå­—æ–‡ä»¶å¤¹ (å‘µå‘µ, ç•¥é•¿ç•¥é•¿...) (win7) C:\\Users\\ç”¨æˆ·å\\AppData\\Roaming\\Macromedia\\Flash Player\\#SharedObjects\\æŸæŸåå­—æ–‡ä»¶å¤¹ æ³¨æ„å•Š, æ–°å»ºçš„ç©ºç™½æ–‡ä»¶å°±æ˜¯å« www.iqiyi.com å’Œ static.youku.com , æˆ‘çš„æ„æ€æ˜¯...åˆ«åŠ ä¸Š.txtçš„åç¼€ä¹‹ç±»çš„... è¿™æ ·åšå¥½ä¹‹å, çœ‹ä¼˜é…·å¥‡è‰ºçš„è§†é¢‘å°±æ²¡æœ‰å¹¿å‘Šäº†, enjoy~ å¦å¤–, æˆ‘çš„hostæ–‡ä»¶é‡Œå¥½åƒæä¾›äº†åœŸè±†çš„å±è”½è§„åˆ™, ä½†æ˜¯è²Œä¼¼ä¸å¤§å¥½ä½¿...","tags":"soft","title":"ä¿®æ”¹hostå»é™¤ä¼˜é…·å¥‡è‰ºç½‘ç«™å¹¿å‘Š"},{"url":"https://x-wei.github.io/soft/google_host.html","text":"googleçš„æœåŠ¡(mail, doc, site, code, project...)å¾ˆå¤šéƒ½å®åœ¨å¾ˆæ–¹ä¾¿(ä¸ªäººæ„Ÿè§‰QQ, ç½‘æ˜“ä»€ä¹ˆçš„å’Œå®ƒç»å¯¹ä¸æ˜¯ä¸€ä¸ªæ¡£æ¬¡). ä½†æ˜¯æ¯”è¾ƒæ‚²å‰§çš„æ˜¯, googleæœåŠ¡åœ¨å›½å†…ä¸å¾ˆç¨³å®š, æ—¶ä¸æ—¶ä¸Šä¸å»(æ¯”å¦‚gmail), è€Œæœ‰çš„æœåŠ¡(æ¯”å¦‚site)å±…ç„¶å®Œå…¨ä¸Šä¸å»... è‡ªå·±çš„ç»éªŒ, ä½¿ç”¨ä¿®æ”¹hostçš„æ–¹å¼å¯ä»¥æ¯”è¾ƒå¥½çš„è§£å†³è¿™ä¸ªé—®é¢˜(è€Œyoutubeå•Š, facebookå•Šä»€ä¹ˆçš„ä¿®æ”¹äº†ä¸ä¸€å®šå¥½ä½¿...) è¿™é‡Œè´´ä¸€ä¸‹.. å…¶å®å°±æ˜¯ä¿®æ”¹ä¸€ä¸ªæ–‡ä»¶...linuxç”¨æˆ·ä¿®æ”¹ /ect/hosts , windowsç”¨æˆ·ä¿®æ”¹ c:/windows/system32/drivers/etc/hosts . 2012-07-06æ›´æ–° ä¸‹é¢è¿™äº›hostä¸ç»™åŠ›äº†, æ–°çš„hostè§ æˆ‘çš„æ—¥å¿— å…³äºgoogleçš„host, ç½‘ä¸Šåˆ°å¤„éƒ½æ˜¯, æ¯”å¦‚ è¿™é‡Œ , ä¸è¿‡æˆ‘æ²¡æœ‰è¯•è¿‡è¿™é‡Œçš„hostå¯ä¸å¯ä»¥(åº”è¯¥å¯ä»¥å§...), è¿˜æ˜¯æŠŠæˆ‘çš„hostè´´å‡ºæ¥å§. è¿™é‡Œè¯´ä¸€ä¸‹, æˆ‘åŒæ—¶è¿˜åŠ äº†å»ä¼˜é…·å¹¿å‘Š(è¿™é‡Œä¿®æ”¹å®Œäº†è¿˜è¦ å†å¤„ç†ä¸€ä¸‹ ), ä¸Šyoutube(è²Œä¼¼æœ‰ç‚¹é—®é¢˜). æŠŠè¿™äº›ä¸œè¥¿ç²˜è´´è¿›hostsæ–‡ä»¶, å³å¯è®¿é—®googleçš„æœåŠ¡, gmailä¹Ÿä¸ä¼šæŠ½é£äº†~~ (è¦æ˜¯å«Œå¤åˆ¶ç²˜è´´éº»çƒ¦, ç›´æ¥ ä¸‹è½½hostsæ–‡ä»¶ ) #ä¼˜é…·å±è”½å¹¿å‘Šè§„åˆ™å¦‚ä¸‹ ï¼š 127.0.0.1 stat . youku . com 127.0.0.1 static . lstat . youku . com 127.0.0.1 static . atm . youku . com / crossdomain . xml 127.0.0.1 valb . atm . youku . com 127.0.0.1 valc . atm . youku . com 127.0.0.1 valf . atm . youku . com 127.0.0.1 valo . atm . youku . com 127.0.0.1 valp . atm . youku . com 127.0.0.1 vid . atm . youku . com 127.0.0.1 walp . atm . youku . com #åœŸè±†å±è”½å¹¿å‘Šè§„åˆ™å¦‚ä¸‹ ï¼š 127.0.0.1 adextensioncontrol . tudou . com 127.0.0.1 adplay . tudou . com 127.0.0.1 adcontrol . tudou . com 127.0.0.1 iwstat . tudou . com 127.0.0.1 nstat . tudou . com 127.0.0.1 stat . tudou . com 127.0.0.1 stats . tudou . com 127.0.0.1 at - img1 . tdimg . com 127.0.0.1 at - img2 . tdimg . com 127.0.0.1 at - img3 . tdimg . com 127.0.0.1 * . p2v . tudou . com * #PS : 127.0.0.1 at - img1 . tdimg . com 127.0.0.1 at - img2 . tdimg . com 127.0.0.1 at - img3 . tdimg . com #ä¼šå¯¼è‡´éƒ¨åˆ†å›¾ç‰‡æ— æ˜¾ç¤º ï¼ˆ ä¸å¹¿å‘ŠæŒ‚é’© ï¼‰ï¼Œ å»ºè®®ä¿ç•™at - img1 . tdimg . com ï¼Œ å…¶ä½™ä¸¤æ¡å‰æ‰“ä¸ª \"#\" å·å»æ‰ ï¼Œ æœ€å¤§åŒ–çš„å»é™¤å¹¿å‘Šå’Œæ˜¾ç¤ºå›¾ç‰‡ ï¼Œ å…·ä½“ç®—æ³•è‡ªå·±é€‰æ‹©å§ ã€‚ #å»è¿…é›·çœ‹çœ‹å¹¿å‘Š 127.0.0.1 pubstat . sandai . net 127.0.0.1 mcfg . sandai . net 127.0.0.1 biz5 . sandai . net 127.0.0.1 float . sandai . net 127.0.0.1 recommend . xunlei . com 127.0.0.1 cl . kankan . xunlei . com #å»56å¹¿å‘Š 127.0.0.1 acs .56 . com 127.0.0.1 acs . agent .56 . com 127.0.0.1 acs . agent . v - 56. com 127.0.0.1 bill . agent .56 . com 127.0.0.1 union .56 . com 127.0.0.1 v16 .56 . com #å»æœç‹é«˜æ¸…å¹¿å‘Š 127.0.0.1 images . sohu . com #å»æ–°æµªè§†é¢‘å¹¿å‘Š 127.0.0.1 dcads . sina . com . cn #å»é…·6å¹¿å‘Š 127.0.0.1 1. allyes . com . cn 127.0.0.1 analytics . ku6 . com 127.0.0.1 stat0 .888 . ku6 . com 127.0.0.1 stat1 .888 . ku6 . com 127.0.0.1 stat2 .888 . ku6 . com 127.0.0.1 stat3 .888 . ku6 . com 127.0.0.1 ku6afp . allyes . com #å»å‡¤å‡°ç½‘å¹¿å‘Š ( ä¸åŒ…æ‹¬ç›´æ’­éƒ¨åˆ† ) 127.0.0.1 img . ifeng . com #å»pptv . comå¹¿å‘Š 127.0.0.1 pp2 . pptv . com #å»cntvå¹¿å‘Š 127.0.0.1 d . cntv . cn #å»ä¹è§†å¹¿å‘Š 127.0.0.1 pro . letv . com #å»å¥‡è‰ºå¹¿å‘Š 127.0.0.1 afp . qiyi . com 127.0.0.1 focusbaiduafp . allyes . com #å»6é—´æˆ¿å¹¿å‘Š ( è¿˜æœ‰ä¸€ç‚¹ç‚¹æ®‹ç•™ ) 127.0.0.1 simba .6 . cn 127.0.0.1 pole .6 rooms . com 127.0.0.1 shrek .6 . cn 127.0.0.1 union .6 . cn #å»æ¿€åŠ¨ç½‘å¹¿å‘Š 127.0.0.1 86 file . megajoy . com 127.0.0.1 86 get . joy . cn 127.0.0.1 86 log . joy . cn #dropbox 208.43.202.50 www . dropbox . com 174.129.11.212 dl . dropbox . com 184.73.163.57 dl - web . dropbox . com 127.0.0.1 localhost Hasee 127.0.1.1 Hasee # The following lines are desirable for IPv6 capable hosts :: 1 ip6 - localhost ip6 - loopback fe00 : : 0 ip6 - localnet ff00 : : 0 ip6 - mcastprefix ff02 : : 1 ip6 - allnodes ff02 : : 2 ip6 - allrouters 127.0.0.1 atm . youku . com 127.0.0.1 Fvid . atm . youku . com 127.0.0.1 html . atm . youku . com 127.0.0.1 valb . atm . youku . com 127.0.0.1 valf . atm . youku . com 127.0.0.1 valo . atm . youku . com 127.0.0.1 valp . atm . youku . com 127.0.0.1 lstat . youku . com 127.0.0.1 speed . lstat . youku . com 127.0.0.1 urchin . lstat . youku . com 127.0.0.1 stat . youku . com 127.0.0.1 static . lstat . youku . com 127.0.0.1 valc . atm . youku . com 127.0.0.1 vid . atm . youku . com 127.0.0.1 walp . atm . youku . com 127.0.0.1 valf . atm . youku . com 127.0.0.1 valb . atm . youku . com 127.0.0.1 vid . atm . youku . com ##Google . com Google . com 2404 : 6800 : 8005 :: 68 www . google . com #ä¸»é¡µ #2404 : 6800 : 8005 :: 68 www . l . google . com 2404 : 6800 : 8005 :: c1 m . google . com #Googleç§»åŠ¨ç‰ˆ 2404 : 6800 : 8005 :: 54 accounts . google . com #å¸æˆ· 2404 : 6800 : 8005 :: 62 id . google . com #å¸å·ç™»å½• #2404 : 6800 : 8005 :: 62 id . l . google . com # 2404 : 6800 : 8005 :: 62 gg . google . com # #2404 : 6800 : 8005 :: 62 csi . l . google . com 2404 : 6800 : 8005 :: 62 safebrowsing . clients . google . com #å®‰å…¨æµè§ˆå®¢æˆ·ç«¯æœåŠ¡å™¨ #2404 : 6800 : 8005 :: 62 clients . l . google . com 2404 : 6800 : 8005 :: 62 ns1 . google . com #åŸŸåç³»ç»ŸæœåŠ¡å™¨ns - soa / ns 2404 : 6800 : 8005 :: 62 ns2 . google . com #åŸŸåç³»ç»ŸæœåŠ¡å™¨ns 2404 : 6800 : 8005 :: 62 ns3 . google . com #åŸŸåç³»ç»ŸæœåŠ¡å™¨ns 2404 : 6800 : 8005 :: 62 ns4 . google . com #åŸŸåç³»ç»ŸæœåŠ¡å™¨ns 2404 : 6800 : 8005 :: 65 services . google . com #æœåŠ¡ç”³è¯· #2404 : 6800 : 8005 :: 65 www3 . l . google . com 2404 : 6800 : 8005 :: 76 feedproxy . google . com #Feedä»£ç† #2404 : 6800 : 8005 :: 76 www4 . l . google . com 2404 : 6800 : 8005 :: d2 jmt0 . google . com #æœªçŸ¥ 2404 : 6800 : 8005 :: 62 googlemashups . l . google . com #ä½ç½® ##Google . com . hk è°·æ­Œé¦™æ¸¯ 2404 : 6800 : 8005 :: 2 e www . google . com . hk 2404 : 6800 : 8005 :: 2 e images . google . com . hk 2404 : 6800 : 8005 :: 2 e video . google . com . hk 2404 : 6800 : 8005 :: 2 e maps . google . com . hk 2404 : 6800 : 8005 :: 2 e news . google . com . hk 2404 : 6800 : 8005 :: 2 e translate . google . com . hk 2404 : 6800 : 8005 :: 2 e blogsearch . google . com . hk 2404 : 6800 : 8005 :: 2 e picasaweb . google . com . hk 2404 : 6800 : 8005 :: 2 e toolbar . google . com . hk 2404 : 6800 : 8005 :: 2 e desktop . google . com . hk 2404 : 6800 : 8005 :: 2 e id . google . com . hk ##Google . cn è°·æ­Œä¸­å›½ ï¼ˆ å¯ç”¨æ­¤åœ°å€æ— æ³•æ­£å¸¸ä½¿ç”¨è°·æ­ŒéŸ³ä¹ ï¼‰ #2401 : 3800 : c001 : : 2 c www . google . cn #ä¸»é¡µ #2401 : 3800 : c001 : : 2 c g . cn #ä¸»é¡µ #2401 : 3800 : c001 : : 2 c google . cn #ä¸»é¡µ #2401 : 3800 : c001 : : 2 c ipv6cn . l . google . com #IPv6 ï¼š ipv6 . google . cn 2401 : 3800 : c001 : : 84 music . googleusercontent . cn ##Google . com . tw Googleå°æ¹¾ 2404 : 6800 : 8005 :: 2 f www . google . com . tw #ä¸»é¡µ 2404 : 6800 : 8005 :: 2 f picasaweb . google . com . tw #picasaweb ##Google . co . jp Googleæ—¥æœ¬ 2 a00 : 1450 : 8006 :: 30 www . google . co . jp #IPv6 ï¼š ipv6 . google . co . jp ## 2404 : 6800 : 8005 :: 20 www . google . com . tr åœŸè€³å…¶ 2404 : 6800 : 8005 :: 21 www . google . com . au æ¾³å¤§åˆ©äºš 2404 : 6800 : 8005 :: 22 www . google . com . vn è¶Šå— 2404 : 6800 : 8005 :: 23 www . google . com . pk å·´åŸºæ–¯å¦ 2404 : 6800 : 8005 :: 24 www . google . com . my é©¬æ¥è¥¿äºš 2404 : 6800 : 8005 :: 25 www . google . com . pe 2404 : 6800 : 8005 :: 26 www . google . co . za 2404 : 6800 : 8005 :: 27 www . google . co . ve 2404 : 6800 : 8005 :: 28 www . google . com . ph 2404 : 6800 : 8005 :: 29 www . google . com . ar 2404 : 6800 : 8005 :: 2 a www . google . co . nz 2404 : 6800 : 8005 :: 2 b www . google . lt #2404 : 6800 : 8005 :: 2 c www . google . cn ä¸­å›½ ï¼ˆ å·²æ­» ï¼‰ 2404 : 6800 : 8005 :: 2 d www . google . com . sg 2404 : 6800 : 8005 :: 2 e www . google . com . hk é¦™æ¸¯ 2404 : 6800 : 8005 :: 2 f www . google . com . tw å°æ¹¾ 2404 : 6800 : 8005 :: 30 www . google . co . jp æ—¥æœ¬ 2404 : 6800 : 8005 :: 31 www . google . ae 2404 : 6800 : 8005 :: 32 www . google . co . uk è‹±å›½ 2404 : 6800 : 8005 :: 33 www . google . com . gr 2404 : 6800 : 8005 :: 34 www . google . de 2404 : 6800 : 8005 :: 35 www . google . co . il 2404 : 6800 : 8005 :: 36 www . google . fr æ³•å›½ 2404 : 6800 : 8005 :: 38 www . google . it 2404 : 6800 : 8005 :: 39 www . google . lv 2404 : 6800 : 8005 :: 3 a www . google . ca 2404 : 6800 : 8005 :: 3 b www . google . pl 2404 : 6800 : 8005 :: 3 c www . google . ch 2404 : 6800 : 8005 :: 3 d www . google . ro 2404 : 6800 : 8005 :: 3 e www . google . nl 2404 : 6800 : 8005 :: 3 f www . google . com . ru 2404 : 6800 : 8005 :: 40 www . google . at å¥¥åœ°åˆ© 2404 : 6800 : 8005 :: 42 www . google . be 2404 : 6800 : 8005 :: 44 www . google . co . kr 2404 : 6800 : 8005 :: 45 www . google . com . ua 2404 : 6800 : 8005 :: 48 www . google . fi èŠ¬å…° 2404 : 6800 : 8005 :: 49 www . google . co . in 2404 : 6800 : 8005 :: 4 a www . google . pt 2404 : 6800 : 8005 :: 4 b www . google . com . ly 2404 : 6800 : 8005 :: 4 c www . google . com . br #Web ç½‘é¡µ 2404 : 6800 : 8005 :: 68 www . google . com #ä¸»é¡µ 2404 : 6800 : 8005 :: 68 www . l . google . com 2404 : 6800 : 8005 :: 62 www0 . l . google . com 2404 : 6800 : 8005 :: 62 www1 . l . google . com 2404 : 6800 : 8005 :: 62 www3 . l . google . com 2404 : 6800 : 8005 :: 62 suggestqueries . google . com #æœç´¢å»ºè®® 2404 : 6800 : 8005 :: 62 suggestqueries . l . google . com #æœç´¢å»ºè®® 2404 : 6800 : 8005 :: 62 clients0 . google . com #å®¢æˆ·ç«¯æœåŠ¡å™¨ 2404 : 6800 : 8005 :: 62 clients1 . google . com #å®¢æˆ·ç«¯æœåŠ¡å™¨ 2404 : 6800 : 8005 :: 62 clients2 . google . com #å®¢æˆ·ç«¯æœåŠ¡å™¨ 2404 : 6800 : 8005 :: 62 clients3 . google . com #å®¢æˆ·ç«¯æœåŠ¡å™¨ 2404 : 6800 : 8005 :: 62 clients4 . google . com #å®¢æˆ·ç«¯æœåŠ¡å™¨ #Images å›¾ç‰‡ 2404 : 6800 : 8005 :: 68 images . google . com #ä¸»é¡µ 2404 : 6800 : 8005 :: 68 images . l . google . com # 2404 : 6800 : 8005 :: 62 tbn0 . google . com 2404 : 6800 : 8005 :: 62 tbn1 . google . com 2404 : 6800 : 8005 :: 62 tbn2 . google . com 2404 : 6800 : 8005 :: 62 tbn3 . google . com 2404 : 6800 : 8005 :: 62 tbn4 . google . com 2404 : 6800 : 8005 :: 62 tbn5 . google . com 2404 : 6800 : 8005 :: 62 tbn6 . google . com #Video è§†é¢‘ 2404 : 6800 : 8005 :: 62 video . google . com #ä¸»é¡µ #2404 : 6800 : 8005 :: 62 video . l . google . com 2404 : 6800 : 8005 :: 62 0. gvt0 . com 2404 : 6800 : 8005 :: 62 1. gvt0 . com 2404 : 6800 : 8005 :: 62 2. gvt0 . com 2404 : 6800 : 8005 :: 62 3. gvt0 . com 2404 : 6800 : 8005 :: 62 4. gvt0 . com 2404 : 6800 : 8005 :: 62 5. gvt0 . com 2404 : 6800 : 8005 :: 62 video - stats . video . google . com 2404 : 6800 : 8005 :: 74 upload . video . google . com 2404 : 6800 : 8005 :: 74 sslvideo - upload . l . google . com 2404 : 6800 : 8005 :: 62 vp . video . google . com 2404 : 6800 : 8005 :: 62 vp . video . l . google . com 2404 : 6800 : 8005 :: 62 qwqy . vp . video . l . google . com 2404 : 6800 : 8005 :: 62 nz . vp . video . l . google . com 2404 : 6800 : 8005 :: 62 nztdug . vp . video . l . google . com 2404 : 6800 : 8005 :: 62 pr . vp . video . l . google . com 2404 : 6800 : 8005 :: 62 ug . vp . video . l . google . com 2404 : 6800 : 8005 :: 62 vp01 . video . l . google . com 2404 : 6800 : 8005 :: 62 vp02 . video . l . google . com 2404 : 6800 : 8005 :: 62 vp03 . video . l . google . com 2404 : 6800 : 8005 :: 62 vp04 . video . l . google . com 2404 : 6800 : 8005 :: 62 vp05 . video . l . google . com 2404 : 6800 : 8005 :: 62 vp06 . video . l . google . com 2404 : 6800 : 8005 :: 62 vp07 . video . l . google . com 2404 : 6800 : 8005 :: 62 vp08 . video . l . google . com 2404 : 6800 : 8005 :: 62 vp09 . video . l . google . com 2404 : 6800 : 8005 :: 62 vp10 . video . l . google . com 2404 : 6800 : 8005 :: 62 vp11 . video . l . google . com 2404 : 6800 : 8005 :: 62 vp12 . video . l . google . com 2404 : 6800 : 8005 :: 62 vp13 . video . l . google . com 2404 : 6800 : 8005 :: 62 vp14 . video . l . google . com 2404 : 6800 : 8005 :: 62 vp15 . video . l . google . com 2404 : 6800 : 8005 :: 62 vp16 . video . l . google . com 2404 : 6800 : 8005 :: 62 vp17 . video . l . google . com 2404 : 6800 : 8005 :: 62 vp18 . video . l . google . com 2404 : 6800 : 8005 :: 62 vp19 . video . l . google . com 2404 : 6800 : 8005 :: 62 vp20 . video . l . google . com #Map åœ°å›¾ 2404 : 6800 : 8005 :: 68 maps . google . com #ä¸»é¡µ 2404 : 6800 : 8005 :: 68 maps . l . google . com 2404 : 6800 : 8005 :: 62 maps - api - ssl . google . com #2404 : 6800 : 8005 :: 62 clients . l . google . com 2404 : 6800 : 8005 :: 62 map . google . com 2404 : 6800 : 8005 :: 62 kh . google . com 2404 : 6800 : 8005 :: 62 kh . l . google . com 2404 : 6800 : 8005 :: 62 khmdb . google . com 2404 : 6800 : 8005 :: 62 khm . google . com # 2404 : 6800 : 8005 :: 62 khm . l . google . com 2404 : 6800 : 8005 :: 62 khm0 . google . com #Satellite View 2404 : 6800 : 8005 :: 62 khm1 . google . com #Satellite View 2404 : 6800 : 8005 :: 62 khm2 . google . com #Satellite View 2404 : 6800 : 8005 :: 62 khm3 . google . com #Satellite View 2404 : 6800 : 8005 :: 62 cbk0 . google . com #Street View 2404 : 6800 : 8005 :: 62 cbk1 . google . com #Street View 2404 : 6800 : 8005 :: 62 cbk2 . google . com #Street View 2404 : 6800 : 8005 :: 62 cbk3 . google . com #Street View 2404 : 6800 : 8005 :: 62 mw0 . google . com 2404 : 6800 : 8005 :: 62 mw1 . google . com 2404 : 6800 : 8005 :: 62 mw2 . google . com 2404 : 6800 : 8005 :: 62 mw3 . google . com 2404 : 6800 : 8005 :: 62 mw - small . l . google . com 2404 : 6800 : 8005 :: 62 mt . l . google . com 2404 : 6800 : 8005 :: 62 mt0 . google . com 2404 : 6800 : 8005 :: 62 mt1 . google . com 2404 : 6800 : 8005 :: 62 mt2 . google . com 2404 : 6800 : 8005 :: 62 mt3 . google . com 2404 : 6800 : 8005 :: 62 mlt0 . google . com 2404 : 6800 : 8005 :: 62 mlt1 . google . com 2404 : 6800 : 8005 :: 62 mlt2 . google . com 2404 : 6800 : 8005 :: 62 mlt3 . google . com #News èµ„è®¯ 2404 : 6800 : 8005 :: 68 news . google . com #ä¸»é¡µ 2404 : 6800 : 8005 :: 68 news . l . google . com 2404 : 6800 : 8005 :: 62 nt0 . ggpht . com 2404 : 6800 : 8005 :: 62 nt1 . ggpht . com 2404 : 6800 : 8005 :: 62 nt2 . ggpht . com 2404 : 6800 : 8005 :: 62 nt3 . ggpht . com 2404 : 6800 : 8005 :: 62 nt4 . ggpht . com 2404 : 6800 : 8005 :: 62 nt5 . ggpht . com #Gmail é‚®ç®± 2404 : 6800 : 8005 :: 11 mail . google . com #ä¸»é¡µ 2404 : 6800 : 8005 :: 53 googlemail . l . google . com 2404 : 6800 : 8005 :: 11 googlemail . l . google . com 2404 : 6800 : 8005 :: 12 googlemail . l . google . com 2404 : 6800 : 8005 :: 13 googlemail . l . google . com 2404 : 6800 : 8005 :: bd chatenabled . mail . google . com #Gmailä¸­GtalkèŠå¤©æœåŠ¡ #2404 : 6800 : 8005 :: bd b . googlemail . l . google . com 2404 : 6800 : 8005 :: 62 talk . gmail . com #Gmailä¸­GtalkèŠå¤©æœåŠ¡ 2404 : 6800 : 8005 :: 62 gmail . google . com # 2404 : 6800 : 8005 :: 62 gmail . l . google . com # 2404 : 6800 : 8005 :: 62 www . gmail . com #Gmailä¸»é¡µ 2404 : 6800 : 8005 :: 62 gmail . com #Gmailä¸»é¡µ 2404 : 6800 : 8005 :: 62 pop . gmail . com #popæœåŠ¡ 2404 : 6800 : 8005 :: 62 smtp . gmail . com #smtpæœåŠ¡ 2404 : 6800 : 8005 :: 62 smtp1 . google . com 2404 : 6800 : 8005 :: 62 smtp2 . google . com 2404 : 6800 : 8005 :: 62 smtp3 . google . com 2404 : 6800 : 8005 :: 62 smtp4 . google . com 2404 : 6800 : 8005 :: 62 smtp5 . google . com 2404 : 6800 : 8005 :: 62 smtp - out . google . com 2404 : 6800 : 8005 :: 62 smtp - out2 . google . com 2404 : 6800 : 8005 :: 62 smtp - out3 . google . com 2404 : 6800 : 8005 :: 62 imap . google . com # 2404 : 6800 : 8005 :: 62 gmail - pop . l . google . com 2404 : 6800 : 8005 :: 62 gmail - smtp . l . google . com 2404 : 6800 : 8005 :: 62 gmail - smtp - in . l . google . com 2404 : 6800 : 8005 :: 62 gmr - smtp - in . l . google . com #Books å›¾ä¹¦ 2404 : 6800 : 8005 :: 62 books . google . com #ä¸»é¡µ #2404 : 6800 : 8005 :: 64 www3 . l . google . com 2404 : 6800 : 8005 :: 62 bks0 . books . google . com 2404 : 6800 : 8005 :: 62 bks1 . books . google . com 2404 : 6800 : 8005 :: 62 bks2 . books . google . com 2404 : 6800 : 8005 :: 62 bks3 . books . google . com 2404 : 6800 : 8005 :: 62 bks4 . books . google . com 2404 : 6800 : 8005 :: 62 bks5 . books . google . com 2404 : 6800 : 8005 :: 62 bks6 . books . google . com 2404 : 6800 : 8005 :: 62 bks7 . books . google . com 2404 : 6800 : 8005 :: 62 bks8 . books . google . com 2404 : 6800 : 8005 :: 62 bks9 . books . google . com #Finance è´¢ç» 2404 : 6800 : 8005 :: 62 finance . google . com #Translate ç¿»è¯‘ 2404 : 6800 : 8005 :: 62 translate . google . com #Blog åšå®¢æœç´¢ 2404 : 6800 : 8005 :: 63 blogsearch . google . com #2404 : 6800 : 8005 :: 63 www2 . l . google . com #Calendar æ—¥å† 2404 : 6800 : 8005 :: 64 calendar . google . com #2404 : 6800 : 8005 :: 64 www3 . l . google . com #Photo / Picasa ç…§ç‰‡ / ç½‘ç»œç›¸å†Œ 2404 : 6800 : 8005 :: 5 d photos . google . com #2404 : 6800 : 8005 :: 5 d picasaweb . l . google . com 2404 : 6800 : 8005 :: 63 picasa . google . com #2404 : 6800 : 8005 :: 63 www2 . l . google . com 2404 : 6800 : 8005 :: be picasaweb . google . com #2404 : 6800 : 8005 :: be picasaweb . l . google . com 2404 : 6800 : 8005 :: 62 lh0 . ggpht . com 2404 : 6800 : 8005 :: 62 lh1 . ggpht . com 2404 : 6800 : 8005 :: 62 lh2 . ggpht . com 2404 : 6800 : 8005 :: 62 lh3 . ggpht . com 2404 : 6800 : 8005 :: 62 lh4 . ggpht . com 2404 : 6800 : 8005 :: 62 lh5 . ggpht . com 2404 : 6800 : 8005 :: 62 lh6 . ggpht . com 2404 : 6800 : 8005 :: 62 lh7 . ggpht . com 2404 : 6800 : 8005 :: 62 lh8 . ggpht . com 2404 : 6800 : 8005 :: 62 lh9 . ggpht . com #Docs æ–‡æ¡£ 2404 : 6800 : 8005 :: 64 docs . google . com 2404 : 6800 : 8005 :: 64 writely . l . google . com 2404 : 6800 : 8005 :: 62 spreadsheet . google . com 2404 : 6800 : 8005 :: 62 spreadsheets . google . com 2404 : 6800 : 8005 :: 62 spreadsheets0 . google . com 2404 : 6800 : 8005 :: 62 spreadsheets . l . google . com 2404 : 6800 : 8005 :: 62 writely . google . com 2404 : 6800 : 8005 :: 62 writely . l . google . com 2404 : 6800 : 8005 :: 62 writely - com . l . google . com 2404 : 6800 : 8005 :: 62 writely - china . l . google . com #Reader é˜…è¯»å™¨ 2404 : 6800 : 8005 :: 68 reader . google . com 2404 : 6800 : 8005 :: 68 www2 . l . google . com #Sites åä½œå¹³å° 2404 : 6800 : 8005 :: 65 sites . google . com #2404 : 6800 : 8005 :: 65 www3 . l . google . com #2404 : 6800 : 8005 :: 62 ghs . google . com #2404 : 6800 : 8005 :: 62 ghs . l . google . com #Group è®ºå› 2404 : 6800 : 8005 :: 62 groups . google . com 2404 : 6800 : 8005 :: 62 groups . l . google . com 2404 : 6800 : 8005 :: 89 * . googlegroups . com 2404 : 6800 : 8005 :: 89 blob - s - docs . googlegroups . com 2404 : 6800 : 8005 :: 89 2503061233288453901 - a - 1802744773732722657 - s - sites . googlegroups . com #Scholar å­¦æœ¯æœç´¢ 2404 : 6800 : 8005 :: 62 scholar . google . com 2404 : 6800 : 8005 :: 62 scholar . l . google . com #Tools å·¥å…· 2404 : 6800 : 8005 :: 62 tools . google . com 2404 : 6800 : 8005 :: 62 tools . l . google . com #Code ä»£ç  2404 : 6800 : 8005 :: 64 code . google . com #ä¸»é¡µ 2404 : 6800 : 8005 :: 64 code . l . google . com # 2404 : 6800 : 8005 :: 52 * . googlecode . com # 2404 : 6800 : 8005 :: 52 chromium . googlecode . com # 2404 : 6800 : 8005 :: 52 searchforchrome . googlecode . com # 2404 : 6800 : 8005 :: 52 android - scripting . googlecode . com #Android Scripting Environment 2404 : 6800 : 8005 :: 52 earth - api - samples . googlecode . com # 2404 : 6800 : 8005 :: 52 gmaps - samples - flash . googlecode . com # 2404 : 6800 : 8005 :: 52 google - code - feed - gadget . googlecode . com 2404 : 6800 : 8005 :: 52 china - addthis . googlecode . com # 2404 : 6800 : 8005 :: 52 get - flash - videos . googlecode . com #get - flash - videos 2404 : 6800 : 8005 :: 52 youplayer . googlecode . com #YouPlayer 2404 : 6800 : 8005 :: 52 cclive . googlecode . com #ccLive #Labs å®éªŒå®¤ 2404 : 6800 : 8005 :: 65 labs . google . com #2404 : 6800 : 8005 :: 65 www3 . l . google . com 2404 : 6800 : 8005 :: 62 www . googlelabs . com 2404 : 6800 : 8005 :: 62 browsersize . googlelabs . com #Browser Size 2404 : 6800 : 8005 :: 62 storegadget . googlelabs . com #Google Checkout Store Gadget 2404 : 6800 : 8005 :: 62 citytours . googlelabs . com #City Tours 2404 : 6800 : 8005 :: 62 livingstories . googlelabs . com #Living Stories 2404 : 6800 : 8005 :: 62 image - swirl . googlelabs . com #Image Swirl 2404 : 6800 : 8005 :: 62 scriptconv . googlelabs . com #Script Converter 2404 : 6800 : 8005 :: 62 relatedlinks . googlelabs . com #Related Links 2404 : 6800 : 8005 :: 62 fastflip . googlelabs . com #Fast Flip 2404 : 6800 : 8005 :: 62 listen . googlelabs . com #Google Listen 2404 : 6800 : 8005 :: 62 similar - images . googlelabs . com #Similar Images 2404 : 6800 : 8005 :: 62 tables . googlelabs . com #Fusion Tables 2404 : 6800 : 8005 :: 62 newstimeline . googlelabs . com #Google News Timeline #Knol åœ¨çº¿ç™¾ç§‘å…¨ä¹¦ 2404 : 6800 : 8005 :: 65 knol . google . com #2404 : 6800 : 8005 :: 65 www3 . l . google . com #SketchUp 3 Då»ºæ¨¡å·¥å…· 2404 : 6800 : 8005 :: 62 sketchup . google . com #2404 : 6800 : 8005 :: 62 sketchup . l . google . com #Pack è½¯ä»¶ç²¾é€‰ 2404 : 6800 : 8005 :: 68 pack . google . com #2404 : 6800 : 8005 :: 68 www2 . l . google . com 2404 : 6800 : 8005 :: 68 cache . pack . google . com #Blogger åšå®¢æœåŠ¡ 2404 : 6800 : 8005 :: bf www . blogger . com 2404 : 6800 : 8005 :: bf buttons . blogger . com 2404 : 6800 : 8005 :: bf beta . blogger . com 2404 : 6800 : 8005 :: bf draft . blogger . com #Blogger æµ‹è¯•åŒº 2404 : 6800 : 8005 :: bf status . blogger . com #Blogger çŠ¶æ€ 2404 : 6800 : 8005 :: bf help . blogger . com #æ”¯æŒä¸­å¿ƒ 2404 : 6800 : 8005 :: bf buzz . blogger . com #Blogger Buzzåšå®¢ ï¼ˆ è‹±æ–‡ ï¼‰ 2404 : 6800 : 8005 :: bf photos1 . blogger . com 2404 : 6800 : 8005 :: bf bp0 . blogger . com 2404 : 6800 : 8005 :: 62 blogger . google . com 2404 : 6800 : 8005 :: 62 blogger . l . google . com 2404 : 6800 : 8005 :: 62 www . blogblog . com 2404 : 6800 : 8005 :: 62 www1 . blogblog . com 2404 : 6800 : 8005 :: 62 www2 . blogblog . com 2404 : 6800 : 8005 :: 62 img . blogblog . com 2404 : 6800 : 8005 :: 62 img1 . blogblog . com 2404 : 6800 : 8005 :: 62 img2 . blogblog . com 2404 : 6800 : 8005 :: 62 img . blshe . com #Blogspot åšå®¢æœåŠ¡ 2404 : 6800 : 8005 :: 62 www . blogspot . com #ä¸»é¡µ #2404 : 6800 : 8005 :: 62 blogger . l . google . com 2404 : 6800 : 8005 :: 62 blogsofnote . blogspot . com #ç•™è¨€åšå®¢ ï¼ˆ è‹±æ–‡ç‰ˆæœ¬ ï¼‰ 2404 : 6800 : 8005 :: 62 knownissues . blogspot . com #å·²çŸ¥é—®é¢˜ 2404 : 6800 : 8005 :: 62 1. bp . blogspot . com # 2404 : 6800 : 8005 :: 62 2. bp . blogspot . com # 2404 : 6800 : 8005 :: 62 3. bp . blogspot . com # 2404 : 6800 : 8005 :: 62 4. bp . blogspot . com # 2404 : 6800 : 8005 :: 62 googleblog . blogspot . com #Official Google Blog 2404 : 6800 : 8005 :: 62 googlesystem . blogspot . com #Google Operating System 2404 : 6800 : 8005 :: 62 googlechromereleases . blogspot . com #Google Chrome Releases 2404 : 6800 : 8005 :: 62 youtube - global . blogspot . com #YouTube Blog 2404 : 6800 : 8005 :: 62 igoogledeveloper . blogspot . com #iGoogle Developer Blog 2404 : 6800 : 8005 :: 62 google - code - featured . blogspot . com #Featured Projects on Google Code 2404 : 6800 : 8005 :: 62 googlegeodevelopers . blogspot . com #Google Geo Developers Blog 2404 : 6800 : 8005 :: 62 googlecustomsearch . blogspot . com #Google Custom Search Blog 2404 : 6800 : 8005 :: 62 chinafreenet . blogspot . com #ä¸­å›½è‡ªç”±ç½‘ 2404 : 6800 : 8005 :: 62 gregmankiw . blogspot . com #GREG MANKIW ' S BLOG 2404 : 6800 : 8005 :: 62 xiangeliushui . blogspot . com #å¹´åä¼¼æ°´ ï¼Œ å²æœˆå¦‚æ­Œ 2404 : 6800 : 8005 :: 62 chinagfw . blogspot . com #GFW Blog 2404 : 6800 : 8005 :: 62 wallpapers - arena . blogspot . com #Wallpapers Arena 2404 : 6800 : 8005 :: 62 ggq . blogspot . com #GGåœˆ 2404 : 6800 : 8005 :: 62 whiteappleer . blogspot . com #WA ï¼‹ ER 2404 : 6800 : 8005 :: 62 rain - reader . blogspot . com #Nostalgia : Those Who Remain 2404 : 6800 : 8005 :: 62 unityteam1 . blogspot . com #ç”Ÿæ´»åœˆ BLOG 2404 : 6800 : 8005 :: 62 ipv6 - or - no - ipv6 . blogspot . com #IPv6 Related Stuff 2404 : 6800 : 8005 :: 62 autoproxy2pac . appspot . com # 2404 : 6800 : 8005 :: 62 gysj . blogspot . com # 2404 : 6800 : 8005 :: 62 szncu . blogspot . com # #2404 : 6800 : 8005 :: 62 * . blogspot . com #å¯ä»¥æ·»åŠ ä½ è‡ªå·±çš„åšå®¢åœ°å€åˆ°è¿™é‡Œ #Checkout ä¹°å®¶ 2404 : 6800 : 8005 :: 73 checkout . google . com #2404 : 6800 : 8005 :: 73 checkout . l . google . com #Orkut ç½‘ç»œç¤¾åŒº ï¼ˆ è²Œä¼¼é”™è¯¯ ï¼‰ #2404 : 6800 : 8005 :: 62 orkut . google . com #2404 : 6800 : 8005 :: 62 orkut . l . google . com #2404 : 6800 : 8005 :: 62 www . orkut . com #2404 : 6800 : 8005 :: 62 clients1 . orkut . com #Toolbar å·¥å…·æ  2404 : 6800 : 8005 :: 62 toolbar . google . com #2404 : 6800 : 8005 :: 62 tools . l . google . com 2404 : 6800 : 8005 :: 62 www . gmailnotifier . com #Gmail Notifier #App Engine 2404 : 6800 : 8005 :: 64 appengine . google . com #ä¸»é¡µ #2404 : 6800 : 8005 :: 64 www3 . l . google . com 2404 : 6800 : 8005 :: 62 appspot . l . google . com # 2404 : 6800 : 8005 :: 62 chart . apis . google . com #Google å›¾è¡¨ API 2404 : 6800 : 8005 :: 5 f * . googleapis . com 2404 : 6800 : 8005 :: 5 f translate . googleapis . com #Google ç¿»è¯‘ API 2404 : 6800 : 8005 :: 5 f ajax . googleapis . com #Ajax API 2404 : 6800 : 8005 :: 8 d * . appspot . com 2404 : 6800 : 8005 :: 8 d productideas . appspot . com #Google æ±‡é—® 2404 : 6800 : 8005 :: 8 d wave - api . appspot . com #Google Wave API 2404 : 6800 : 8005 :: 8 d wave - skynet . appspot . com #SkyNet 2404 : 6800 : 8005 :: 8 d cactus - wave . appspot . com # 2404 : 6800 : 8005 :: 8 d storegadgetwizard . appspot . com #Google Checkout Store Gadget 2404 : 6800 : 8005 :: 8 d moderator . appspot . com #Google Moderator 2404 : 6800 : 8005 :: 8 d haiticrisis . appspot . com #Google Person Finder : Haiti Earthquake 2404 : 6800 : 8005 :: 8 d mytracks . appspot . com #My Tracks for Android 2404 : 6800 : 8005 :: 8 d reader2twitter . appspot . com #Reader2Tweet 2404 : 6800 : 8005 :: 8 d twitese . appspot . com 2404 : 6800 : 8005 :: 8 d gfw . appspot . com 2404 : 6800 : 8005 :: 8 d go2china9 . appspot . com 2404 : 6800 : 8005 :: 8 d mirrorrr . appspot . com 2404 : 6800 : 8005 :: 8 d mirrornt . appspot . com 2404 : 6800 : 8005 :: 8 d soproxy . appspot . com 2404 : 6800 : 8005 :: 8 d so - proxy . appspot . com 2404 : 6800 : 8005 :: 8 d go - west . appspot . com 2404 : 6800 : 8005 :: 8 d proxytea . appspot . com 2404 : 6800 : 8005 :: 8 d sivanproxy . appspot . com 2404 : 6800 : 8005 :: 8 d proxybay . appspot . com 2404 : 6800 : 8005 :: 8 d ipgoto . appspot . com 2404 : 6800 : 8005 :: 8 d meme2028 . appspot . com 2404 : 6800 : 8005 :: 8 d autoproxy2pac . appspot . com #Chrome è°·æ­Œæµè§ˆå™¨ 2404 : 6800 : 8005 :: 64 chrome . google . com #Chromium OS 2404 : 6800 : 8005 :: 62 goto . ext . google . com #2404 : 6800 : 8005 :: 62 ghs . l . google . com #Desktop æ¡Œé¢ 2404 : 6800 : 8005 :: 62 desktop . google . com 2404 : 6800 : 8005 :: 62 desktop . l . google . com #Google Earth Googleåœ°çƒ 2404 : 6800 : 8005 :: 65 earth . google . com #2404 : 6800 : 8005 :: 65 www3 . l . google . com #Google Mars Googleç«æ˜Ÿåœ°å›¾ 2404 : 6800 : 8005 :: 65 mars . google . com #2404 : 6800 : 8005 :: 65 www3 . l . google . com #Panoramio 2001 : 4860 : 8010 :: 8 d www . panoramio . com #2001 : 4860 : 8010 :: 8 d appspot . l . google . com 2001 : 4860 : 8010 :: 8 d static . panoramio . com #Keyhole åœ°ç†æŸ¥è¯¢è½¯ä»¶ 2404 : 6800 : 8005 :: 62 www . keyhole . com 2404 : 6800 : 8005 :: 62 geo . keyhole . com 2404 : 6800 : 8005 :: 62 dev . keyhole . com 2404 : 6800 : 8005 :: 62 auth . keyhole . com #iGoogle Modules Googleå°å·¥å…· 2404 : 6800 : 8005 :: 62 gmodules . com 2404 : 6800 : 8005 :: 62 www . gmodules . com 2404 : 6800 : 8005 :: 62 www . ig . gmodules . com 2404 : 6800 : 8005 :: 62 ig . gmodules . com 2404 : 6800 : 8005 :: 62 ads . gmodules . com 2404 : 6800 : 8005 :: 62 p . gmodules . com 2404 : 6800 : 8005 :: 62 1. ig . gmodules . com 2404 : 6800 : 8005 :: 62 2. ig . gmodules . com 2404 : 6800 : 8005 :: 62 3. ig . gmodules . com 2404 : 6800 : 8005 :: 62 4. ig . gmodules . com 2404 : 6800 : 8005 :: 62 5. ig . gmodules . com 2404 : 6800 : 8005 :: 62 6. ig . gmodules . com 2404 : 6800 : 8005 :: 62 maps . gmodules . com 2404 : 6800 : 8005 :: 62 img0 . gmodules . com 2404 : 6800 : 8005 :: 62 img1 . gmodules . com 2404 : 6800 : 8005 :: 62 img2 . gmodules . com 2404 : 6800 : 8005 :: 62 img3 . gmodules . com 2404 : 6800 : 8005 :: 62 skins . gmodules . com 2404 : 6800 : 8005 :: 62 friendconnect . gmodules . com 2404 : 6800 : 8005 :: 62 mc8tdi0ripmbpds25eboaupdulritrp6 . friendconnect . gmodules . com 2404 : 6800 : 8005 :: 62 r1rk9np7bpcsfoeekl0khkd2juj27q3o . friendconnect . gmodules . com 2404 : 6800 : 8005 :: 62 r1rk9np7bpcsfoeekl0khkd2juj27q3o . a . friendconnect . gmodules . com ##Googleå…¶ä»–æœåŠ¡ #Ajax 2404 : 6800 : 8005 :: 62 googleapis - ajax . google . com #2404 : 6800 : 8005 :: 62 googleapis - ajax . l . google . com #YouTube 203.208.46.29 youtube . com 203.208.46.29 www . youtube . com 203.208.46.29 gdata . youtube . com 203.208.46.29 m . youtube . com 203.208.46.29 help . youtube . com 74.125.71.116 upload . youtube . com 203.208.46.29 accounts . youtube . com 203.208.46.29 insight . youtube . com 203.208.46.29 apiblog . youtube . com 203.208.46.29 clients1 . youtube . com 203.208.46.29 s . youtube . com 203.208.46.29 s2 . youtube . com 203.208.46.29 s . ytimg . com 203.208.46.29 i1 . ytimg . com 203.208.46.29 i2 . ytimg . com 203.208.46.29 i3 . ytimg . com 203.208.46.29 i4 . ytimg . com 203.208.46.29 o - o . preferred . sjc07s15 . v1 . lscache1 . c . youtube . com 203.208.46.29 o - o . preferred . sjc07s15 . v2 . lscache1 . c . youtube . com 203.208.46.29 o - o . preferred . sjc07s15 . v3 . lscache1 . c . youtube . com 203.208.46.29 o - o . preferred . sjc07s15 . v4 . lscache1 . c . youtube . com 203.208.46.29 o - o . preferred . sjc07s15 . v5 . lscache1 . c . youtube . com 203.208.46.29 o - o . preferred . sjc07s15 . v6 . lscache1 . c . youtube . com 203.208.46.29 o - o . preferred . sjc07s15 . v7 . lscache1 . c . youtube . com 203.208.46.29 o - o . preferred . sjc07s15 . v8 . lscache1 . c . youtube . com 203.208.46.29 o - o . preferred . sjc07s15 . v9 . lscache1 . c . youtube . com 203.208.46.29 o - o . preferred . sjc07s15 . v10 . lscache1 . c . youtube . com 203.208.46.29 o - o . preferred . sjc07s15 . v11 . lscache1 . c . youtube . com 203.208.46.29 o - o . preferred . sjc07s15 . v12 . lscache1 . c . youtube . com 203.208.46.29 o - o . preferred . sjc07s15 . v13 . lscache1 . c . youtube . com 203.208.46.29 dn . net 125.56.199.9 photos - d . ak . fbcdn . net 125.56.199.9 photos - e . ak . fbcdn . net 125.56.199.9 photos - f . ak . fbcdn . net 125.56.199.9 photos - g . ak . fbcdn . net 125.56.199.9 photos - h . ak . fbcdn . neto - o . preferred . sjc07s15 . v14 . lscache1 . c . youtube . com 203.208.46.29 o - o . preferred . sjc07s15 . v15 . lscache1 . c . youtube . com 203.208.46.29 o - o . preferred . sjc07s15 . v16 . lscache1 . c . youtube . com 203.208.46.29 o - o . preferred . sjc07s15 . v17 . lscache1 . c . youtube . com 203.208.46.29 o - o . preferred . sjc07s15 . v18 . lscache1 . c . youtube . com 203.208.46.29 o - o . preferred . sjc07s15 . v19 . lscache1 . c . youtube . com 203.208.46.29 o - o . preferred . sjc07s15 . v20 . lscache1 . c . youtube . com 203.208.46.29 o - o . preferred . sjc07s15 . v21 . lscache1 . c . youtube . com 203.208.46.29 o - o . preferred . sjc07s15 . v22 . lscache1 . c . youtube . com 203.208.46.29 o - o . preferred . sjc07s15 . v23 . lscache1 . c . youtube . com 203.208.46.29 o - o . preferred . sjc07s15 . v24 . lscache1 . c . youtube . com 203.208.46.29 o - o . preferred . sjc07s15 . v1 . lscache2 . c . youtube . com 203.208.46.29 o - o . preferred . sjc07s15 . v2 . lscache2 . c . youtube . com 203.208.46.29 o - o . preferred . sjc07s15 . v3 . lscache2 . c . youtube . com 203.208.46.29 o - o . preferred . sjc07s15 . v4 . lscache2 . c . youtube . com 203.208.46.29 o - o . preferred . sjc07s15 . v5 . lscache2 . c . youtube . com 203.208.46.29 o - o . preferred . sjc07s15 . v6 . lscache2 . c . youtube . com 203.208.46.29 o - o . preferred . sjc07s15 . v7 . lscache2 . c . youtube . com 203.208.46.29 dn . net 125.56.199.9 photos - d . ak . fbcdn . net 125.56.199.9 photos - e . ak . fbcdn . net 125.56.199.9 photos - f . ak . fbcdn . net 125.56.199.9 photos - g . ak . fbcdn . net 125.56.199.9 photos - h . ak . fbcdn . neto - o . preferred . sjc07s15 . v8 . lscache2 . c . youtube . com 203.208.46.29 o - o . preferred . sjc07s15 . v9 . lscache2 . c . youtube . com 203.208.46.29 o - o . preferred . sjc07s15 . v10 . lscache2 . c . youtube . com 203.208.46.29 o - o . preferred . sjc07s15 . v11 . lscache2 . c . youtube . com 203.208.46.29 o - o . preferred . sjc07s15 . v12 . lscache2 . c . youtube . com 203.208.46.29 o - o . preferred . sjc07s15 . v13 . lscache2 . c . youtube . com 203.208.46.29 o - o . preferred . sjc07s15 . v14 . lscache2 . c . youtube . com 203.208.46.29 o - o . preferred . sjc07s15 . v15 . lscache2 . c . youtube . com 203.208.46.29 o - o . preferred . sjc07s15 . v16 . lscache2 . c . youtube . com 203.208.46.29 o - o . preferred . sjc07s15 . v17 . lscache2 . c . youtube . com 203.208.46.29 o - o . preferred . sjc07s15 . v18 . lscache2 . c . youtube . com 203.208.46.29 o - o . preferred . sjc07s15 . v19 . lscache2 . c . youtube . com 203.208.46.29 o - o . preferred . sjc07s15 . v20 . lscache2 . c . youtube . com 203.208.46.29 o - o . preferred . sjc07s15 . v21 . lscache2 . c . youtube . com 203.208.46.29 o - o . preferred . sjc07s15 . v22 . lscache2 . c . youtube . com 203.208.46.29 o - o . preferred . sjc07s15 . v23 . lscache2 . c . youtube . com 203.208.46.29 o - o . preferred . sjc07s15 . v24 . lscache2 . c . youtube . com 203.208.46.29 o - o . preferred . sjc07s15 . v1 . lscache3 . c . youtube . com 203.208.46.29 o - o . preferred . sjc07s15 . v2 . lscache3 . c . youtube . com 203.208.46.29 o - o . preferred . sjc07s15 . v3 . lscache3 . c . youtube . com 203.208.46.29 o - o . preferred . sjc07s15 . v4 . lscache3 . c . youtube . com 203.208.46.29 o - o . preferred . sjc07s15 . v5 . lscache3 . c . youtube . com 203.208.46.29 o - o . preferred . sjc07s15 . v6 . lscache3 . c . youtube . com 203.208.46.29 o - o . preferred . sjc07s15 . v7 . lscache3 . c . youtube . com 203.208.46.29 o - o . preferred . sjc07s15 . v8 . lscache3 . c . youtube . com 203.208.46.29 o - o . preferred . sjc07s15 . v9 . lscache3 . c . youtube . com 203.208.46.29 o - o . preferred . sjc07s15 . v10 . lscache3 . c . youtube . com 203.208.46.29 o - o . preferred . sjc07s15 . v11 . lscache3 . c . youtube . com 203.208.46.29 o - o . preferred . sjc07s15 . v12 . lscache3 . c . youtube . com 203.208.46.29 o - o . preferred . sjc07s15 . v13 . lscache3 . c . youtube . com 203.208.46.29 o - o . preferred . sjc07s15 . v14 . lscache3 . c . youtube . com 203.208.46.29 o - o . preferred . sjc07s15 . v15 . lscache3 . c . youtube . com 203.208.46.29 o - o . preferred . sjc07s15 . v16 . lscache3 . c . youtube . com 203.208.46.29 o - o . preferred . sjc07s15 . v17 . lscache3 . c . youtube . com 203.208.46.29 o - o . preferred . sjc07s15 . v18 . lscache3 . c . youtube . com 203.208.46.29 o - o . preferred . sjc07s15 . v19 . lscache3 . c . youtube . com 203.208.46.29 o - o . preferred . sjc07s15 . v20 . lscache3 . c . youtube . com 203.208.46.29 o - o . preferred . sjc07s15 . v21 . lscache3 . c . youtube . com 203.208.46.29 o - o . preferred . sjc07s15 . v22 . lscache3 . c . youtube . com 203.208.46.29 o - o . preferred . sjc07s15 . v23 . lscache3 . c . youtube . com 203.208.46.29 o - o . preferred . sjc07s15 . v24 . lscache3 . c . youtube . com 203.208.46.29 o - o . preferred . sjc07s15 . v1 . lscache4 . c . youtube . com 203.208.46.29 o - o . preferred . sjc07s15 . v2 . lscache4 . c . youtube . com 203.208.46.29 o - o . preferred . sjc07s15 . v3 . lscache4 . c . youtube . com 203.208.46.29 o - o . preferred . sjc07s15 . v4 . lscache4 . c . youtube . com 203.208.46.29 o - o . preferred . sjc07s15 . v5 . lscache4 . c . youtube . com 203.208.46.29 o - o . preferred . sjc07s15 . v6 . lscache4 . c . youtube . com 203.208.46.29 o - o . preferred . sjc07s15 . v7 . lscache4 . c . youtube . com 203.208.46.29 o - o . preferred . sjc07s15 . v8 . lscache4 . c . youtube . com 203.208.46.29 o - o . preferred . sjc07s15 . v9 . lscache4 . c . youtube . com 203.208.46.29 o - o . preferred . sjc07s15 . v10 . lscache4 . c . youtube . com 203.208.46.29 o - o . preferred . sjc07s15 . v11 . lscache4 . c . youtube . com 203.208.46.29 o - o . preferred . sjc07s15 . v12 . lscache4 . c . youtube . com 203.208.46.29 o - o . preferred . sjc07s15 . v13 . lscache4 . c . youtube . com 203.208.46.29 o - o . preferred . sjc07s15 . v14 . lscache4 . c . youtube . com 203.208.46.29 o - o . preferred . sjc07s15 . v15 . lscache4 . c . youtube . com 203.208.46.29 o - o . preferred . sjc07s15 . v16 . lscache4 . c . youtube . com 203.208.46.29 o - o . preferred . sjc07s15 . v17 . lscache4 . c . youtube . com 203.208.46.29 o - o . preferred . sjc07s15 . v18 . lscache4 . c . youtube . com 203.208.46.29 o - o . preferred . sjc07s15 . v19 . lscache4 . c . youtube . com 203.208.46.29 o - o . preferred . sjc07s15 . v20 . lscache4 . c . youtube . com 203.208.46.29 o - o . preferred . sjc07s15 . v21 . lscache4 . c . youtube . com 203.208.46.29 o - o . preferred . sjc07s15 . v22 . lscache4 . c . youtube . com 203.208.46.29 o - o . preferred . sjc07s15 . v23 . lscache4 . c . youtube . com 203.208.46.29 o - o . preferred . sjc07s15 . v24 . lscache4 . c . youtube . com 203.208.46.29 o - o . preferred . sjc07s15 . v1 . lscache5 . c . youtube . com 203.208.46.29 o - o . preferred . sjc07s15 . v2 . lscache5 . c . youtube . com 203.208.46.29 o - o . preferred . sjc07s15 . v3 . lscache5 . c . youtube . com 203.208.46.29 o - o . preferred . sjc07s15 . v4 . lscache5 . c . youtube . com 203.208.46.29 o - o . preferred . sjc07s15 . v5 . lscache5 . c . youtube . com 203.208.46.29 o - o . preferred . sjc07s15 . v6 . lscache5 . c . youtube . com 203.208.46.29 o - o . preferred . sjc07s15 . v7 . lscache5 . c . youtube . com 203.208.46.29 o - o . preferred . sjc07s15 . v8 . lscache5 . c . youtube . com 203.208.46.29 o - o . preferred . sjc07s15 . v9 . lscache5 . c . youtube . com 203.208.46.29 o - o . preferred . sjc07s15 . v10 . lscache5 . c . youtube . com 203.208.46.29 o - o . preferred . sjc07s15 . v11 . lscache5 . c . youtube . com 203.208.46.29 o - o . preferred . sjc07s15 . v12 . lscache5 . c . youtube . com 203.208.46.29 o - o . preferred . sjc07s15 . v13 . lscache5 . c . youtube . com 203.208.46.29 o - o . preferred . sjc07s15 . v14 . lscache5 . c . youtube . com 203.208.46.29 o - o . preferred . sjc07s15 . v15 . lscache5 . c . youtube . com 203.208.46.29 o - o . preferred . sjc07s15 . v16 . lscache5 . c . youtube . com 203.208.46.29 o - o . preferred . sjc07s15 . v17 . lscache5 . c . youtube . com 203.208.46.29 o - o . preferred . sjc07s15 . v18 . lscache5 . c . youtube . com 203.208.46.29 o - o . preferred . sjc07s15 . v19 . lscache5 . c . youtube . com 203.208.46.29 o - o . preferred . sjc07s15 . v20 . lscache5 . c . youtube . com 203.208.46.29 o - o . preferred . sjc07s15 . v21 . lscache5 . c . youtube . com 203.208.46.29 o - o . preferred . sjc07s15 . v22 . lscache5 . c . youtube . com 203.208.46.29 o - o . preferred . sjc07s15 . v23 . lscache5 . c . youtube . com 203.208.46.29 o - o . preferred . sjc07s15 . v24 . lscache5 . c . youtube . com 203.208.46.29 o - o . preferred . sjc07s15 . v1 . lscache6 . c . youtube . com 203.208.46.29 o - o . preferred . sjc07s15 . v2 . lscache6 . c . youtube . com 203.208.46.29 o - o . preferred . sjc07s15 . v3 . lscache6 . c . youtube . com 203.208.46.29 o - o . preferred . sjc07s15 . v4 . lscache6 . c . youtube . com 203.208.46.29 o - o . preferred . sjc07s15 . v5 . lscache6 . c . youtube . com 203.208.46.29 o - o . preferred . sjc07s15 . v6 . lscache6 . c . youtube . com 203.208.46.29 o - o . preferred . sjc07s15 . v7 . lscache6 . c . youtube . com 203.208.46.29 o - o . preferred . sjc07s15 . v8 . lscache6 . c . youtube . com 203.208.46.29 o - o . preferred . sjc07s15 . v9 . lscache6 . c . youtube . com 203.208.46.29 o - o . preferred . sjc07s15 . v10 . lscache6 . c . youtube . com 203.208.46.29 o - o . preferred . sjc07s15 . v11 . lscache6 . c . youtube . com 203.208.46.29 o - o . preferred . sjc07s15 . v12 . lscache6 . c . youtube . com 203.208.46.29 o - o . preferred . sjc07s15 . v13 . lscache6 . c . youtube . com 203.208.46.29 o - o . preferred . sjc07s15 . v14 . lscache6 . c . youtube . com 203.208.46.29 o - o . preferred . sjc07s15 . v15 . lscache6 . c . youtube . com 203.208.46.29 o - o . preferred . sjc07s15 . v16 . lscache6 . c . youtube . com 203.208.46.29 o - o . preferred . sjc07s15 . v17 . lscache6 . c . youtube . com 203.208.46.29 o - o . preferred . sjc07s15 . v18 . lscache6 . c . youtube . com 203.208.46.29 o - o . preferred . sjc07s15 . v19 . lscache6 . c . youtube . com 203.208.46.29 o - o . preferred . sjc07s15 . v20 . lscache6 . c . youtube . com 203.208.46.29 o - o . preferred . sjc07s15 . v21 . lscache6 . c . youtube . com 203.208.46.29 o - o . preferred . sjc07s15 . v22 . lscache6 . c . youtube . com 203.208.46.29 o - o . preferred . sjc07s15 . v23 . lscache6 . c . youtube . com 203.208.46.29 o - o . preferred . sjc07s15 . v24 . lscache6 . c . youtube . com 203.208.46.29 o - o . preferred . sjc07s15 . v1 . lscache7 . c . youtube . com 203.208.46.29 o - o . preferred . sjc07s15 . v2 . lscache7 . c . youtube . com 203.208.46.29 o - o . preferred . sjc07s15 . v3 . lscache7 . c . youtube . com 203.208.46.29 o - o . preferred . sjc07s15 . v4 . lscache7 . c . youtube . com 203.208.46.29 o - o . preferred . sjc07s15 . v5 . lscache7 . c . youtube . com 203.208.46.29 o - o . preferred . sjc07s15 . v6 . lscache7 . c . youtube . com 203.208.46.29 o - o . preferred . sjc07s15 . v7 . lscache7 . c . youtube . com 203.208.46.29 o - o . preferred . sjc07s15 . v8 . lscache7 . c . youtube . com 203.208.46.29 o - o . preferred . sjc07s15 . v9 . lscache7 . c . youtube . com 203.208.46.29 o - o . preferred . sjc07s15 . v10 . lscache7 . c . youtube . com 203.208.46.29 o - o . preferred . sjc07s15 . v11 . lscache7 . c . youtube . com 203.208.46.29 o - o . preferred . sjc07s15 . v12 . lscache7 . c . youtube . com 203.208.46.29 o - o . preferred . sjc07s15 . v13 . lscache7 . c . youtube . com 203.208.46.29 o - o . preferred . sjc07s15 . v14 . lscache7 . c . youtube . com 203.208.46.29 o - o . preferred . sjc07s15 . v15 . lscache7 . c . youtube . com 203.208.46.29 o - o . preferred . sjc07s15 . v16 . lscache7 . c . youtube . com 203.208.46.29 o - o . preferred . sjc07s15 . v17 . lscache7 . c . youtube . com 203.208.46.29 o - o . preferred . sjc07s15 . v18 . lscache7 . c . youtube . com 203.208.46.29 o - o . preferred . sjc07s15 . v19 . lscache7 . c . youtube . com 203.208.46.29 o - o . preferred . sjc07s15 . v20 . lscache7 . c . youtube . com 203.208.46.29 o - o . preferred . sjc07s15 . v21 . lscache7 . c . youtube . com 203.208.46.29 o - o . preferred . sjc07s15 . v22 . lscache7 . c . youtube . com 203.208.46.29 o - o . preferred . sjc07s15 . v23 . lscache7 . c . youtube . com 203.208.46.29 o - o . preferred . sjc07s15 . v24 . lscache7 . c . youtube . com 203.208.46.29 o - o . preferred . sjc07s15 . v1 . lscache8 . c . youtube . com 203.208.46.29 o - o . preferred . sjc07s15 . v2 . lscache8 . c . youtube . com 203.208.46.29 o - o . preferred . sjc07s15 . v3 . lscache8 . c . youtube . com 203.208.46.29 o - o . preferred . sjc07s15 . v4 . lscache8 . c . youtube . com 203.208.46.29 o - o . preferred . sjc07s15 . v5 . lscache8 . c . youtube . com 203.208.46.29 o - o . preferred . sjc07s15 . v6 . lscache8 . c . youtube . com 203.208.46.29 o - o . preferred . sjc07s15 . v7 . lscache8 . c . youtube . com 203.208.46.29 o - o . preferred . sjc07s15 . v8 . lscache8 . c . youtube . com 203.208.46.29 o - o . preferred . sjc07s15 . v9 . lscache8 . c . youtube . com 203.208.46.29 o - o . preferred . sjc07s15 . v10 . lscache8 . c . youtube . com 203.208.46.29 o - o . preferred . sjc07s15 . v11 . lscache8 . c . youtube . com 203.208.46.29 o - o . preferred . sjc07s15 . v12 . lscache8 . c . youtube . com 203.208.46.29 o - o . preferred . sjc07s15 . v13 . lscache8 . c . youtube . com 203.208.46.29 o - o . preferred . sjc07s15 . v14 . lscache8 . c . youtube . com 203.208.46.29 o - o . preferred . sjc07s15 . v15 . lscache8 . c . youtube . com 203.208.46.29 o - o . preferred . sjc07s15 . v16 . lscache8 . c . youtube . com 203.208.46.29 o - o . preferred . sjc07s15 . v17 . lscache8 . c . youtube . com 203.208.46.29 o - o . preferred . sjc07s15 . v18 . lscache8 . c . youtube . com 203.208.46.29 o - o . preferred . sjc07s15 . v19 . lscache8 . c . youtube . com 203.208.46.29 o - o . preferred . sjc07s15 . v20 . lscache8 . c . youtube . com 203.208.46.29 o - o . preferred . sjc07s15 . v21 . lscache8 . c . youtube . com 203.208.46.29 o - o . preferred . sjc07s15 . v22 . lscache8 . c . youtube . com 203.208.46.29 o - o . preferred . sjc07s15 . v23 . lscache8 . c . youtube . com 203.208.46.29 dn . net 125.56.199.9 photos - d . ak . fbcdn . net 125.56.199.9 photos - e . ak . fbcdn . net 125.56.199.9 photos - f . ak . fbcdn . net 125.56.199.9 photos - g . ak . fbcdn . net 125.56.199.9 photos - h . ak . fbcdn . neto - o . preferred . sjc07s15 . v24 . lscache8 . c . youtube . com 203.208.46.29 r1 . pek01s01 . c . youtube . com 203.208.46.29 r2 . pek01s01 . c . youtube . com 203.208.46.29 r3 . pek01s01 . c . youtube . com 203.208.46.29 r4 . pek01s01 . c . youtube . com 203.208.46.29 r5 . pek01s01 . c . youtube . com 203.208.46.29 r6 . pek01s01 . c . youtube . com 203.208.46.29 r7 . pek01s01 . c . youtube . com 203.208.46.29 r8 . pek01s01 . c . youtube . com 203.208.46.29 r9 . pek01s01 . c . youtube . com 203.208.46.29 r10 . pek01s01 . c . youtube . com 203.208.46.29 r11 . pek01s01 . c . youtube . com 203.208.46.29 r12 . pek01s01 . c . youtube . com 203.208.46.29 r13 . pek01s01 . c . youtube . com 203.208.46.29 r14 . pek01s01 . c . youtube . com 203.208.46.29 r15 . pek01s01 . c . youtube . com 203.208.46.29 r16 . pek01s01 . c . youtube . com 203.208.46.29 r17 . pek01s01 . c . youtube . com 203.208.46.29 r18 . pek01s01 . c . youtube . com 203.208.46.29 r19 . pek01s01 . c . youtube . com 203.208.46.29 r20 . pek01s01 . c . youtube . com 203.208.46.29 r21 . pek01s01 . c . youtube . com 203.208.46.29 r22 . pek01s01 . c . youtube . com 203.208.46.29 r23 . pek01s01 . c . youtube . com 203.208.46.29 r24 . pek01s01 . c . youtube . com 203.208.46.29 tc . v1 . cache1 . c . youtube . com 203.208.46.29 tc . v2 . cache1 . c . youtube . com 203.208.46.29 tc . v3 . cache1 . c . youtube . com 203.208.46.29 tc . v4 . cache1 . c . youtube . com 203.208.46.29 tc . v5 . cache1 . c . youtube . com 203.208.46.29 tc . v6 . cache1 . c . youtube . com 203.208.46.29 tc . v7 . cache1 . c . youtube . com 203.208.46.29 tc . v8 . cache1 . c . youtube . com 203.208.46.29 tc . v9 . cache1 . c . youtube . com 203.208.46.29 tc . v10 . cache1 . c . youtube . com 203.208.46.29 tc . v11 . cache1 . c . youtube . com 203.208.46.29 tc . v12 . cache1 . c . youtube . com 203.208.46.29 tc . v13 . cache1 . c . youtube . com 203.208.46.29 tc . v14 . cache1 . c . youtube . com 203.208.46.29 tc . v15 . cache1 . c . youtube . com 203.208.46.29 tc . v16 . cache1 . c . youtube . com 203.208.46.29 tc . v17 . cache1 . c . youtube . com 203.208.46.29 tc . v18 . cache1 . c . youtube . com 203.208.46.29 tc . v19 . cache1 . c . youtube . com 203.208.46.29 tc . v20 . cache1 . c . youtube . com 203.208.46.29 tc . v21 . cache1 . c . youtube . com 203.208.46.29 tc . v22 . cache1 . c . youtube . com 203.208.46.29 tc . v23 . cache1 . c . youtube . com 203.208.46.29 tc . v24 . cache1 . c . youtube . com 203.208.46.29 tc . v1 . cache2 . c . youtube . com 203.208.46.29 tc . v2 . cache2 . c . youtube . com 203.208.46.29 tc . v3 . cache2 . c . youtube . com 203.208.46.29 tc . v4 . cache2 . c . youtube . com 203.208.46.29 tc . v5 . cache2 . c . youtube . com 203.208.46.29 tc . v6 . cache2 . c . youtube . com 203.208.46.29 tc . v7 . cache2 . c . youtube . com 203.208.46.29 tc . v8 . cache2 . c . youtube . com 203.208.46.29 tc . v9 . cache2 . c . youtube . com 203.208.46.29 tc . v10 . cache2 . c . youtube . com 203.208.46.29 tc . v11 . cache2 . c . youtube . com 203.208.46.29 tc . v12 . cache2 . c . youtube . com 203.208.46.29 tc . v13 . cache2 . c . youtube . com 203.208.46.29 tc . v14 . cache2 . c . youtube . com 203.208.46.29 tc . v15 . cache2 . c . youtube . com 203.208.46.29 tc . v16 . cache2 . c . youtube . com 203.208.46.29 tc . v17 . cache2 . c . youtube . com 203.208.46.29 tc . v18 . cache2 . c . youtube . com 203.208.46.29 tc . v19 . cache2 . c . youtube . com 203.208.46.29 tc . v20 . cache2 . c . youtube . com 203.208.46.29 tc . v21 . cache2 . c . youtube . com 203.208.46.29 tc . v22 . cache2 . c . youtube . com 203.208.46.29 tc . v23 . cache2 . c . youtube . com 203.208.46.29 tc . v24 . cache2 . c . youtube . com 203.208.46.29 tc . v1 . cache3 . c . youtube . com 203.208.46.29 tc . v2 . cache3 . c . youtube . com 203.208.46.29 tc . v3 . cache3 . c . youtube . com 203.208.46.29 tc . v4 . cache3 . c . youtube . com 203.208.46.29 tc . v5 . cache3 . c . youtube . com 203.208.46.29 tc . v6 . cache3 . c . youtube . com 203.208.46.29 tc . v7 . cache3 . c . youtube . com 203.208.46.29 tc . v8 . cache3 . c . youtube . com 203.208.46.29 tc . v9 . cache3 . c . youtube . com 203.208.46.29 tc . v10 . cache3 . c . youtube . com 203.208.46.29 tc . v11 . cache3 . c . youtube . com 203.208.46.29 tc . v12 . cache3 . c . youtube . com 203.208.46.29 tc . v13 . cache3 . c . youtube . com 203.208.46.29 tc . v14 . cache3 . c . youtube . com 203.208.46.29 tc . v15 . cache3 . c . youtube . com 203.208.46.29 tc . v16 . cache3 . c . youtube . com 203.208.46.29 tc . v17 . cache3 . c . youtube . com 203.208.46.29 tc . v18 . cache3 . c . youtube . com 203.208.46.29 tc . v19 . cache3 . c . youtube . com 203.208.46.29 tc . v20 . cache3 . c . youtube . com 203.208.46.29 tc . v21 . cache3 . c . youtube . com 203.208.46.29 tc . v22 . cache3 . c . youtube . com 203.208.46.29 tc . v23 . cache3 . c . youtube . com 203.208.46.29 tc . v24 . cache3 . c . youtube . com 203.208.46.29 tc . v1 . cache4 . c . youtube . com 203.208.46.29 tc . v2 . cache4 . c . youtube . com 203.208.46.29 tc . v3 . cache4 . c . youtube . com 203.208.46.29 tc . v4 . cache4 . c . youtube . com 203.208.46.29 tc . v5 . cache4 . c . youtube . com 203.208.46.29 tc . v6 . cache4 . c . youtube . com 203.208.46.29 tc . v7 . cache4 . c . youtube . com 203.208.46.29 tc . v8 . cache4 . c . youtube . com 203.208.46.29 tc . v9 . cache4 . c . youtube . com 203.208.46.29 tc . v10 . cache4 . c . youtube . com 203.208.46.29 tc . v11 . cache4 . c . youtube . com 203.208.46.29 tc . v12 . cache4 . c . youtube . com 203.208.46.29 tc . v13 . cache4 . c . youtube . com 203.208.46.29 tc . v14 . cache4 . c . youtube . com 203.208.46.29 tc . v15 . cache4 . c . youtube . com 203.208.46.29 tc . v16 . cache4 . c . youtube . com 203.208.46.29 tc . v17 . cache4 . c . youtube . com 203.208.46.29 tc . v18 . cache4 . c . youtube . com 203.208.46.29 tc . v19 . cache4 . c . youtube . com 203.208.46.29 tc . v20 . cache4 . c . youtube . com 203.208.46.29 tc . v21 . cache4 . c . youtube . com 203.208.46.29 tc . v22 . cache4 . c . youtube . com 203.208.46.29 tc . v23 . cache4 . c . youtube . com 203.208.46.29 tc . v24 . cache4 . c . youtube . com 203.208.46.29 tc . v1 . cache5 . c . youtube . com 203.208.46.29 tc . v2 . cache5 . c . youtube . com 203.208.46.29 tc . v3 . cache5 . c . youtube . com 203.208.46.29 tc . v4 . cache5 . c . youtube . com 203.208.46.29 tc . v5 . cache5 . c . youtube . com 203.208.46.29 tc . v6 . cache5 . c . youtube . com 203.208.46.29 tc . v7 . cache5 . c . youtube . com 203.208.46.29 tc . v8 . cache5 . c . youtube . com 203.208.46.29 tc . v9 . cache5 . c . youtube . com 203.208.46.29 tc . v10 . cache5 . c . youtube . com 203.208.46.29 tc . v11 . cache5 . c . youtube . com 203.208.46.29 tc . v12 . cache5 . c . youtube . com 203.208.46.29 tc . v13 . cache5 . c . youtube . com 203.208.46.29 tc . v14 . cache5 . c . youtube . com 203.208.46.29 tc . v15 . cache5 . c . youtube . com 203.208.46.29 tc . v16 . cache5 . c . youtube . com 203.208.46.29 tc . v17 . cache5 . c . youtube . com 203.208.46.29 tc . v18 . cache5 . c . youtube . com 203.208.46.29 tc . v19 . cache5 . c . youtube . com 203.208.46.29 tc . v20 . cache5 . c . youtube . com 203.208.46.29 tc . v21 . cache5 . c . youtube . com 203.208.46.29 tc . v22 . cache5 . c . youtube . com 203.208.46.29 tc . v23 . cache5 . c . youtube . com 203.208.46.29 tc . v24 . cache5 . c . youtube . com 203.208.46.29 tc . v1 . cache6 . c . youtube . com 203.208.46.29 tc . v2 . cache6 . c . youtube . com 203.208.46.29 tc . v3 . cache6 . c . youtube . com 203.208.46.29 tc . v4 . cache6 . c . youtube . com 203.208.46.29 tc . v5 . cache6 . c . youtube . com 203.208.46.29 tc . v6 . cache6 . c . youtube . com 203.208.46.29 tc . v7 . cache6 . c . youtube . com 203.208.46.29 tc . v8 . cache6 . c . youtube . com 203.208.46.29 tc . v9 . cache6 . c . youtube . com 203.208.46.29 tc . v10 . cache6 . c . youtube . com 203.208.46.29 tc . v11 . cache6 . c . youtube . com 203.208.46.29 tc . v12 . cache6 . c . youtube . com 203.208.46.29 tc . v13 . cache6 . c . youtube . com 203.208.46.29 tc . v14 . cache6 . c . youtube . com 203.208.46.29 tc . v15 . cache6 . c . youtube . com 203.208.46.29 tc . v16 . cache6 . c . youtube . com 203.208.46.29 tc . v17 . cache6 . c . youtube . com 203.208.46.29 tc . v18 . cache6 . c . youtube . com 203.208.46.29 tc . v19 . cache6 . c . youtube . com 203.208.46.29 tc . v20 . cache6 . c . youtube . com 203.208.46.29 tc . v21 . cache6 . c . youtube . com 203.208.46.29 tc . v22 . cache6 . c . youtube . com 203.208.46.29 tc . v23 . cache6 . c . youtube . com 203.208.46.29 tc . v24 . cache6 . c . youtube . com 203.208.46.29 tc . v1 . cache7 . c . youtube . com 203.208.46.29 tc . v2 . cache7 . c . youtube . com 203.208.46.29 tc . v3 . cache7 . c . youtube . com 203.208.46.29 tc . v4 . cache7 . c . youtube . com 203.208.46.29 tc . v5 . cache7 . c . youtube . com 203.208.46.29 tc . v6 . cache7 . c . youtube . com 203.208.46.29 tc . v7 . cache7 . c . youtube . com 203.208.46.29 tc . v8 . cache7 . c . youtube . com 203.208.46.29 tc . v9 . cache7 . c . youtube . com 203.208.46.29 tc . v10 . cache7 . c . youtube . com 203.208.46.29 tc . v11 . cache7 . c . youtube . com 203.208.46.29 tc . v12 . cache7 . c . youtube . com 203.208.46.29 tc . v13 . cache7 . c . youtube . com 203.208.46.29 tc . v14 . cache7 . c . youtube . com 203.208.46.29 tc . v15 . cache7 . c . youtube . com 203.208.46.29 tc . v16 . cache7 . c . youtube . com 203.208.46.29 tc . v17 . cache7 . c . youtube . com 203.208.46.29 tc . v18 . cache7 . c . youtube . com 203.208.46.29 tc . v19 . cache7 . c . youtube . com 203.208.46.29 tc . v20 . cache7 . c . youtube . com 203.208.46.29 tc . v21 . cache7 . c . youtube . com 203.208.46.29 tc . v22 . cache7 . c . youtube . com 203.208.46.29 tc . v23 . cache7 . c . youtube . com 203.208.46.29 tc . v24 . cache7 . c . youtube . com 203.208.46.29 tc . v1 . cache8 . c . youtube . com 203.208.46.29 tc . v2 . cache8 . c . youtube . com 203.208.46.29 tc . v3 . cache8 . c . youtube . com 203.208.46.29 tc . v4 . cache8 . c . youtube . com 203.208.46.29 tc . v5 . cache8 . c . youtube . com 203.208.46.29 tc . v6 . cache8 . c . youtube . com 203.208.46.29 tc . v7 . cache8 . c . youtube . com 203.208.46.29 tc . v8 . cache8 . c . youtube . com 203.208.46.29 tc . v9 . cache8 . c . youtube . com 203.208.46.29 tc . v10 . cache8 . c . youtube . com 203.208.46.29 tc . v11 . cache8 . c . youtube . com 203.208.46.29 tc . v12 . cache8 . c . youtube . com 203.208.46.29 tc . v13 . cache8 . c . youtube . com 203.208.46.29 tc . v14 . cache8 . c . youtube . com 203.208.46.29 tc . v15 . cache8 . c . youtube . com 203.208.46.29 tc . v16 . cache8 . c . youtube . com 203.208.46.29 tc . v17 . cache8 . c . youtube . com 203.208.46.29 tc . v18 . cache8 . c . youtube . com 203.208.46.29 tc . v19 . cache8 . c . youtube . com 203.208.46.29 tc . v20 . cache8 . c . youtube . com 203.208.46.29 tc . v21 . cache8 . c . youtube . com 203.208.46.29 tc . v22 . cache8 . c . youtube . com 203.208.46.29 tc . v23 . cache8 . c . youtube . com 203.208.46.29 tc . v24 . cache8 . c . youtube . com 203.208.46.29 v1 . lscache1 . c . youtube . com 203.208.46.29 v2 . lscache1 . c . youtube . com 203.208.46.29 v3 . lscache1 . c . youtube . com 203.208.46.29 v4 . lscache1 . c . youtube . com 203.208.46.29 v5 . lscache1 . c . youtube . com 203.208.46.29 v6 . lscache1 . c . youtube . com 203.208.46.29 v7 . lscache1 . c . youtube . com 203.208.46.29 v8 . lscache1 . c . youtube . com 203.208.46.29 v9 . lscache1 . c . youtube . com 203.208.46.29 v10 . lscache1 . c . youtube . com 203.208.46.29 v11 . lscache1 . c . youtube . com 203.208.46.29 v12 . lscache1 . c . youtube . com 203.208.46.29 v13 . lscache1 . c . youtube . com 203.208.46.29 v14 . lscache1 . c . youtube . com 203.208.46.29 v15 . lscache1 . c . youtube . com 203.208.46.29 v16 . lscache1 . c . youtube . com 203.208.46.29 v17 . lscache1 . c . youtube . com 203.208.46.29 v18 . lscache1 . c . youtube . com 203.208.46.29 v19 . lscache1 . c . youtube . com 203.208.46.29 v20 . lscache1 . c . youtube . com 203.208.46.29 v21 . lscache1 . c . youtube . com 203.208.46.29 v22 . lscache1 . c . youtube . com 203.208.46.29 v23 . lscache1 . c . youtube . com 203.208.46.29 v24 . lscache1 . c . youtube . com 203.208.46.29 v1 . lscache2 . c . youtube . com 203.208.46.29 v2 . lscache2 . c . youtube . com 203.208.46.29 v3 . lscache2 . c . youtube . com 203.208.46.29 v4 . lscache2 . c . youtube . com 203.208.46.29 v5 . lscache2 . c . youtube . com 203.208.46.29 v6 . lscache2 . c . youtube . com 203.208.46.29 v7 . lscache2 . c . youtube . com 203.208.46.29 v8 . lscache2 . c . youtube . com 203.208.46.29 v9 . lscache2 . c . youtube . com 203.208.46.29 v10 . lscache2 . c . youtube . com 203.208.46.29 v11 . lscache2 . c . youtube . com 203.208.46.29 v12 . lscache2 . c . youtube . com 203.208.46.29 v13 . lscache2 . c . youtube . com 203.208.46.29 v14 . lscache2 . c . youtube . com 203.208.46.29 v15 . lscache2 . c . youtube . com 203.208.46.29 v16 . lscache2 . c . youtube . com 203.208.46.29 v17 . lscache2 . c . youtube . com 203.208.46.29 v18 . lscache2 . c . youtube . com 203.208.46.29 v19 . lscache2 . c . youtube . com 203.208.46.29 v20 . lscache2 . c . youtube . com 203.208.46.29 v21 . lscache2 . c . youtube . com 203.208.46.29 v22 . lscache2 . c . youtube . com 203.208.46.29 v23 . lscache2 . c . youtube . com 203.208.46.29 v24 . lscache2 . c . youtube . com 203.208.46.29 v1 . lscache3 . c . youtube . com 203.208.46.29 v2 . lscache3 . c . youtube . com 203.208.46.29 v3 . lscache3 . c . youtube . com 203.208.46.29 v4 . lscache3 . c . youtube . com 203.208.46.29 v5 . lscache3 . c . youtube . com 203.208.46.29 v6 . lscache3 . c . youtube . com 203.208.46.29 v7 . lscache3 . c . youtube . com 203.208.46.29 v8 . lscache3 . c . youtube . com 203.208.46.29 v9 . lscache3 . c . youtube . com 203.208.46.29 v10 . lscache3 . c . youtube . com 203.208.46.29 v11 . lscache3 . c . youtube . com 203.208.46.29 v12 . lscache3 . c . youtube . com 203.208.46.29 v13 . lscache3 . c . youtube . com 203.208.46.29 v14 . lscache3 . c . youtube . com 203.208.46.29 v15 . lscache3 . c . youtube . com 203.208.46.29 v16 . lscache3 . c . youtube . com 203.208.46.29 v17 . lscache3 . c . youtube . com 203.208.46.29 v18 . lscache3 . c . youtube . com 203.208.46.29 v19 . lscache3 . c . youtube . com 203.208.46.29 v20 . lscache3 . c . youtube . com 203.208.46.29 v21 . lscache3 . c . youtube . com 203.208.46.29 v22 . lscache3 . c . youtube . com 203.208.46.29 v23 . lscache3 . c . youtube . com 203.208.46.29 v24 . lscache3 . c . youtube . com 203.208.46.29 v1 . lscache4 . c . youtube . com 203.208.46.29 v2 . lscache4 . c . youtube . com 203.208.46.29 v3 . lscache4 . c . youtube . com 203.208.46.29 v4 . lscache4 . c . youtube . com 203.208.46.29 v5 . lscache4 . c . youtube . com 203.208.46.29 v6 . lscache4 . c . youtube . com 203.208.46.29 v7 . lscache4 . c . youtube . com 203.208.46.29 v8 . lscache4 . c . youtube . com 203.208.46.29 v9 . lscache4 . c . youtube . com 203.208.46.29 v10 . lscache4 . c . youtube . com 203.208.46.29 v11 . lscache4 . c . youtube . com 203.208.46.29 v12 . lscache4 . c . youtube . com 203.208.46.29 v13 . lscache4 . c . youtube . com 203.208.46.29 v14 . lscache4 . c . youtube . com 203.208.46.29 v15 . lscache4 . c . youtube . com 203.208.46.29 v16 . lscache4 . c . youtube . com 203.208.46.29 v17 . lscache4 . c . youtube . com 203.208.46.29 v18 . lscache4 . c . youtube . com 203.208.46.29 v19 . lscache4 . c . youtube . com 203.208.46.29 v20 . lscache4 . c . youtube . com 203.208.46.29 v21 . lscache4 . c . youtube . com 203.208.46.29 v22 . lscache4 . c . youtube . com 203.208.46.29 v23 . lscache4 . c . youtube . com 203.208.46.29 v24 . lscache4 . c . youtube . com 203.208.46.29 v1 . lscache5 . c . youtube . com 203.208.46.29 v2 . lscache5 . c . youtube . com 203.208.46.29 v3 . lscache5 . c . youtube . com 203.208.46.29 v4 . lscache5 . c . youtube . com 203.208.46.29 v5 . lscache5 . c . youtube . com 203.208.46.29 v6 . lscache5 . c . youtube . com 203.208.46.29 v7 . lscache5 . c . youtube . com 203.208.46.29 v8 . lscache5 . c . youtube . com 203.208.46.29 v9 . lscache5 . c . youtube . com 203.208.46.29 v10 . lscache5 . c . youtube . com 203.208.46.29 v11 . lscache5 . c . youtube . com 203.208.46.29 v12 . lscache5 . c . youtube . com 203.208.46.29 v13 . lscache5 . c . youtube . com 203.208.46.29 v14 . lscache5 . c . youtube . com 203.208.46.29 v15 . lscache5 . c . youtube . com 203.208.46.29 v16 . lscache5 . c . youtube . com 203.208.46.29 v17 . lscache5 . c . youtube . com 203.208.46.29 v18 . lscache5 . c . youtube . com 203.208.46.29 v19 . lscache5 . c . youtube . com 203.208.46.29 v20 . lscache5 . c . youtube . com 203.208.46.29 v21 . lscache5 . c . youtube . com 203.208.46.29 v22 . lscache5 . c . youtube . com 203.208.46.29 v23 . lscache5 . c . youtube . com 203.208.46.29 v24 . lscache5 . c . youtube . com 203.208.46.29 v1 . lscache6 . c . youtube . com 203.208.46.29 v2 . lscache6 . c . youtube . com 203.208.46.29 v3 . lscache6 . c . youtube . com 203.208.46.29 v4 . lscache6 . c . youtube . com 203.208.46.29 v5 . lscache6 . c . youtube . com 203.208.46.29 v6 . lscache6 . c . youtube . com 203.208.46.29 v7 . lscache6 . c . youtube . com 203.208.46.29 v8 . lscache6 . c . youtube . com 203.208.46.29 v9 . lscache6 . c . youtube . com 203.208.46.29 v10 . lscache6 . c . youtube . com 203.208.46.29 v11 . lscache6 . c . youtube . com 203.208.46.29 v12 . lscache6 . c . youtube . com 203.208.46.29 v13 . lscache6 . c . youtube . com 203.208.46.29 v14 . lscache6 . c . youtube . com 203.208.46.29 v15 . lscache6 . c . youtube . com 203.208.46.29 v16 . lscache6 . c . youtube . com 203.208.46.29 v17 . lscache6 . c . youtube . com 203.208.46.29 v18 . lscache6 . c . youtube . com 203.208.46.29 v19 . lscache6 . c . youtube . com 203.208.46.29 v20 . lscache6 . c . youtube . com 203.208.46.29 v21 . lscache6 . c . youtube . com 203.208.46.29 v22 . lscache6 . c . youtube . com 203.208.46.29 v23 . lscache6 . c . youtube . com 203.208.46.29 v24 . lscache6 . c . youtube . com 203.208.46.29 v1 . lscache7 . c . youtube . com 203.208.46.29 v2 . lscache7 . c . youtube . com 203.208.46.29 v3 . lscache7 . c . youtube . com 203.208.46.29 v4 . lscache7 . c . youtube . com 203.208.46.29 v5 . lscache7 . c . youtube . com 203.208.46.29 v6 . lscache7 . c . youtube . com 203.208.46.29 v7 . lscache7 . c . youtube . com 203.208.46.29 v8 . lscache7 . c . youtube . com 203.208.46.29 v9 . lscache7 . c . youtube . com 203.208.46.29 v10 . lscache7 . c . youtube . com 203.208.46.29 v11 . lscache7 . c . youtube . com 203.208.46.29 v12 . lscache7 . c . youtube . com 203.208.46.29 v13 . lscache7 . c . youtube . com 203.208.46.29 v14 . lscache7 . c . youtube . com 203.208.46.29 v15 . lscache7 . c . youtube . com 203.208.46.29 v16 . lscache7 . c . youtube . com 203.208.46.29 v17 . lscache7 . c . youtube . com 203.208.46.29 v18 . lscache7 . c . youtube . com 203.208.46.29 v19 . lscache7 . c . youtube . com 203.208.46.29 v20 . lscache7 . c . youtube . com 203.208.46.29 v21 . lscache7 . c . youtube . com 203.208.46.29 v22 . lscache7 . c . youtube . com 203.208.46.29 v23 . lscache7 . c . youtube . com 203.208.46.29 v24 . lscache7 . c . youtube . com 203.208.46.29 v1 . lscache8 . c . youtube . com 203.208.46.29 v2 . lscache8 . c . youtube . com 203.208.46.29 v3 . lscache8 . c . youtube . com 203.208.46.29 v4 . lscache8 . c . youtube . com 203.208.46.29 v5 . lscache8 . c . youtube . com 203.208.46.29 v6 . lscache8 . c . youtube . com 203.208.46.29 v7 . lscache8 . c . youtube . com 203.208.46.29 v8 . lscache8 . c . youtube . com 203.208.46.29 v9 . lscache8 . c . youtube . com 203.208.46.29 v10 . lscache8 . c . youtube . com 203.208.46.29 v11 . lscache8 . c . youtube . com 203.208.46.29 v12 . lscache8 . c . youtube . com 203.208.46.29 v13 . lscache8 . c . youtube . com 203.208.46.29 v14 . lscache8 . c . youtube . com 203.208.46.29 v15 . lscache8 . c . youtube . com 203.208.46.29 v16 . lscache8 . c . youtube . com 203.208.46.29 v17 . lscache8 . c . youtube . com 203.208.46.29 v18 . lscache8 . c . youtube . com 203.208.46.29 v19 . lscache8 . c . youtube . com 203.208.46.29 v20 . lscache8 . c . youtube . com 203.208.46.29 v21 . lscache8 . c . youtube . com 203.208.46.29 v22 . lscache8 . c . youtube . com 203.208.46.29 v23 . lscache8 . c . youtube . com 203.208.46.29 v24 . lscache8 . c . youtube . com #Twitter 199.59.148.84 oauth . twitter . com 199.59.148.84 twitter . com 199.59.148.84 www . twitter . com 199.59.148.84 api . twitter . com 199.59.148.201 search . twitter . com 199.59.148.139 userstream . twitter . com 199.59.148.84 ssl . twitter . com 199.59.148.84 status . twitter . com 199.59.148.84 assets0 . twitter . com 199.59.148.84 assets1 . twitter . com 199.59.148.84 assets2 . twitter . com 199.59.148.84 assets3 . twitter . com 199.59.148.84 static . twitter . com 184.29.36.124 platform . twitter . com 219.76.10.138 platform0 . twitter . com 199.59.148.206 help . twitter . com 199.59.148.206 support . twitter . com 209.84.4.102 si0 . twimg . com 209.84.4.102 si1 . twimg . com 209.84.4.102 si2 . twimg . com 209.84.4.102 si3 . twimg . com 209.84.4.102 si4 . twimg . com 209.84.4.102 si5 . twimg . com #Facebook è„¸è°±ç½‘ ï¼ˆ å°šæœªå®Œå…¨éƒ¨ç½² ï¼‰ 69.63.189.16 facebook . com 69.63.189.16 www . facebook . com 69.63.181.31 m . facebook . com 69.63.181.20 login . facebook . com 69.63.179.70 secure . facebook . com 66.220.146.18 apps . facebook . com 69.63.181.31 touch . facebook . com 118.214.114.110 s - static . ak . facebook . com 66.220.147.47 api . facebook . com 69.63.181.16 zh - CN . facebook . com 202.157.186.28 static . ak . facebook . com 202.157.186.34 b . static . ak . facebook . com 69.63.178.57 secure - profile . facebook . com 69.63.178.57 secure - media - sf2p . facebook . com 69.63.178.15 ssl . facebook . com 69.63.190.18 apps . facebook . com 118.214.190.105 profile . ak . facebook . com #Facebook web 69.63.187.17 fbcdn . net 97.65.135.139 external . ak . fbcdn . net 124.155.222.50 vthumb . ak . fbcdn . net 97.65.135.163 static . ak . fbcdn . net 97.65.135.163 b . static . ak . fbcdn . net 202.157.186.34 creative . ak . fbcdn . net 118.214.190.128 profile . ak . fbcdn . net 69.63.176.21 s - hprofile - sf2p . fbcdn . net 125.56.199.9 photos - a . ak . fbcdn . net 125.56.199.9 photos - b . ak . fbcdn . net 125.56.199.9 photos - c . ak . fbcdn . net 125.56.199.9 photos - d . ak . fbcdn . net 125.56.199.9 photos - e . ak . fbcdn . net 125.56.199.9 photos - f . ak . fbcdn . net 125.56.199.9 photos - g . ak . fbcdn . net 125.56.199.9 photos - h . ak . fbcdn . net","tags":"soft","title":"ä¿®æ”¹hostè®¿é—®googleçš„æ‰€æœ‰æœåŠ¡"},{"url":"https://x-wei.github.io/soft/pelican_github_blog.html","text":"2016æ›´æ–° æ–°åšå®¢ç”¨äº†pelican3, å‚è€ƒ è¿™é‡Œ æŠ˜è…¾äº†è®¸ä¹…, ç»ˆäºæŠŠ æˆ‘çš„åšå®¢ æå¾—å·®ä¸å¤šäº†, åœ¨æ­¤å†™ä¸€ä¸ªæ€»ç»“, ä»¥å…è‡ªå·±ä»¥åå¿˜äº†, å¹¶ä¸”ç»™å’Œæˆ‘ä¸€æ ·èœçš„äººæä¾›ä¸€ç‚¹å‚è€ƒ.... å…ˆæ‰¯ç‚¹åˆ«çš„ å…¶å®å•Š, å¾ˆæ—©å°±æƒ³è¦å»ºç«‹è‡ªå·±çš„åšå®¢, æŠŠå€¼å¾—åˆ†äº«çš„ä¸œè¥¿æ‹¿å‡ºæ¥æ”¾åˆ°ç½‘ä¸Š, ä½†æ˜¯åˆä¸å±‘äºä½¿ç”¨ç½‘æ˜“, ç™¾åº¦ç­‰æä¾›çš„ç°æˆæœåŠ¡, æŠ€æœ¯åˆå¾ˆèœ... äºæ˜¯ä¸€ç›´æ‹–ç€. zimçš„å‡ºç°è®©æˆ‘å¾ˆæ¬£å–œ--zimå¯ä»¥å†™ç±»ä¼¼äºåšå®¢çš„ä¸œè¥¿(ä¸è¿‡æ˜¯ç»™è‡ªå·±çœ‹çš„~), è®°å½•æœ‰ä»·å€¼çš„å†…å®¹. ä½†æ˜¯æ€ä¹ˆæŠŠæˆ‘çš„ä¸€äº›æ€»ç»“æ”¾åˆ°ç½‘ä¸Š?? æˆ‘å…ˆåè€ƒè™‘äº†è¿™äº›ä¸œè¥¿: googlesite-->wordpress-->jekyll+github-->pelican+github googlesiteæ˜¯ä¸ªå¾ˆå¥½çš„å·¥å…·, å¾ˆå®¹æ˜“ä¸Šæ‰‹ (googleå¥½èµ...), æˆ‘æ›¾ç»ç”¨å®ƒåšè¿‡ä¸€ä¸ªä¸ªäººé¡µé¢. ä½†æ˜¯è¿™ç§å‚»ç“œå·¥å…·çš„ç¼ºç‚¹å°±æ˜¯: æ²¡æ³•è‡ªå·±å®šåˆ¶... å½“æˆ‘å‘ç°googlesiteçš„bolgé¡µé¢ä¸æ”¯æŒæ ‡ç­¾äº‘çš„æ—¶å€™, å°±å†³å®šä¸ç”¨å®ƒäº†... å†µä¸”googlesiteåœ¨å›½å†…éœ€è¦ä¿®æ”¹ä¸€ä¸‹hostæ‰èƒ½è®¿é—®... ç„¶åæ˜¯wordpress, è¿™ä¸ªä¼¼ä¹ç›®å‰ä¹Ÿæ˜¯æœ€æµè¡Œçš„ç½‘é¡µåˆ¶ä½œå·¥å…·, æˆ‘çœ‹åˆ°äº†å¾ˆå¤šå¾ˆå¤šå¤§ç‰›å°ç‰›ä½¿ç”¨WPæ­å»ºçš„è‡ªå·±çš„ç½‘ç«™, è€Œä¸”éƒ½æ˜¯è‡ªå·±çš„é¡¶çº§åŸŸå, çœ‹ä¸Šå»å°±ç°å¸¸éœ¸æ°”~ å½“æˆ‘ç»ˆäºæœ‰ç©ºæŠ˜è…¾, å…´å†²å†²åœ°ç ”ç©¶WPæ—¶, å´å‘ç° é¡¶çº§åŸŸåæ³¨å†Œéƒ½æ˜¯è¦äº¤é’±çš„ , è¿˜è¦å¼„ä»€ä¹ˆvpn...è¿™... å¤§æ¦‚ä¸é€‚åˆæˆ‘... åœ¨æˆ‘çº ç»“çš„æ—¶å€™, è¯·æ•™äº† dofine åŒå­¦, ä»–æ¨èæˆ‘ä½¿ç”¨ github pages (åæ¥è¯æ˜è¿™æ˜¯éå¸¸æ­£ç¡®çš„~). æ—©å°±å¬è¯´gitå¤§å, åªæ˜¯æˆ‘å¤ªèœäº†... ä¸çŸ¥èƒ½ä¸èƒ½æå®šå•Š... è¿˜å¥½å¯ä»¥éšæ—¶è¯¢é—®dofineåŒå­¦(æœ‰æ—¶æˆ‘çš„é—®é¢˜å¾ˆå¼±æ™º, ä»–è¿˜æ˜¯å¾ˆè€å¿ƒçš„å›ç­”, çœŸå¥½~). github pageå¼„å¥½å, è¦æŒ‰è£…jekyllä½œä¸º é™æ€é¡µé¢ çš„ç”Ÿæˆå·¥å…·. åœ¨ä½¿ç”¨zimçš„æ—¶å€™, æˆ‘å°±å¯¹è½»é‡çº§æ ‡è®°è¯­è¨€éå¸¸å–œæ¬¢, jekyllå¯ä»¥ä½¿ç”¨Markdownæ ¼å¼(æ¯”zimçš„wikiè¯­æ³•è¿˜è¦ç®€æ´), æ‰€ä»¥è¯´åº”è¯¥æ˜¯éå¸¸å¥½çš„é€‰æ‹©. ä½†æ˜¯æˆ‘åœ¨jekyllçš„å®‰è£…è¿™ä¸€æ­¥å¡ä½äº† ... ç”±äºæˆ‘ç”¨çš„æ˜¯ubuntu10.04, å®‰è£…å„ç§æŠ¥é”™... æ›´æ–°äº†rubygemä¹‹åä»¥ä¸ºæˆåŠŸäº†, ä½†æ˜¯è¿è¡Œjekyllè¿˜æ˜¯ä¸è¡Œ... æŠ˜è…¾äº†ä¸¤å¤©å, æˆ‘å†³å®šæš‚æ—¶æ”¾å¼ƒäº†... å°±åœ¨çº ç»“ä¹‹æ—¶, æŠ¥ç€è¯•ä¸€è¯•çš„æ€åº¦, åœ¨ yssy çš„gnu/linuxç‰ˆä¸Šé—®äº†ä¸€ä¸‹, å¾—åˆ°äº† farseerfc å­¦é•¿éå¸¸çƒ­æƒ…è€å¿ƒçš„å›ç­”. ä»–å»ºè®®æˆ‘ é‡‡ç”¨pelican æ¥ç”Ÿæˆé™æ€é¡µé¢, è¿™æ˜¯ä¸€ä¸ªæ³•å›½äººç”¨pythonå†™çš„ç¨‹åº. æˆ‘å¾ˆå®¹æ˜“å°±å®‰è£…å¥½äº†, ç„¶ååˆæŠ˜è…¾äº†è®¸ä¹…, ç°åœ¨ç»ˆäºåŸºæœ¬æå®š...... æ„Ÿè§‰pelicanè¿˜æ˜¯ç›¸å½“ä¸é”™çš„é€‰æ‹©, é…ç½®å¥½äº†ä¹‹åå°±å¯ä»¥å®‰å¿ƒå†™æ–‡ç« äº†... ç¬¬ä¸€æ­¥: ç”Ÿæˆgithub page ç¬¬ä¸€æ­¥è¦åšçš„å°±æ˜¯æ³¨å†Œgithub, ç”Ÿæˆä¸€ä¸ªè‡ªå·±çš„äºŒçº§åŸŸå(æ¯”å¦‚æˆ‘çš„x-wei.github.com). æ³¨å†Œå’Œé…ç½®SSHå¯†é’¥è¿‡ç¨‹ help page å†™å¾—å¾ˆæ¸…æ¥š, è™½ç„¶æˆ‘è¿SSHæ˜¯ä»€ä¹ˆéƒ½æä¸æ¸…, æŒ‰å®ƒè¯´çš„ä¸€æ­¥ä¸€æ­¥åš, å¾ˆå®¹æ˜“å°±æå®šäº†. ç„¶åè¦æ–°å»ºä¸€ä¸ªrepo(ä¸­æ–‡ç¿»è¯‘æˆ\"ä¾èµ–\"?), æ³¨æ„ è¿™ä¸ªrepoéœ€è¦å‘½åæˆ: your_id.github.com , æ‰€ä»¥ä¸€ä¸ªidåªèƒ½ç”Ÿæˆä¸€ä¸ªå•¦... ç”Ÿæˆè¿™ä¸ªrepoåä¼šæœ‰æç¤º, è¿è¡Œä¸€ä¸‹mkdir, git initä»€ä¹ˆçš„å°±OKäº†. è¿™æ ·, å»ºç«‹å¥½äº†your_id.github.comçš„repoä¹‹å, åªè¦æŠŠä¸€ä¸ªindex.htmlæ–‡ä»¶ä¸Šä¼ åˆ°masteråˆ†æ”¯, å°±å¯ä»¥è®¿é—®your_id.github.comçœ‹åˆ°é‚£ä¸ªindex.htmlæ–‡ä»¶äº†~ ç¬¬äºŒæ­¥: å®‰è£…å’Œä½¿ç”¨pelican pelicançš„å®‰è£…éœ€è¦ç”¨åˆ°pip: $sudo apt-get install python-pip ç„¶åå†ç”¨pipå®‰è£…pelican: $sudo pip install pelican è¿™æ ·, å®‰è£…å°±å®Œæˆäº†~ pelicançš„ä½¿ç”¨å¾ˆç®€å•, è¿™æ˜¯å¸®åŠ©ä¿¡æ¯: $ pelican - h usage : pelican [ -h ] [ -t THEME ] [ -o OUTPUT ] [ -m MARKUP ] [ -s SETTINGS ] [ -d ] [ -v ] [ -q ] [ -D ] [ --version ] [ -r ] [ path ] A tool to generate a static blog , with restructured text input files . positional arguments : path Path where to find the content files optional arguments : - h , --help show this help message and exit - t THEME , --theme-path THEME Path where to find the theme templates . If not specified , itwill use the default one included with pelican . - o OUTPUT , --output OUTPUT Where to output the generated files . If not specified , a directory will be created , named \"output\" in the current path . - m MARKUP , --markup MARKUP the list of markup language to use ( rst or md ). Please indicate them separated by commas - s SETTINGS , --settings SETTINGS the settings of the application . Default to False . - d , --delete-output-directory Delete the output directory . - v , --verbose Show all messages - q , --quiet Show only critical errors - D , --debug Show all message, including debug messages --version Print the pelican version and exit - r , --autoreload Relaunch pelican each time a modification occurs on the contentfiles é¢, å…¶å®é‚£äº›å‚æ•°å¯ä»¥å…ˆæ— è§†(ç›´æ¥ç”¨é»˜è®¤å‚æ•°)... é‚£ä¹ˆç”¨æ³•å°±å¾ˆç®€å•äº†: $pelican [path] , å…¶ä¸­, pathæ˜¯æ”¾ç½®markdownæˆ–rstæ–‡ä»¶çš„ç›®å½•. å¦‚æœæ‰‹å¤´æœ‰å‡ ç¯‡.mdæ–‡ä»¶æˆ–.rstæ–‡ä»¶, é‚£ä¹ˆåªè¦: $pelican [.md/.rstæ–‡ä»¶æ‰€åœ¨ç›®å½•] å°±ä¼šçœ‹åˆ°æ•ˆæœäº†... å¤§æ¦‚ä¼šåœ¨ä¸€ä¸ª'output'ç›®å½•é‡Œ, æ‰“å¼€index.htmlå°±å¯ä»¥çœ‹åˆ°ç”Ÿæˆçš„é¡µé¢, åªè¦æŠŠè¿™äº›ç”Ÿæˆçš„æ–‡ä»¶pushåˆ°githubçš„masteråˆ†æ”¯, ä½ çš„åšå®¢å°±å»ºå¥½äº†~~ å¦å¤–, æŠŠ.mdæ–‡ä»¶åˆ†åˆ«æ”¾åœ¨å‡ ä¸ªå­ç›®å½•, é‚£ä¹ˆç”Ÿæˆçš„é¡µé¢æ˜¾ç¤ºå±äºä¸åŒåˆ†ç±»çš„æ–‡ç« äº†~ å…³äºpelicançš„é…ç½®, å¾…ä¼šå†è¯´, å…ˆè¯´è¯´gitçš„ä¸Šä¼ ... ç¬¬ä¸‰æ­¥: ç¼–è¾‘.md/.rstæ–‡ä»¶ markdownå’Œrstéƒ½æ˜¯éå¸¸ä¼˜ç§€çš„è½»é‡çº§æ ‡è®°è¯­è¨€, å¯ä»¥å¾ˆæ–¹ä¾¿çš„å†™å‡ºæ•´æ´æ¼‚äº®çš„ç¬”è®°, ç¼–å†™åšå®¢æ–‡ç« åªè¦å†™æˆä¸€ä¸ªä¸€ä¸ªçš„.mdæˆ–.rstæ–‡ä»¶ç„¶åäº¤ç»™pelicanå°±OKäº†. å…³äºè¿™ä¸¤ç§æ ¼å¼çš„è¯­æ³•, å…¶å®æˆ‘è‡ªå·±è¿˜ä¸å¤ªç†Ÿæ‚‰å‘¢... ç½‘ä¸Šæœ‰ä¸å°‘æ•™ç¨‹, æ¯”å¦‚è¿™ä¸ª markdownçš„æ•™ç¨‹ å’Œ è¿™ä¸ªReSTæ•™ç¨‹ ... éœ€è¦æ³¨æ„çš„æ˜¯, åœ¨æ–‡ç« çš„å¼€å¤´è¦æŒ‡å®šä¸€ä¸‹åšå®¢çš„ä¿¡æ¯: åšå®¢æ ‡é¢˜, æ—¶é—´, æ ‡ç­¾... pelicançš„å¸®åŠ©é¡µé¢å„æä¾›äº†ä¸€ä¸ªç¤ºä¾‹(æˆ‘ç¨å¾®ä¿®æ”¹äº†ä¸€ä¸‹): .rstç¤ºä¾‹ My super title ############## : date : 2010 - 10 - 03 10 : 20 : tags : tag1 , tag2 : category : yeah // å¦‚æœæŠŠè¿™ä¸ª rst æ–‡ä»¶æ”¾åœ¨ posts / ä¸‹çš„å­ç›®å½•çš„è¯ , é‚£ä¹ˆè¿™ä¸€è¡Œå¯ä»¥çœç•¥ , é»˜è®¤æŠŠå­æ–‡ä»¶å¤¹åä½œä¸ºåˆ†ç±» : author : Alexis Metaireau // ç”±äº settings æ–‡ä»¶å·²ç»æŒ‡å®šäº†ä½œè€… . è¿™ä¸€è¡Œå¯ä»¥çœç•¥ : slug : test - blog // è¿™ä¸ªæ˜¯æŒ‡å®šç”Ÿæˆé¡µé¢çš„åç§° , æ¯”å¦‚è¿™ä¸ªæ˜¯æŒ‡å®šç”Ÿæˆçš„é¡µé¢åå­—æ˜¯ \"test-blog.html\" è¿™é‡Œå†™åšå®¢å†…å®¹ ... .mdç¤ºä¾‹ Date : 2010 - 12 - 03 Title : My super title Slug : test - blog Tags : tag1 , tag2 è¿™é‡Œå†™åšå®¢å†…å®¹ ... å¦: å…³äºç¼–è¾‘å™¨ ç¼–è¾‘è¿™ç±»æ–‡ä»¶æ—¶æœ€å¥½èƒ½å¤Ÿé¢„è§ˆæ•ˆæœ, linuxä¸‹ç”¨ ReText å³å¯~ ç¬¬å››æ­¥: æŠŠç”Ÿæˆçš„æ–‡ä»¶ä¸Šä¼ åˆ°github ä»¥å‰æ²¡ç”¨è¿‡git, æ‰€ä»¥è¿™ä¸ªè®©æˆ‘å›°æƒ‘äº†å¾ˆé•¿æ—¶é—´... é¦–å…ˆ, åº”è¯¥åœ¨your_id.github.comé¡µé¢ä¸‹æœ‰ä¸€ä¸ª.gitæ–‡ä»¶å¤¹(å¤§æ¦‚æ˜¯git initç”Ÿæˆçš„å§), ç„¶å, æŠŠç”Ÿæˆå¥½äº†çš„é‚£äº›æ–‡ä»¶(æ¯”å¦‚ä¸Šä¸€æ­¥çš„outputæ–‡ä»¶å¤¹é‡Œçš„ä¸œè¥¿)æ”¾åœ¨è¿™ä¸ªç›®å½•ä¸‹, ä¾æ¬¡è¿è¡Œä»¥ä¸‹ä¸‰ä¸ªå‘½ä»¤: $git add . $git commit -am \"your commit message\" $git push é¢ æ˜¯çš„, éœ€è¦ä¸‰æ¡å‘½ä»¤æ‰èƒ½å®Œæˆä¸Šä¼ ... å¦å¤–, è²Œä¼¼è¿™æ ·ä¼šè¦†ç›–æ‰åŸå…ˆçš„é‚£äº›æ–‡ä»¶, ä¸å¿…æ‹…å¿ƒ, githubæœ‰historyåŠŸèƒ½(æˆ‘çš„ç†è§£ å¯èƒ½è·Ÿå¿«ç…§æœ‰ç‚¹ç±»ä¼¼å§), åŸå…ˆçš„ä¸œè¥¿åº”è¯¥å¯ä»¥æ‰¾å›æ¥... pushå®Œæˆå, ä½ çš„æ³¨å†Œé‚®ç®±ä¼šæ”¶åˆ°é‚®ä»¶\"page built successful\", å¦‚æœæ˜¯ç¬¬ä¸€æ¬¡ç”Ÿæˆçš„è¯, æœ€å¤šç­‰10åˆ†é’Ÿ, ä½ å°±å¯ä»¥è®¿é—®your_id.github.comçœ‹åˆ°æ•ˆæœå•¦~~ ç¬¬äº”æ­¥: pelicançš„è¿›ä¸€æ­¥é…ç½® å¦‚æœæŒ‰ç…§é»˜è®¤çš„å‚æ•°, ç›´æ¥$pelican pathçš„è¯, ä¼°è®¡ä¸ä¼šå¾—åˆ°è®©ä½ æ»¡æ„çš„é¡µé¢--è‡³å°‘ç½‘ç«™åå­—è¦æ”¹ä¸€ä¸‹å§!! è¿˜æœ‰, é»˜è®¤çš„ä¸»é¢˜æ²¡æœ‰æ ‡ç­¾äº‘, åæ­£æˆ‘æ¯”è¾ƒæƒ³è¦è¿™ä¸ªåŠŸèƒ½... farseerfcç»™äº†ä¸€ä¸ª settings.py é…ç½®æ–‡ä»¶, å„ä¸ªå˜é‡çš„åå­—å«ä¹‰åº”è¯¥æ¯”è¾ƒæ¸…æ¥š, æˆ–è€…çœ‹pelicançš„ å¸®åŠ©é¡µé¢ , è¿™ä¸ªé¡µé¢ä¹Ÿæä¾›äº†ä¸€ä¸ªç¤ºä¾‹é…ç½®æ–‡ä»¶. å¯ä»¥åœ¨è¿™ä¿©é…ç½®æ–‡ä»¶åŸºç¡€ä¸Šè¿›è¡Œä¿®æ”¹... ä¿®æ”¹å®Œæˆäº†ä¹‹å, è¿è¡Œpelicanæ—¶åŠ ä¸Š-så‚æ•°æŒ‡å®šsettings.pyä½œä¸ºé…ç½®æ–‡ä»¶: $pelican -s settings.py [.md/.rstæ–‡ä»¶æ‰€åœ¨ç›®å½•] æˆ‘æ˜¯ä»farseerfcçš„é…ç½®æ–‡ä»¶æ”¹çš„, å¤§æ¦‚æ˜¯è¿™ä¸ªæ ·å­: # -*- coding: utf-8 -*- import sys TIMEZONE = 'Asia/Shanghai' DEFAULT_LANG = 'zhs' SITENAME = \"X. Wei's Blog\" AUTHOR = 'X.Wei' DISQUS_SITENAME = 'xweisblog' GITHUB_URL = '<https://github.com/X-Wei>' #githubé“¾æ¥ SITEURL = '<http://x-wei.github.com>' GOOGLE_ANALYTICS = 'UA-30756331-1' #è°·æ­Œç«™ç‚¹åˆ†æ TAG_FEED = 'feeds/ %s .atom.xml' DEFAULT_PAGINATION = 4 #é»˜è®¤æ¯ä¸€é¡µæœ‰å¤šå°‘ç¯‡æ–‡ç«  DEFAULT_CATEGORY = 'misc' OUTPUT_PATH = '.' #éœ€è¦æŠŠè¾“å‡ºè·¯å¾„ä»é»˜è®¤çš„'output'æ”¹æˆæ ¹ç›®å½•(your_id.github.comç›®å½•), å› ä¸ºgithubpageéœ€è¦æŠŠindex.htmlä¸Šä¼ åˆ°repoçš„masteråˆ†æ”¯çš„æ ¹ç›®å½•æ‰å¯ä»¥! PATH = 'posts' #è¿™ä¸ªæ˜¯æŒ‡å®šæ”¾ç½®.md/.rstæ–‡ä»¶çš„ç›®å½• LINKS = (( 'dofine' , '<http://www.dofine.me>' ), ( 'farseerfc' , \"<http://farseerfc.github.com/>\" ), ) #å‹æƒ…é“¾æ¥~ SOCIAL = ( ( 'github' , '<https://github.com/x-wei>' ), ) #ç¤¾äº¤ç½‘ç»œé“¾æ¥ #~ ('twitter', '<http://twitter.com/farseerfc>'), #~ ('facebook', '<http://www.facebook.com/farseerfc>'), #~ ('weibo', '<http://weibo.com/farseerfc>'), #~ ('renren', '<http://www.renren.com/farseer>'), #è¿™ä¸ªæ˜¯farseerfcåŒå­¦è‡ªå·±åŠ çš„, å¯ä»¥æ˜¾ç¤ºä»–çš„æ–°æµªå¾®åšå†…å®¹, æœ‰å¾®åšçš„è¯å¯ä»¥æŠŠè¿™äº›åŠ ä¸Š~ #~ TWITTER_USERNAME = 'farseerfc' #~ SIDEBAR_CUSTOM = r\"\"\" #~ <li class=\"nav-header\"><h4><i class=\"icon-list-alt\"></i>Weibo</h4></li> #~ <iframe width=\"100%\" height=\"550\" class=\"share_self\" frameborder=\"0\" scrolling=\"no\" #~ src=\"<http://widget.weibo.com/weiboshow/index.php?language=&width=0&height=550&fansRow=1&ptype=1&speed=0&skin=2&isTitle=1&noborder=1&isWeibo=1&isFans=1&uid=1862842353&verifier=b193b9de&dpc=1>\"> #~ </iframe> #~ \"\"\" #googleè‡ªå®šä¹‰æœç´¢(å¤§æ¦‚æ˜¯ç«™å†…æœç´¢å§) #~ GOOGLE_CUSTOM_SEARCH_SIDEBAR = \"001578481551708017171:axpo6yvtdyg\" #~ GOOGLE_CUSTOM_SEARCH_NAVBAR = \"001578481551708017171:hxkva69brmg\" ç”±äºé…ç½®æ–‡ä»¶é‡Œå·²ç»åŒ…å«äº†PATHå’ŒOUTPUT_PATHä»€ä¹ˆçš„, æ‰€ä»¥è¿è¡Œåªè¦: $pelican -s settings.py å³å¯~ ç„¶å, å…³äºä¸»é¢˜æ¨¡æ¿, å¯ä»¥ä½¿ç”¨-tå‚æ•°æŒ‡å®šä¸»é¢˜. pelicanç›®å‰ä¸»é¢˜åœ¨ github ä¸Š, å¯ä»¥ç”¨$git clone https://github.com/farseerfc/pelican-themes ä¸‹è½½, ç„¶åä½¿ç”¨ä¸»é¢˜çš„è¯å°±æ˜¯: $pelican -s settings.py -t [ä¸»é¢˜æ‰€åœ¨ç›®å½•] [.md/.rstæ–‡ä»¶æ‰€åœ¨ç›®å½•] å¦‚æœæƒ³ç”Ÿæˆåå°±é¢„è§ˆä¸€ä¸‹, é‚£å°±å†™: $pelican -s settings.py -t [ä¸»é¢˜æ‰€åœ¨ç›®å½•] [.md/.rstæ–‡ä»¶æ‰€åœ¨ç›®å½•] | xdg-open index.html ä¸ªäººæ„Ÿè§‰è¿˜æ˜¯bootstrap2ä¸»é¢˜æ¯”è¾ƒå¥½... ç›®å‰ç”±äºpelicanä½¿ç”¨çš„äººä¸å¤š, æ‰€ä»¥ä¸»é¢˜ä¹Ÿå°±é‚£åå‡ ä¸ª... å†ç½—å—¦ä¸€ä¸‹: å…³äºä¸€äº›é—®é¢˜çš„è§£å†³æ–¹æ³• è¿™å‡ å¤©æŠ˜è…¾pelicanå¾ˆä¹…å¾ˆä¹…, å‘ç°ä»¥ä¸‹å‡ ä¸ªé—®é¢˜: ä¸æ”¯æŒå¤šå±‚åˆ†ç±»? --è¿™ä¸ªç›®å‰æ²¡æ³•è§£å†³, ä¸è¿‡æ—¢ç„¶æœ‰æ ‡ç­¾åŠŸèƒ½, åˆ†ç±»ä¸èƒ½å¤šå±‚ä¹Ÿæ— æ‰€è°“å•¦... å®‰è£…åä¸æ”¯æŒMarkdownè¯­æ³•? è¿™ä¸ªæ˜¯å› ä¸ºMarkdownæ²¡æœ‰ä¸pelicanåŒ…ä¸€èµ·å®‰è£…(pelicané»˜è®¤çš„è¿˜æ˜¯æ”¯æŒrstæ ¼å¼), å®‰è£…ä¸ŠMarkdownåŒ…å°±è¡Œäº†: $sudo pip install Markdown å¦‚ä½•æ’å›¾? è¿™é‡Œä¸æ˜¯è®¨è®ºmarkdownè¯­æ³•å¦‚ä½•æ’å›¾, è€Œæ˜¯æ€ä¹ˆè®©ç”Ÿæˆçš„ç½‘é¡µæœ‰å›¾ç‰‡. å…¶å®å¾ˆç®€å•, æŠŠ.mdæ–‡ä»¶é‡Œå¼•ç”¨çš„å›¾ç‰‡å¤åˆ¶ä¸€ä»½åˆ°staticç›®å½•å³å¯~ (å…¶å®å‰ªåˆ‡ä¹Ÿæ˜¯å¯ä»¥çš„, åªä¸è¿‡é‚£æ ·çš„è¯ç¼–è¾‘é¢„è§ˆæ—¶å°±çœ‹ä¸è§å›¾ç‰‡äº†...) ä¸­æ–‡tagä¸æ”¯æŒ?(äº‹åè¯æ˜å…¶å®æ˜¯æ”¯æŒçš„, æ˜¯æˆ‘æå¾—ä¸æ”¯æŒäº†...) pelican2.8(å½“å‰ç‰ˆæœ¬)æ˜¯æ”¯æŒä¸­æ–‡tagçš„! æˆ‘ä¸€å¼€å§‹ç›´æ¥git cloneäº†3.0çš„æºç , ç„¶åä¸æ”¯æŒäº†... éœ€è¦é‡è£…pelican: $sudo pip uninstall pelican $sudo pip install pelican ä¸æ”¯æŒä¸­æ–‡æ–‡ä»¶å( 2012-04-25: XXXXX!! å¯ä»¥å•Š, è°è¯´ä¸å¯ä»¥... ) è¿™ä¸ªæˆ‘æ²¡è§£å†³, æ— æ‰€è°“, èµ·ä¸€ä¸ªè‹±æ–‡æ–‡ä»¶å(.mdæ–‡ä»¶ä»¥åŠSlugæœ€å¥½éƒ½ç”¨è‹±æ–‡å§)å¥½äº†, æ¯•ç«Ÿåšå®¢æ ‡é¢˜(Title)æ˜¯å¯ä»¥ç”¨ä¸­æ–‡çš„~ OK, å°±å†™è¿™äº›å§... (ç´¯æ­»äº†...) (æˆ‘å‘ç°å‡ ä¹æ‰€æœ‰æ–‡ç« éƒ½æ˜¯ä»zimé‡Œæ¬æ¥çš„, so, ä»¥åå°±ä¸åœ¨æ–‡ç« æœ€åæ ‡æ³¨\"imported from zim\"äº†...)","tags":"soft","title":"ç”¨pelicanåœ¨githubä¸Šåˆ›å»ºè‡ªå·±çš„åšå®¢!"},{"url":"https://x-wei.github.io/misc/hello-world.html","text":"å»ºç«‹èµ·äº†æˆ‘çš„githubåšå®¢~! ä½œä¸ºä¸€ä¸ªå¾ˆèœçš„ä½ç«¯æ¡Œé¢(ubuntu, gnome)ç”¨æˆ·, è¿™ä¸ªè¿˜æ˜¯ç›¸å½“ä¸å®¹æ˜“å•Š~~ æœ¬æ¥è€ƒè™‘ä½¿ç”¨çš„æ˜¯jekyll, ä½†æ˜¯å®‰è£…è¿‡ç¨‹è€æ˜¯æŠ¥é”™... æœ€ç»ˆé€‰æ‹©äº†pelicanç”Ÿæˆé™æ€é¡µé¢, è¿™ä¸ªå·¥å…·å¾ˆå¥½ç”¨, åªæ˜¯ç›®å‰å…³æ³¨åº¦ä¸è¶³å•Š~ å…³äºpelicançš„ä»‹ç»å¯ä»¥å‚è€ƒ è¿™é‡Œ , jekyllæˆ‘æŠ˜è…¾äº†Nä¹…æ²¡æœ‰æå®š, è€Œpelicanå¾ˆå¿«å°±è£…å¥½äº†~ éå¸¸æ„Ÿè°¢ farseerfc åŒå­¦, éå¸¸è€å¿ƒåœ°å›ç­”æˆ‘è¿™ä¸ªèœé¸Ÿçš„é—®é¢˜... ä¸è¿‡è¿˜æ˜¯è‡ªåŠ›æ›´ç”Ÿæ¯”è¾ƒå¥½, å¥½å¥½çœ‹å®ƒçš„ æ–‡æ¡£ å§~ å¦å¤–, æˆ‘ä¹‹å‰ç”¨ zim å†™äº†ä¸€äº›ç¬”è®°, å‡†å¤‡æŠŠå€¼å¾—åˆ†äº«çš„éƒ¨åˆ†æ”¾åˆ°blogä¸Šæ¥. zim0.56åˆšåˆšå¼€å§‹æ”¯æŒæŠŠç¬”è®°å¯¼å‡ºæˆmarkdownæ ¼å¼, è¿™å®åœ¨æ˜¯å¤ªæ£’å•¦!!","tags":"misc","title":"Hello World!"},{"url":"https://x-wei.github.io/soft/google_doc_form.html","text":"åœ¨çº¿åŠå…¬æˆ‘ä»¥å‰è¯•è¿‡zoho, ä½†æ˜¯ä¸€ä¸ªxlsæ–‡ä»¶æœ‰å¤šä¸ªäººåŒæ—¶ç¼–è¾‘æ—¶ä¼šæœ‰é—®é¢˜... æ˜¨å¤©æ”¶åˆ°å­¦é•¿å…³äºæ˜¥æ¸¸çš„ è°ƒæŸ¥è¡¨ , å±…ç„¶æ˜¯ç”¨google docåšçš„, å¾ˆç»™åŠ›. æˆ‘æ—©å°±æƒ³åšä¸€ä¸ªåˆ†å¸ƒå¼é€šè®¯å½•, æ‰€ä»¥ç ”ç©¶äº†ä¸€ä¸‹. è¶Šæ¥è¶Šæ„Ÿè§‰googleæä¾›çš„æœåŠ¡(google doc, google site, google project)å¤ªæ–¹ä¾¿äº†!!! å»ºç«‹ å¤§æ¦‚çš„æµç¨‹æ˜¯è¿™æ ·çš„: ç”¨googleå¸å·è¿›å…¥google doc, ç„¶åç‚¹å‡»creat->form, ä¼šçœ‹åˆ°è¿™æ ·çš„é¡µé¢: å—¯, åŠŸèƒ½æ˜¯æ¯”è¾ƒç®€å•ä½†æ˜¯å¤Ÿç”¨! ç‚¹å‡»add item æˆ–è€…å³è¾¹ä¿©æ–¹æ¡†çš„æŒ‰é’®, å°±å¯ä»¥æ·»åŠ é—®é¢˜äº†, å¾ˆeasy, æˆ‘åšçš„åŒå­¦å½•æ˜¯è¿™ä¸ªæ ·å­çš„: ç„¶åè¿˜å¯ä»¥é€‰æ‹©ä¸»é¢˜... å‘å¸ƒ ç¼–è¾‘å®Œæˆä¹‹å, å°±å¯ä»¥å‘å¸ƒäº†, ç‚¹å‡»å³ä¸Šè§’çš„\"Share\"(æœ‰ä¸ªg+çš„å›¾æ ‡, æˆ‘ä¸€å¼€å§‹ä»¥ä¸ºæ˜¯åƒäººäººé‚£æ ·çš„åˆ†äº«å‘¢...), ä¹‹åé¡µé¢åº•éƒ¨å°±ä¼šæœ‰ä¸€ä¸ªé“¾æ¥~! æŠŠè¿™ä¸ªé“¾æ¥å‘ç»™åˆ«äºº, åˆ«äººå°±å¯ä»¥æäº¤äº†~ btw, å¦‚æœä¸æƒ³å‘å¸ƒ, åªæƒ³å‘ç»™å‡ ä¸ªäººçœ‹çš„è¯, ç‚¹å‡»shareå³è¾¹çš„é‚£ä¸ª\"email this form\"æŒ‰é’®, è¾“å…¥è”ç³»äººçš„é‚®ç®±åœ°å€å³å¯~ ç»Ÿè®¡ é‚£ä¹ˆåˆ«äººæäº¤ä¹‹å, æˆ‘æ€ä¹ˆçœ‹ç»Ÿè®¡ç»“æœå‘¢? è¿›å…¥google doc, ä¼šå‘ç°åˆšæ‰å»ºç«‹çš„formçš„ç»“æœåœ¨ä¸€ä¸ªè¡¨å•é‡Œ: ç‚¹è¿›å»çœ‹, å°±å¯ä»¥çœ‹åˆ°å¤§å®¶çš„å›å¤ç»Ÿè®¡ çœ‹! å¤šæ–¹ä¾¿!! ç„¶å, å¯ä»¥æŠŠè¿™ä¸ªæ–‡ä»¶å…±äº«ç»™åˆ«äºº: å³é”®->share: å‘å¸ƒåçš„ä¿®æ”¹ é‚£ä¹ˆ, formå‘å¸ƒå, è¿˜å¯ä¸å¯ä»¥å†ä¿®æ”¹å‘¢? --å¯ä»¥! æ‰“å¼€google docé‡Œçš„è¡¨å•, form->edit form, å°±ä¼šå¼¹å‡ºç¼–è¾‘formçš„çª—å£å•¦!! æ³¨æ„é‚£ä¸ªmore actioné‡Œé¢çš„confirmation, ä¸è¦å‹¾é€‰\"publish response summery\"...å¦åˆ™ä»»ä½•äººæäº¤åå°±å¯ä»¥çœ‹åˆ°ç›®å‰æ‰€æœ‰çš„ä¿¡æ¯äº†... ä¸€ç‚¹ä¸è¶³ å°±æ˜¯ä¸€æ—¦å‘å¸ƒäº†, ä»»ä½•æœ‰è¿™ä¸ªé“¾æ¥çš„äººéƒ½å¯ä»¥å¡«è¿™ä¸ªè¡¨æ ¼... æ²¡æœ‰å¯†ç ä¹‹ç±»çš„... æˆ‘çš„æ–¹æ³•æ˜¯è®¾ç½®ä¸€ä¸ªå¿…å¡«çš„\"éªŒè¯é—®é¢˜\"é¡¹, åªæœ‰å›ç­”å¯¹äº†éªŒè¯é—®é¢˜çš„äºº, æˆ‘æ‰å‘ç»™ä»–åŒå­¦å½•... imported from zim","tags":"soft","title":"ä½¿ç”¨google docå»ºç«‹åœ¨çº¿è°ƒæŸ¥è¡¨!~"},{"url":"https://x-wei.github.io/soft/nautilus-menu.html","text":"Nautilusæ˜¯gnomeçš„é»˜è®¤æ–‡ä»¶æµè§ˆå™¨, é‚£æ¬¡æ›´æ–°å®‰è£…äº†elementoryä¸»é¢˜çš„Nautilusä¹‹å, å‘ç°èœå•æ å°‘äº†äº›å¾ˆå¸¸ç”¨çš„åŠŸèƒ½: æ¯”å¦‚ä¸Šä¸€å±‚,ä¸»é¡µ, åˆ·æ–°ç­‰... å…¶å®å¯ä»¥è‡ªå®šä¹‰çš„, ç¼–è¾‘->customize toolbar: é¡ºä¾¿æä¸€ä¸‹, å‘ç°äº†äº›æ–¹ä¾¿çš„å¿«æ·é”®: alt+up: çˆ¶ç›®å½• alt+left: è¿”å› ~~alt+home: åˆ°~/~~(ä¸å¥½ä½¿?) F2: é‡å‘½å F5/ctrl+R: åˆ·æ–° ctrl+L: è¾“å…¥ä½ç½®åœ°å€ ctrl+H:æ˜¾ç¤ºéšè—æ–‡ä»¶ --imported from zim","tags":"soft","title":"è‡ªå®šä¹‰nautilusçš„èœå•æ "},{"url":"https://x-wei.github.io/misc/recursion-scr-shot.html","text":"å°±æ”¾ä¸€å¼ å›¾ç‰‡, çŸ¥é“æ€ä¹ˆåšçš„å—?~ btw, çœŸå¿ƒæ„Ÿè§‰zimå¯ä»¥ä½œä¸ºä¸€ä¸ªå†™ç»™è‡ªå·±çš„åšå®¢äº†, ä¸ä»…ä»…æ˜¯è®°ç¬”è®°... BON!~ --imported from zim","tags":"misc","title":"æ— èŠä¸­çš„å‘ç°--é€’å½’æˆªå›¾~"},{"url":"https://x-wei.github.io/soft/tex_insert_code.html","text":"è¿™ä¸ªé—®é¢˜... æˆ‘æœ¬æ¥æƒ³ç”¨pythonè§£å†³çš„... ä½†æ˜¯æ˜¾ç„¶åº”è¯¥å…ˆæœä¸€ä¸‹å§... æœç„¶, æ—©å°±æœ‰äººè§£å†³äº†(å…¶å®æ˜¯texçš„å¸¸ç”¨å‘½ä»¤é‡Œå°±æœ‰çš„), æ¯”å¦‚ è¿™é‡Œ ... \\ usepackage { listings } \\ lstset { language = C ++ } % è¿™æ¡å‘½ä»¤å¯ä»¥è®© LaTeX æ’ç‰ˆæ—¶å°† C ++ é”®å­—çªå‡ºæ˜¾ç¤º \\ lstset { breaklines } % è¿™æ¡å‘½ä»¤å¯ä»¥è®© LaTeX è‡ªåŠ¨å°†é•¿çš„ä»£ç è¡Œæ¢è¡Œæ’ç‰ˆ \\ lstset { extendedchars = false } % è¿™ä¸€æ¡å‘½ä»¤å¯ä»¥è§£å†³ä»£ç è·¨é¡µæ—¶ï¼Œç« èŠ‚æ ‡é¢˜ï¼Œé¡µçœ‰ç­‰æ±‰å­—ä¸æ˜¾ç¤ºçš„é—®é¢˜ \\ begin { lstlisting } %paste your C ++ code here \\ end { lstlisting } å¾ˆç®€å•çš„... ä¸è¿‡æ¯”è¾ƒé•¿çš„ä»£ç æ¢è¡Œæ˜¾ç¤ºä¸æ˜¯å¾ˆçˆ½(è²Œä¼¼ä¸æ¢è¡Œä¹Ÿä¸æ˜¯åŠæ³•å•Š)... å¦å¤–æ²¡æœ‰é¢œè‰²é«˜äº®å“... å—¯, è²Œä¼¼ è¿™é‡Œ çš„ä»‹ç»æ›´è¯¦ç»†... è¿˜æœ‰è¿™ä¸ªäººçš„ åšå®¢ ... è¿™ç¯‡æ–‡ç«  æ˜¯é’ˆå¯¹pythonçš„é«˜äº®... æ€»ç»“ä¸€ä¸‹, è¿™æ ·æ¯”è¾ƒå¥½: \\documentclass { article } \\usepackage { listings } \\usepackage { xcolor } \\usepackage { xeCJK } %å¿…é¡»åŠ xeCJKåŒ… \\setCJKmainfont { WenQuanYi Micro Hei } \\begin { document } \\lstset { numbers=left, numberstyle= \\tiny , keywordstyle= \\color { blue!70 } , commentstyle= \\color { red!50!green!50!blue!50 } , frame=shadowbox, rulesepcolor= \\color { red!20!green!20!blue!20 } , breaklines=true, extendedchars=true } \\begin { lstlisting } [language= { Python } ] %è¿™é‡Œæ’å…¥ä»£ç ~ \\end { lstlisting } \\end { document } é™„ä»¶: æˆ‘åšçš„ä¸€ä¸ªç®€å•å®ä¾‹ ./insertcode2.tex imported from zim","tags":"soft","title":"texæ’å…¥ç¨‹åºä»£ç --so easy~"},{"url":"https://x-wei.github.io/soft/xelatex_zh.html","text":"å‰å‡ å¤©æ ¡å†…ä¸Šçœ‹è§äº†è¿™ä¸ª latexä¸­æ–‡æŒ‡å— , æƒ³è¯•ä¸€è¯•... å¯æ˜¯è²Œä¼¼ä¸ç»™åŠ›(oræˆ‘æ²¡åšå¯¹)å®‰è£…äº†texliveä¹‹åè¿˜æ˜¯ä¸èƒ½ç¼–è¯‘å®ƒçš„æµ‹è¯•æºæ–‡ä»¶... æœç´¢å‘ç°äº† è¿™æ ·ä¸€ç¯‡ éå¸¸å¼ºå¤§çš„æ–‡ç« ... è¿™è´§ç›´æ¥æŠŠä»–çš„æºæ–‡ä»¶æ”¾ä¸Šå»äº†... ä¸è¿‡è¿™æ ·çš„è¯ä»–çš„æ–‡ç« å¯è¯»æ€§å°±ä¸å¥½äº†... è¦è¿›è¡Œçš„æ“ä½œ: sudo apt-get install texlive-xetex latex-cjk-xcjk texlive-latex-recommended å…¶å®å¥½åƒè¿™æ ·ä¹‹åå°±å¯ä»¥ç”¨ä¸­æ–‡äº†(æŒ‰åšå®¢é‡Œçš„æ„æ€), å¯æƒœæˆ‘ç”¨çš„geanyå¼€å§‹ä½¿ç”¨latexç¼–è¯‘çš„, è€æ˜¯æŠ¥é”™... å…¶å®åº”è¯¥ç”¨å‘½ä»¤è¡Œ xelatex xx.texå°±åº”è¯¥å¥½ä½¿äº†... ç„¶åæˆ‘åˆæŒ‰ç…§åšå®¢é‡Œçš„æç¤ºå®‰è£…äº†Gummi...... ä¸€ä¸ªå¯ä»¥åœ¨å³é¢çœ‹åˆ°æ•ˆæœçš„texIDE... è¿˜æ˜¯ä¸è¡Œ, å› ä¸ºé»˜è®¤çš„ç¼–è¯‘å™¨éƒ½æ˜¯latexä¸æ˜¯xelatex... å½“ç„¶æˆ‘æœ€ç»ˆå‘ç°äº†è¦ç”¨xelatex, é‚£ä¹ˆè€æ˜¯ç”¨å‘½ä»¤è¡Œä¹Ÿä¸å¤§æ–¹ä¾¿... gummié‡Œé¢æ‰¾åˆ°äº†è®¾ç½®: è¿™æ ·å°±å¥½äº†... ä½†æ˜¯æˆ‘ç°åœ¨å·²ç»éå¸¸å–œæ¬¢geanyäº†, ä¸æƒ³å› ä¸ºtexå†å•ç‹¬ç”¨ä¸€ä¸ªç¼–è¾‘ç¯å¢ƒ... è¿˜å¥½æ‰¾åˆ°äº†geanyé‡Œé¢çš„è®¾ç½®: ç”Ÿæˆ-->è®¾ç½®ç”Ÿæˆå‘½ä»¤, åœ¨é‡Œé¢æ·»åŠ ä¸€ä¸ªxelatexå°±è¡Œå•¦!~ å—¯ è¿˜æ˜¯geanyäº²åˆ‡~! æœ€åæŠŠæºæ–‡ä»¶ç”Ÿæˆå¥½çš„pdfä¹Ÿæ”¾è¿›æ¥å§... ./xelatex_test.tex ./xelatex åŠä¸­æ–‡ Gummi åœ¨ ubuntu ä¸Šçš„é…ç½®.pdf imported from zim","tags":"soft","title":"xelatex--linuxä¸‹texä¸­æ–‡çš„å®Œå…¨è§£å†³!"},{"url":"https://x-wei.github.io/soft/chrome-background.html","text":"ç›´æ¥æŠŠ è¿™é‡Œ çš„è´´ä¸Šå§... (ä»¥ä¸‹ä¸ºcopy) é¦–å…ˆï¼Œä¸‹è½½å®‰è£…chromeçš„ stylistæ’ä»¶ ç„¶åï¼Œæ‰“å¼€\"æ‰©å±•è®¾ç½®\"ï¼Œç‚¹å‡»chrome stylistçš„é€‰é¡¹ï¼Œç‚¹å‡»demoè¿›è¡Œä¿®æ”¹ã€‚ æŠŠç½‘é¡µèƒŒæ™¯ä¿®æ”¹ä¸ºè±†æ²™ç»¿çš„å‚æ•°è®¾ç½®: è¾“å…¥æ¡†1ï¼šdemo é€‰é¡¹æ¡†2ï¼šregexp è¾“å…¥æ¡†3ï¼š(ftp|http|https)://\\D è¾“å…¥æ¡†4ï¼š * { background: #C7EDCC !important; } ä¿®æ”¹åä¿å­˜å³å¯ (urlå’Œstyle textå¯æ ¹æ®è‡ªå·±å–œå¥½é…ç½®) é™„ï¼šè±†æ²™ç»¿çš„å‚æ•° RGBé¢œè‰² 199ï¼›237ï¼›204 åå…­ä½é¢œè‰²ä»£ç  #C7EDCC è‰²è°ƒï¼š85ï¼›é¥±å’Œåº¦ï¼š123ï¼›äº®åº¦ï¼š205 ä¸ä¼šçš„è¯ç›´æ¥ç”¨ è¿™ä¸ªæ‰©å±• ã€‚ 04/24/2012ç»­ å…³äºé‚£ä¸ªæ­£åˆ™è¡¨è¾¾å¼, å¦‚æœå†™æˆ *{ background: #C7EDCC !important;} , è™½ç„¶ä¸€ç‰‡ç»¿è±†è‰²å¾ˆæŠ¤çœ¼, ä½†æ˜¯ä¸å°‘ç½‘é¡µæ˜¾ç¤ºä¼šæœ‰é—®é¢˜. æ¯”å¦‚æ ¡å†…ä¸Šæ–°é²œäº‹æ˜¾ç¤ºä¸äº†ç…§ç‰‡é¢„è§ˆ, gmailçš„åŠ æ˜Ÿæ ‡ç­¾çœ‹ä¸è§ç­‰... æœ€å‘çˆ¹çš„æ˜¯æœ‰çš„ç½‘é¡µæ–‡å­—æ˜¯æµ…è‰²çš„, é‚£æ ·çš„è¯å‡ ä¹çœ‹ä¸æ¸…æ¥šäº†... æˆ‘ç°åœ¨ä½¿ç”¨çš„è¿™æ ·çš„è§„åˆ™: body { background: #C7EDCC !important;} body {color:black} ç¬¬ä¸€è¡Œ, æŒ‡å®šåªæ˜¯ç½‘é¡µçš„bodyéƒ¨åˆ†ä¸ºç»¿è±†æ²™è‰²(å¤§éƒ¨åˆ†ç½‘é¡µçš„èƒŒæ™¯éƒ½æ˜¯body); ç¬¬äºŒè¡Œ, æŒ‡å®šbodyé‡Œçš„æ–‡å­—éƒ½ä½¿ç”¨é»‘è‰². è¿™æ ·å¼„ä¸‹æ¥æ¯”åŸå…ˆè¦å¥½ä¸å°‘(å…³äºä¸Šé¢æåˆ°çš„æ˜¾ç¤ºæ ¡å†…ç½‘å’Œgmailçš„é—®é¢˜éƒ½è§£å†³äº†), è™½ç„¶ç½‘é¡µä¸æ˜¯å…¨éƒ¨ç»¿è±†æ²™äº†... --imported from zim","tags":"soft","title":"chromeæŠ¤çœ¼è®¾ç½®--æŠŠèƒŒæ™¯è®¾ç½®ä¸ºç»¿è±†æ²™"},{"url":"https://x-wei.github.io/soft/chromeè¾“å‡ºç½‘é¡µä¸ºpdf!.html","text":"ä¸ç”¨è£…æ’ä»¶, ç›´æ¥å³é”®-->æ‰“å°-->æ‰“å°åˆ°æ–‡ä»¶ å³å¯! å¤ªæ–¹ä¾¿äº†! å…³é”®æ˜¯pdfåˆ†é¡µå¾ˆåˆç†, æ•ˆæœè¶…å¥½! 03/05/2012ç»­ æ‰“å°å‰éœ€è¦æŠŠç½‘é¡µç¼©æ”¾è¶³å¤Ÿå°, å¦åˆ™æ‰“å°çš„æ–‡ä»¶åªæ˜¯ä¸€éƒ¨åˆ†ç½‘é¡µ.","tags":"soft","title":"chromeè¾“å‡ºç½‘é¡µä¸ºpdf!"},{"url":"https://x-wei.github.io/soft/gnome-background.html","text":"æˆ‘å°±è¯´winèƒ½åšåˆ°ubuntuä¹Ÿèƒ½~ ä¸»é¢˜-->è‡ªå®šä¹‰-->é¢œè‰² ä¿®æ”¹çª—å£å’Œè¾“å…¥æ¡†ä¸¤é¡¹çš„é¢œè‰²: 126-12-91 ç°åœ¨å°±å¾ˆèˆ’æœäº† ç„¶åè²Œä¼¼nautilsè¦å†è®¾ç½®ä¸€ä¸‹: ç¼–è¾‘-->èƒŒæ™¯å’Œå¾½æ ‡-->é¢œè‰²-->æŠŠé‚£ä¸ªç»¿è±†æ²™é¢œè‰²åŠ è¿›å» å†åŠ ä¸Š[chromeçš„è®¾ç½®], å—¯ å°±å®Œç¾äº†! --imported from zim","tags":"soft","title":"gnomeæŠ¤çœ¼è®¾ç½®--çª—å£èƒŒæ™¯è®¾ç½®ä¸ºç»¿è±†æ²™"},{"url":"https://x-wei.github.io/soft/use_du_shell.html","text":"duç”¨æ¥è®¡ç®—ç›®å½•çš„ç£ç›˜ç”¨é‡. å…·ä½“çš„å‚æ•°å¯ä»¥ç”¨manæˆ–è€…--help, è¿™é‡Œä¸è´´äº†(å…¶å®æˆ‘ä¹Ÿæ²¡ä»”ç»†çœ‹...). ä»Šå¤©çœ‹è§æ°´æºä¸Šæœ‰äººè¯´ ç”¨ -shè¿™ä¸ªå‚æ•°æ¯”è¾ƒå¥½: -s: åªè®¡ç®—å„ä¸ªç›®å½•çš„æ€»ç”¨é‡(å°±æ˜¯è¯´ä¸è¦é€’å½’æ“ä½œ) åé¢è·Ÿç€ æˆ–è€…. å°±å¯ä»¥æŸ¥çœ‹å„ä¸ªç›®å½•çš„å¤§å°äº†. -h: æ˜“äºæŸ¥çœ‹çš„æ–¹å¼ æ¯”å¦‚~/ç›®å½•ç»å¸¸ä¸çŸ¥é“ä¸ºä»€ä¹ˆç©ºé—´åœ¨å‡å°‘, é‚£å°±è¿è¡Œ: du -sh ~/* ä»¥åŠ du -sh /.* å³å¯ æœ‰æ—¶å€™æ–‡ä»¶å¤¹æ¯”è¾ƒå¤šçš„æƒ…å†µ, è¿˜æ˜¯ä¸å®¹æ˜“å‘ç°é‚£ä¸ªæ–‡ä»¶å¤¹å ç”¨äº†å¤§éƒ¨åˆ†ç©ºé—´, è¿™æ—¶ç”¨sortå‘½ä»¤å¯¹duçš„ç»“æœè¿›è¡Œæ’åºå°±è¡Œäº†! å‚è€ƒäº† è¿™é‡Œ , é¡ºä¾¿å­¦ä¼šäº†: ä¸¤æ¡ä¸€èµ·æ‰§è¡Œæ˜¯ç”¨\"|\"è¿›è¡Œåˆ†å‰²çš„. æ‰€ä»¥å‘½ä»¤ä¸º: du -sm ~/* | sort -nr æ³¨æ„è¿™æ—¶duä¸èƒ½ç”¨-hå‚æ•°, å› ä¸ºè¿™æ ·çš„è¯æ–‡ä»¶å¯èƒ½æ˜¯ä»¥Mä¸ºå•ä½ä¹Ÿå¯èƒ½æ˜¯ä»¥kä¸ºå•ä½, è€Œsortçš„æ—¶å€™åªçœ‹å‰é¢çš„æ•°å­—å€¼, ä¸çœ‹å•ä½. ç”¨-må‚æ•°, è¡¨ç¤ºè®©æ‰€æœ‰ç»“æœä»¥Mä¸ºå•ä½æ˜¾ç¤º. imported from zim","tags":"soft","title":"ç”¨duå‘½ä»¤æŸ¥çœ‹å„ç›®å½•å¤§å°"},{"url":"https://x-wei.github.io/soft/cmus-å¾ˆæ£’çš„ç»ˆç«¯éŸ³ä¹æ’­æ”¾å™¨.html","text":"æœ€è¿‘å‘ç°ä¸€ä¸ªç»ˆç«¯ä¸‹è¶…å¥½ç”¨çš„éŸ³ä¹æ’­æ”¾å™¨: CMUS . ç•Œé¢ç®€æ´, viçš„æŒ‰é”®ç»‘å®š, ç”±äºæœ€è¿‘è¶Šæ¥è¶Šæ„Ÿè§‰é”®ç›˜å’Œå¿«æ·é”®çš„æ–¹ä¾¿, å¯¹è¿™ä¸ªè¿·ä½ çš„æ’­æ”¾å™¨çˆ±ä¸é‡Šæ‰‹. å…³äºå®ƒçš„ç”¨æ³•å¯ä»¥å‚è€ƒ è¿™é‡Œ , å¦å¤– è¿™é‡Œ è¿˜ä»‹ç»äº†æ€ä¹ˆè®¾ç½®replay gain(å¤§æ¦‚æ˜¯ä¸åŒéŸ³ä¹æ’­æ”¾çš„éŸ³é‡ç›¸åŒ), ä½†æˆ‘æ²¡æœ‰è®¾ç½®. ç½‘ç«™ä¸Šçš„æ–‡æ¡£ä¸å¤š, æˆ‘è§‰å¾—æœ€å¥½çš„æ•™ç¨‹è¿˜æ˜¯man: man cmus man cmus-tutorial æŠŠtutorialçœ‹å®Œå°±åŸºæœ¬ä¸Šä¼šç”¨äº†~ è¿™é‡Œåˆ—ä¸€ä¸‹æˆ‘è§‰å¾—å¸¸ç”¨çš„å‡ ç‚¹å§: 1~7å…±7ç§view, ç”¨æ•°å­—é”®å°±å¯ä»¥åˆ‡æ¢; ä½¿ç”¨å‘½ä»¤è¦æƒ³viä¸€æ ·åŠ ':', å¸¸è§å‘½ä»¤æœ‰: :cd xx_dir :add xx_dir c--æš‚åœ, hl/<>--å¿«è¿›å¿«é€€, x--æ’­æ”¾, v--åœæ­¢ å³ä¸‹è§’æ˜¾ç¤ºæ’­æ”¾æ¨¡å¼: Rè¡¨ç¤ºé‡å¤, Séšæœº, Cè¿ç»­(æ’­å®Œä¸€æ›²åä¸åœ)","tags":"soft","title":"cmus--å¾ˆæ£’çš„ç»ˆç«¯éŸ³ä¹æ’­æ”¾å™¨"},{"url":"https://x-wei.github.io/soft/zipä¹±ç è§£å†³.html","text":"è¿™ä¸ªé—®é¢˜å›°æ‰°äº†å¾ˆä¹…, ä»¥å‰çš„æ–¹æ³•å‚è€ƒäº† è¿™é‡Œ , ä½¿ç”¨ä¸€æ¡å‘½ä»¤: unzip -O CP936 xxx.zip ä½†æ˜¯è°tmè®°å¾—ä½? æ‰€ä»¥æ¯æ¬¡éƒ½è¦ä¸Šç½‘ç°æŸ¥... ä»Šå¤©çœ‹åˆ°äº†ubuntuè®ºå›ä¸Šçš„ å¸–å­ , å…­æ¥¼ç»™å‡ºäº†ç»ˆæçš„è§£å†³æ–¹æ¡ˆ. è§é™„ä»¶: zipä¹±ç è§£å†³.zip è¿™ä¸ªå‹ç¼©åŒ…ä¸­çš„5ä¸ª 7z* æ–‡ä»¶æ‹·è´è¦†ç›–åˆ°/usr/lib/p7zip/ ä»£ç : sudo cp 7z* /usr/lib/p7zip/ æ³¨æ„ä»¥åä¸è¦å‡çº§p7zip ä¸€åˆ‡å°±æ­£å¸¸äº†! è€Œä¸”æ‰“å¼€æ—¶ä¹Ÿæ²¡æœ‰ä¹±ç ! so good!","tags":"soft","title":"zipä¹±ç è§£å†³"},{"url":"https://x-wei.github.io/soft/scrshot-shortcut.html","text":"ç»ˆç«¯è¾“å…¥gnome-screenshot --help, å‘ç°é€‰é¡¹\"-a\"è¡¨ç¤ºçš„æ˜¯æŠ“å–ä¸€éƒ¨åˆ†å±å¹•. äºæ˜¯æ‰“å¼€ç¼–è¾‘é”®ç›˜å¿«æ·é”®çª—å£, æ–°å»ºä¸€ä¸ªå¿«æ·é”®å¦‚ä¸‹å›¾: è¿™æ ·, æŒ‰ä¸‹Ctrl+Alt+så¿«æ·é”®åå³å¯å¯åŠ¨æŠ“å›¾, ä¸”æ˜¯æŠ“å–ä¸€ä¸ªåŒºåŸŸ. ä¸è¿‡ä¸çŸ¥ä¸ºä»€ä¹ˆ, ååº”æ¯”è¾ƒæ…¢, éœ€è¦æŒ‰ä¸‹ä¸€æ®µæ—¶é—´ (ä¸€ç§’é’Ÿ?)æ‰ä¼šæœ‰ååº”. 02/23/2012ç»­: å®‰è£…äº†lucidä¹‹åä¸å¥½ä½¿äº†! ç—‡çŠ¶å°±æ˜¯, å‚æ•°-aä¸èµ·ä½œç”¨, æŒ‰ä¸‹å¿«æ·é”®åç›´æ¥å‡ºæ¥æ¡Œé¢æˆªå›¾, å¦‚æœä¸€ç›´æŒ‰ç€çš„è¯ä¼šå‡ºæ¥é€‰å–åŒºåŸŸçš„, ä½†æ˜¯æ­¤æ—¶å·²ç»æŠŠæ¡Œé¢æˆªäº†Næ¬¡äº†!.... æ— è¯­å•Š! ä¸Šç½‘æœäº†å¥½ä¹…,ç»ˆäºåœ¨ å¥¶ç‰›çš„åšå®¢ é‡Œçœ‹è§äº†æ–¹æ³•: å‘½ä»¤å‚æ•°å˜æˆ -ai, è¿™æ ·æ¯æ¬¡æŒ‰ä¸‹å¿«æ·é”®åä¼šå…ˆå¼¹å‡ºæ¥äº¤äº’ç•Œé¢... ä¹Ÿç½¢... æˆ‘éå¸¸æ— è¯­... å—¯ å°±è¿™æ ·å§~... --imported from zim","tags":"soft","title":"æŠŠæŠ“å›¾å·¥å…·å…³è”åˆ°ubuntuå¿«æ·é”®"}]}