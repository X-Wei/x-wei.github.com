<section class="comments" id="comments">
    <div class="panel-group" id="accordion" role="tablist" aria-multiselectable="true">
    {% if DISQUS_SITENAME %}
      <div class="panel panel-primary">
        <div class="panel-heading" role="tab" id="disqus-heading">
          <h4 class="panel-title">
            <a data-toggle="collapse" data-parent="#accordion" href="#disqus-comments" aria-expanded="false" aria-controls="disqus-comments">
              <i class="fa fa-comments-o"></i> Disqus {% trans %}comments{% endtrans %}
            </a>
          </h4>
        </div>
        <div id="disqus-comments" class="panel-collapse collapse" role="tabpanel" aria-labelledby="disqus-heading">
          <div class="panel-body">
            <div class="tab-pane fade active in" id="disqus-comments">
                <div id="disqus_thread"></div>
                <script type="text/javascript">
                    /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
                    var disqus_shortname = '{{ DISQUS_SITENAME }}'; // required: replace example with your forum shortname

                    {% if article %}
                        {% if not DISQUS_NO_ID %}
                            var disqus_identifier = '{{ article.date|strftime('%Y-%m-') ~ article.slug if DISQUS_ID_PREFIX_SLUG else article.slug }}';
                        {% endif %}
                        var disqus_url = 'http:{{ SITEURL }}/{{ article.url }}';
                    {% elif page %}
                        {% if not DISQUS_NO_ID %}
                            var disqus_identifier = '{{ page.slug }}';
                        {% endif %}
                        var disqus_url = 'http:{{ SITEURL }}/{{ page.slug }}.html';
                    {% endif %}

                    var disqus_config = function () {
                        {% set langname = dict(zh='zh', zhs="zh", jp='ja', en='en') %}

                        this.language = "{{ langname[article.lang if article else DEFAULT_LANG] }}";
                    };

                    /* * * DON'T EDIT BELOW THIS LINE * * */
                    (function () {
                        var dsq = document.createElement('script');
                        dsq.type = 'text/javascript';
                        dsq.async = true;
                        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
                        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
                    })();
                </script>
                <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by
                    Disqus.</a></noscript>
                <a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
            </div>
          </div>
        </div>
      </div>
      {% endif %}
      {% if WEIBO_APPKEY %}
      <div class="panel panel-primary">
        <div class="panel-heading" role="tab" id="weibo-heading">
          <h4 class="panel-title">
            <a class="collapsed" data-toggle="collapse" data-parent="#accordion" href="#weibo-comments" aria-expanded="false" aria-controls="weibo-comments">
              <i class="fa fa-weibo"></i> Weibo {% trans %}comments{% endtrans %}
            </a>
          </h4>
        </div>
        <div id="weibo-comments" class="panel-collapse collapse" role="tabpanel" aria-labelledby="weibo-heading">
          <div class="panel-body">
                <wb:comments url="auto" width="auto" language="zh_tw" appkey="WEIBO_APPKEYN" ></wb:comments>
          </div>
        </div>
      </div>
      {% endif %}
      <div class="panel panel-primary">
        <div class="panel-heading" role="tab" id="ds-heading">
          <h4 class="panel-title">
            <a class="collapsed" data-toggle="collapse" data-parent="#accordion" href="#ds-comments" aria-expanded="false" aria-controls="ds-comments">
              <i class="fa fa-comments-o"></i> Duoshuo {%trans %}comments{% endtrans %}
            </a>
          </h4>
        </div>
        <div id="ds-comments" class="panel-collapse collapse" role="tabpanel" aria-labelledby="ds-heading">
          <div class="panel-body">
                <!-- 多说评论框 start -->
                    <div class="ds-thread" 
                    {% if article %}
                        data-thread-key="{{article.slug}}" 
                        data-title="{{article.title}}" 
                        data-url="http:{{ SITEURL }}/{{ article.url }}"
                    {% elif page %}
                        data-thread-key="{{page.slug}}" 
                        data-title="{{page.title}}" 
                        data-url="http:{{ SITEURL }}/{{ page.slug }}.html"
                    {% endif %}
                    ></div>
                <!-- 多说评论框 end -->
                <!-- 多说公共JS代码 start (一个网页只需插入一次) -->
                <script type="text/javascript">
                var duoshuoQuery = {short_name:"farseerfc"};
                    (function() {
                        var ds = document.createElement('script');
                        ds.type = 'text/javascript';ds.async = true;
                        ds.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//static.duoshuo.com/embed.js';
                        ds.charset = 'UTF-8';
                        (document.getElementsByTagName('head')[0] 
                         || document.getElementsByTagName('body')[0]).appendChild(ds);
                    })();
                    </script>
                <!-- 多说公共JS代码 end -->
          </div>
        </div>
      </div>
    </div>
</section>
